{"version":3,"sources":["webpack://easyreport/webpack/bootstrap","webpack://easyreport/./node_modules/@easydata/core/dist/lib/types/data_type.js","webpack://easyreport/./node_modules/@easydata/core/dist/lib/types/entity_attr_kind.js","webpack://easyreport/./node_modules/@easydata/core/dist/lib/types/editor_tag.js","webpack://easyreport/./node_modules/@easydata/core/dist/lib/http/http_method.js","webpack://easyreport/./node_modules/@easydata/core/dist/lib/http/http_request.js","webpack://easyreport/./node_modules/@easydata/core/dist/lib/i18n/i18n.js","webpack://easyreport/./node_modules/@easydata/core/dist/lib/utils/utils.js","webpack://easyreport/./node_modules/@easydata/core/dist/lib/utils/string_utils.js","webpack://easyreport/./node_modules/@easydata/core/dist/lib/http/http_action_result.js","webpack://easyreport/./node_modules/@easydata/core/dist/lib/http/http_client.js","webpack://easyreport/./node_modules/@easydata/core/dist/lib/meta/meta_entity.js","webpack://easyreport/./node_modules/@easydata/core/dist/lib/meta/value_editor.js","webpack://easyreport/./node_modules/@easydata/core/dist/lib/meta/meta_data.js","webpack://easyreport/./node_modules/@easydata/core/dist/lib/data/data_column.js","webpack://easyreport/./node_modules/@easydata/core/dist/lib/data/data_row.js","webpack://easyreport/./node_modules/@easydata/core/dist/lib/data/easy_data_table.js","webpack://easyreport/./node_modules/@easydata/core/dist/lib/utils/easy_guid.js","webpack://easyreport/./node_modules/@easydata/core/dist/lib/event/event_emitter.js","webpack://easyreport/./node_modules/@easydata/core/dist/lib/i18n/load_default_locale_settings.js","webpack://easyreport/./node_modules/@easydata/core/dist/lib/public_api.js","webpack://easyreport/./node_modules/@easydata/ui/dist/lib/utils/ui-utils.js","webpack://easyreport/./node_modules/@easydata/ui/dist/lib/utils/dom_elem_builder.js","webpack://easyreport/./node_modules/@easydata/ui/dist/lib/utils/mask.js","webpack://easyreport/./node_modules/@easydata/ui/dist/lib/utils/drag_manager.js","webpack://easyreport/./node_modules/@easydata/ui/dist/lib/grid/easy_grid_cell_renderer.js","webpack://easyreport/./node_modules/@easydata/ui/dist/lib/grid/easy_grid_columns.js","webpack://easyreport/./node_modules/@easydata/ui/dist/lib/grid/easy_grid.js","webpack://easyreport/./node_modules/@easydata/ui/dist/lib/datetimepicker/calendar.js","webpack://easyreport/./node_modules/@easydata/ui/dist/lib/datetimepicker/date_time_picker.js","webpack://easyreport/./node_modules/@easydata/ui/dist/lib/datetimepicker/default_calendar.js","webpack://easyreport/./node_modules/@easydata/ui/dist/lib/datetimepicker/time_picker.js","webpack://easyreport/./node_modules/@easydata/ui/dist/lib/datetimepicker/default_time_picker.js","webpack://easyreport/./node_modules/@easydata/ui/dist/lib/datetimepicker/default_date_time_picker.js","webpack://easyreport/./node_modules/@easydata/ui/dist/lib/dialogs/default_dialog_service.js","webpack://easyreport/./node_modules/@easydata/ui/dist/lib/i18n/text_resources.js","webpack://easyreport/./node_modules/@easydata/ui/dist/lib/public_api.js","webpack://easyreport/./node_modules/@easyquery/core/dist/lib/types/link_type.js","webpack://easyreport/./node_modules/@easyquery/core/dist/lib/utils/utils.js","webpack://easyreport/./node_modules/@easyquery/core/dist/lib/utils/constants.js","webpack://easyreport/./node_modules/@easyquery/core/dist/lib/utils/format_parser.js","webpack://easyreport/./node_modules/@easyquery/core/dist/lib/dm/aggr_function.js","webpack://easyreport/./node_modules/@easyquery/core/dist/lib/dm/value_editor.js","webpack://easyreport/./node_modules/@easyquery/core/dist/lib/types/data_kind.js","webpack://easyreport/./node_modules/@easyquery/core/dist/lib/dm/operator.js","webpack://easyreport/./node_modules/@easyquery/core/dist/lib/types/expr_tag.js","webpack://easyreport/./node_modules/@easyquery/core/dist/lib/dm/entity.js","webpack://easyreport/./node_modules/@easyquery/core/dist/lib/types/eq_editor_tag.js","webpack://easyreport/./node_modules/@easyquery/core/dist/lib/common/tree.js","webpack://easyreport/./node_modules/@easyquery/core/dist/lib/query/query_events.js","webpack://easyreport/./node_modules/@easyquery/core/dist/lib/query/column.js","webpack://easyreport/./node_modules/@easyquery/core/dist/lib/dm/data_model.js","webpack://easyreport/./node_modules/@easyquery/core/dist/lib/query/expression.js","webpack://easyreport/./node_modules/@easyquery/core/dist/lib/types/cond_tag.js","webpack://easyreport/./node_modules/@easyquery/core/dist/lib/types/cond_part.js","webpack://easyreport/./node_modules/@easyquery/core/dist/lib/query/condition.js","webpack://easyreport/./node_modules/@easyquery/core/dist/lib/types/widget_group.js","webpack://easyreport/./node_modules/@easyquery/core/dist/lib/main/eq_actions.js","webpack://easyreport/./node_modules/@easyquery/core/dist/lib/main/messages.js","webpack://easyreport/./node_modules/@easyquery/core/dist/lib/query/query.js","webpack://easyreport/./node_modules/@easyquery/core/dist/lib/main/query_storage.js","webpack://easyreport/./node_modules/@easyquery/core/dist/lib/main/model_loader.js","webpack://easyreport/./node_modules/@easyquery/core/dist/lib/eqs/eqs_model_loader.js","webpack://easyreport/./node_modules/@easyquery/core/dist/lib/eqs/eqs_query_executor.js","webpack://easyreport/./node_modules/@easyquery/core/dist/lib/eqs/eqs_query_synchronizer.js","webpack://easyreport/./node_modules/@easyquery/core/dist/lib/eqs/eqs_value_list_resolver.js","webpack://easyreport/./node_modules/@easyquery/core/dist/lib/eqs/eqs_query_file_loader.js","webpack://easyreport/./node_modules/@easyquery/core/dist/lib/data/eq_totals_container.js","webpack://easyreport/./node_modules/@easyquery/core/dist/lib/common/eq_services.js","webpack://easyreport/./node_modules/@easyquery/core/dist/lib/data/eq_data_loader.js","webpack://easyreport/./node_modules/@easyquery/core/dist/lib/eqs/eqs_exporter.js","webpack://easyreport/./node_modules/@easyquery/core/dist/lib/main/context.js","webpack://easyreport/./node_modules/@easyquery/core/dist/lib/main/widget.js","webpack://easyreport/./node_modules/@easyquery/core/dist/lib/utils/version_info.js","webpack://easyreport/./node_modules/@easyquery/core/dist/lib/i18n/text_resources.js","webpack://easyreport/./node_modules/@easyquery/core/dist/lib/public_api.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/utils/browser_utils.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/utils/utils.js","webpack://easyreport/./node_modules/css-loader/dist/runtime/api.js","webpack://easyreport/./node_modules/style-loader/lib/addStyles.js","webpack://easyreport/./node_modules/@easydata/ui/dist/lib/utils/browser_utils.js","webpack://easyreport/./node_modules/@easyquery/core/dist/lib/data/google_data_converter.js","webpack://easyreport/./ts/styles.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/assets/css/easyquery.css?4782","webpack://easyreport/./node_modules/@easyquery/ui/dist/assets/css/easyquery.css","webpack://easyreport/./node_modules/style-loader/lib/urls.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/assets/css/eq-icons-default.css?af1a","webpack://easyreport/./node_modules/@easyquery/ui/dist/assets/css/eq-icons-default.css","webpack://easyreport/./node_modules/@easyquery/ui/dist/assets/css/easyquery-mobile.css?97a4","webpack://easyreport/./node_modules/@easyquery/ui/dist/assets/css/easyquery-mobile.css","webpack://easyreport/./node_modules/@easyquery/ui/dist/assets/css/eqview.css?3039","webpack://easyreport/./node_modules/@easyquery/ui/dist/assets/css/eqview.css","webpack://easyreport/./node_modules/@easyquery/ui/dist/assets/css/easychart.css?4c7e","webpack://easyreport/./node_modules/@easyquery/ui/dist/assets/css/easychart.css","webpack://easyreport/./node_modules/@easyquery/ui/dist/assets/css/eq-grid.css?b14a","webpack://easyreport/./node_modules/@easyquery/ui/dist/assets/css/eq-grid.css","webpack://easyreport/./node_modules/@easyquery/ui/dist/assets/css/eq-grid-mobile.css?c32c","webpack://easyreport/./node_modules/@easyquery/ui/dist/assets/css/eq-grid-mobile.css","webpack://easyreport/./node_modules/@easyquery/ui/dist/assets/css/easyfacets.css?ebb7","webpack://easyreport/./node_modules/@easyquery/ui/dist/assets/css/easyfacets.css","webpack://easyreport/./node_modules/@easydata/ui/dist/assets/css/easy-grid.css?91c4","webpack://easyreport/./node_modules/@easydata/ui/dist/assets/css/easy-grid.css","webpack://easyreport/./node_modules/@easydata/ui/dist/assets/css/easy-dialog.css?386a","webpack://easyreport/./node_modules/@easydata/ui/dist/assets/css/easy-dialog.css","webpack://easyreport/./node_modules/@easydata/ui/dist/assets/css/easy-forms.css?7af2","webpack://easyreport/./node_modules/@easydata/ui/dist/assets/css/easy-forms.css","webpack://easyreport/./ts/adhoc-reporting.ts","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/widgets/entities_panel.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/widgets/renderers/columnspanel/column_renderer.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/utils/popup_menu.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/utils/display_format_parser.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/types/qp_editable_part.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/widgets/renderers/columnspanel/simple_column_renderer.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/widgets/renderers/columnspanel/aggrfunc_column_renderer.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/widgets/renderers/columnspanel/customsql_column_renderer.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/widgets/columns_panel.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/widgets/renderers/columnsbar/column_renderer.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/widgets/renderers/columnsbar/simple_column_renderer.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/widgets/renderers/columnsbar/aggrfunc_column_renderer.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/widgets/columns_bar.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/widgets/renderers/sortingbar/column_renderer.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/widgets/sorting_bar.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/widgets/renderers/querypanel/text_renderer.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/widgets/renderers/querypanel/condition_renderer.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/utils/dropdown.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/widgets/renderers/querypanel/condition_group_renderer.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/types/facet_type.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/widgets/renderers/base_element_renderer.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/widgets/renderers/querypanel/expression_renderer.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/widgets/renderers/querypanel/input_expression_renderer.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/widgets/renderers/querypanel/list_expression_renderer.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/widgets/renderers/querypanel/attribute_expression_renderer.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/widgets/renderers/dropdown_renderer.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/widgets/renderers/querypanel/addrow_renderer.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/widgets/renderers/querypanel/operator_renderer.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/widgets/renderers/querypanel/datetime_expression_render.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/widgets/renderers/querypanel/subquery_expression_renderer.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/widgets/renderers/querypanel/bind_to_parent_column_expression_renderer.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/widgets/query_panel.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/widgets/filter_bar.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/widgets/html_content_widget.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/widgets/eq_result_html_grid.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/widgets/grid.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/widgets/easy_grid_widget.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/widgets/statement_panel.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/widgets/process_widget.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/widgets/manage_drilldown_widget.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/facets/result_facet_tab.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/widgets/charts/chart_type.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/facets/datatable_facet_tab.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/widgets/charts/chart_widget.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/facets/pivot_table_facet_tab.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/widgets/charts/chart_widget_chartjs.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/widgets/charts/chart_widget_google.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/facets/chart_facet_tab.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/dialog/export_dialog.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/widgets/result_facets_panel.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/widgets/export_widget.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/widgets/locale_widget.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/widgets/queryname_widget.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/views/view.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/utils/options_converter.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/views/adv_search_view.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/views/data_filter_view.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/views/html_data_filter_view.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/views/report_view.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/i18n/text_resources.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/extensions.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/public_api.js","webpack://easyreport/./node_modules/@easyquery/enterprise/dist/lib/utils/lcv.js","webpack://easyreport/./node_modules/@easyquery/enterprise/dist/lib/query/condition_ex.js","webpack://easyreport/./node_modules/@easyquery/enterprise/dist/lib/extensions.js","webpack://easyreport/./node_modules/@easyquery/enterprise/dist/lib/query/column_ex.js","webpack://easyreport/./node_modules/@easyquery/enterprise/dist/lib/query/query_ex.js","webpack://easyreport/./node_modules/@easyquery/enterprise/dist/lib/main/eqs_query_storage.js","webpack://easyreport/./node_modules/@easyquery/enterprise/dist/lib/dm/model_ex.js","webpack://easyreport/./node_modules/@easyquery/enterprise/dist/lib/data/eqs_totals_calculator.js","webpack://easyreport/./node_modules/@easyquery/enterprise/dist/lib/public_api.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","DataType","EntityAttrKind","HttpMethod","EditorTag","Unknown","Edit","DateTime","List","CustomList","HttpRequest","xhr","descriptor","this","method","url","headers","queryParams","data","setHeader","setQueryParam","getXMLHttpRequest","getResponseHeaders","readyState","HEADERS_RECEIVED","headerMap","_i","arr_1","getAllResponseHeaders","trim","split","length","parts","header","shift","join","open","_this","UNSENT","keys","encodeURI","map","param","setRequestHeader","abort","repeatString","str","times","result","i18n","currentLocale","defaultTexts","ButtonOK","ButtonCancel","englishUSLocaleSettings","shortDateFormat","longDateFormat","editDateFormat","shortTimeFormat","editTimeFormat","longTimeFormat","shortMonthNames","longMonthNames","shortWeekDayNames","longWeekDayNames","decimalSeparator","defaultLocale","localeId","englishName","displayName","texts","settings","allLocales","mappers","mapInfo","info","mappers_1","mapper","setCurrentLocale","newLocale","assignDeep","getLocaleSettings","updateLocaleSettings","settingsToUpdate","updateLocaleInfo","localeData","localeInfoToUpdate","loadBrowserLocaleSettings","now","dateStr","timeStr","dateFormat","timeFormat","lang","navigator","language","undefined","Date","toLocaleDateString","year","month","day","toLocaleTimeString","hour","minute","second","replace","addMapper","push","getLocales","locale","sort","a","b","getCurrentLocale","setLocale","console","warn","getText","args","arguments","textsObj","resText","argLength","getOneLocaleSetting","getShortMonthName","monthNum","getLongMonthName","getShortWeekDayName","dayNum","toString","getLongWeekDayName","updateLocaleTexts","error","updateDefaultTexts","addLocale","localeInfo","resetLocales","dateTimeToStr","dateTime","dataType","format","localeSettings","Time","numberToStr","number","utils","getAllDataTypes","values","getDateDataTypes","getStringDataTypes","String","Memo","_numericTypes","Byte","Word","Int32","Int64","Float","Currency","_intTypes","createArrayFrom","collection","collection_1","item","assign","target","source","sources","assignDeepCore","hashSet","sources_1","sourceVal","has","Array","isArray","set","getPrototypeOf","WeakMap","getIfDefined","defaultValue","IsDefinedAndNotNull","copyArrayTo","collection1","collection2","len1","len2","findItemById","array","id","arrLength","idx","findItemIndexById","indexOfArrayItem","arr","indexOf","len","moveArrayItem","index1","index2","splice","removeArrayItem","index","insertArrayItem","fillArray","start","end","relativeStart","k","Math","max","min","relativeEnd","final","shiftToFitWindow","absLeft","width","body","document","getElementsByTagName","winWidth","window","innerWidth","documentElement","clientWidth","absRight","isObject","val","isNumericType","dtype","isIntType","isNumeric","isNaN","parseFloat","isFinite","areCompatibleDataTypes","type1","type2","isPropSet","obj","propName","toLowerCase","toUpperCase","prefixIdLen","symbols","magicTicks","squeeze","maxlen","step","nextIndex","ch","replaceAtString","substr","getRandomInt","floor","random","safeParseInt","test","parseInt","generateId","prefix","prfx","pml","ptt","squeezeMoniker","randValue","maxSymbolIndex","buffer","rest","reverse","intToNum36","getTime","strToDateTime","normalized","formatItems","dateItems","monthIndex","dayIndex","yearIndex","hourIndex","minutesIndex","secondsIndex","today","getFullYear","getMonth","getDate","getDaysInMonth","_a","DT_FORMAT_RGEX","date","getHours","getMinutes","getSeconds","hour12","isPm","matches","yyyy","MMMM","MMM","MM","M","dd","HH","H","hh","h","tt","mm","ss","match","$1","extendStatics","HttpActionResult","request","promise","getPromise","getRequest","then","onfulfilled","onrejected","catch","finally","onfinally","__extends","setPrototypeOf","__proto__","__","constructor","__assign","apply","HttpResponseError","_super","status","message","Error","HttpClient","defaultHeaders","customPayload","options","send","Get","post","Post","put","Put","delete","Delete","contentType","XMLHttpRequest","desc","beforeEachRequest","onRequest","dataToSend","JSON","stringify","Promise","resolve","reject","onreadystatechange","responseObj","getResponseHeader","parse","responseText","MetaEntity","parent","caption","description","attributes","subEntities","loadFromData","model","dto","captionPlural","namePlur","ents","newEntity","createEntity","attrs","newAttr","createEntityAttr","scan","processAttribute","processEntity","opts","stop","internalProcessEntity","entity","attrCount","attr","subEntityCount","MetaEntityAttr","size","isPrimaryKey","isForeignKey","isNullable","showOnView","isEditable","showOnCreate","showOnEdit","showInLookup","lookupAttr","expr","kind","Data","cptn","ipk","ifk","lattr","lookupEntity","lent","dataAttr","dattr","lookupDataAttr","ldattr","nul","ied","ivis","sov","soc","soe","sil","udata","userData","edtr","defaultEditor","getEditorById","createValueEditor","ValueEditor","tag","resType","defValue","defval","rtype","subType","getValueText","text","_b","_c","substring","MetaData","mainEntity","rootEntity","getMainEntity","loadFromJSON","stringJson","version","vers","editors","newEditor","entroot","setData","isEmpty","getId","getName","getRootEntity","editorId","editor","getAttributeById","attrId","getEntityAttrById","checkAttrProperty","attribute","res","listByEntityWithFilter","filterFunc","ent","entIdx","newEnt","items","isEntity","attrIdx","listByEntity","resultEntities","resultAttributes","newOpts","includeRootData","sortCheck","sortEntities","attrPlacement","concat","clear","addDefaultValueEditors","addOrUpdateValueEditor","ve","getEntitiesTree","getEntitiesTreeWithFilter","getFullEntityPathByAttr","sep","getEntityPathByAttr","root","entityCaption","entityText","getAttributeText","attrText","entityPath","RegExp","runThroughEntities","getFirstAttributeByFilter","label","type","isAggr","DataColumnList","_dateColumnIdx","configurable","add","colOrDesc","col","updateDateColumnIdx","getItems","filter","move","newIndex","oldIndex","getIndex","getDateColumnIndexes","removeAt","removeDate","DataRow","columns","toArray","from","getValue","colIdOrIndex","RangeError","setValue","EasyDataTable","_chunkSize","chunkMap","total","loader","needTotal","chunkSize","_columns","colDesc","rows","rowData","row","createRow","addRow","getRows","params","fromIndex","count","pageSize","page","offset","limit","endIndex","lbChunk","trunc","upChunk","allChunksCached","resultArr","slice","loadChunk","chunks","table","getCachedChunks","chunks_1","chunk","getRow","getTotal","setTotal","getCachedCount","getCachedRows","dataOrRow","dateIdx","colId","forEach","column","rowOrValue","newRow","dateIdx_1","lastChunk","getLastChunk","createChunk","cachedTotal","getLastChunkIndex","reduce","acc","v","EasyGuid","newGuid","EventEmitter","silentMode","events","subscribe","eventType","callback","event","getEventRecByType","eventCallback","eventCallbacks","unsubscribe","callbackId","fire","postpone","force","eventRec","eqevent_1","emitAllFunc","setTimeout","enterSilentMode","exitSilentMode","isSilent","event_1","x","NaN","ceil","addElement","element","createElement","cssClass","className","appendChild","addCssClass","hideElement","style","display","showElement","toggleVisibility","first","duration","complete","isVisible","offsetWidth","offsetHeight","createBrowserEvent","eventName","Event","createEvent","initEvent","getViewportSize","height","clientHeight","innerHeight","getScrollPos","docElem","top","pageYOffset","scrollTop","left","pageXOffset","scrollLeft","getElementAbsolutePos","y","position","box","getBoundingClientRect","right","bottom","scollPos","clientTop","clientLeft","round","getWinSize","slideDown","removeProperty","getComputedStyle","overflow","paddingTop","paddingBottom","marginTop","marginBottom","boxSizing","transitionProperty","transitionDuration","slideUp","DomElementBuilder","parentElement","addChild","childBuilder","builder","domel","addChildElement","attrValue","setAttribute","title","dataId","dataValue","removeAttribute","show","removeStyle","hide","toHide","setStyle","visible","getClientRects","addClass","classNames","fullList","classList","removeClass","remove","toggleClass","toggle","on","listener","eventTypes","addEventListener","off","removeEventListener","styleId","styleValue","setProperty","innerText","html","innerHTML","oldElem","tagName","replaceWith","addText","textEl","createTextNode","addHtml","toDOM","appendTo","DomInputElementBuilder","valueAsDate","valueAsNumber","mask","maskPattern","input","9","inputHandler","e","mskd","startSelection","selectionStart","el","charAt","selectionEnd","keyCode","preventDefault","selection","onlyLodash","dispatchEvent","char","fromCharCode","charCode","mskd_1","selectionStart_1","selection_1","event_2","DomSelectElementBuilder","addOption","option","selected","HTMLDivElement","HTMLSpanElement","HTMLAnchorElement","HTMLButtonElement","HTMLImageElement","HTMLInputElement","HTMLSelectElement","DropEffect","touchEventIsDefined","TouchEvent","CellRendererType","EqDragEvent","dragImage","sourceEvent","dropEffect","Allow","pageX","pageY","MouseEvent","touches","Position","ev","eqDragManager","DragManager","delta","draggableItem","finishedSuccessfully","mouseDownPosition","containerDescriptors","containerDescriptorIndex","None","classPrefix","DRAG_DISABLED_ATTR","registerDraggableItem","ondragstart","detectDragging","hasAttribute","stopPropagation","cursorPosition","abs","startDragging","mouseMoveEventListener","mouseMoveDragListener","beforeDragStart","cloneNode","renderer","updateCusror","updateImageClass","scope","updateDragItemPosition","onDragStart","mouseDownListener","mouseUpListener","endDraggind","dropContDesc","container","scopes","onDrop","onDragLeave","onDragEnd","removeChild","registerDropContainer","removeDropContainer","descriptorOrSlot","descs","descs_1","detectDragEnterEvent","dragEnterEvent","detectDragLeaveEvent","dragLeaveEvent","event_3","onDragOver","setCursorStyle","Forbid","cursor","children","pos","event_4","onDragEnter","event_5","containerPos","GridColumnAlign","StringCellRendererDefault","cellElement","rowElement","cssPrefix","NumberCellRendererDefault","strValue","toLocaleString","align","NONE","DateTimeCellRendererDefault","isDate","timeOptions","BoolCellRendererDefault","GridCellRendererStore","renderers","defaultRenderers","registerRenderer","setDefaultRenderer","STRING","NUMBER","DATETIME","BOOL","getDefaultRenderer","columnType","cellType","getCellType","getDefaultRendererByType","rendererType","getRenderer","Autoinc","Bool","DEFAULT_WIDTH_NUMBER","DEFAULT_WIDTH_DATE","DEFAULT_WIDTH_BOOL","DEFAULT_WIDTH_STRING","ROW_NUM_WIDTH","GridColumn","grid","isRowNum","_label","dataColumn","coltype","cellRendererStore","cellRenderer","onGetCellRenderer","GridColumnList","columnList","sync","hasRowNumCol","rowNumCol","onSyncGridColumn","EasyGrid","pagination","paginationOptions","maxButtonCount","useBootstrap","defaultDataGridOptions","slot","dataTable","fixHeightOnFirstRender","syncGridColumns","useRowNumeration","allowDragDrop","totals","calcGrandTotals","calculator","paging","enabled","addColumns","viewportRowsCount","showActiveRow","rowsOnPagePromise","containerInitialHeight","firstRender","prevRowTotals","landingIndex","landingSlot","_activeRowIndex","eventEmitter","setSlot","init","getElementById","getElementsByClassName","onInit","onRowClick","onRowDbClick","onAddColumnClick","onColumnChanged","onColumnDeleted","onColumnMoved","onPageChanged","onActiveRowChanged","activeRowIndex","_","eqCssPrefix","showLandingSlot","hideLandingSlot","refresh","fireEvent","columnId","getData","getColumns","destroy","clearDOM","render","hasData","rootDiv","renderHeader","headerDiv","renderBody","bodyDiv","renderFooter","footerDiv","gridContainer","updateHeight","firstRow","bodyCellContainerDiv","firstElementChild","bodyHeight_1","sbHeight","bodyViewportDiv","bodyHeight","headerViewportDiv","headerCellContainerDiv","headerRowDiv","hd","renderColumnHeader","renderAddColumnButton","containerWidth","sum","current","colBuilder","colDiv","attrLabel","showProgress","getRowsToRender","hideProgress","calcTotals_1","calcTotals","keyCols_1","getTotalsKeyCols","updateTotalsState","tr","renderRow","isLastPage","onVieportKeydown","calcSubTotalsCols","cols","calcSubTotals","prev","keyCols","pop","isLast","changeLevel","totalsOpts","renderTotalsRow","level","colIndex","getTotalsTitle","renderCell","getTotals","fillTotals","rowCount","querySelectorAll","newValue","ensureRowVisibility","rowOrIndex","getDataRow","rowRect","viewportRect","rowTop","rowBottom","viewportHeight","windowHeight","footerPaginateDiv","renderPageNavigator","pageInfoBlock","renderPageInfoBlock","pageInfoDiv","fistPageRecordNum","lastPageRecordNum","getLocalIndexByGlobal","getGlobalIndexByLocal","indexGlobal","rowBuilder","rowIndex","colindex","LEFT","RIGHT","CENTER","paginateDiv","pageIndex","pageCount","buttonClickHandler","getAttribute","focus","zeroBasedIndex","firstPageIndex","lastPageIndex","ul","li","newA","handler","handlerId","addColumnsTitle","colElems","rowElem","landingPos","newLandingIndex","cols_1","colPos","insertBefore","oldValue","updateActiveRow","activeRow","getActiveRow","Calendar","yearRange","setDate","currentDate","dateChanged","onDateChanged","DateTimePicker","calendar","timePicker","setDateTime","currentDateTime","setTime","getDateTime","showCalendar","createCalendar","showDateTimeInput","timePickerIsUsed","showTimePicker","oneClickDateSelection","dateTimeChanged","createTimePicker","onTimeChanged","time","setHours","setMinutes","anchor","beforeShow","onApply","cancel","onCancel","onDateTimeChanged","DefaultCalendar","daysOfWeek","months","calendarBody","isManualInputChanging","selectedMonth","selectedYear","rerenderMonth","renderManualDateInput","headerTextElem","renderCalendarButtons","getInputDateFormat","newDate","manualInputElem","jump","updateDisplayedDateValue","selectMonthElem","_loop_1","selectYearElem","next","rerenderSelectYear","exec","minusYear","plusYear","op","firstDay","getDay","daysInMonth","setFullYear","setMonth","dayOfWeek","cellsDrawnInLastRow","cellsToDraw","TimePicker","currentTime","timeChanged","DefaultTimePicker","updateDisplayedTime","hoursInput","minutesInput","timeText","slidersBuilder","timeToDraw","DefaultDateTimePicker","renderButtons","globalMouseDownHandler","srcElement","contains","nowButton","submitButton","calendarSlot","timePickerSlot","anchorPos","parentPos","DefaultDialogService","openConfirm","content","closable","submitable","cancelable","onSubmit","openPrompt","defVal","submitOnEnter","arrangeParents","beforeOpen","processInput","dlg","DefaultDialog","submitHandler","cancelHandler","keydownHandler","isActiveDialog","windowDiv","querySelector","submit","onDestroy","windowDivs","turnOn","GridPageInfo","ButtonApply","ButtonNow","LinkType","equtils","eqconsts","FormatParser","formatStr","exprNum","tokenText","skipSpaces","npos","token","npos1","npos2","getToken","combinePath","path1","path2","strToLinkType","All","NotAll","Any","linkTypeToStr","parseOperatorFormat","operator","displayFormat","convertValue","fromDataType","toDataType","resInt","resFloat","ConstLists","SpecDateValues","isDefault","SpecTimeValues","BooleanValues","constLists","predicateLinkTypeList","DataKind","AggrFunction","sqlExpr","appliedTypes","aggrFunction","fmt","dtypes","EqValueEditor","sql","statement","extraParams","ExprTag","Operator","constValueFormat","isRange","caseIns","paramCount","defaultOperand","operands","pcnt","defOperand","newOperand","Operand","Scalar","operand","defText","txt","copyFrom","src","Entity","useInConditions","useInResult","useInSorting","uic","uir","uis","EntityAttr","defaultOperator","operators","defOperator","ops","EqEditorTag","SqlList","SubQuery","BindToParentColumn","QueryChangePart","QueryChangeAction","SortDirection","Tree","childs","findNode","child","setParents","DataModel","aggrFunctions","dateMacros","timeMacros","links","newOperator","aggrfuncs","newAggrFunc","getObject","createQuery","_listByEntityWithFilter","_listByEntity","addUIC","addUIR","addUIS","addOrUpdateOperator","removeOperator","soft","getOperatorIdsByDataType","Guid","BCD","buildQueryPath","query","tree","createTreeNodeFromEntity","subEnentity","getEntitiesInQuery","entities","columns_1","addEntityByExpression","rootCond","getRootCondition","fillEntitiesByCondtionGroup","getConditions","condition","isGroup","expressions","_d","_e","arg","EntityAttribute","baseAttrId","findLink","entityFrom","entityTo","link","getLinksByEntity","getFirstUICAttr","getFirstUICAttrInEntity","findOperatorById","operatorId","opCount","getOperatorById","getDefaultOperatorIdForAttr","getAggrFunctionCaption","funcId","funcTexts","funcCaption","func","getAggrFunctionFormat","funcFormat","getDefaultOperatorForAttr","getOperand","Query","getAggrFunctions","getDateMacroValue","macro","isDateMacro","getDateOrMacroValue","macroValue","getTimeMacroValue","isTimeMacro","getTimeOrMacroValue","getAllDateMacros","getAllTimeMacros","Expression","Constant","_value","distinct","_isDefaultValue","getParent","getModel","getQuery","Attribute","ParentEntityAttribute","subQuery","loadFromDataOrJson","saveToData","toJSONData","getExpressionIndex","silent","setContent","expressionChanged","hasText","tryCopyValueFrom","CondTag","ConditionPart","Column","justsorted","_isHidden","_id","sorting","sortIndex","blockId","isReadOnly","isJustSorted","setReadOnly","isHidden","setHidden","colData","srt","srtidx","hidden","fireChangedEvent","part","SortingColumns","Columns","action","Modify","changee","WidgetGroup","EqAction","EqActionResult","Condition","linkType","justAdded","conditions","_enabled","cond","setParent","Group","getLevel","isParameterized","setParameterized","isInJoin","setInJoin","clearConditions","addCondition","removeConditionAt","Simple","disabled","exprs","newExpr","linking","condPart","Conditions","tuneOperatorForAttr","getOperatorId","setOperatorId","newOperatorId","oldOperatorId","tuneValueExpressions","oldAttrId","exprCount","oldOperator","oldOperand","valExpr","createValueExpr","oldExpr","areCompitableEditors","oldEditor","addExpressionByOperand","valueNotDefined","defAttr","InvalidQueryError","captureStackTrace","extraData","innerData","isNewbie","_isModified","parentQuery","drillDowns","extraConditions","regenerateId","setDefaultName","modelId","modelName","attributeExprTag","attrTag","clientListRequestHandler","serverListRequestHandler","timezoneOffset","getTimezoneOffset","isModified","resetModified","isEx","reset","clearQuery","hasEnabledAggrColumns","AggregateFunction","setName","validate","CustomSql","validateConditionGroup","tryValidate","curCond","checkExpressions","values_1","parsedVal","changeStatus","loadFromJson","json","clearDrillDowns","conds","condData","createCondition","justsortcols","newCol","createColumn","dds","addDrillDown","getDrillDowns","getParentQuery","findColumnById","setModel","loadModelData","toJSON","rootCondToData","condGroup","extraConds","isEmptyConditions","isEmptyColumns","clearColumns","clearExtraConditions","setId","getDescription","setDescription","getJustSortedColumns","getSortedColumns","sortedCols","col1","col2","getColumnSortIndex","addColumn","author","newColumn","attributeId","aggrFuncId","cusomtSql","readonly","addColumnObj","changeColumnType","exprValue","sqlText","customSqlExpr","exprId","moveColumn","removeColumn","addConditionGroup","addChildCondition","addExtraConditionGroup","addSimpleCondition","createSimpleConditionObject","addSimpleExtraCondition","inputValues","attrExpr","valCount","valLength","removeColumns","columnsToRemove","justSortedColumns","removeFromArray","arrToRemove","ctrLen","fireProcessEvent","wasModified","eventData","fireColumnsChangedEvent","fireConditionsChangedEvent","runThroughConditions","processCondition","processGroup","predicate","getOneValueForAttr","opid","addProcessCallback","removeProcessCallback","addChangedCallback","removeChangedCallback","getConditionsText","getConditionGroupText","condText","conjKey","conjText","opId","plen","pi","BrowserQueryStorage","context","keyPrefix","queryListKey","queryKeyPrefix","getQueryList","itemsString","localStorage","getItem","err","newQuery","loadQuery","queryItem","queryId","saveQuery","queryList","setItem","removeQuery","queryId_1","removeItem","EqModelLoader","modelPromise","getContext","createModelLoadingPromise","modelLoadingResolveFunc","modelLoadingRejectFunc","getModelPromise","startModelLoading","sendLoadModelRequest","EqServerModelLoader","http","getServices","getHttpClient","resolveEndpoint","responseData","EqServerQueryExecutor","executeQuery","requestData","EqServerQuerySynchronizer","syncQuery","EqServerValueListResolver","loadValueList","listId","EqQueryFileLoader","getQueryFile","actionResult","blob","Blob","fileName","lastIndexOf","msSaveOrOpenBlob","href","URL","createObjectURL","download","click","revokeObjectURL","uploadQueryFile","EqTotalsContainer","levels","setTotals","getLevelDesc","recivedCallbacks","keyColumns","keyColumns_1","keyCol","processFunc","field","DefaultTotalCalculator","calculate","EqServiceProvider","modelLoader","queryStorage","querySynchronizer","queryExecutor","valueListResolver","queryFileLoader","totalCalculator","httpClient","modelResolver","queryResolver","modelLoaderResolver","queryStorageResolver","querySynchronizerResolver","vlrResolver","queryExecutorResolver","queryFileLoaderResolver","totalCalculatoResolver","createDataModel","getModelLoader","getQueryStorage","getQuerySynchronizer","getQueryExecutor","getValueListResolver","getQueryFileLoader","getTotalCalculator","registerDataModelResolver","resolver","registerQueryResolver","registerModelLoaderResolver","registerQueryStorageResolver","registerQueryExecutorResolver","registerQuerySyncronizerResolver","registerValueListResolver","registerQueryFileLoaderResolver","registerTotalCalculator","EasyQueryDataLoader","dataLoadPromise","fetchDataChunk","success","dataLoader","resultTable","resultSet","meta","totalRecords","hasNext","EqServerExporter","setFormat","export","filename","EqContext","internalListCache","loadModelOnStart","loadQueryOnStart","endpointVarsRegex","_predefinedListRequestHandlers","onResult","macroName","_listRequestHandler","listName","newParams","editorParams","procParams","attrPattern","prop","dynamicParam","paramValue","requestPrams","list","getListFromCache","processed","predefinedHandler","addListToCache","eqServices","widgets","exporters","Map","endpoints","registerExporter","getExporter","getExportFormats","addDefaultExporters","exporter","endpointKey","matches_1","opt","optVal","setEndpoint","setEnpointIfNotExist","setDefaultEndpoints","endpointBase","defaultQueryId","listCache","setExternalListCache","baseEndpoint","brokerOptions","broker","serviceUrl","endpoint","onLoadModel","beforeLoadModel","onLoadQuery","beforeLoadQuery","onSyncQuery","beforeSyncQuery","onExecuteQuery","beforeExecuteQuery","onExportResult","beforeExportResult","handlers","onInitialModelLoad","onProcessStart","onProcessEnd","onError","msg","msgTitle","msgText","sourceError","listRequestHandler","initialQuery","defaultModelId","useDefaultExporters","widget","widgetOptions","getWidgetType","loadDefaultModel","addWidget","getAllWidgetsByType","widgetType","getWidgetByType","refreshWidgets","groups","belongsToGroup","addQueryChangedCallback","removeQueryChangedCallback","dataModel","loadModelFromData","modelPlainData","setDefaultModelId","startProcess","endProcess","throwError","loadModel","Model","clearResult","resultStatement","resultContent","cache","externalListCache","getListCacheKey","resetListCache","getListRequestHandler","getBaseEndpoint","GetValueList","Result","Success","errorMessage","LoadModel","callWhenModelLoaded","callFunc","LoadQuery","Properties","loadQueryList","startQueryListLoading","LoadQueryList","queries","useStorage","onNewQuery","NewQuery","SaveQuery","RemoveQuery","SyncQuery","Statement","querySaved","q","QueryStatus","processQueryForTotals","Ascending","GetQueryFile","UploadQueryFile","FetchData","maxLevel","executeDrillDown","ExecuteQuery","exportResult","ExportResult","Widget","refreshCore","onProcessStartCore","onProcessEndCore","group","destroyCore","EqVersionInfo","major","minor","update","NewQueryName","Today","Yesterday","Tomorrow","FirstDayOfMonth","LastDayOfMonth","FirstDayOfWeek","FirstDayOfYear","FirstDayOfNextWeek","FirstDayOfNextMonth","FirstDayOfNextYear","Now","HourStart","Midnight","Noon","Entities","Attributes","Operators","AggreateFunctions","browserUtils","_isFirefox","_isIE","IsIE","eval","IsFirefox","ua","userAgent","_detectedIsMobileMode","_isMobileMode","detectIsMobileMode","isMobileMode","matchMedia","mobileModeChangeHandler","setIsMobileMode","onMobileModeChanged","getMobileCssClass","safeFocus","eqCssMobile","makeElementMaximizable","useSourceMap","cssMapping","btoa","sourceMapping","sourceMap","unescape","encodeURIComponent","sourceURLs","sourceRoot","cssWithMappingToString","mediaQuery","alreadyImportedModules","fn","memo","stylesInDom","isOldIE","all","atob","getTarget","getElement","styleTarget","HTMLIFrameElement","contentDocument","head","singleton","singletonCounter","stylesInsertedAtTop","fixUrls","addStylesToDom","styles","domStyle","refs","j","addStyle","listToStyles","newStyles","base","css","media","insertStyleElement","insertInto","lastStyleElementInsertedAtTop","insertAt","nextSibling","firstChild","before","removeStyleElement","parentNode","createStyleElement","nonce","getNonce","addAttrs","transform","default","styleIndex","applyToSingletonTag","rel","createLinkElement","updateLink","applyToTag","newObj","DEBUG","newList","mayRemove","textStore","replaceText","replacement","Boolean","styleSheet","cssText","cssNode","childNodes","autoFixUrls","convertToAbsoluteUrls","oldSrc","IsEdge","GoogleDataConverter","tableObj","getNumberOfColumns","getNumberOfRows","getColumnObject","getColumnId","getColumnLabel","getColumnType","getColumnProperties","colType","googleDataTypeToDataType","includes","cell","convertTo","colCount","googleDataType","locals","location","baseUrl","protocol","host","currentDir","pathname","fullMatch","origUrl","newUrl","unquotedOrigUrl","ui_1","viewOptions","syncReportOnChange","showChart","enableExport","columnsBar","accentActiveColumn","allowAggrColumns","attrElementFormat","showColumnCaptions","adjustEntitiesMenuHeight","menuOptions","showSearchBoxAfter","activateOnMouseOver","queryPanel","alwaysShowButtonsInGroups","resultGrid","tableClass","formatGridCell","reportView","ReportView","setLicenseKeyEndpoint","useEnterprise","ColumnAction","EntitiesPanel","queryChangedCallbackId","panel","setOptions","renderProgressBlock","syncWithColumns","refreshCheckedStateByColumns","showIndicatorOnLoad","progressBlock","showToolbar","showSelectAllButton","showClearSelectionButton","showAddColumnButton","showAddConditionButton","showCheckboxes","showTooltips","draggableAttributes","showAttributes","showFilterBox","filterBoxMode","autoClearSelection","entityRenderedCallback","attributeRenderedCallback","edata","rootEntityBlock","entTree","entityTreeBlock","renderEntity","createFilterBox","createToolPanel","block","entityBlock","entityNode","entityChildren","nodeLabel","nodeInput","attrNode","attrInput","nodeToggleButton","currentOffset","divElem","itemsLength","this_1","checkbox","currentTarget","checked","Add","checkboxes","attrList_2","attrElems_1","attrList_1","filterBoxBlock","filterBoxInput","checkFilterAttribute","attrs_1","displayAttrCount","i_1","collapseAll","expandAll","defClass","toolPanelBlock","toolSelectAll","toolDeselectAll","toolAddColumns","toolAddCond","toolLeftBlock","toolRightBlock","selectAll","deselectAll","attrElements","attrList","self","attrElement","attrList_3","attrId_1","attrList_4","attrId_2","attrCaption","textContent","checkFilterText","filterText","exprColumns_1","entChildren","entElem","nodeButtons","inputs","MenuLevel","isFilteringMode","showSelected","parentMenu","menu","parentLevel","levelIndex","levelDiv","domWriteItemsId","menuId","itemRenderedCallback","applyItem","itemDiv","activeItem","selectedItem","initialized","updated","renderContent","setItems","itemBgColor","colors","bgON","itemFgColor","fgON","itemFontFamily","bgOVER","itemStyle","fontFamily","itemFontSize","fontSize","multiselect","isSubQuery","baseDivBuilder","useDefaultStyles","border","zIndex","baseDiv","applyDiv","applyBtn","borderBottom","padding","applyTextNode","buttons","cancelBtn","marginLeft","cancelText","hideMenu","searchBoxAlwaysShown","searchDivBuilder","searchEditBoxBuilder","deactivateItem","renderItems","searchBox","moveActiveItemUp","moveActiveItemDown","openSubLevel","searchDiv","scrollDiv","tabIndex","overflowX","overflowY","which","getRootLevel","closeDiv","filteredItems","activateItem","menuItem","showSubLevel","subLevel","focusScrollDiv","turnCheckboxes","itemCheckbox","isItemSelected","setItemSelected","submitItems","selectedItems","allSubitemsAreFiltered","filterCallback","isItemDiv","isLevelDiv","getMenuItem","renderItemsWithoutFilter","itemFilterCallback","getItemFilterCallback","color","paddingLeft","paddingRight","cb","defaultChecked","margin","verticalAlign","itemText","arrowSpan","arrowText","itemClickHandler","itemSelected","refreshCheckboxes","isCursorInside","renderItemsWithFilter","filterSections","pureFilterTexts","section","filterItems","renderItemWithFilter","matchesFilter","regexp","resultItems","restFilterSections","filterRegexp","groupItem","groupItemMatches","filterTexts","levelFilterText","highlightText","lowerText","lowerContent","indexInMas","itemOverBgColor","itemOverFgColor","fgOVER","itemClass","itemClassOver","backgroundColor","levelId","scroll","winSize","leftSpace","rightSpace","offsetParent","showAt","visibility","adjustTopPos","levelBottom","initLevelDiv","levelStyle","minItemWidth","maxItemWidth","maxHeight","newHeight","searchBoxAutoFocus","submitMenu","newItems","refreshItems","findItem","searchedText","PopupMenu","mouseIsOverBlock","mouseIsOverLink","toId","active","ancorFocused","adjustHeight","lastMenuID","updateProps","rootLevel","menuKeyUpHandler","stopImmediatePropagation","isOutside","menuLevel","shadow","commandTemplate","clearItemsMenuProps","clearItemMenuProps","setSelectedItems","selectedIds","showMenu","activeElement","itemSelectedCallback","menuClosedCallback","onMenuItemSelected","srcPos","anchorHeight","anchorWidth","scroll_1","knockMenuStyle","DisplayFormatParser","getTokenText","QPEditablePart","ColumnRendererCP","functionMenu","buttonMenu","isMouseOverBlock","keepShowingButtons","baseAttr","getButtonsToShow","sortingButton","renderSoringButton","replaceChild","hideButtons","createFunctionMenu","createButtonMenu","getClassesToAdd","renderCheckbox","renderExpressionBlock","showColumnTitles","renderCaptionBlock","renderEnabledButton","renderColumnTypeButton","renderDeleteButton","renderMenuButton","onMouseEnter","onMouseLeave","onMouseClick","alwaysShowButtons","showButtons","toggleColumnPicked","adjustButtonsVisibility","fireColumnChanged","getDefaultColumnCaption","inputEl","minWidth","isEndEvent","save","KeyboardEvent","FocusEvent","aEl","sortButtonDirectionCssClass","sortButtonCssClass","Descending","getUIS","sortMenu","moveMenu","Hidden","MoveTop","MoveDown","MoveUp","MoveBottom","SortingNone","SortingAsc","SortingDesc","buttonMenuHandler","leaveButtonBlock","evt","Menu","getDefaultTitleText","getAttributeCaption","titleElementFormat","changeTypeHandler","Enable","enterButtonBlock","isColumnActive","funcs","funcAllowed","funcs_1","toInclude","areCustomExpressionsAllowed","curQuery","colMenu","getButtonMenuSelectedItems","processExtraButtonMenuItems","common","allowHiddenColumns","sortItems","allowSorting","getSortMenuList","getMoveMenuList","extra","getExtraButtonMenuItems","arrSelected","SimpleColumnRendererCP","renderBaseExpression","showEntitiesMenu","baseExpressionItemSelectedCallback","attrid","changeTypeToCustomSql","newElement","changeTypeToAggr","AggrFuncColumnRendererCP","displayFormatParser","exprBlockBuilder","arrFormat","parseDisplayFormat","functionLink_1","button","changeTypeToSimple","parser","CustomSqlColumnRendererCP","exprBlock","getDefaultValue","ColumnsPanel","activeColumn","showAddRow","showHeader","allowDuplicates","allowCustomExpressions","menuSearchBoxAfter","columnRenderedCallback","customExpressionText","detachQueryObserver","attachQueryObserver","moveColumnCore","addNewColumn","renderBaseElements","minusHeight","headerBuilder","headerElement","columnsBlock","addRowElement","queryEventCallbackId","focusedBefore","isFocusInside","modifyColumn_1","colEl","getColumnRenderer","newEl","focusElem","agjustHeaderVisibility","addColumn_1","addColumnElement","deleteColumn_1","previousSibling","focusCond","rowElems","rowHeight","absPos","scrollIntoView","behavior","createEntitiesMenu","createColumnMenus","renderColumn","isActive","colToAdd","getColumnByAttrId","checkColumnsArray","checkColumn","newColBlock","scrollToBottom","scrollHeight","getColumnsBlock","entitiesMenu","createSortMenu","createMoveMenu","direction","colToMove","ColumnRendererCB","tapedTwice","bar","renderSortingImage","renderButtonsBlock","renderSortingButton","renderButtonsBlockMobile","renderCaptionEditorMobile","getDefaultCaption","isFocused","ctrlKey","metaKey","clickEvent","buttonSortingClickHandler","buttonDeleteClickHandler","buttonTypeClickHandler","onHideButtonsMobile","onShowButtonsMobile","SimpleColumnRendererCB","AggrFuncColumnRendererCB","ColumnsBar","customQuery","sortMenuList","moveMenuList","addRowButton","elements","columnSlots","colSlot","colWidth","colHeight","paddingWidth","renderAddRowButton","renderColumnButtonsBlockMobile","columnButtonsBlockMobileArrow","columnButtonsBlockMobile","buttonsBlockSortingButton","currentColumnRenderer","hideColumnButtonsMobile","buttonsBlockTypeButton","buttonsBlockDeleteButton","showColumnButtonsMobile","columnRenderer","columnElement","currentActiveColumn","rect","offsetTop","offsetLeft","elem","columnSlot_1","colJson","globalCounter","ColumnRendererSB","sd","getArrow","SortingBar","ConditionAction","TextRenderer","ConditionRenderer","autoAppear","coreRender","onConditionRendered","SimpleConditionRenderer","renderConjunction","mayAppear","getOperatorRenderer","toAppear","exprRenderer_1","getExpressionRenderer","adjustWidth","accentActiveCondition","toggleConditionPicked","buttonsBlock","setConditionParameterized","setConditionInJoin","getConditionMenu","isFirstConditionInGroup","showConjunctions","linkTypeStr","conjuctionText","isConditionActive","alwaysShowButtonsInConditions","conditionMenuHandler","AddCondition","entMenu","getEntitiesMenu","descr","AddGroup","parent_1","condMenu","getConditionMenuSelectedItems","Parameterized","InJoin","parent_2","editableParts","Removal","Addition","onButtonMouseEnter","onButtonMouseLeave","buttonsToShow","DomDropDownElementBuilder","appear","onGetMenu","_onGetMenu","onItemSelected","_onItemSelected","dropdown","FacetType","ConditionGroupRenderer","isRoot","renderGroupRow","renderConditions","showRootRow","getConditionRenderer","ConditionGroupRowRenderer","buildGroupElements","getGroupTitle","groupTitle","curType_1","getLinkTypeMenu","getConditionGroupMenu","BaseElementRenderer","isEditMode","labelElement","renderLabelElement","renderEditor","showEditor","displayedText","getLabelText","getEmptyText","ExpressionRenderer","expression","valueEditor","onExpressionRendered","emptyTextValue","Value","validateInput","showValidationError","isEmptyValue","InputExpressionRenderer","inputBuilder","dontProcessBlur","validationResult","inputElement","closeEditor","maxWidth","MIN_WIDTH","inputValue","validateListInput","validateScalarInput","inputValues_1","ListExpressionRenderer","menuItemsList","showWhenReady","adjustNewValue","emptyTextList","getListName","fillMenuItemsList","renderMenuBlock","showLoader","hideLoader","getValuesAsArray","selLength","multiSelect","menuContainer","dialogZIndex","onComplete","takeDefaultValue","itemLen","CustomListExpressionRenderer","isLoading","onClickTemp","loaderElement","SqlListExpressionRenderer","AttributeExpressionRenderer","attrObj","attrFormat","emptyTextAttribute","DropDownRenderer","getMenu","AddRowRenderer","OperatorRenderer","operId","related","isRelatedToSubQuery","emptyTextOperator","DateTimeExpressionRenderer","dtp","internalDateFormat","internalTimeFormat","pickerOptions","convertToInternalFormat","dateTimePickerResolver","convertFromInternalFormat","macroText","SubQueryExpressionRenderer","dialogBlockBody","renderColumnBlock","renderQueryPanelBlock","exprType","colEntitiesList","colEntitiesMenu","columnBlock","setResultAttributeId","parentEl","queryPanelBlock","qpId","getSubQuery","parentPanel","subOptions","entitiesListFilter","listItems","listOptions","subQueryPanelListOptions","rootCondEl","minHeight","getDialogService","subQueryDialogWidth","BindToParentColumnExpressionRenderer","ParentColumn","attrDataType","QueryPanel","activeCondition","entitiesPopupHandler","allowParameterization","allowInJoinConditions","showPoweredBy","activateRootOnStart","subQueryDialogHeight","numberListSeparators","autoEditNewCondition","onGetConditionRenderer","onGetExpressionRenderer","onGetOperatorRenderer","onOperatorRendered","onGetAddRowRenderer","defaultQuery","model_1","hideLangindSlot","conditionMenu","linkTypeMenu","rootGroupMenu","groupMenu","modifyCondition_1","autoEdit","autoEdit_1","addCondition_1","newCondContainer","lastChild","deleteCondition_1","dateFormatValue","dateFormatDisplay","createConditionMenus","createLinkTypeMenu","rootContainer","addrowRenderer","getAddRowRenderer","attributeMenu","FilterBar","applyOnClose","showApplyButton","showClearButton","headerClickListener","headerClickHandler","qpElement","applyBtnClick","applyFilter","clearBtnClick","clearFilter","showQueryPanel","qpBlock","updateHeader","hideQueryPanel","headerTextElement","headerLinkElement","headerArrowBlock","headerArrowElement","textResize","headerIconElement","headerTextBlock","applyFilterCallback","HtmlContentWidget","contentElement","EqHtmlGrid","pageNavigatorPlaceholder","buttonClick","pageNum","pageItemCssClass","Grid","useCustomLocaleSettings","beforeTableRendering","applyDisplayFormats","EasyGridWidget","autoRefresh","gridOptions","addColumnClickHandler","columnMovedHandler","StatementPanel","statementText","ProcessWidget","ManageDrillDownWidget","clickHandler","openDialog","ddQuery","dialogService","dialogBody","renderColumnsBarBlock","opIdx","columnsBarSlot","queryPanelSlot","submitDialog","destroyDialog","ChartType","ResultFacetTab","dialogTitle","canDisplayFlag","downloadAllClickHandler","textDiv","progressDiv","chunksToLoad","getChunksForLoading","recordsToLoad","ds","loadedRecords","progress","chunksToLoad_1","contentDiv","displayMessageDiv","showSettingsDialog","renderDialogContent","submited","submitSettingsDialog","renderFormFields","cont","tabNameInput","canDisplay","showUnableDisplayMessage","hideUnableDisplayMessage","getType","cachedChunks","diffOffset","numbOfChunks","diff","DataTableFacetTab","getDefaultSettings","reinitGrid","gridResolver","DataGrid","isIE","container_1","fieldsClass_1","getNonAggrCols","sCol","columnsChanged","sCols","cols_2","prevEntity","dropSettings","inputs_1","AggrFunc","ChartWidget","chartType","Pie","supportedChartTypes","potentialLabelColumns","potentialDataColumns","labelColumn","dataColumns","showOnPaging","hideSettings","hasColumnsForChart","prepareChartData","getSupportedChartTypes","getChartTypeName","ct","Area","Bar","Candlestick","Combo","Donut","Gauge","Histogram","Line","updateSettings","updateChartColumns","colNum","colLabel","ids_1","initChart","hasChartTypes","getCurrentChartType","mainDiv","canDraw","chartTypeSelector","sopt","ctkey","settingsDiv","chartDiv","initSettingsDiv","chartSettingsBtn","toggleSettings","drawChart","addContentDiv","delay","drawCore","settingsHeader","labelDiv","labelColumnSelectorCaption","labelColumnSelector","dataDiv","dataColumnSelectorCaption","dataColumnSelector","getPotentialLabelColumns","getPotentialDataColumns","getLabelColumnIndex","getDataColumnIndex","ChartJsWidget","chartLabels","chartColumns","hasChartJs","Chart","config","generateConfig","chartContext","getChartCanvas","canvases","borderColor","dataColors","datasetName","displayLegend","fillValue","getChartType","datasets","fill","labels","legend","GoogleChartWidget","hasGoogleCharts","google","charts","googleDataView","visualization","DataView","convertToGoogleFormat","convertToGoogleType","convertToGoogleValue","googleTable","DataTable","addRows","setCell","chartOptions","chartArea","getChartAreaWidth","createChart","draw","setColumns","ColumnChart","BarChart","ComboChart","AreaChart","LineChart","PieChart","CandlestickChart","ChartFacetTab","chart","getCurrent","labelCol","dataCol","PivotTableFacetTab","pivotTable","defaultRenderer","rowEl","fontWeight","PivotTable","createAggrFuncSelectBuilder","aggrFunc","csb","aggrfunc","aggrfuncs_1","createColumnsSelectBuilder","allowedTypes","colName","getContextDataTable","_loop_2","colTypes","fieldTypes","horizClass","rowName","fieldName","totalsRow","totalsCol","Average","updatePivotData","colIdx","rowIdx","fieldIdx","columnCol","columnRow","rowLabel","rowType","colValues","rowValues","colValue","rowValue","null_columns","new_rows","calcAggrFunc","totalByRow","new_rows_1","total_row","totalByCol","rows_1","Sum","average","Min","Max","Count","Number","MAX_SAFE_INTEGER","fieldValue","MIN_SAFE_INTEGER","ExportDialog","defFormat","formats","ResultFacetsPanel","facets","activeFacetIndex","showExportButton","showRefreshButton","showProcessIndicator","menuItems","renderProcessBlock","loadFacets","reloadFacets","createAddMenu","renderActiveFacet","updateTotalRecords","addMenu","recordsDiv","exportDiv","_processBlock","tabsDiv","tabsUl","facet","renderFacet","addClickHandler","manageDiv","bdb","exportHandler","refreshHandler","renderFacetTab","renderFacetBody","settingsClickHandler","closeClickHandler","selectClickHandler","refreshFacetTabs","removeFacet","createFacetTab","facetSlot","saveFacets","setActiveFacet","confirmed","createDefaultFacetIfNotExist","f","ExtraData","items_1","fd","ExportWidget","LocaleWidget","changeLocale","selectEl","locales","locales_1","optionEl","displayLocaleName","QueryNameWidget","mobClass","nameSlot","asteriskSlot","tooltipSlot","queryName","View","domRoots","defaultViewOptions","disableConfirmationOnQueryChange","queryFileExtensions","clearResultOnQueryChange","resultOptions","resetContext","renderSpinner","defaultErrorHandler","registerDialogServiceResolver","shadowRoots","initOptions","initWidgets","initDone","columnsPanel","entitiesPanel","resultPanel","filterBar","processBar","statementPanel","queryNameLabel","facetsPanel","resultCount","exportButton","slots","resultCountSpan","exportButtons","epElement","resolveElement","entitiesPanelWidget","createEntitiesPanelWidget","cpElement","columnsPanelWidget","createColumnsPanelWidget","cbElement","columnsBarWidget","createColumnsBarWidget","queryPanelWidget","createQueryPanelWidget","resultPanelSlot","resultGridWidget","gridPanel","createResultGridWidget","chartWidget","chartPanel","createChartWidget","qnElement","queryNameWidget","createQueryNameWidget","fbElement","filterBarWidget","createFilterBarWidget","sbElement","sortingBarWidget","createSortingBarWidget","pbElement","processWidget","createProcessWidget","stElement","statementPanelWidget","createStatementPanelWidget","clElement","createLocaleWidget","fpElement","resultFacetPanelWidget","createResultFacetsPanel","ewElement","exportWidget","createExportWidget","resultCountSlot","elementOrId","resolveElementsByClassName","elemList","displayRecordsCount","defaultOptions","oldOptions","oldViewOptions","newOptions","newQueryUrl","saveQueryUrl","executeQueryUrl","removeQueryUrl","loadModelUrl","loadQueryUrl","loadQueryListUrl","syncQueryUrl","listRequestUrl","syncQueryOptions","easyGrid","setDialogService","showResultSpinner","hideResultSpinner","toggleExportButtons","enableExportButtons","disableExportButtons","_spinnerDiv","slotElement","chartWidgetResolver","resultGridResolver","detach","localeWidget","statementWidget","AdvancedSearchView","disabledClass","dropdownContainerClass","dropdownButtonClass","dropdownContentClass","dropdownShowClass","queryListMenu","executeQueryButtonClickHandler","executeQueryButtonClick","clearQueryButtonClickHandler","clearQueryButtonClick","newQueryButtonClickHandler","newQueryButtonClick","loadQueryButtonClickHandler","loadQueryButtonClick","saveQueryButtonClickHandler","saveQueryButtonClick","copyQueryButtonClickHandler","copyQueryButtonClick","removeQueryButtonClickHandler","removeQueryButtonClick","storageButtonClickHandler","storageDropButtonClick","saveQueryToFileButtonClickHandler","saveQueryToFileButtonClick","loadQueryFromFileButtonClickHandler","loadQueryFromFileButtonClick","exportButtonClickHandler","queryChangedHandler","syncQueryOnChange","executeQueryOnChange","outsideClickHandler","currentContent","dropdowns","openDropdown","refreshQueryList","queryListPanel","checkIfQueryModified","exportClass","queryContentInputId","clearQueryButtonId","newQueryButtonId","loadQueryButtonId","saveQueryButtonId","copyQueryButtonId","removeQueryButtonId","storageButtonId","executeQueryButtonId","loadQueryFromFileButtonId","saveQueryToFileButtonId","queryListPanelId","queryContentInput","executeQueryButton","clearQueryButton","newQueryButton","loadQueryButton","saveQueryButton","copyQueryButton","removeQueryButton","storageButton","loadQueryFromFileButton","saveQueryToFileButton","elems","hideExportButtons","storageDropButton","loadQueryFromFileInput","accept","loadQueryFromFileInputSelect","createNewQuery","alert","saveCurrentQuery","copyQuery","showSaveQueryDialog","showQueryChangedDialog","removeCurrentQuery","showNewQueryDialog","newQueryName","showRemoveQueryDialog","showSaveQueryToFileDialog","renderSaveToFileDialogBody","fileNameInput","formatSelector","fieldsClass","showLoadQueryFromFileDialog","file","files","FormData","append","fillLoadQueryButtonMenu","AdvancedSearchViewJQuery","DataFilterView","applyQueryFilter","DataFilterViewJQuery","HtmlDataFilterView","reports","reportCache","useReportCache","clearReportButtonClickHandler","clearReportButtonClick","newReportButtonClickHandler","newReportButtonClick","loadReportButtonClickHandler","loadReportButtonClick","saveReportButtonClickHandler","saveReportButtonClick","removeReportButtonClickHandler","removeReportButtonClick","updateReportButtonClickHandler","updateReportButtonClick","reload","defaultReportId","changeType","noSync","syncReport","renderReportList","reportId","clearReportButton","newReportButton","loadReportButton","saveReportButton","removeReportButton","updateReportButton","exportButtonsContainer","reportListSlot","newReport","reportName","insertIntoReportList","loadReport","reportToLoad","findReportById","reportLoaded","renderReportProps","reportContent","getReportContentFromCache","saveReportContentInCache","setActiveReport","saveCurrentReportAs","newReportName","errorHandler","removeCurrentReport","report","confirm","reportId_1","removeFromReportList","reportIndex","currentReport","lastUpdated","rlItems","renderReportPanels","renderReportItemInList","showExportButtons","rid","reportsContainer","noReportPanel","indexOfReportById","clearErrors","findReportCacheItem","ReportViewJQuery","AltMenuAttribute","AltMenuConstantExpression","ButtonClose","ButtonNext","ButtonPrev","MenuEnable","MenuParameterization","MenuJoinCond","CmdClear","CmdDelete","CmdToggleEnable","CmdAddCondition","CmdAddCondGroup","ButtonSelectAll","ButtonDeselectAll","ButtonAddColumns","ButtonAddConditions","CmdClickToAddCondition","CmdDeleteRow","ErrIncorrectGroupTitleFormat","ErrNotNumber","ErrIncorrectInteger","ErrIncorrectNumberList","False","LinkTypeAll","LinkTypeAny","LinkTypeNone","LinkTypeNotAll","ConjAll","ConjAny","ConjNotAll","ConjNone","MsgApplySelection","MsgAs","MsgEmptyList","MsgEmptyListValue","MsgEmptyScalarValue","MsgSubQueryValue","MsgEmptyAttrValue","MsgEmptyOperator","MsgEmptyCustomSql","MsgCustomSql","MsgNoResult","MsgResultCount","MsgOf","ConditionGroupTitle","RootConditionGroupTitle","StrAddConditions","SubQueryDialogTitle","SubQueryColumnTitle","SubQueryEmptyColumn","SubQueryQueryPanelCaption","True","ButtonSorting","ButtonToAggr","ButtonToSimple","CmdAscending","CmdClickToAddColumn","CmdDeleteColumn","CmdDeleteSorting","CmdDescending","CmdGroupSort","CmdNotSorted","ColTypeAggrFunc","ColTypeCompound","ColTypeGroup","ColTypeSimple","HeaderExpression","HeaderSorting","HeaderTitle","SortHeaderColumn","SortHeaderSorting","StrAddColumns","CustomExpression","CmdMoveToStart","CmdMoveRight","CmdMoveLeft","CmdMoveToEnd","CmdMoveUp","CmdMoveDown","ButtonMenu","CmdToSimple","CmdMoveToFirst","CmdMoveToPrev","CmdMoveToNext","CmdMoveToLast","CmdHiddenColumn","RowButtonTitle","StrNoFilterDefined","StrNoFilterClickToAdd","HintHours","HintMinutes","RemoveQueryTitle","RemoveQueryContent","NewQueryTitle","NewQueryContent","NewQueryDefName","SaveQueryTitle","SaveQueryContent","SaveQueryDefName","QueryChangedTitle","QueryChangedContent","UpdateQuerySelector","FileNameLabel","SaveQueryToFileDlgTitle","NewReportDefName","NewReportDlgTitle","SaveReportDlgTitle","SaveReportDlgLabel","RemoveReportContent","Facets","TotalRecordsLabel","AddMenuItems","Pivot","LoadDataDlgTitle","LoadDataDlgContent","RefreshBtnTitle","ExportBtnTitle","RemoveFacetDlgTitle","RemoveFacetDlgContent","DefaultDlgTitle","DefaultFacetTitle","TabNameLabel","ErrQueryChanged","ErrNotEnoughData","FacetTitle","DlgTitle","DataColumnSelectorLabel","LabelColumnSelectorLabel","ChartTypeSelectorLabel","ColumnFieldSelectorLabel","RowFieldSelectorLabel","CellDataSelectorLabel","TotalsRowLabel","TotalsColLabel","TotalGridLabel","TotalsLabel","SubTotalsLabel","GrandTotalsLabel","ExportDlgTitle","ExportDlgFmtLabel","Element","msMatchesSelector","webkitMatchesSelector","lcv","__kt","ck","infoBytes","binary_string","urlatob","bytes","Uint8Array","charCodeAt","_bs","part2","ed","setCharAt","f36","encChar","majVer","chr","trialDiv","ConditionEx","readOnly","parameterized","inJoin","newCond","ColumnEx","QueryEx","lType","EqServerQueryStorage","DataModelEx","path","findPath","addPathToTree","pathAdded","newNode","node","curPath","curStep","nextStep","passedEntities","pathFound","curStep_1","checkPath","nextStep_1","endPoint","entityLinks_1","entity2","newPath","EqTotalsCalculator","levelPromises","processLevel","resultsObtained","levelData","buildLevelData","valueColumns","valueColumns_1","valueCol","licenseKeyEndpoint","hideTrialWM","keyOrInitCallback","services","textAlign","opacity","font","transition","eq","lineHeight","korzh","trialOnly","createTrialWM"],"mappings":"2BACE,IAAIA,EAAmB,GAGvB,SAASC,EAAoBC,GAG5B,GAAGF,EAAiBE,GACnB,OAAOF,EAAiBE,GAAUC,QAGnC,IAAIC,EAASJ,EAAiBE,GAAY,CACzCG,EAAGH,EACHI,GAAG,EACHH,QAAS,IAUV,OANAI,EAAQL,GAAUM,KAAKJ,EAAOD,QAASC,EAAQA,EAAOD,QAASF,GAG/DG,EAAOE,GAAI,EAGJF,EAAOD,QA0Df,OArDAF,EAAoBQ,EAAIF,EAGxBN,EAAoBS,EAAIV,EAGxBC,EAAoBU,EAAI,SAASR,EAASS,EAAMC,GAC3CZ,EAAoBa,EAAEX,EAASS,IAClCG,OAAOC,eAAeb,EAASS,EAAM,CAAEK,YAAY,EAAMC,IAAKL,KAKhEZ,EAAoBkB,EAAI,SAAShB,GACX,oBAAXiB,QAA0BA,OAAOC,aAC1CN,OAAOC,eAAeb,EAASiB,OAAOC,YAAa,CAAEC,MAAO,WAE7DP,OAAOC,eAAeb,EAAS,aAAc,CAAEmB,OAAO,KAQvDrB,EAAoBsB,EAAI,SAASD,EAAOE,GAEvC,GADU,EAAPA,IAAUF,EAAQrB,EAAoBqB,IAC/B,EAAPE,EAAU,OAAOF,EACpB,GAAW,EAAPE,GAA8B,iBAAVF,GAAsBA,GAASA,EAAMG,WAAY,OAAOH,EAChF,IAAII,EAAKX,OAAOY,OAAO,MAGvB,GAFA1B,EAAoBkB,EAAEO,GACtBX,OAAOC,eAAeU,EAAI,UAAW,CAAET,YAAY,EAAMK,MAAOA,IACtD,EAAPE,GAA4B,iBAATF,EAAmB,IAAI,IAAIM,KAAON,EAAOrB,EAAoBU,EAAEe,EAAIE,EAAK,SAASA,GAAO,OAAON,EAAMM,IAAQC,KAAK,KAAMD,IAC9I,OAAOF,GAIRzB,EAAoB6B,EAAI,SAAS1B,GAChC,IAAIS,EAAST,GAAUA,EAAOqB,WAC7B,WAAwB,OAAOrB,EAAgB,SAC/C,WAA8B,OAAOA,GAEtC,OADAH,EAAoBU,EAAEE,EAAQ,IAAKA,GAC5BA,GAIRZ,EAAoBa,EAAI,SAASiB,EAAQC,GAAY,OAAOjB,OAAOkB,UAAUC,eAAe1B,KAAKuB,EAAQC,IAGzG/B,EAAoBkC,EAAI,GAIjBlC,EAAoBA,EAAoBmC,EAAI,G,+BCjF9C,IAAIC,ECDAC,GDEX,SAAWD,GAEPA,EAASA,EAAkB,QAAI,GAAK,UAEpCA,EAASA,EAAiB,OAAI,GAAK,SAEnCA,EAASA,EAAe,KAAI,GAAK,OAEjCA,EAASA,EAAe,KAAI,GAAK,OAEjCA,EAASA,EAAgB,MAAI,GAAK,QAElCA,EAASA,EAAgB,MAAI,GAAK,QAElCA,EAASA,EAAe,KAAI,GAAK,OAEjCA,EAASA,EAAgB,MAAI,GAAK,QAElCA,EAASA,EAAmB,SAAI,GAAK,WAErCA,EAASA,EAAc,IAAI,GAAK,MAEhCA,EAASA,EAAe,KAAI,IAAM,OAElCA,EAASA,EAAe,KAAI,IAAM,OAElCA,EAASA,EAAmB,SAAI,IAAM,WAEtCA,EAASA,EAAkB,QAAI,IAAM,UAErCA,EAASA,EAAe,KAAI,IAAM,OAElCA,EAASA,EAAe,KAAI,IAAM,OAElCA,EAASA,EAAoB,UAAI,IAAM,YAEvCA,EAASA,EAAe,KAAI,IAAM,OAGlCA,EAASA,EAAmB,SAAI,IAAM,WAEtCA,EAASA,EAAoB,UAAI,IAAM,YAzC3C,CA0CGA,IAAaA,EAAW,KC3C3B,SAAWC,GACPA,EAAeA,EAAqB,KAAI,GAAK,OAC7CA,EAAeA,EAAwB,QAAI,GAAK,UAChDA,EAAeA,EAAuB,OAAI,GAAK,SAHnD,CAIGA,IAAmBA,EAAiB,KCLhC,ICAIC,EDAAC,EAAY,CAEnBC,QAAS,UAETC,KAAM,OAENC,SAAU,WAEVC,KAAM,OAENC,WAAY,eCThB,SAAWN,GACPA,EAAkB,MAAI,QACtBA,EAAoB,QAAI,UACxBA,EAAgB,IAAI,MACpBA,EAAgB,IAAI,MACpBA,EAAiB,KAAI,OACrBA,EAAmB,OAAI,SAN3B,CAOGA,IAAeA,EAAa,KCR/B,ICKW,ECFA,EFHPO,EAA6B,WAC7B,SAASA,EAAYC,EAAKC,GACtBC,KAAKF,IAAMA,EACXE,KAAKC,OAASF,EAAWE,OACzBD,KAAKE,IAAMH,EAAWG,IACtBF,KAAKG,QAAUJ,EAAWI,QAC1BH,KAAKI,YAAcL,EAAWK,YAC9BJ,KAAKK,KAAON,EAAWM,KA+C3B,OA7CAR,EAAYb,UAAUsB,UAAY,SAAU3C,EAAMU,GAC9C2B,KAAKG,QAAQxC,GAAQU,GAEzBwB,EAAYb,UAAUuB,cAAgB,SAAU5C,EAAMU,GAClD2B,KAAKI,YAAYzC,GAAQU,GAE7BwB,EAAYb,UAAUwB,kBAAoB,WACtC,OAAOR,KAAKF,KAEhBD,EAAYb,UAAUyB,mBAAqB,WACvC,GAAIT,KAAKF,IAAIY,YAAcV,KAAKF,IAAIa,iBAAkB,CAKlD,IAJA,IAGIC,EAAY,GACPC,EAAK,EAAGC,EAJHd,KAAKF,IAAIiB,wBACLC,OAAOC,MAAM,WAGDJ,EAAKC,EAAMI,OAAQL,IAAM,CACnD,IACIM,EADOL,EAAMD,GACAI,MAAM,MACnBG,EAASD,EAAME,QACfhD,EAAQ8C,EAAMG,KAAK,MACvBV,EAAUQ,GAAU/C,EAExB,OAAOuC,EAEX,MAAO,IAEXf,EAAYb,UAAUuC,KAAO,WACzB,IAAIC,EAAQxB,KACZ,GAAIA,KAAKF,IAAIY,aAAeV,KAAKF,IAAI2B,OAArC,CAEA,IAAIvB,EAAMF,KAAKE,IAQf,IAAK,IAAIkB,KAPLpB,KAAKI,aAAetC,OAAO4D,KAAK1B,KAAKI,eACrCF,GAAOyB,UAAU,IAAM7D,OAAO4D,KAAK1B,KAAKI,aACnCwB,KAAI,SAAUC,GAAS,OAAOA,EAAQ,IAAML,EAAMpB,YAAYyB,MAC9DP,KAAK,OAEdtB,KAAKF,IAAIyB,KAAKvB,KAAKC,OAAQC,GAAK,GAChCF,KAAKF,IAAIgC,iBAAiB,mBAAoB,kBAC3B9B,KAAKG,QACpBH,KAAKF,IAAIgC,iBAAiBV,EAAQpB,KAAKG,QAAQiB,MAGvDvB,EAAYb,UAAU+C,MAAQ,WAC1B/B,KAAKF,IAAIiC,SAENlC,EAtDqB,GGAzB,SAASmC,EAAaC,EAAKC,GAE9B,IADA,IAAIC,EAAS,GACJ/E,EAAI,EAAGA,EAAI8E,EAAO9E,IACvB+E,GAAUF,EAEd,OAAOE,GFCX,SAAWC,GACP,IA4BIC,EA5BAC,EAAe,CACfC,SAAU,KACVC,aAAc,UAEdC,EAA0B,CAC1BC,gBAAiB,aACjBC,eAAgB,eAChBC,eAAgB,aAChBC,gBAAiB,QACjBC,eAAgB,QAChBC,eAAgB,WAChBC,gBAAiB,CAAC,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,OAC/FC,eAAgB,CAAC,UAAW,WAAY,QAAS,QAAS,MAAO,OAC7D,OAAQ,SAAU,YAAa,UAAW,WAAY,YAC1DC,kBAAmB,CAAC,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,OAC9DC,iBAAkB,CAAC,SAAU,SAAU,UAAW,YAAa,WAAY,SAAU,YACrFC,iBAAkB,KAElBC,EAAgB,CAChBC,SAAU,QACVC,YAAa,UACbC,YAAa,UACbC,MAAOnB,EACPoB,SAAUjB,GAEVkB,EAAa,CACb,QAASN,GAGTO,EAAU,GACd,SAASC,EAAQC,GACb,IAAK,IAAIjD,EAAK,EAAGkD,EAAYH,EAAS/C,EAAKkD,EAAU7C,OAAQL,IAAM,EAE/DmD,EADaD,EAAUlD,IAChBiD,IAqDf,SAASG,EAAiBX,GACtB,IAAIY,EAAYP,EAAWL,GACvBY,EACA,EAAMC,WAAW9B,EAAe6B,GAGhC7B,EAAgB,CACZkB,YAAaD,EACbE,YAAaF,EACbG,MAAOnB,GAGfD,EAAciB,SAAWA,EAoC7B,SAASc,IACL,OAAO/B,EAAcqB,SAyDzB,SAASW,EAAqBC,GACrBjC,EAAcqB,WACfrB,EAAcqB,SAAW,EAAMS,WAAW,GAAI1B,IAElDJ,EAAcqB,SAAW,EAAMS,WAAW9B,EAAcqB,SAAUY,GA+BtE,SAASC,EAAiBjB,EAAUkB,GAChCX,EAAQW,GACR,IAAIC,EAAqBpC,EACrBiB,IACKkB,EAAWlB,WACZkB,EAAWlB,SAAWA,IAE1BmB,EAAqBd,EAAWL,MAE5BmB,EAAqB,EAAMN,WAAW,GAAId,GAC1CM,EAAWL,GAAYmB,IAG/B,EAAMN,WAAWM,EAAoBD,GA8CzC,SAASE,IACL,IA/B+BpB,EAC3BqB,EAGAC,EACAC,EACAC,EAOAC,EAkBAC,EAA4B,iBAAdC,UAAyBA,UAAUC,cAAWC,EA/BjC7B,EAgCL0B,EA/BtBL,EAAM,IAAIS,KAAK,KAAM,EAAG,EAAG,GAAI,GAAI,GAAI,IAGvCR,EAAUD,EAAIU,mBAAmB/B,EAFnB,CAAEgC,KAAM,UAAWC,MAAO,UAAWC,IAAK,YAGxDX,EAAUF,EAAIc,mBAAmBnC,EAFnB,CAAEoC,KAAM,UAAWC,OAAQ,UAAWC,OAAQ,YAG5Dd,EAAaF,EACZiB,QAAQ,KAAM,MACdA,QAAQ,IAAK,KACbA,QAAQ,KAAM,MACdA,QAAQ,IAAK,KACbA,QAAQ,OAAQ,QAChBA,QAAQ,KAAM,MACfd,EAAaF,EACZgB,QAAQ,KAAM,MACdA,QAAQ,KAAM,MACdA,QAAQ,IAAK,KACbA,QAAQ,KAAM,MACdA,QAAQ,KAAM,MACdA,QAAQ,KAAM,MACdxD,EAAcqB,WACfrB,EAAcqB,SAAW,IAO7BW,EALqB,CACjB3B,gBAAiBoC,EACjBlC,eAAgBkC,EAChBjC,gBAAiBkC,IAnPzB3C,EAAK0D,UAHL,SAAmB9B,GACfJ,EAAQmC,KAAK/B,IA0BjB5B,EAAK4D,WAnBL,WACI,IAAI7D,EAAS,GACb,IAAK,IAAI8D,KAAUtC,EACfxB,EAAO4D,KAAK,CACRE,OAAQA,EACR1C,YAAaI,EAAWsC,GAAQ1C,YAChCC,YAAaG,EAAWsC,GAAQzC,cAGxC,OAAOrB,EAAO+D,MAAK,SAAUC,EAAGC,GAC5B,OAAID,EAAE5C,YAAc6C,EAAE7C,YACX,EAEF4C,EAAE5C,cAAgB6C,EAAE7C,YAClB,GAEH,MAWhBnB,EAAKiE,iBAHL,WACI,OAAOhE,EAAciB,UAYzBlB,EAAKkE,UAJL,SAAmBjJ,GACfkJ,QAAQC,KAAK,2DACbvC,EAAiB5G,IAqBrB+E,EAAK6B,iBAAmBA,EAiCxB7B,EAAKqE,QArBL,WAEI,IADA,IAAIC,EAAO,GACF7F,EAAK,EAAGA,EAAK8F,UAAUzF,OAAQL,IACpC6F,EAAK7F,GAAM8F,UAAU9F,GAEzB,IAAI+F,EAAWvE,EAAcoB,MACzBoD,EAAU,GACd,GAAIH,GAAQA,EAAKxF,OAEb,IADA,IAAI4F,EAAYJ,EAAKxF,OACZ9D,EAAI,EAAGA,EAAI0J,GAEO,iBADvBD,EAAUD,EAASF,EAAKtJ,KADGA,IAGvBwJ,EAAWC,EAOvB,OAAOA,GAMXzE,EAAKgC,kBAAoBA,EAIzBhC,EAAK2E,oBAHL,SAA6BpI,GACzB,OAAO0D,EAAcqB,SAAS/E,IAYlCyD,EAAK4E,kBATL,SAA2BC,GACvB,IAAIvD,EAAWU,IACf,GAAI6C,EAAW,GAAKA,EAAW,GAC3B,OAAOvD,EAASV,gBAAgBiE,EAAW,GAG3C,KAAM,uBAAyBA,GAavC7E,EAAK8E,iBATL,SAA0BD,GACtB,IAAIvD,EAAWU,IACf,GAAI6C,EAAW,GAAKA,EAAW,GAC3B,OAAOvD,EAAST,eAAegE,EAAW,GAG1C,KAAM,uBAAyBA,GAevC7E,EAAK+E,oBAXL,SAA6BC,GACzB,IAAI1D,EAAWU,IACf,GAAIgD,EAAS,GAAKA,EAAS,EACvB,OAAO1D,EAASR,kBAAkBhC,QAAUkG,EACtC1D,EAASR,kBAAkBkE,EAAS,GACpCA,EAAOC,WAGb,KAAM,uBAAyBD,GAevChF,EAAKkF,mBAXL,SAA4BF,GACxB,IAAI1D,EAAWU,IACf,GAAIgD,EAAS,GAAKA,EAAS,EACvB,OAAO1D,EAASP,iBAAiBjC,QAAUkG,EACrC1D,EAASP,iBAAiBiE,EAAS,GACnCA,EAAOC,WAGb,KAAM,uBAAyBD,GAgBvChF,EAAKiC,qBAAuBA,EAc5BjC,EAAKmF,kBATL,SAA2B9D,GACF,iBAAVA,GAKXI,EAAQ,CAAEP,SAAUjB,EAAciB,SAAUG,MAAOA,IACnD,EAAMU,WAAW9B,EAAcoB,MAAOA,IALlC8C,QAAQiB,MAAM,kJAetBpF,EAAKqF,mBAPL,SAA4BhE,GACxB,IAAK,IAAIH,KAAYK,EAAY,CAC7B,IAAIsC,EAAStC,EAAWL,GACxB2C,EAAOxC,MAAQ,EAAMU,WAAW,GAAIV,EAAOwC,EAAOxC,OAEtDpB,EAAcoB,MAAQ,EAAMU,WAAW,GAAIV,EAAOpB,EAAcoB,QAwBpErB,EAAKmC,iBAAmBA,EAUxBnC,EAAKsF,UAHL,SAAmBpE,EAAUqE,GACzBpD,EAAiBjB,EAAUqE,IA8C/BvF,EAAKwF,aANL,WACSvF,IACDA,EAAgB,EAAM8B,WAAW,GAAId,GACrCqB,MAoBRtC,EAAKyF,cAhBL,SAAuBC,EAAUC,GAC7B,IACIC,EADAC,EAAiB7D,IAErB,OAAQ2D,GACJ,KAAK3I,EAASgG,KACV4C,EAASC,EAAevF,gBACxB,MACJ,KAAKtD,EAAS8I,KACVF,EAASC,EAAepF,gBACxB,MACJ,QACImF,EAASC,EAAevF,gBAAkB,IAAMuF,EAAepF,gBAGvE,OAAO,EAAMgF,cAAcC,EAAUE,IAOzC5F,EAAK+F,YAJL,SAAqBC,GACjB,IAAIH,EAAiB7D,IACrB,OAAO,EAAM+D,YAAYC,EAAQH,EAAe7E,mBA7TxD,CAgUG,IAAS,EAAO,KClUnB,SAAWiF,GAIPA,EAAMC,gBAHN,WACI,OAAOxK,OAAOyK,OAAOnJ,IAMzBiJ,EAAMG,iBAHN,WACI,MAAO,CAACpJ,EAAS8I,KAAM9I,EAASgG,KAAMhG,EAASM,WAMnD2I,EAAMI,mBAHN,WACI,MAAO,CAACrJ,EAASsJ,OAAQtJ,EAASuJ,OAGtC,IAAIC,EAAgB,CAACxJ,EAASyJ,KAAMzJ,EAAS0J,KAAM1J,EAAS2J,MACxD3J,EAAS4J,MAAO5J,EAAS6J,MAAO7J,EAAS8J,UACzCC,EAAY,CAAC/J,EAASyJ,KAAMzJ,EAAS0J,KAAM1J,EAAS2J,MAAO3J,EAAS4J,OAkGxE,SAASI,EAAgBC,GAErB,IADA,IAAIlH,EAAS,GACJtB,EAAK,EAAGyI,EAAeD,EAAYxI,EAAKyI,EAAapI,OAAQL,IAAM,CACxE,IAAI0I,EAAOD,EAAazI,GACxBsB,EAAO4D,KAAKwD,GAEhB,OAAOpH,EA7EXkG,EAAMmB,OAjBN,SAAgBC,GAEZ,IADA,IAAI/C,EAAO,GACF7F,EAAK,EAAGA,EAAK8F,UAAUzF,OAAQL,IACpC6F,EAAK7F,EAAK,GAAK8F,UAAU9F,GAE7B,IAAK,IAAIzD,EAAI,EAAGA,EAAIsJ,EAAKxF,OAAQ9D,IAAK,CAClC,IAAIsM,EAAShD,EAAKtJ,GAClB,GAAIsM,EACA,IAAK,IAAI/K,KAAO+K,EACRA,EAAOzK,eAAeN,KACtB8K,EAAO9K,GAAO+K,EAAO/K,IAKrC,OAAO8K,GAmBXpB,EAAMlE,WAPN,SAAoBsF,GAEhB,IADA,IAAIE,EAAU,GACL9I,EAAK,EAAGA,EAAK8F,UAAUzF,OAAQL,IACpC8I,EAAQ9I,EAAK,GAAK8F,UAAU9F,GAEhC,OAGJ,SAAS+I,EAAeC,EAASJ,EAAQE,GAChCF,IACDA,EAAS,IAEb,IAAK,IAAI5I,EAAK,EAAGiJ,EAAYH,EAAS9I,EAAKiJ,EAAU5I,OAAQL,IAAM,CAC/D,IAAI6I,EAASI,EAAUjJ,GACvB,GAAI6I,EACA,IAAK,IAAI/K,KAAO+K,EACZ,GAAIA,EAAOzK,eAAeN,GAAM,CAC5B,IAAIoL,EAAYL,EAAO/K,GACL,OAAdoL,GAA2C,iBAAdA,EACzBF,EAAQG,IAAID,GACZN,EAAO9K,GAAOkL,EAAQ5L,IAAI8L,GAGtBE,MAAMC,QAAQH,IACdN,EAAO9K,GAAOyK,EAAgBW,GAC9BF,EAAQM,IAAIJ,EAAWN,EAAO9K,WAGJ,IAAf8K,EAAO9K,KACd8K,EAAO9K,GAAOb,OAAOY,OAAOZ,OAAOsM,eAAeL,KAEtDF,EAAQM,IAAIJ,EAAWN,EAAO9K,IAC9BiL,EAAeC,EAASJ,EAAO9K,GAAM,CAACoL,KAK9CN,EAAO9K,GAAOoL,GAMlC,OAAON,EAtCAG,CAAe,IAAIS,QAAWZ,EAAQE,IA2CjDtB,EAAMiC,aAHN,SAAsBjM,EAAOkM,GACzB,YAAyB,IAAVlM,EAAyBA,EAAQkM,GAMpDlC,EAAMmC,oBAHN,SAA6BnM,GACzB,OAAO,MAAOA,GAUlBgK,EAAMoC,YAPN,SAAqBC,EAAaC,GAG9B,IAFA,IAAIC,EAAOF,EAAYxJ,OACnB2J,EAAOF,EAAYzJ,OACd9D,EAAI,EAAGA,EAAIwN,GAAQxN,EAAIyN,EAAMzN,IAClCuN,EAAYvN,GAAKsN,EAAYtN,IAYrCiL,EAAMe,gBAAkBA,EAexBf,EAAMyC,aARN,SAAsBC,EAAOC,GAEzB,IADA,IAAIC,EAAYF,EAAM7J,OACbgK,EAAM,EAAGA,EAAMD,EAAWC,IAC/B,GAAIH,EAAMG,GAAKF,KAAOA,EAClB,OAAOD,EAAMG,GAErB,OAAO,MAWX7C,EAAM8C,kBARN,SAA2BJ,EAAOC,GAE9B,IADA,IAAIC,EAAYF,EAAM7J,OACbgK,EAAM,EAAGA,EAAMD,EAAWC,IAC/B,GAAIH,EAAMG,GAAKF,KAAOA,EAClB,OAAOE,EAEf,OAAQ,GAuBZ7C,EAAM+C,iBAdN,SAA0BC,EAAK9B,GAC3B,GAAI8B,EAAIC,QACJ,OAAOD,EAAIC,QAAQ/B,GAInB,IADA,IAAIgC,EAAMF,EAAInK,OACL9D,EAAI,EAAGA,EAAImO,EAAKnO,IACrB,GAAImM,GAAQ8B,EAAIjO,GACZ,OAAOA,EAGf,OAAQ,GAoBhBiL,EAAMmD,cAVN,SAAuBT,EAAOU,EAAQC,GAClC,GAAID,GAAUV,EAAM7J,OAChB,KAAM,wBAA0BuK,EAEhCC,GAAUX,EAAM7J,SAChBwK,EAASX,EAAM7J,OAAS,GAE5B,IAAIqI,EAAOwB,EAAMY,OAAOF,EAAQ,GAAG,GACnCV,EAAMY,OAAOD,EAAQ,EAAGnC,IAc5BlB,EAAMuD,gBANN,SAAyBP,EAAKhN,GAC1B,IAAIwN,EAAQR,EAAIC,QAAQjN,GACxB,IAAc,GAAVwN,EACA,OAAOR,EAAIM,OAAOE,EAAO,GAAG,IAOpCxD,EAAMyD,gBAHN,SAAyBT,EAAKQ,EAAOxN,GACjCgN,EAAIM,OAAOE,EAAO,EAAGxN,IAqBzBgK,EAAM0D,UAlBN,SAAmBV,EAAKhN,EAAO2N,EAAOC,QACpB,IAAVD,IAAoBA,EAAQ,GAWhC,IAVA,IAAIT,EAAMF,EAAInK,SAAW,EACrBgL,EAAgBF,GAAS,EACzBG,EAAID,EAAgB,EACpBE,KAAKC,IAAId,EAAMW,EAAe,GAC9BE,KAAKE,IAAIJ,EAAeX,GACxBgB,OAAsBpH,IAAR8G,EACdV,EAAMU,GAAO,EACbO,EAAQD,EAAc,EACtBH,KAAKC,IAAId,EAAMgB,EAAa,GAC5BH,KAAKE,IAAIC,EAAahB,GACnBY,EAAIK,GACPnB,EAAIc,GAAK9N,EACT8N,IAEJ,OAAOd,GAuBXhD,EAAMoE,iBAbN,SAA0BC,EAASC,GAC/B,IAAIC,EAAOC,SAASC,qBAAqB,QAAQ,GAC7CC,EAAWC,OAAOC,YAAcJ,SAASK,gBAAgBC,aAAeP,EAAKO,YAC7EC,EAAWV,EAAUC,EACrBtL,EAAQ,EAOZ,OANI+L,EAAWL,GAEPL,GADJrL,EAAQ0L,EAAWK,EAAW,IACR,IAClB/L,EAAQ,GAAKqL,GAGdrL,GAaXgH,EAAMgF,SANN,SAAkBC,GACd,OAAY,OAARA,IAGoB,mBAARA,GAAuC,iBAARA,IAYnDjF,EAAMkF,cAJN,SAAuBC,GAEnB,OADY5E,EAAc0C,QAAQkC,IACjB,GAYrBnF,EAAMoF,UAJN,SAAmBD,GAEf,OADYrE,EAAUmC,QAAQkC,IACb,GAUrBnF,EAAMqF,UAHN,SAAmBJ,GACf,OAAQK,MAAMC,WAAWN,KAASO,SAASP,IAe/CjF,EAAMyF,uBALN,SAAgCC,EAAOC,GACnC,YAAuB,IAATD,QAAwC,IAATC,GAAwBD,GAAS3O,EAASI,SAAWwO,GAAS5O,EAASI,SAC5GuO,GAASC,GAAWD,GAAS3O,EAASgG,MAAQ4I,GAAS5O,EAASM,UAChEqO,GAAS3O,EAASM,UAAYsO,GAAS5O,EAASgG,MAY5DiD,EAAM4F,UAHN,SAAmBC,EAAKC,GACpB,OAAOD,EAAIC,IAAaD,EAAIC,EAASC,gBAAkBF,EAAIC,EAASE,gBAIxE,IAAIC,EAAc,EACdC,EAAU,uCACVC,EAAa,kBAgDjB,SAASC,EAAQxM,EAAKyM,GAClB,IAAInD,EAAMtJ,EAAIf,OACd,GAAIqK,EAAMmD,EAAQ,CACd,IAAIC,EAAOpD,EAAMmD,EACbvM,EAAS,GACbA,GAAUF,EAAI,GAGd,IAFA,IAAI2M,EAAYD,EACZE,OAAK,EACAzR,EAAI,EAAGA,EAAImO,EAAKnO,IACrByR,EAAK5M,EAAI7E,GACLA,EAAI,EAAIwR,IACRzM,GAAU0M,EACVD,GAAaD,GAGrB,OAAOxM,EAGP,OAAOF,EAGf,SAAS6M,EAAgB7M,EAAK4J,EAAOxN,GACjC,OAAO4D,EAAI8M,OAAO,EAAGlD,GAASxN,EAAQ4D,EAAI8M,OAAOlD,EAAQxN,EAAM6C,QAEnE,SAAS8N,EAAa1C,EAAKD,GACvB,OAAOD,KAAK6C,MAAM7C,KAAK8C,UAAY7C,EAAMC,IAAQA,EAKrD,SAAS6C,EAAalN,GAElB,IADY,QAAQmN,KAAKnN,GAErB,KAAM,wBACV,OAAOoN,SAASpN,GA5DpBoG,EAAMiH,WAlBN,SAAoBC,GACXA,IACDA,EAAS,QAEb,IAAIC,EAAQD,EAAOrO,OAASoN,EA0BhC,SAAwBrM,EAAKyM,GACzB,IAAIvN,EAAQc,EAAIhB,MAAM,KAClBwO,EAAM,EACNC,EAAMhB,EACNvN,EAAMD,OAASwN,IACfe,EAAMf,EAASvN,EAAMD,OACrBwO,EAAMvO,EAAMD,QAGhB,IADA,IAAIiB,EAAS,GACJ/E,EAAI,EAAGA,EAAIsS,EAAKtS,IACrB+E,GAAUsM,EAAQtN,EAAM/D,GAAIqS,GAEhC,OAAOtN,EAtCoCwN,CAAeJ,EAAQjB,GAAeiB,EAC7EC,GAAQA,EAAKtO,OAAS,IACtBsO,GAAQ,KAGZ,IAAII,EAAY,EAAkB,GAAI,GAElCC,EAAiBtB,EAAQrN,OAAS,EAKtC,OAJA0O,EAAYd,EAAgBc,EAAW,EAAGrB,EAAQS,EAAa,EAAGa,KAI3DL,GAHPI,EAAYd,EAAgBc,EAAW,EAAGrB,EAAQS,EAAa,EAAGa,MAMtE,SAAoBxR,GAChB,IACIjB,EAAI,GACJ0S,EAAS,EAAkB,GAAI1S,GAC/B2S,EAAO1R,EACX,GACIyR,EAAShB,EAAgBgB,EAAQ1S,IAAKmR,EAAQwB,EALjC,KAMbA,EAAO3D,KAAK6C,MAAMc,GANL,UAORA,EAAO,GAChB,OC9UsB9N,ED8UI6N,EAAO9O,OC7U9BiB,EAAIhB,MAAM,IAAI+O,UAAU1O,KAAK,IADjC,IAAuBW,EDiULgO,CAyDT,YAAuC,KAAzB,IAAK7K,MAAQ8K,UAzDS1B,IA2GhDnG,EAAM8H,cArCN,SAAuB9R,EAAO2J,GAC1B,IAAK3J,GAAyB,GAAhBA,EAAM6C,OAChB,OAAO,IAAIkE,KACf,IAAIgL,EAAa/R,EAAMwH,QAAQ,iBAAkB,KAE7CwK,EADmBrI,EAAOnC,QAAQ,iBAAkB,KACrB5E,MAAM,KACrCqP,EAAYF,EAAWnP,MAAM,KAC7BsP,EAAaF,EAAY/E,QAAQ,MACjCkF,EAAWH,EAAY/E,QAAQ,MAC/BmF,EAAYJ,EAAY/E,QAAQ,QAChCoF,EAAYL,EAAY/E,QAAQ,MAChCqF,EAAeN,EAAY/E,QAAQ,MACnCsF,EAAeP,EAAY/E,QAAQ,MACnCuF,EAAQ,IAAIzL,KAChB,IACI,IAAIE,EAAOmL,GAAa,GAAKA,EAAYH,EAAUpP,OAASiO,EAAamB,EAAUG,IAAcI,EAAMC,cACnGvL,EAAQgL,GAAc,GAAKA,EAAaD,EAAUpP,OAASiO,EAAamB,EAAUC,IAAe,EAAIM,EAAME,WAAa,EAC5H,GAAIxL,EAAQ,GACR,KAAM,GACV,IAAIC,EAAMgL,GAAY,GAAKA,EAAWF,EAAUpP,OAASiO,EAAamB,EAAUE,IAAaK,EAAMG,UACnG,GAAIxL,EAzBZ,SAAwBD,EAAOD,GAC3B,OAAO,IAAIF,KAAKE,EAAMC,EAAQ,EAAG,GAAGyL,UAwBtBC,CAAe1L,EAAOD,GAC5B,KAAM,GACV,IAAII,EAAOgL,GAAa,GAAKA,EAAYJ,EAAUpP,OAASiO,EAAamB,EAAUI,IAAc,EACjG,GAAIhL,EAAO,GACP,KAAM,GACV,IAAIC,EAASgL,GAAgB,GAAKA,EAAeL,EAAUpP,OAASiO,EAAamB,EAAUK,IAAiB,EAC5G,GAAIhL,EAAS,GACT,KAAM,GACV,IAAIC,EAASgL,GAAgB,GAAKA,EAAeN,EAAUpP,OAASiO,EAAamB,EAAUM,IAAiB,EAC5G,GAAIhL,EAAS,GACT,KAAM,GACV,OAAO,IAAIR,KAAKE,EAAMC,EAAOC,EAAKE,EAAMC,EAAQC,GAEpD,MAAOsL,GACH,KAAM,8BAId,IAAIC,EAAiB,+DAoCrB9I,EAAMR,cA7BN,SAAuBuJ,EAAMpJ,GACzB,IAAI1C,EAAO8L,EAAKN,cACZvL,EAAQ6L,EAAKL,WAAa,EAC1BvL,EAAM4L,EAAKJ,UACXtL,EAAO0L,EAAKC,WACZ1L,EAASyL,EAAKE,aACd1L,EAASwL,EAAKG,aACdC,EAAS9L,EAAO,IAAM,GACtB+L,EAAO/L,EAAO,GACdgM,EAAU,CACVC,KAAMrM,EAAK+B,WACXuK,KAAM,EAAK1K,iBAAiB3B,GAC5BsM,IAAK,EAAK7K,kBAAkBzB,GAC5BuM,GAAKvM,EAAQ,GAAM,IAAMA,EAAQA,EAAM8B,WACvC0K,EAAGxM,EAAM8B,WACT2K,GAAKxM,EAAM,GAAM,IAAMA,EAAMA,EAAI6B,WACjC3J,EAAG8H,EAAI6B,WACP4K,GAAKvM,EAAO,GAAM,IAAMA,EAAOA,EAAK2B,WACpC6K,EAAGxM,EAAK2B,WACR8K,GAAKX,EAAS,GAAM,IAAMA,EAASA,EAAOnK,WAC1C+K,EAAGZ,EAAOnK,WACVgL,GAAIZ,EAAO,KAAO,KAClBa,GAAK3M,EAAS,GAAM,IAAMA,EAASA,EAAO0B,WAC1CkL,GAAK3M,EAAS,GAAM,IAAMA,EAASA,EAAOyB,YAE9C,OAAOW,EAAOnC,QAAQsL,GAAgB,SAAUqB,EAAOC,GACnD,OAAOA,GAAMf,EAAQc,OAa7BnK,EAAMF,YAJN,SAAqBC,EAAQhF,GAEzB,OADAA,EAAmBA,GAAoB,EAAKgB,oBAAoBhB,iBACzDgF,EAAOf,WAAWxB,QAAQ,IAAKzC,IA5d9C,CA+dG,IAAU,EAAQ,KEnerB,ICCQsP,EDDJC,EAAkC,WAClC,SAASA,EAAiBC,EAASC,GAC/B7S,KAAK4S,QAAUA,EACf5S,KAAK6S,QAAUA,EAiBnB,OAfAF,EAAiB3T,UAAU8T,WAAa,WACpC,OAAO9S,KAAK6S,SAEhBF,EAAiB3T,UAAU+T,WAAa,WACpC,OAAO/S,KAAK4S,SAEhBD,EAAiB3T,UAAUgU,KAAO,SAAUC,EAAaC,GACrD,OAAOlT,KAAK6S,QAAQG,KAAKC,EAAaC,IAE1CP,EAAiB3T,UAAUmU,MAAQ,SAAUD,GACzC,OAAOlT,KAAK6S,QAAQM,MAAMD,IAE9BP,EAAiB3T,UAAUoU,QAAU,SAAUC,GAC3C,OAAOrT,KAAK6S,QAAQO,QAAQC,IAEzBV,EApB0B,GCAjCW,GACIZ,EAAgB,SAAUhV,EAAG0I,GAI7B,OAHAsM,EAAgB5U,OAAOyV,gBAClB,CAAEC,UAAW,cAAgBvJ,OAAS,SAAUvM,EAAG0I,GAAK1I,EAAE8V,UAAYpN,IACvE,SAAU1I,EAAG0I,GAAK,IAAK,IAAIlH,KAAKkH,EAAOA,EAAEnH,eAAeC,KAAIxB,EAAEwB,GAAKkH,EAAElH,MACpDxB,EAAG0I,IAErB,SAAU1I,EAAG0I,GAEhB,SAASqN,IAAOzT,KAAK0T,YAAchW,EADnCgV,EAAchV,EAAG0I,GAEjB1I,EAAEsB,UAAkB,OAANoH,EAAatI,OAAOY,OAAO0H,IAAMqN,EAAGzU,UAAYoH,EAAEpH,UAAW,IAAIyU,KAGnFE,EAAsC,WAStC,OARAA,EAAW7V,OAAO0L,QAAU,SAASlL,GACjC,IAAK,IAAIa,EAAG/B,EAAI,EAAGyB,EAAI8H,UAAUzF,OAAQ9D,EAAIyB,EAAGzB,IAE5C,IAAK,IAAI8B,KADTC,EAAIwH,UAAUvJ,GACOU,OAAOkB,UAAUC,eAAe1B,KAAK4B,EAAGD,KACzDZ,EAAEY,GAAKC,EAAED,IAEjB,OAAOZ,IAEKsV,MAAM5T,KAAM2G,YAM5BkN,EAAmC,SAAUC,GAE7C,SAASD,EAAkBE,EAAQC,GAC/B,IAAIxS,EAAQsS,EAAOvW,KAAKyC,KAAMgU,IAAYhU,KAE1C,OADAwB,EAAMuS,OAASA,EACRvS,EAEX,OANA8R,EAAUO,EAAmBC,GAMtBD,EAP2B,CAQpCI,OAEE,EAA4B,WAC5B,SAASC,IACLlU,KAAKmU,eAAiB,GACtBnU,KAAKoU,mBAAgBjP,EAwEzB,OAtEA+O,EAAWlV,UAAUf,IAAM,SAAUiC,EAAKmU,GACtC,OAAOrU,KAAKsU,KAAKhV,EAAWiV,IAAKrU,EAAK,KAAMmU,IAEhDH,EAAWlV,UAAUwV,KAAO,SAAUtU,EAAKG,EAAMgU,GAC7C,OAAOrU,KAAKsU,KAAKhV,EAAWmV,KAAMvU,EAAKG,EAAMgU,IAEjDH,EAAWlV,UAAU0V,IAAM,SAAUxU,EAAKG,EAAMgU,GAC5C,OAAOrU,KAAKsU,KAAKhV,EAAWqV,IAAKzU,EAAKG,EAAMgU,IAEhDH,EAAWlV,UAAU4V,OAAS,SAAU1U,EAAKG,EAAMgU,GAC/C,OAAOrU,KAAKsU,KAAKhV,EAAWuV,OAAQ3U,EAAKG,EAAMgU,IAEnDH,EAAWlV,UAAUsV,KAAO,SAAUrU,EAAQC,EAAKG,EAAMgU,GAErD,IAAItM,GADJsM,EAAUA,GAAW,IACEtM,UAAY,OAC/B+M,EAAcT,EAAQS,aAA6B,cAAb/M,EACpC,mBACA,KACF1H,GAAoB,aAAZ0H,GAA2B/H,KAAKoU,gBACxC/T,EAAKA,KAAO,EAAM8D,WAAW9D,EAAKA,MAAQ,GAAIL,KAAKoU,gBAEvD,IAGItU,EAAM,IAHC,WAAY,IAAIiV,eACrBA,eACA/H,OAAuB,gBAEzBgI,EAAO,CACP/U,OAAQA,EACRC,IAAKA,EACLC,QAASwT,EAAS,GAAI3T,KAAKmU,eAAgBE,EAAQlU,SAAW,IAC9DC,YAAaiU,EAAQjU,aAAe,GACpCC,KAAMA,GAENyU,IACAE,EAAK7U,QAAQ,gBAAkB2U,GACnC,IAAIlC,EAAU,IAAI/S,EAAYC,EAAKkV,GAC/BhV,KAAKiV,oBACL1O,QAAQC,KAAK,6HACbxG,KAAKiV,kBAAkBrC,IAEvB5S,KAAKkV,WACLlV,KAAKkV,UAAUtC,GAEnB,IAAIuC,EAAcvC,EAAQvS,MAAgC,iBAAjBuS,EAAQvS,MAC9B,QAAZ0H,EACDqN,KAAKC,UAAUzC,EAAQvS,MACvBuS,EAAQvS,KAEd,OADAuS,EAAQrR,OACD,IAAIoR,EAAiBC,EAAS,IAAI0C,SAAQ,SAAUC,EAASC,GAChE1V,EAAI2V,mBAAqB,WACrB,GAAsB,GAAlB3V,EAAIY,WAAR,CAGA,IACIgV,EAAkE,IAD5C5V,EAAI6V,kBAAkB,iBAAmB,IAC5BrK,QAAQ,oBACzC8J,KAAKQ,MAAM9V,EAAI+V,cACf/V,EAAI+V,aACN9B,EAASjU,EAAIiU,OACjB,GAAIA,GAAU,KAAOA,EAAS,IAA9B,CACI,IAAIC,EAAU0B,EAAY1B,UACX,KAAVD,EACK,qBAAuB7T,EACvBwV,GACVF,EAAO,IAAI3B,EAAkBE,EAAQC,SAGzCuB,EAAQG,KAEZ5V,EAAIwU,KAAKa,QAGVjB,EA3EoB,GChC3B4B,EAA4B,WAE5B,SAASA,EAAWC,GAChB/V,KAAKrC,KAAO,GACZqC,KAAKgW,QAAU,GACfhW,KAAKiW,YAAc,GACnBjW,KAAK+V,OAASA,EACd/V,KAAKkW,WAAa,IAAIjM,MACtBjK,KAAKmW,YAAc,IAAIlM,MAyD3B,OAlDA6L,EAAW9W,UAAUoX,aAAe,SAAUC,EAAOC,GACjD,GAAIA,EAAK,CAOL,GANAtW,KAAKgL,GAAKsL,EAAItL,GACdhL,KAAKrC,KAAO2Y,EAAI3Y,KAChBqC,KAAKuW,cAAgBD,EAAIE,SACzBxW,KAAKgW,QAAUM,EAAI3Y,KACnBqC,KAAKiW,YAAcK,EAAItB,KACvBhV,KAAKmW,YAAc,IAAIlM,MACnBqM,EAAIG,KACJ,IAAK,IAAIrZ,EAAI,EAAGA,EAAIkZ,EAAIG,KAAKvV,OAAQ9D,IAAK,CACtC,IAAIsZ,EAAYL,EAAMM,aAAa3W,MACnC0W,EAAUN,aAAaC,EAAOC,EAAIG,KAAKrZ,IACvC4C,KAAKmW,YAAYpQ,KAAK2Q,GAI9B,GADA1W,KAAKkW,WAAa,IAAIjM,MAClBqM,EAAIM,MACJ,IAASxZ,EAAI,EAAGA,EAAIkZ,EAAIM,MAAM1V,OAAQ9D,IAAK,CACvC,IAAIyZ,EAAUR,EAAMS,iBAAiB9W,MACrC6W,EAAQT,aAAaC,EAAOC,EAAIM,MAAMxZ,IACtC4C,KAAKkW,WAAWnQ,KAAK8Q,MAKrCf,EAAW9W,UAAU+X,KAAO,SAAUC,EAAkBC,GACpD,IAAIC,EAAO,CAAEC,MAAM,GACfC,EAAwB,SAAUC,GAGlC,GAFIJ,GACAA,EAAcI,EAAQH,GACtBG,EAAOnB,WAEP,IADA,IAAIoB,EAAYD,EAAOnB,WAAWhV,OACzB9D,EAAI,EAAIA,EAAIka,IAAeJ,EAAKC,KAAM/Z,IAAK,CAChD,IAAIma,EAAOF,EAAOnB,WAAW9Y,GAI7B,GAHI4Z,GACAA,EAAiBO,EAAML,GAEvBA,EAAKC,KACL,OAGZ,GAAIE,EAAOlB,YACP,KAAIqB,EAAiBH,EAAOlB,YAAYjV,OACxC,IAAS9D,EAAI,EAAIA,EAAIoa,IAAoBN,EAAKC,KAAM/Z,IAChDga,EAAsBC,EAAOlB,YAAY/Y,MAIrDga,EAAsBpX,OAEnB8V,EAjEoB,GAoE3B,EAAgC,WAEhC,SAAS2B,EAAeJ,GACpBrX,KAAKgL,GAAK,GACVhL,KAAKgW,QAAU,2BACfhW,KAAK+H,SAAW3I,EAASsJ,OACzB1I,KAAK0X,KAAO,EACZ1X,KAAK2X,cAAe,EACpB3X,KAAK4X,cAAe,EACpB5X,KAAK6X,YAAa,EAClB7X,KAAK8X,YAAa,EAClB9X,KAAK+X,YAAa,EAClB/X,KAAKgY,cAAe,EACpBhY,KAAKiY,YAAa,EAClBjY,KAAKkY,cAAe,EACpBlY,KAAKmY,WAAa,GAClBnY,KAAKoY,KAAO,GACZpY,KAAKqX,OAASA,EACdrX,KAAKqY,KAAOhZ,EAAeiZ,KAkC/B,OA3BAb,EAAezY,UAAUoX,aAAe,SAAUC,EAAOC,GACjDA,IACAtW,KAAKgL,GAAKsL,EAAItL,GACdhL,KAAKiW,YAAcK,EAAItB,KACvBhV,KAAKgW,QAAUM,EAAIiC,KACnBvY,KAAK+H,SAAWuO,EAAI9I,MACpBxN,KAAK2X,aAAerB,EAAIkC,IACxBxY,KAAK4X,aAAetB,EAAImC,IACxBzY,KAAK0X,KAAOpB,EAAIoB,KAChB1X,KAAKmY,WAAa7B,EAAIoC,MACtB1Y,KAAK2Y,aAAerC,EAAIsC,KACxB5Y,KAAK6Y,SAAWvC,EAAIwC,MACpB9Y,KAAK+Y,eAAiBzC,EAAI0C,OAC1BhZ,KAAK6X,WAAa,EAAMvN,aAAagM,EAAI2C,IAAKjZ,KAAK6X,YACnD7X,KAAK+X,WAAa,EAAMzN,aAAagM,EAAI4C,IAAKlZ,KAAK+X,YACnD/X,KAAK8X,WAAa,EAAMxN,aAAagM,EAAI6C,MAAQ7C,EAAI8C,IAAKpZ,KAAK8X,YAC/D9X,KAAKgY,aAAe,EAAM1N,aAAagM,EAAI+C,IAAKrZ,KAAKgY,cACrDhY,KAAKiY,WAAa,EAAM3N,aAAagM,EAAIgD,IAAKtZ,KAAKiY,YACnDjY,KAAKkY,aAAe,EAAM5N,aAAagM,EAAIiD,IAAKvZ,KAAKkY,cACrDlY,KAAKqY,KAAO/B,EAAI+B,KACZ/B,EAAIkD,QACJxZ,KAAKyZ,SAAWnD,EAAIkD,OACpBlD,EAAIoD,OACJ1Z,KAAK2Z,cAAgBtD,EAAMuD,cAActD,EAAIoD,OAASrD,EAAMwD,uBAIjEpC,EApDwB,GCrE/B,EAA6B,WAE7B,SAASqC,IACL9Z,KAAKgL,GAAK,GACVhL,KAAK+Z,IAAMxa,EAAUC,QACrBQ,KAAKga,QAAU5a,EAASI,QACxBQ,KAAKia,SAAW,GAgDpB,OA1CAH,EAAY9a,UAAUoX,aAAe,SAAU/V,GACvCA,IACAL,KAAKgL,GAAK3K,EAAK2K,GACfhL,KAAK+Z,IAAM1Z,EAAK0Z,IAChB/Z,KAAKia,SAAW5Z,EAAK6Z,OACrBla,KAAKga,QAAU3Z,EAAK8Z,MAChB9Z,EAAK+Z,UACLpa,KAAKga,QAAU3Z,EAAK+Z,SAEpB/Z,EAAK1C,OACLqC,KAAKrC,KAAO0C,EAAK1C,MAEjB0C,EAAKkI,SACLvI,KAAKuI,OAASlI,EAAKkI,UAI/BuR,EAAY9a,UAAUqb,aAAe,SAAUhc,GAC3C,IAAI8D,EAAS,GACb,IAAKnC,KAAKuI,OACN,OAAOpG,EACX,GAAI8H,MAAMC,QAAQ7L,GACd,IAAK,IAAIwC,EAAK,EAAGqQ,EAAKlR,KAAKuI,OAAQ1H,EAAKqQ,EAAGhQ,OAAQL,IAAM,CACrD,IAAI0I,EAAO2H,EAAGrQ,GACVxC,EAAMiN,QAAQ/B,EAAKyB,KAAO,IAC1B7I,GAAUoH,EAAK+Q,KAAO,UAK9B,IAAK,IAAIC,EAAK,EAAGC,EAAKxa,KAAKuI,OAAQgS,EAAKC,EAAGtZ,OAAQqZ,IAAM,EACjDhR,EAAOiR,EAAGD,IACLvP,KAAO3M,IACZ8D,GAAUoH,EAAK+Q,KAAO,KAOlC,OAHInY,IACAA,EAASA,EAAOsY,UAAU,EAAGtY,EAAOjB,OAAS,IAE1CiB,GAEJ2X,EAtDqB,GCI5B,EAA0B,WAE1B,SAASY,IACL1a,KAAK2a,WAAa,KAClB3a,KAAKgL,GAAK,SACVhL,KAAKrC,KAAO,cACZqC,KAAK4a,WAAa5a,KAAK2W,eAib3B,OA3aA+D,EAAS1b,UAAU6b,cAAgB,WAC/B,OAAO7a,KAAK2a,YAEhBD,EAAS1b,UAAU2X,aAAe,SAAUZ,GACxC,OAAO,IAAID,EAAWC,IAE1B2E,EAAS1b,UAAU8X,iBAAmB,SAAUf,GAC5C,OAAO,IAAI,EAAeA,IAE9B2E,EAAS1b,UAAU6a,kBAAoB,WACnC,OAAO,IAAI,GAMfa,EAAS1b,UAAU8b,aAAe,SAAUC,GACxC,IAAI1E,EAAQjB,KAAKQ,MAAMmF,GACvB/a,KAAKoW,aAAaC,IAMtBqE,EAAS1b,UAAUoX,aAAe,SAAU/V,GAMxC,GALAL,KAAKgL,GAAK3K,EAAK2K,GACfhL,KAAKrC,KAAO0C,EAAK1C,KACjBqC,KAAKgb,QAAU3a,EAAK4a,KAEpBjb,KAAKkb,QAAU,IAAIjR,MACf5J,EAAK6a,QACL,IAAK,IAAI9d,EAAI,EAAGA,EAAIiD,EAAK6a,QAAQha,OAAQ9D,IAAK,CAC1C,IAAI+d,EAAYnb,KAAK6Z,oBACrBsB,EAAU/E,aAAa/V,EAAK6a,QAAQ9d,IACpC4C,KAAKkb,QAAQnV,KAAKoV,GAI1Bnb,KAAK4a,WAAWxE,aAAapW,KAAMK,EAAK+a,UAM5CV,EAAS1b,UAAUqc,QAAU,SAAUhF,GACd,iBAAVA,EACPrW,KAAK8a,aAAazE,GAGlBrW,KAAKoW,aAAaC,IAO1BqE,EAAS1b,UAAUsc,QAAU,WACzB,OAA8C,IAAvCtb,KAAK4a,WAAWzE,YAAYjV,QAAsD,IAAtClB,KAAK4a,WAAW1E,WAAWhV,QAMlFwZ,EAAS1b,UAAUuc,MAAQ,WACvB,OAAOvb,KAAKgL,IAMhB0P,EAAS1b,UAAUwc,QAAU,WACzB,OAAOxb,KAAKrC,MAMhB+c,EAAS1b,UAAUyc,cAAgB,WAC/B,OAAOzb,KAAK4a,YAOhBF,EAAS1b,UAAU4a,cAAgB,SAAU8B,GACzC,IAAK,IAAI7a,EAAK,EAAGqQ,EAAKlR,KAAKkb,QAASra,EAAKqQ,EAAGhQ,OAAQL,IAAM,CACtD,IAAI8a,EAASzK,EAAGrQ,GAChB,GAAI8a,EAAO3Q,KAAO0Q,EACd,OAAOC,EAGf,OAAO,MAQXjB,EAAS1b,UAAU4c,iBAAmB,SAAUC,GAC5C,IAAItE,EAAOvX,KAAK8b,kBAAkB9b,KAAKyb,gBAAiBI,GACxD,OAAKtE,GACM,MAUfmD,EAAS1b,UAAU+c,kBAAoB,SAAUF,EAAQ1N,GACrD,IAAI6N,EAAYhc,KAAK4b,iBAAiBC,GACtC,GAAIG,EAAW,CACX,QAAmC,IAAxBA,EAAU7N,GACjB,KAAM,qBAAuBA,EAEjC,QAAI6N,EAAU7N,MAGL6N,EAAU7D,aACf0D,EAASG,EAAU7D,YACnB6D,EAAYhc,KAAK4b,iBAAiBC,KACdG,EAAU7N,IAOlC,OAAO,GASfuM,EAAS1b,UAAU8c,kBAAoB,SAAUzE,EAAQwE,GACrD,IAAI3Q,EASA+Q,EARJ,GAAI5E,EAAOnB,WAAY,CACnB,IAAIoB,EAAYD,EAAOnB,WAAWhV,OAClC,IAAKgK,EAAM,EAAGA,EAAMoM,EAAWpM,IAC3B,GAAImM,EAAOnB,WAAWhL,GAAKF,IAAM6Q,EAC7B,OAAOxE,EAAOnB,WAAWhL,GAKrC,GAAImM,EAAOlB,YAAa,CACpB,IAAIqB,EAAiBH,EAAOlB,YAAYjV,OACxC,IAAKgK,EAAM,EAAGA,EAAMsM,EAAgBtM,IAEhC,GADA+Q,EAAMjc,KAAK8b,kBAAkBzE,EAAOlB,YAAYjL,GAAM2Q,GAElD,OAAOI,EAGnB,OAAO,MAEXvB,EAAS1b,UAAUkd,uBAAyB,SAAU7E,EAAQ8E,GAC1D,IACInG,EADA7T,EAAS,IAAI8H,MAEbmS,EAAM,KACV,GAAI/E,EAAOlB,YAEP,IADA,IAAIqB,EAAiBH,EAAOlB,YAAYjV,OAC/Bmb,EAAS,EAAGA,EAAS7E,EAAgB6E,IAAU,CAEpD,GADAD,EAAM/E,EAAOlB,YAAYkG,IACpBF,GAAcA,EAAWC,EAAK,OAC/BpG,EAAU,EAAKvP,QAAQ,WAAY2V,EAAIze,SAEnCqY,EAAUoG,EAAIpG,UAEdsG,EAAS,EAAM9S,OAAOxJ,KAAK2W,eAAgB,CAAE3L,GAAIoR,EAAIze,KAAM2c,KAAMtE,EAASuG,MAAO,GAAIC,UAAU,KAC5FD,MAAQvc,KAAKkc,uBAAuBE,EAAKD,GAC5CG,EAAOC,MAAMrb,OAAS,GACtBiB,EAAO4D,KAAKuW,GAI5B,IAAI/E,EAAO,KACX,GAAIF,EAAOnB,WAEP,IADA,IAAIoB,EAAYD,EAAOnB,WAAWhV,OACzBub,EAAU,EAAGA,EAAUnF,EAAWmF,IAEvC,GADAlF,EAAOF,EAAOnB,WAAWuG,IACpBN,GAAcA,EAAW9E,EAAQE,GAAO,EACzCvB,EAAU,EAAKvP,QAAQ,aAAc8Q,EAAKvM,OAEtCgL,EAAUuB,EAAKvB,SACnB,IAAIsG,EAAS,EAAM9S,OAAOxJ,KAAK2W,eAAgB,CAAE3L,GAAIuM,EAAKvM,GAAIsP,KAAMtE,EAASjO,SAAUwP,EAAKxP,WAC5F5F,EAAO4D,KAAKuW,GAIxB,OAAOna,GAEXuY,EAAS1b,UAAU0d,aAAe,SAAUrF,EAAQH,EAAMiF,GACtDjF,EAAOA,GAAQ,GACf,IAEIlB,EAFA2G,EAAiB,GACjBC,EAAmB,GAEnBR,EAAM,KACV,GAAI/E,EAAOlB,YAEP,IADA,IAAIqB,EAAiBH,EAAOlB,YAAYjV,OAC/Bmb,EAAS,EAAGA,EAAS7E,EAAgB6E,IAE1C,GADAD,EAAM/E,EAAOlB,YAAYkG,IACpBF,GAAcA,EAAWC,EAAK,MAAO,CACtCpG,EAAU,EAAKvP,QAAQ,WAAY2V,EAAIze,OAASye,EAAIpG,QACpD,IAAIsG,EAAS,EAAM9S,OAAOxJ,KAAK2W,eAAgB,CAC3C3L,GAAIoR,EAAIze,KACR2c,KAAMtE,EACNuG,MAAO,GACPC,UAAU,EACVvG,YAAamG,EAAInG,cAEjB4G,EAAU,EAAMrT,OAAO,GAAI0N,GAC/B2F,EAAQC,iBAAkB,EAC1BR,EAAOC,MAAQvc,KAAK0c,aAAaN,EAAKS,EAASV,GAC3CG,EAAOC,MAAMrb,OAAS,GACtByb,EAAe5W,KAAKuW,GAKpC,IAAI/E,EAAO,KACX,GAAIF,EAAOnB,WAEP,IADA,IAAIoB,EAAYD,EAAOnB,WAAWhV,OACzBub,EAAU,EAAGA,EAAUnF,EAAWmF,IACvClF,EAAOF,EAAOnB,WAAWuG,GACpBN,IAAcA,EAAW9E,EAAQE,KAClCvB,EAAU,EAAKvP,QAAQ,aAAc8Q,EAAKvM,KAAOuM,EAAKvB,QACtD4G,EAAiB7W,KAAK,EAAMyD,OAAOxJ,KAAK8W,iBAAiBO,GAAS,CAC9DrM,GAAIuM,EAAKvM,GAAIsP,KAAMtE,EACnBjO,SAAUwP,EAAKxP,SAAUoQ,WAAYZ,EAAKY,WAC1ClC,YAAasB,EAAKtB,gBAKlC,IAaI9T,EAbA4a,EAAY,SAAU5W,EAAGC,GACzB,OAAID,EAAEmU,KAAKlM,eAAiBhI,EAAEkU,KAAKlM,cACxB,EAEPjI,EAAEmU,KAAKlM,cAAgBhI,EAAEkU,KAAKlM,cACvB,GAEH,GAgBZ,OAdI8I,EAAK8F,eACLL,EAAezW,KAAK6W,GACpBH,EAAiB1W,KAAK6W,IAOtB5a,EAJC+U,EAAK+F,eAAuC,GAAtB/F,EAAK+F,cAInBL,EAAiBM,OAAOP,GAHxBA,EAAeO,OAAON,GAKT,GAAtB1F,EAAK+F,eACL9a,EAAO+D,KAAK6W,GAEZ7F,EAAK4F,kBACL9G,EAAU,EAAKvP,QAAQ,WAAY4Q,EAAO1Z,SAEtCqY,EAAUqB,EAAOrB,SACd,CAAEhL,GAAIqM,EAAO1Z,KAAM2c,KAAMtE,EAASuG,MAAOpa,IAGzCA,GAMfuY,EAAS1b,UAAUme,MAAQ,WACvBnd,KAAK4a,WAAa5a,KAAK2W,eACvB3W,KAAKkb,QAAU,GACflb,KAAKgb,QAAU,IAKnBN,EAAS1b,UAAUoe,uBAAyB,WAEnCpd,KAAKqd,uBAAuB,OAAQ9d,EAAUE,KAAML,EAASsJ,QAC/DuR,SAAW,GACdja,KAAKqd,uBAAuB,QAAS9d,EAAUG,SAAUN,EAASM,UAClEM,KAAKqd,uBAAuB,QAAS9d,EAAUG,SAAUN,EAASM,WAStEgb,EAAS1b,UAAUqe,uBAAyB,SAAUrS,EAAI+O,EAAKC,GAC3D,IAAIsD,EAAK,EAAMxS,aAAa9K,KAAKkb,QAASlQ,GAQ1C,OAPKsS,KACDA,EAAKtd,KAAK6Z,qBACP7O,GAAKA,EACRhL,KAAKkb,QAAQnV,KAAKuX,IAEtBA,EAAGvD,IAAMA,EACTuD,EAAGtD,QAAUA,EACNsD,GASX5C,EAAS1b,UAAUue,gBAAkB,SAAUrG,EAAMiF,GACjD,OAAOnc,KAAK0c,aAAa1c,KAAKyb,gBAAiBvE,EAAMiF,IAQzDzB,EAAS1b,UAAUwe,0BAA4B,SAAUrB,GACrD,OAAOnc,KAAKkc,uBAAuBlc,KAAKyb,gBAAiBU,IAQ7DzB,EAAS1b,UAAUye,wBAA0B,SAAU5B,EAAQ6B,GAE3D,OADAA,EAAMA,GAAO,IACN1d,KAAK2d,oBAAoB3d,KAAKyb,gBAAiBI,EAAQ6B,GAAK,IAUvEhD,EAAS1b,UAAU2e,oBAAsB,SAAUtG,EAAQwE,EAAQ6B,EAAKE,GACpE,IAAKvG,EACD,MAAO,GACXqG,EAAMA,GAAO,IACb,IAAIG,EAAgB,GACpB,GAAIxG,EAAOrB,UAAY4H,EAAM,CACzB,IAAIE,EAAa,EAAKrX,QAAQ,WAAY4Q,EAAOrB,SACjD6H,EAAgBC,GAA0BzG,EAAOrB,QAErD,GAAIqB,EAAOnB,WAEP,IADA,IAAIoB,EAAYD,EAAOnB,WAAWhV,OACzB9D,EAAI,EAAGA,EAAIka,EAAWla,IAC3B,GAAIia,EAAOnB,WAAW9Y,GAAG4N,IAAM6Q,EAC3B,OAAOgC,EAInB,GAAIxG,EAAOlB,YACP,KAAIqB,EAAiBH,EAAOlB,YAAYjV,OACxC,IAAS9D,EAAI,EAAGA,EAAIoa,EAAgBpa,IAAK,CACrC,IAAIgf,EAAM/E,EAAOlB,YAAY/Y,GACzB6e,EAAMjc,KAAK2d,oBAAoBvB,EAAKP,EAAQ6B,GAAK,GACrD,GAAY,KAARzB,EAGA,MAFsB,KAAlB4B,IACA5B,EAAM4B,EAAgBH,EAAMzB,GACzBA,GAInB,MAAO,IAQXvB,EAAS1b,UAAU+e,iBAAmB,SAAUxG,EAAMvP,GAClD,IAAIgW,EAAW,EAAKvX,QAAQ,aAAc8Q,EAAKvM,IAI/C,GAHKgT,IACDA,EAAWzG,EAAKvB,UAEfhO,EACD,OAAOgW,EAEX,IACIC,EAAaje,KAAKyd,wBAAwBlG,EAAKvM,GAAI,KAQvD,OAPIiT,EACSjW,EAAOnC,QAAQ,IAAIqY,OAAO,SAAU,KAAMF,GACnCnY,QAAQ,IAAIqY,OAAO,WAAY,KAAMD,GAG5CD,GAEChd,QASlB0Z,EAAS1b,UAAUmf,mBAAqB,SAAUnH,EAAkBC,GAChEjX,KAAKyb,gBAAgB1E,KAAKC,EAAkBC,IAMhDyD,EAAS1b,UAAUof,0BAA4B,SAAUjC,GACrD,IAAIF,EAAM,KAOV,OANAjc,KAAKme,oBAAmB,SAAU5G,EAAML,GAChCiF,EAAW5E,KACXL,EAAKC,MAAO,EACZ8E,EAAM1E,KAEX,MACI0E,GAEJvB,EAvbkB,GCPzB,EACA,SAAoB1F,GAChB,IAAKA,EACD,MAAMf,MAAM,wBAChB,IAAKe,EAAKhK,GACN,MAAMiJ,MAAM,wBAChB,IAAKe,EAAKqJ,MACN,MAAMpK,MAAM,qBAChBjU,KAAKgL,GAAKgK,EAAKhK,GACfhL,KAAKse,KAAO,EAAMhU,aAAa0K,EAAKsJ,KAAMlf,EAASsJ,QACnD1I,KAAKqe,MAAQrJ,EAAKqJ,MAClBre,KAAKue,OAASvJ,EAAKuJ,SAAU,GAKjC,EAAgC,WAChC,SAASC,IACLxe,KAAKuc,MAAQ,GACbvc,KAAKgE,OAAS,GACdhE,KAAKye,eAAiB,GAqE1B,OAnEA3gB,OAAOC,eAAeygB,EAAexf,UAAW,QAAS,CACrDf,IAAK,WACD,OAAO+B,KAAKuc,MAAMrb,QAEtBlD,YAAY,EACZ0gB,cAAc,IAElBF,EAAexf,UAAU2f,IAAM,SAAUC,GACrC,IAAIC,EAEAA,EADAD,aAAqB,EACfA,EAGA,IAAI,EAAWA,GAEzB,IAAI/S,EAAQ7L,KAAKuc,MAAMrb,OAMvB,OALAlB,KAAKuc,MAAMxW,KAAK8Y,GAChB7e,KAAKgE,OAAO6a,EAAI7T,IAAMa,EAClB,CAACzM,EAASgG,KAAMhG,EAASM,SAAUN,EAAS8I,MAAMoD,QAAQuT,EAAIP,OAAS,GACvEte,KAAKye,eAAe1Y,KAAK8F,GAEtBA,GAEX2S,EAAexf,UAAU8f,oBAAsB,WAC3C9e,KAAKye,eAAiBze,KAAK+e,WACtBC,QAAO,SAAUH,GAAO,MAAO,CAACzf,EAASgG,KAAMhG,EAASM,SAAUN,EAAS8I,MAAMoD,QAAQuT,EAAIP,OAAS,KACtG1c,KAAI,SAAUid,EAAKhT,GAAS,OAAOA,MAE5C2S,EAAexf,UAAU0V,IAAM,SAAU7I,EAAOgT;;AAE5C7e,KAAKuc,MAAM1Q,GAASgT,EACpB7e,KAAK8e,uBAETN,EAAexf,UAAUigB,KAAO,SAAUJ,EAAKK,GAC3C,IAAIC,EAAWnf,KAAKuc,MAAMjR,QAAQuT,GAC9BM,GAAY,GAAKA,GAAYD,IAC7B,EAAM1T,cAAcxL,KAAKuc,MAAO4C,EAAUD,GAC1Clf,KAAK8e,wBAGbN,EAAexf,UAAUf,IAAM,SAAU4N;;AAErC,OAAO7L,KAAKuc,MAAM1Q,IAEtB2S,EAAexf,UAAUogB,SAAW,SAAUpU,GAC1C,OAAOhL,KAAKgE,OAAOgH,IAEvBwT,EAAexf,UAAU+f,SAAW,WAChC,OAAO/e,KAAKuc,OAEhBiC,EAAexf,UAAUqgB,qBAAuB,WAC5C,OAAOrf,KAAKye,gBAEhBD,EAAexf,UAAUsgB,SAAW,SAAUzT,GAC1C,IAAIgT,EAAM7e,KAAK/B,IAAI4N,GACnB7L,KAAKuc,MAAM5Q,OAAOE,EAAO,GACzB,IAAI0T,EAAavf,KAAKye,eAAenT,QAAQO,GACzC0T,GAAc,GACdvf,KAAKye,eAAe9S,OAAO4T,EAAY,UAEpCvf,KAAKgE,OAAO6a,EAAI7T,KAE3BwT,EAAexf,UAAUme,MAAQ,WAC7Bnd,KAAKuc,MAAQ,GACbvc,KAAKye,eAAiB,GACtBze,KAAKgE,OAAS,IAEXwa,EAzEwB,GClB/BgB,EAAyB,WACzB,SAASA,EAAQC,EAASlX,GACtBvI,KAAKyf,QAAUA,EACfzf,KAAKuI,OAASA,EAsClB,OApCAiX,EAAQxgB,UAAU0gB,QAAU,WACxB,OAAOzV,MAAM0V,KAAK3f,KAAKuI,SAE3BiX,EAAQxgB,UAAU0Y,KAAO,WACrB,OAAO1X,KAAKuI,OAAOrH,QAEvBse,EAAQxgB,UAAU4gB,SAAW,SAAUC,GACnC,IAAIhU,EACJ,GAA4B,iBAAjBgU,GAEP,QAAc1a,KADd0G,EAAQ7L,KAAKyf,QAAQL,SAASS,IAE1B,MAAM,IAAIC,WAAW,sBAAwBD,EAAe,UAIhEhU,EAAQgU,EAEZ,GAAIhU,GAAS7L,KAAKuI,OAAOrH,OACrB,MAAM,IAAI4e,WAAW,iBAAmBjU,GAC5C,OAAO7L,KAAKuI,OAAOsD,IAEvB2T,EAAQxgB,UAAU+gB,SAAW,SAAUF,EAAcxhB,GACjD,IAAIwN,EACJ,GAA4B,iBAAjBgU,GAEP,QAAc1a,KADd0G,EAAQ7L,KAAKyf,QAAQL,SAASS,IAE1B,MAAM,IAAIC,WAAW,sBAAwBD,EAAe,UAIhEhU,EAAQgU,EAEZ,GAAIhU,GAAS7L,KAAKuI,OAAOrH,OACrB,MAAM,IAAI4e,WAAW,iBAAmBjU,GAC5C7L,KAAKuI,OAAOsD,GAASxN,GAElBmhB,EAzCiB,GCExB,EAA+B,WAC/B,SAASQ,EAAc3L,GAWnB,GAVArU,KAAKigB,WAAa,IAElBjgB,KAAKkgB,SAAW,GAChBlgB,KAAKmgB,MAAQ,EACbngB,KAAKogB,OAAS,KACdpgB,KAAKqgB,WAAY,EACjBhM,EAAUA,GAAW,GACrBrU,KAAKigB,WAAa5L,EAAQiM,WAAatgB,KAAKigB,WAC5CjgB,KAAKogB,OAAS/L,EAAQ+L,OACtBpgB,KAAKugB,SAAW,IAAI,EAChBlM,EAAQoL,QACR,IAAK,IAAI5e,EAAK,EAAGqQ,EAAKmD,EAAQoL,QAAS5e,EAAKqQ,EAAGhQ,OAAQL,IAAM,CACzD,IAAI2f,EAAUtP,EAAGrQ,GACjBb,KAAKugB,SAAS5B,IAAI6B,GAG1B,GAAInM,EAAQoM,KACR,IAAK,IAAIlG,EAAK,EAAGC,EAAKnG,EAAQoM,KAAMlG,EAAKC,EAAGtZ,OAAQqZ,IAAM,CACtD,IAAImG,EAAUlG,EAAGD,GACboG,EAAM3gB,KAAK4gB,UAAUF,GACzB1gB,KAAK6gB,OAAOF,IA2LxB,OAvLA7iB,OAAOC,eAAeiiB,EAAchhB,UAAW,UAAW,CACtDf,IAAK,WACD,OAAO+B,KAAKugB,UAEhBviB,YAAY,EACZ0gB,cAAc,IAElB5gB,OAAOC,eAAeiiB,EAAchhB,UAAW,YAAa,CACxDf,IAAK,WACD,OAAO+B,KAAKigB,YAEhB9V,IAAK,SAAU9L,GACX2B,KAAKigB,WAAa5hB,EAClB2B,KAAKmgB,MAAQ,EACbngB,KAAKqgB,WAAY,EACjBrgB,KAAKkgB,SAAW,IAEpBliB,YAAY,EACZ0gB,cAAc,IAElBsB,EAAchhB,UAAU8hB,QAAU,SAAUC,GACxC,IAAIvf,EAAQxB,KACRghB,EAAY,EAAGC,EAAQjhB,KAAKigB,WAWhC,GAVIc,IACI,SAAUA,GACVC,EAAYD,EAAOG,UAAYH,EAAOI,KAAO,GAC7CF,EAAQF,EAAOG,WAGfF,EAAYD,EAAOK,OACnBH,EAAQF,EAAOM,QAGnBL,GAAahhB,KAAKmgB,MAClB,OAAO7K,QAAQC,QAAQ,IAE3B,IAAI+L,EAAWN,EAAYC,EACvBK,GAAYthB,KAAKmgB,QACjBmB,EAAWthB,KAAKmgB,OAKpB,IAHA,IAAIoB,EAAUnV,KAAKoV,MAAMR,EAAYhhB,KAAKigB,YACtCwB,EAAUrV,KAAKoV,MAAMF,EAAWthB,KAAKigB,YACrCyB,GAAkB,EACbtkB,EAAImkB,EAASnkB,GAAKqkB,EAASrkB,IAChC,IAAK4C,KAAKkgB,SAAS9iB,GAAI,CACnBskB,GAAkB,EAClB,MAGR,GAAIA,EAAiB,CACjB,IAAIC,EAAY,GAChB,IAASvkB,EAAImkB,EAASnkB,GAAKqkB,EAASrkB,IAChCukB,EAAYA,EAAUzE,OAAOld,KAAKkgB,SAAS9iB,GAAGqjB,MAElD,OAAOnL,QAAQC,QAAQoM,EAAUC,MAAMZ,EAAYhhB,KAAKkgB,SAASqB,GAASH,OAAQE,EAAWthB,KAAKkgB,SAASqB,GAASH,SAGxH,IAAKphB,KAAKogB,OACN,KAAM,kDAAoDY,EAAY,OAASM,EAGnF,IAAIjB,EAAYrgB,KAAKqgB,UAIrB,OAHIrgB,KAAKqgB,YACLrgB,KAAKqgB,WAAY,GAEdrgB,KAAKogB,OAAOyB,UAAU,CACzBT,OAAQG,EAAUvhB,KAAKigB,WACvBoB,MAAOrhB,KAAKigB,YAAcwB,EAAUF,EAAU,GAC9ClB,UAAWA,IAEVrN,MAAK,SAAU7Q,GAChB,IAAI2f,EAAS3f,EAAO4f,MAAMC,kBACtB3B,IACA7e,EAAM2e,MAAQhe,EAAOge,OAGzB,IADA,IAAItU,EAAQ0V,EACH1gB,EAAK,EAAGohB,EAAWH,EAAQjhB,EAAKohB,EAAS/gB,OAAQL,IAAM,CAC5D,IAAIqhB,EAAQD,EAASphB,GACrBW,EAAM0e,SAASrU,GAAS,CACpBuV,OAAQvV,EAAQrK,EAAMye,WACtBQ,KAAMyB,EAAMzB,MAEhB5U,IAGJ,IADA,IAAI8V,EAAY,GACPvkB,EAAImkB,EAASnkB,GAAKqkB,EAASrkB,IAChCukB,EAAYA,EAAUzE,OAAO1b,EAAM0e,SAAS9iB,GAAGqjB,MAEnD,OAAOkB,EAAUC,MAAMZ,EAAYxf,EAAM0e,SAASqB,GAASH,OAAQE,EAAW9f,EAAM0e,SAASqB,GAASH,YAG9GpB,EAAchhB,UAAUmjB,OAAS,SAAUtW,GACvC,OAAO7L,KAAK8gB,QAAQ,CAAEM,OAAQvV,EAAOwV,MAAO,IACvCrO,MAAK,SAAUyN,GAAQ,OAAOA,EAAKvf,OAAS,EAAIuf,EAAK,GAAK,SAEnET,EAAchhB,UAAUojB,SAAW,WAC/B,OAAOpiB,KAAKmgB,OAEhBH,EAAchhB,UAAUqjB,SAAW,SAAUlC,GACzCngB,KAAKmgB,MAAQA,EACbngB,KAAKqgB,WAAY,EACjBrgB,KAAKkgB,SAAW,IAEpBF,EAAchhB,UAAUsjB,eAAiB,WACrC,OAAOtiB,KAAKuiB,gBAAgBrhB,QAEhC8e,EAAchhB,UAAUme,MAAQ,WAC5Bnd,KAAKyf,QAAQtC,QACbnd,KAAKkgB,SAAW,GAChBlgB,KAAKmgB,MAAQ,EACbngB,KAAKqgB,WAAY,GAErBL,EAAchhB,UAAU4hB,UAAY,SAAU4B,GAC1C,IAAIhhB,EAAQxB,KACRyiB,EAAUziB,KAAKugB,SAASlB,uBACxB9W,EAAS,IAAI0B,MAAMjK,KAAKugB,SAASU,OACjCrB,EAAW4C,aAAqBhD,EAC9B,SAAUkD,GAAS,OAAOF,EAAU5C,SAAS8C,IAC7C,SAAUA,GAAS,OAAOF,EAAUE,IAU1C,OATIF,GACAxiB,KAAKyf,QAAQV,WAAW4D,SAAQ,SAAUC,GACtC,IAAIvkB,EAAQuhB,EAASgD,EAAO5X,IACxBa,EAAQrK,EAAMie,QAAQL,SAASwD,EAAO5X,IAC1CzC,EAAOsD,GAAU4W,EAAQnX,QAAQO,IAAU,EACrC,IAAIzG,KAAK/G,GACTA,KAGP,IAAImhB,EAAQxf,KAAKugB,SAAUhY,IAEtCyX,EAAchhB,UAAU6hB,OAAS,SAAUgC,GACvC,IAAIC,EACJ,GAAI7Y,MAAMC,QAAQ2Y,GAAa,CAC3B,IAAIJ,EAAUziB,KAAKugB,SAASlB,uBAC5B,GAAIoD,EAAQvhB,OAAS,EACjB,IAAK,IAAIL,EAAK,EAAGkiB,EAAYN,EAAS5hB,EAAKkiB,EAAU7hB,OAAQL,IAAM,CAC/D,IAAIqK,EAAM6X,EAAUliB,GACpBgiB,EAAW3X,GAAO,IAAI9F,KAAKyd,EAAW3X,IAG9C4X,EAAS,IAAItD,EAAQxf,KAAKugB,SAAUsC,QAGpCC,EAAS9iB,KAAK4gB,UAAUiC,GAE5B,IAAIG,EAAYhjB,KAAKijB,iBAChBD,GAAaA,EAAUvC,KAAKvf,QAAUlB,KAAKigB,cAC5C+C,EAAYhjB,KAAKkjB,eAErBF,EAAUvC,KAAK1a,KAAK+c,GACpB,IAAIK,EAAcnjB,KAAKsiB,iBAIvB,OAHIa,EAAcnjB,KAAKmgB,QACnBngB,KAAKmgB,MAAQgD,GAEVL,GAEX9C,EAAchhB,UAAUkkB,YAAc,SAAUrX,QACxB,IAATA,IACPA,EAAQ7L,KAAKojB,oBAAsB,GAEvC,IAAIlB,EAAQ,CAAEd,OAAQvV,EAAQ7L,KAAKigB,WAAYQ,KAAM,IAErD,OADAzgB,KAAKkgB,SAASrU,GAASqW,EAChBA,GAEXlC,EAAchhB,UAAUokB,kBAAoB,WACxC,IAAI1hB,EAAO5D,OAAO4D,KAAK1B,KAAKkgB,UAC5B,OAAOxe,EAAKR,OAAS,EACfmO,SAAS3N,EAAKA,EAAKR,OAAS,KAC3B,GAEX8e,EAAchhB,UAAUikB,aAAe,WACnC,IAAIpX,EAAQ7L,KAAKojB,oBACjB,OAAOvX,GAAS,EACV7L,KAAKkgB,SAASrU,GACd,MAEVmU,EAAchhB,UAAUujB,cAAgB,WACpC,OAAOviB,KAAKgiB,kBACPqB,QAAO,SAAUC,EAAKC,GAAK,OAAOD,EAAIpG,OAAOqG,EAAE9C,QAAU,KAElET,EAAchhB,UAAUgjB,gBAAkB,WACtC,OAAOlkB,OAAOyK,OAAOvI,KAAKkgB,WAEvBF,EAjNuB,GCC9BwD,EAA0B,WAC1B,SAASA,KAYT,OANAA,EAASC,QAAU,WACf,MAAO,uCAAuC5d,QAAQ,SAAS,SAAUpI,GACrE,IAAIS,EAAoB,GAAhBkO,KAAK8C,SAAgB,EAC7B,OADyC,KAALzR,EAAWS,EAAS,EAAJA,EAAU,GACrDmJ,SAAS,QAGnBmc,EAbkB,GCCzB,EAA8B,WAK9B,SAASE,EAAaha,GAClB1J,KAAK2jB,WAAa,EAClB3jB,KAAK4jB,OAAS,IAAI3Z,MAClBjK,KAAK0J,OAASA,EA6GlB,OArGAga,EAAa1kB,UAAU6kB,UAAY,SAAUC,EAAWC,GACpD,IAAIC,EAAQhkB,KAAKikB,kBAAkBH,GAC/BI,EAAgB,CAChBlZ,GAAIwY,EAASC,UACbM,SAAUA,GAYd,OAVIC,EACAA,EAAMG,eAAepe,KAAKme,IAG1BF,EAAQ,CACJ1F,KAAMwF,EACNK,eAAgB,IAAIla,MAAMia,IAE9BlkB,KAAK4jB,OAAO7d,KAAKie,IAEdE,EAAclZ,IAOzB0Y,EAAa1kB,UAAUolB,YAAc,SAAUN,EAAWO,GACtD,IAAIL,EAAQhkB,KAAKikB,kBAAkBH,GACnC,GAAIE,EAAO,CACP,IAAInY,GAAS,EACb,IAAKA,EAAQ,EAAGA,EAAQmY,EAAMG,eAAejjB,QACrC8iB,EAAMG,eAAetY,GAAOb,KAAOqZ,EADUxY,KAKjDA,GAAS,GACTmY,EAAMG,eAAexY,OAAOE,EAAO,KAW/C6X,EAAa1kB,UAAUslB,KAAO,SAAUR,EAAWzjB,EAAMkkB,EAAUC,GAG/D,QAFiB,IAAbD,IAAuBA,EAAW,QACxB,IAAVC,IAAoBA,GAAQ,IAC5BxkB,KAAK2jB,YAAea,EAAxB,CAGA,IAAIC,EAAWzkB,KAAKikB,kBAAkBH,GACtC,GAAIW,EAAU,CACV,IAAIC,EAAY,CACZpG,KAAMwF,EACNpa,OAAQ1J,KAAK0J,OACbrJ,KAAMA,GAENskB,EAAc,WACd,IAAK,IAAI9jB,EAAK,EAAGqQ,EAAKuT,EAASN,eAAgBtjB,EAAKqQ,EAAGhQ,OAAQL,IAAM,CAClDqQ,EAAGrQ,GACTkjB,SAASW,KAGtBH,EAAW,EACXK,WAAWD,EAAaJ,GAGxBI,OAOZjB,EAAa1kB,UAAU6lB,gBAAkB,WACrC7kB,KAAK2jB,cAKTD,EAAa1kB,UAAU8lB,eAAiB,WAChC9kB,KAAK2jB,YACL3jB,KAAK2jB,cAObD,EAAa1kB,UAAU+lB,SAAW,WAC9B,OAAO/kB,KAAK2jB,WAAa,GAE7BD,EAAa1kB,UAAUilB,kBAAoB,SAAUH,GACjD,IAAK,IAAIjjB,EAAK,EAAGqQ,EAAKlR,KAAK4jB,OAAQ/iB,EAAKqQ,EAAGhQ,OAAQL,IAAM,CACrD,IAAImkB,EAAU9T,EAAGrQ,GACjB,GAAImkB,EAAQ1G,MAAQwF,EAChB,OAAOkB,EAGf,OAAO,MAEJtB,EArHsB,GCHjC,EAAK9b,eCDL,wZAwB6B,mBAAlB9J,OAAOyK,SACdzK,OAAOyK,OAAS,SAAU2F,GACtB,OAAOpQ,OAAO4D,KAAKwM,GAAKtM,KAAI,SAAUjD,GAAO,OAAOuP,EAAIvP,QAGtC,mBAAfyN,KAAKoV,QACZpV,KAAKoV,MAAQ,SAAUyD,GACnB,OAAItX,MAAMsX,GACCC,IAEPD,EAAI,EACG7Y,KAAK6C,MAAMgW,GAEf7Y,KAAK+Y,KAAKF,M,6CClBlB,SAASG,EAAWrP,EAAQgE,EAAK1F,GACpC,IAAIgR,EAAUxY,SAASyY,cAAcvL,GACjC7C,EAAO7C,GAAW,GAKtB,OAJI6C,EAAKqO,WACLF,EAAQG,UAAYtO,EAAKqO,UAE7BxP,EAAO0P,YAAYJ,GACZA,EAOJ,SAASK,EAAYL,EAASG,GACjCH,EAAQG,UAAaH,EAAiB,UAChCA,EAAQG,UAAY,IAAMA,EAC1BA,EAMH,SAASG,EAAYN,GACxBA,EAAQO,MAAMC,QAAU,OAOrB,SAASC,EAAYT,EAASQ,GAC5BA,IACDA,EAAU,IAEdR,EAAQO,MAAMC,QAAUA,EAWrB,SAASE,EAAiBC,EAAOpgB,EAAQyO,GACvCA,IACDA,EAAU,IAETA,EAAQwR,UACTxR,EAAQwR,QAAU,IAEjBxR,EAAQ4R,WACT5R,EAAQ4R,SAAW,KAGvBN,EAAYK,GACZF,EAAYlgB,EAAQyO,EAAQwR,SACxBxR,EAAQ6R,UACR7R,EAAQ6R,WAQT,SAASC,EAAUd,GACtB,MAAgC,QAAzBA,EAAQO,MAAMC,SACS,GAAvBR,EAAQe,aACgB,GAAxBf,EAAQgB,aAEZ,SAASC,EAAmBC,GAC/B,IAAIvC,EAQJ,MAPuB,mBAAZ,MACPA,EAAQ,IAAIwC,MAAMD,IAGlBvC,EAAQnX,SAAS4Z,YAAY,UACvBC,UAAUH,GAAW,GAAM,GAE9BvC,EAEJ,SAAS2C,IAGZ,MAAO,CACHha,MAHQP,KAAKC,IAAIQ,SAASK,gBAAgBC,aAAe,EAAGH,OAAOC,YAAc,GAIjF2Z,OAHSxa,KAAKC,IAAIQ,SAASK,gBAAgB2Z,cAAgB,EAAG7Z,OAAO8Z,aAAe,IAgBrF,SAASC,IACZ,IAAIna,EAAOC,SAASD,KAChBoa,EAAUna,SAASK,gBACvB,MAAO,CACH+Z,IAAKja,OAAOka,aAAeF,EAAQG,WAAava,EAAKua,UACrDC,KAAMpa,OAAOqa,aAAeL,EAAQM,YAAc1a,EAAK0a,YAGxD,SAASC,EAAsBlC,GAClC,IAAIpJ,EAAM,CAAEgJ,EAAG,EAAGuC,EAAG,GACrB,GAAgB,OAAZnC,EAAkB,CAClB,IAAIoC,EAKZ,SAAgBpC,GACZ,IACIqC,EACJ,IACIA,EAAMrC,EAAQsC,wBAElB,MAAOzW,GACHwW,EAN4B,CAAET,IAAK,EAAGW,MAAO,EAAGC,OAAQ,EAAGT,KAAM,EAAGza,MAAO,EAAGia,OAAQ,GAQ1F,IAAIha,EAAOC,SAASD,KAChBoa,EAAUna,SAASK,gBACnB4a,EAAWf,IACXI,EAAYW,EAASb,IACrBK,EAAaQ,EAASV,KACtBW,EAAYf,EAAQe,WAAanb,EAAKmb,WAAa,EACnDC,EAAahB,EAAQgB,YAAcpb,EAAKob,YAAc,EACtDf,EAAMS,EAAIT,IAAME,EAAYY,EAC5BX,EAAOM,EAAIN,KAAOE,EAAaU,EACnC,MAAO,CAAEf,IAAK7a,KAAK6b,MAAMhB,GAAMG,KAAMhb,KAAK6b,MAAMb,IAvB7B,CAAO/B,GACtBpJ,EAAM,CAAEgJ,EAAGwC,EAASL,KAAMI,EAAGC,EAASR,KAE1C,OAAOhL,EAsBJ,SAASiM,IACZ,MAAO,CACHvb,MAAOK,OAAOC,WACd2Z,OAAQ5Z,OAAO8Z,aAGhB,SAASqB,EAAU1e,EAAQwc,EAAUlC,GACxCta,EAAOmc,MAAMwC,eAAe,WAC5B,IAAIvC,EAAU7Y,OAAOqb,iBAAiB5e,GAAQoc,QAC9B,SAAZA,IACAA,EAAU,SACdpc,EAAOmc,MAAMC,QAAUA,EACvB,IAAIe,EAASnd,EAAO4c,aACpB5c,EAAOmc,MAAM0C,SAAW,SACxB7e,EAAOmc,MAAMgB,OAAS,MACtBnd,EAAOmc,MAAM2C,WAAa,MAC1B9e,EAAOmc,MAAM4C,cAAgB,MAC7B/e,EAAOmc,MAAM6C,UAAY,MACzBhf,EAAOmc,MAAM8C,aAAe,MAC5Bjf,EAAO4c,aACP5c,EAAOmc,MAAM+C,UAAY,aACzBlf,EAAOmc,MAAMgD,mBAAqB,0BAClCnf,EAAOmc,MAAMiD,mBAAqB5C,EAAW,KAC7Cxc,EAAOmc,MAAMgB,OAASA,EAAS,KAC/Bnd,EAAOmc,MAAMwC,eAAe,eAC5B3e,EAAOmc,MAAMwC,eAAe,kBAC5B3e,EAAOmc,MAAMwC,eAAe,cAC5B3e,EAAOmc,MAAMwC,eAAe,iBAC5Bpb,OAAO4X,YAAW,WACdnb,EAAOmc,MAAMwC,eAAe,UAC5B3e,EAAOmc,MAAMwC,eAAe,YAC5B3e,EAAOmc,MAAMwC,eAAe,uBAC5B3e,EAAOmc,MAAMwC,eAAe,uBAC5B3e,EAAOmc,MAAMwC,eAAe,cACxBrE,GACAA,MAELkC,GAEA,SAAS6C,EAAQrf,EAAQwc,EAAUlC,GACtCta,EAAOmc,MAAMgD,mBAAqB,0BAClCnf,EAAOmc,MAAMiD,mBAAqB5C,EAAW,KAC7Cxc,EAAOmc,MAAM+C,UAAY,aACzBlf,EAAOmc,MAAMgB,OAASnd,EAAO4c,aAAe,KAC5C5c,EAAO4c,aACP5c,EAAOmc,MAAM0C,SAAW,SACxB7e,EAAOmc,MAAMgB,OAAS,MACtBnd,EAAOmc,MAAM2C,WAAa,MAC1B9e,EAAOmc,MAAM4C,cAAgB,MAC7B/e,EAAOmc,MAAM6C,UAAY,MACzBhf,EAAOmc,MAAM8C,aAAe,MAC5B1b,OAAO4X,YAAW,WACdnb,EAAOmc,MAAMC,QAAU,OACvBpc,EAAOmc,MAAMwC,eAAe,UAC5B3e,EAAOmc,MAAMwC,eAAe,eAC5B3e,EAAOmc,MAAMwC,eAAe,kBAC5B3e,EAAOmc,MAAMwC,eAAe,cAC5B3e,EAAOmc,MAAMwC,eAAe,iBAC5B3e,EAAOmc,MAAMwC,eAAe,YAC5B3e,EAAOmc,MAAMwC,eAAe,uBAC5B3e,EAAOmc,MAAMwC,eAAe,uBAC5B3e,EAAOmc,MAAMwC,eAAe,cACxBrE,GACAA,MAELkC,GC9NP,IACQvT,EADJY,GACIZ,EAAgB,SAAUhV,EAAG0I,GAI7B,OAHAsM,EAAgB5U,OAAOyV,gBAClB,CAAEC,UAAW,cAAgBvJ,OAAS,SAAUvM,EAAG0I,GAAK1I,EAAE8V,UAAYpN,IACvE,SAAU1I,EAAG0I,GAAK,IAAK,IAAIlH,KAAKkH,EAAOA,EAAEnH,eAAeC,KAAIxB,EAAEwB,GAAKkH,EAAElH,MACpDxB,EAAG0I,IAErB,SAAU1I,EAAG0I,GAEhB,SAASqN,IAAOzT,KAAK0T,YAAchW,EADnCgV,EAAchV,EAAG0I,GAEjB1I,EAAEsB,UAAkB,OAANoH,EAAatI,OAAOY,OAAO0H,IAAMqN,EAAGzU,UAAYoH,EAAEpH,UAAW,IAAIyU,KAInFsV,EAAmC,WACnC,SAASA,EAAkBhP,EAAKhE,GAExB/V,KAAKqlB,QADU,iBAARtL,EACQlN,SAASyY,cAAcvL,GAGvBA,EAEfhE,GAAU/V,KAAKqlB,QAAQ2D,gBAAkBjT,GACzCA,EAAO0P,YAAYzlB,KAAKqlB,SAsIhC,OAnIA0D,EAAkB/pB,UAAUiqB,SAAW,SAAUlP,EAAKmP,GAClD,IAAIC,EAAUC,EAAMrP,EAAK/Z,KAAKqlB,SAI9B,OAHI6D,GACAA,EAAaC,GAEVnpB,MAEX+oB,EAAkB/pB,UAAUqqB,gBAAkB,SAAUhE,GAIpD,OAHIA,GACArlB,KAAKqlB,QAAQI,YAAYJ,GAEtBrlB,MAEX+oB,EAAkB/pB,UAAUuY,KAAO,SAAUsE,EAAQyN,GAEjD,OADAtpB,KAAKqlB,QAAQkE,aAAa1N,EAAQyN,GAC3BtpB,MAEX+oB,EAAkB/pB,UAAUgM,GAAK,SAAU3M,GACvC,OAAO2B,KAAKuX,KAAK,KAAMlZ,IAE3B0qB,EAAkB/pB,UAAUwqB,MAAQ,SAAUnrB,GAC1C,OAAO2B,KAAKuX,KAAK,QAASlZ,IAE9B0qB,EAAkB/pB,UAAUqB,KAAO,SAAUopB,EAAQC,GAEjD,YADkB,IAAdA,IAAwBA,EAAY,MACtB,OAAdA,GACA1pB,KAAKqlB,QAAQsE,gBAAgB,QAAUF,GAChCzpB,MAGAA,KAAKuX,KAAK,QAAUkS,EAAQC,IAG3CX,EAAkB/pB,UAAU4qB,KAAO,WAC/B,OAAO5pB,KAAK6pB,YAAY,YAE5Bd,EAAkB/pB,UAAU8qB,KAAO,SAAUC,GAEzC,YADe,IAAXA,IAAqBA,GAAS,GAC3B,EAAW/pB,KAAKgqB,SAAS,UAAW,QAAUhqB,MAEzD+oB,EAAkB/pB,UAAUirB,QAAU,SAAU9D,GAE5C,YADkB,IAAdA,IAAwBA,GAAY,GACjCA,EAAYnmB,KAAKgqB,SAAS,aAAc,WAAahqB,KAAKgqB,SAAS,aAAc,WAE5FjB,EAAkB/pB,UAAUmnB,UAAY,WACpC,SAAUnmB,KAAKqlB,QAAQe,aAAepmB,KAAKqlB,QAAQgB,cAAgBrmB,KAAKqlB,QAAQ6E,iBAAiBhpB,SAErG6nB,EAAkB/pB,UAAUmrB,SAAW,SAAU3E,GAE7C,IADA,IAAI4E,EAAa,GACRvpB,EAAK,EAAGA,EAAK8F,UAAUzF,OAAQL,IACpCupB,EAAWvpB,EAAK,GAAK8F,UAAU9F,GAEnC,GAAI2kB,EAEA,IADA,IAAI6E,EAAW7E,EAAUxkB,OAAOC,MAAM,KAAKic,OAAOkN,GACzChtB,EAAI,EAAGA,EAAIitB,EAASnpB,OAAQ9D,IACjC4C,KAAKqlB,QAAQiF,UAAU3L,IAAI0L,EAASjtB,IAE5C,OAAO4C,MAEX+oB,EAAkB/pB,UAAUurB,YAAc,SAAU/E,GAEhD,IADA,IAAI4E,EAAa,GACRvpB,EAAK,EAAGA,EAAK8F,UAAUzF,OAAQL,IACpCupB,EAAWvpB,EAAK,GAAK8F,UAAU9F,GAEnC,GAAI2kB,EAEA,IADA,IAAI6E,EAAW7E,EAAUxkB,OAAOC,MAAM,KAAKic,OAAOkN,GACzChtB,EAAI,EAAGA,EAAIitB,EAASnpB,OAAQ9D,IACjC4C,KAAKqlB,QAAQiF,UAAUE,OAAOH,EAASjtB,IAE/C,OAAO4C,MAEX+oB,EAAkB/pB,UAAUyrB,YAAc,SAAUjF,EAAWhB,GAK3D,YAJc,IAAVA,IAAoBA,OAAQrf,GAC5BqgB,GACAxlB,KAAKqlB,QAAQiF,UAAUI,OAAOlF,EAAWhB,GAEtCxkB,MAEX+oB,EAAkB/pB,UAAU2rB,GAAK,SAAU7G,EAAW8G,GAElD,IADA,IAAIC,EAAa/G,EAAU7iB,MAAM,KACxB7D,EAAI,EAAGA,EAAIytB,EAAW3pB,OAAQ9D,IACnC4C,KAAKqlB,QAAQyF,iBAAiBD,EAAWztB,GAAIwtB,GAEjD,OAAO5qB,MAEX+oB,EAAkB/pB,UAAU+rB,IAAM,SAAUjH,EAAW8G,GAEnD,IADA,IAAIC,EAAa/G,EAAU7iB,MAAM,KACxB7D,EAAI,EAAGA,EAAIytB,EAAW3pB,OAAQ9D,IACnC4C,KAAKqlB,QAAQ2F,oBAAoBH,EAAWztB,GAAIwtB,GAEpD,OAAO5qB,MAEX+oB,EAAkB/pB,UAAUgrB,SAAW,SAAUiB,EAASC,GAEtD,OADAlrB,KAAKqlB,QAAQO,MAAMuF,YAAYF,EAASC,GACjClrB,MAEX+oB,EAAkB/pB,UAAU6qB,YAAc,SAAUoB,GAEhD,OADAjrB,KAAKqlB,QAAQO,MAAMwC,eAAe6C,GAC3BjrB,MAEX+oB,EAAkB/pB,UAAUsb,KAAO,SAAUA,GAEzC,OADAta,KAAKqlB,QAAQ+F,UAAY9Q,EAClBta,MAEX+oB,EAAkB/pB,UAAUqsB,KAAO,SAAUA,GAEzC,OADArrB,KAAKqlB,QAAQiG,UAAYD,EAClBrrB,MAEX+oB,EAAkB/pB,UAAUme,MAAQ,WAChC,IAAIoO,EAAUvrB,KAAKqlB,QACnBrlB,KAAKqlB,QAAUxY,SAASyY,cAActlB,KAAKqlB,QAAQmG,SACnDD,EAAQE,YAAYzrB,KAAKqlB,UAE7B0D,EAAkB/pB,UAAU0sB,QAAU,SAAUpR,GAC5C,IAAIqR,EAAS9e,SAAS+e,eAAetR,GAErC,OADAta,KAAKqlB,QAAQI,YAAYkG,GAClB3rB,MAEX+oB,EAAkB/pB,UAAU6sB,QAAU,SAAUR,GAE5C,OADArrB,KAAKqlB,QAAQiG,WAAaD,EACnBrrB,MAEX+oB,EAAkB/pB,UAAU8sB,MAAQ,WAChC,OAAO9rB,KAAKqlB,SAEhB0D,EAAkB/pB,UAAU+sB,SAAW,SAAUhW,GAI7C,OAHIA,GACAA,EAAO0P,YAAYzlB,KAAKqlB,SAErBrlB,MAEJ+oB,EA/I2B,GAkJlC,EAAwC,SAAUjV,GAElD,SAASkY,EAAuB3G,EAAStP,GAQrC,OANIsP,EACQvR,EAAOvW,KAAKyC,KAAMqlB,EAAStP,IAAW/V,KAGtC8T,EAAOvW,KAAKyC,KAAM,QAAS+V,IAAW/V,KAgCtD,OAvCAsT,EAAU0Y,EAAwBlY,GAWlCkY,EAAuBhtB,UAAUrB,KAAO,SAAUU,GAE9C,OADA2B,KAAKqlB,QAAQ1nB,KAAOU,EACb2B,MAEXgsB,EAAuBhtB,UAAUsf,KAAO,SAAUjgB,GAE9C,OADA2B,KAAKqlB,QAAQ/G,KAAOjgB,EACb2B,MAEXgsB,EAAuBhtB,UAAU0Y,KAAO,SAAUrZ,GAE9C,OADA2B,KAAKqlB,QAAQ3N,KAAOrZ,EACb2B,MAEXgsB,EAAuBhtB,UAAUX,MAAQ,SAAUA,GAU/C,OATIA,aAAiB+G,KACjBpF,KAAKqlB,QAAQ4G,YAAc5tB,EAEL,iBAAVA,EACZ2B,KAAKqlB,QAAQ6G,cAAgB7tB,EAG7B2B,KAAKqlB,QAAQhnB,MAAQA,EAElB2B,MAEXgsB,EAAuBhtB,UAAUmtB,KAAO,SAAUC,GAE9C,OCtMD,SAAcC,EAAOD,GACxB,IAAI1uB,EAAI,CAAE4uB,EAAG,QAASnmB,EAAG,SACrBgmB,EAAOC,EAAYnrB,MAAM,IAuEzBsrB,EAAe,SAAUC,GACzB,GAAe,UAAXA,EAAElO,MAAoC,KAAhB+N,EAAMhuB,MAAhC,CAEA,IAAIouB,EAAO,GACPC,EAAiBL,EAAMM,eAC3BR,EAAKxJ,SAAQ,SAAUiK,EAAI/gB,GACvB,GAAInO,EAAEkvB,GAAK,CACP,IAAItuB,EAAI,IAAI4f,OAAOxgB,EAAEkvB,GAAK,KAAKxd,KAAKid,EAAMhuB,MAAMwuB,OAAOhhB,IACvD4gB,EAAK1mB,KAAKzH,EAAI+tB,EAAMhuB,MAAMwuB,OAAOhhB,GAAS,UAG1C4gB,EAAK1mB,KAAK6mB,MAGlBP,EAAMhuB,MAAQouB,EAAKnrB,KAAK,IACxB+qB,EAAMM,eAAiBN,EAAMS,aAAeJ,IAEhDL,EAAMvB,iBAAiB,WAvFF,SAAU0B,GAE3B,GAAkB,IAAdA,EAAEO,SAA+B,KAAdP,EAAEO,QAAgB,CACrCP,EAAEQ,iBACF,IAAIP,EAAO,GACPC,EAAiBL,EAAMM,eAC3B,GAAsB,GAAlBD,EACA,OAGJ,IAFA,IAAIO,EAAYP,EACZQ,GAAa,EACRrhB,EAAQsgB,EAAKjrB,OAAS,EAAG2K,GAAS,EAAGA,IAAS,CACnD,IAAI+gB,EAAKT,EAAKtgB,GACd,GAAInO,EAAEkvB,GAAK,CACP,IAAItuB,EAAI,IAAI4f,OAAOxgB,EAAEkvB,GAAK,KAAKxd,KAAKid,EAAMhuB,MAAMwuB,OAAOhhB,IACnDvN,GAAKuN,GAAS6gB,EAAiB,IAC/BQ,GAAa,GAEbrhB,IAAU6gB,EAAiB,GAC3BO,IACJR,EAAK1mB,KAAKzH,GAAKuN,GAAS6gB,EAAiB,EACnCL,EAAMhuB,MAAMwuB,OAAOhhB,GACnB,UAGFA,IAAUohB,EAAY,GACtBA,IACAP,EAAiB,IAAM7gB,GACvB6gB,IACJD,EAAK1mB,KAAK6mB,GAGlBP,EAAMhuB,MAAS6uB,EAAuC,GAA1BT,EAAKzc,UAAU1O,KAAK,IAChD+qB,EAAMM,eAAiBN,EAAMS,aAAeG,EAAY,EAAI,EAAIA,EAChE,IAAIjI,EAAUnY,SAAS4Z,YAAY,SACnCzB,EAAQ0B,UAAU,SAAS,GAAM,GACjC2F,EAAMc,cAAcnI,OAqD5BqH,EAAMvB,iBAAiB,YAlDD,SAAU0B,GAC5B,IAAIY,EAAO1kB,OAAO2kB,aAAab,EAAEc,UACjC,GAAIF,EAAM,CACNZ,EAAEQ,iBACF,IAAIO,EAAS,GACTC,EAAmBnB,EAAMM,eACzBc,EAAcD,EAClBrB,EAAKxJ,SAAQ,SAAUiK,EAAI/gB,GACvB,GAAInO,EAAEkvB,GAAK,CACP,IAAI/d,EAAMhD,GAAS2hB,EACbnB,EAAMhuB,MAAMwuB,OAAOhhB,GACnBuhB,EACF9uB,EAAI,IAAI4f,OAAOxgB,EAAEkvB,GAAK,KAAKxd,KAAKP,GACpC0e,EAAOxnB,KAAKzH,EAAIuQ,EAAK,KACjBvQ,GAAKkvB,IAAqB3hB,GAC1B4hB,SAGJF,EAAOxnB,KAAK6mB,GACRa,IAAgB5hB,GAChB4hB,IACAD,IAAqB3hB,GACrB2hB,OAGZnB,EAAMhuB,MAAQkvB,EAAOjsB,KAAK,IAC1B+qB,EAAMM,eAAiBN,EAAMS,aAAeW,EAC5C,IAAIC,EAAU7gB,SAAS4Z,YAAY,SACnCiH,EAAQhH,UAAU,SAAS,GAAM,GACjC2F,EAAMc,cAAcO,OAsB5BrB,EAAMvB,iBAAiB,QAASyB,GAChCF,EAAMvB,iBAAiB,QAASyB,GDwG5BJ,CAAKnsB,KAAKqlB,QAAS+G,GACZpsB,MAEJgsB,EAxCgC,CAyCzCjD,GAEE4E,EAAyC,SAAU7Z,GAEnD,SAAS6Z,EAAwBtI,EAAStP,GAQtC,OANIsP,EACQvR,EAAOvW,KAAKyC,KAAMqlB,EAAStP,IAAW/V,KAGtC8T,EAAOvW,KAAKyC,KAAM,SAAU+V,IAAW/V,KAkBvD,OAzBAsT,EAAUqa,EAAyB7Z,GAWnC6Z,EAAwB3uB,UAAU4uB,UAAY,SAAUvvB,GACpD,IAAIwvB,EAAShhB,SAASyY,cAAc,UAWpC,MAVqB,iBAAVjnB,GACPwvB,EAAOxvB,MAAQA,EACfwvB,EAAOvC,UAAYjtB,IAGnBwvB,EAAOxvB,MAAQA,EAAMA,MACrBwvB,EAAOvC,UAAYjtB,EAAMmrB,OAASnrB,EAAMA,MACxCwvB,EAAOC,SAAWzvB,EAAMyvB,WAAY,GAExC9tB,KAAKqlB,QAAQI,YAAYoI,GAClB7tB,MAEJ2tB,EA1BiC,CA2B1C5E,GAEK,SAASK,EAAMrP,EAAKhE,GACvB,MAAY,QAARgE,GAAiBA,aAAegU,eACzB,IAAIhF,EAAkBhP,EAAKhE,GAE1B,SAARgE,GAAkBA,aAAeiU,gBAC1B,IAAIjF,EAAkBhP,EAAKhE,GAErB,MAARgE,GAAeA,aAAekU,kBAC5B,IAAIlF,EAAkBhP,EAAKhE,GAErB,WAARgE,GAAoBA,aAAemU,kBACjC,IAAInF,EAAkBhP,EAAKhE,GAErB,QAARgE,GAAiBA,aAAeoU,iBAC9B,IAAIpF,EAAkBhP,EAAKhE,GAErB,UAARgE,GAAmBA,aAAeqU,iBAChC,IAAI,EAAuBrU,aAAeqU,iBAAmBrU,EAAM,KAAMhE,GAEnE,WAARgE,GAAoBA,aAAesU,kBACjC,IAAIV,EAAwB5T,aAAesU,kBAAoBtU,EAAM,KAAMhE,GAE/E,IAAIgT,EAAkBhP,EAAKhE,GE3PtC,IACWuY,EADPC,EAA4C,oBAAfC,YAEjC,SAAWF,GACPA,EAAiB,KAAI,OACrBA,EAAkB,MAAI,QACtBA,EAAmB,OAAI,SAH3B,CAIGA,IAAeA,EAAa,KAC/B,ICLWG,EDKPC,EACA,SAAqBnlB,EAAMolB,EAAWC,GAClC5uB,KAAK6uB,WAAaP,EAAWQ,MAC7B9uB,KAAK+uB,MAAQ,EACb/uB,KAAKgvB,MAAQ,EACbhvB,KAAKuJ,KAAOA,EACZvJ,KAAK2uB,UAAYA,EACjB3uB,KAAKK,KAAOkJ,EAAKlJ,KACjBL,KAAK4uB,YAAcA,EACfA,GAAeA,aAAuBK,aACtCjvB,KAAK+uB,MAAQH,EAAYG,MACrB/uB,KAAKgvB,MAAQJ,EAAYI,OAE7BJ,GAAeL,GAAuBK,aAAuBJ,YAC1DI,EAAYM,QAAQ,KACvBlvB,KAAK+uB,MAAQH,EAAYM,QAAQ,GAAGH,MAChC/uB,KAAKgvB,MAAQJ,EAAYM,QAAQ,GAAGF,QAMhDG,EACA,SAAkBC,GACVA,GAAMA,aAAcH,aACpBjvB,KAAKilB,EAAImK,EAAGL,MACR/uB,KAAKwnB,EAAI4H,EAAGJ,OAEhBI,GAAMb,GAAuBa,aAAcZ,YAAcY,EAAGF,QAAQ,KACpElvB,KAAKilB,EAAImK,EAAGF,QAAQ,GAAGH,MACnB/uB,KAAKwnB,EAAI4H,EAAGF,QAAQ,GAAGF,QAoU5BK,EAAgB,IA/TM,WAC7B,SAASC,IACLtvB,KAAKuvB,MAAQ,EACbvvB,KAAKwvB,cAAgB,KACrBxvB,KAAK2uB,UAAY,KACjB3uB,KAAKyvB,sBAAuB,EAC5BzvB,KAAK0vB,kBAAoB,KACzB1vB,KAAK2vB,qBAAuB,GAC5B3vB,KAAK4vB,0BAA4B,EACjC5vB,KAAK6uB,WAAaP,EAAWuB,KAC7B7vB,KAAK8vB,YAAc,YACnB9vB,KAAK+vB,mBAAqB,gBAgT9B,OA9SAT,EAAYtwB,UAAUgxB,sBAAwB,SAAUjwB,GACpD,IAAIyB,EAAQxB,KACRqlB,EAAUtlB,EAAWslB,QACzB,IAAKA,EACD,MAAMpR,MAAM,gDAEhBoR,EAAQ4K,YAAc,WAClB,OAAO,GAEX,IAAIC,EAAiB,SAAUd,GAC3B,IAAI/J,EAAQ8K,aAAa3uB,EAAMuuB,oBAA/B,CAGAX,EAAGpC,iBACCoC,aAAcH,YACdG,EAAGgB,kBAEP,IAAIC,EAAiB,IAAIlB,EAASC,IAC9BhjB,KAAKkkB,IAAID,EAAepL,EAAIzjB,EAAMkuB,kBAAkBzK,GAAKzjB,EAAM+tB,OAC5DnjB,KAAKkkB,IAAID,EAAe7I,EAAIhmB,EAAMkuB,kBAAkBlI,GAAKhmB,EAAM+tB,QAClEgB,EAAcnB,KAGlBoB,EAAyB,SAAUpB,GACnC5tB,EAAMivB,sBAAsBrB,IAE5BmB,EAAgB,SAAUnB,GAC1BA,EAAGpC,iBACHoC,EAAGgB,kBACH/K,EAAQ2F,oBAAoB,YAAakF,GACzC7K,EAAQ2F,oBAAoB,YAAakF,GACzC1uB,EAAMiuB,sBAAuB,EACzB1vB,EAAW2wB,iBACX3wB,EAAW2wB,kBACflvB,EAAMmtB,UAAYvF,EAAM,OACnBY,SAAS,WAAY,YACrBA,SAAS,UAAW,SACpB8B,QACLjf,SAASD,KAAK6Y,YAAYjkB,EAAMmtB,WAChCntB,EAAMmtB,UAAUlJ,YAAYJ,EAAQsL,WAAU,IAC1C5wB,EAAW6wB,UACX7wB,EAAW6wB,SAASpvB,EAAMmtB,WAE9BntB,EAAMqtB,WAAaP,EAAWuB,KAC9BruB,EAAMqvB,aAAarvB,EAAMqtB,YACzBrtB,EAAMsvB,iBAAiBtvB,EAAMqtB,YAC7BrtB,EAAMguB,cAAgB,CAClBnK,QAASA,EACT0L,MAAOhxB,EAAWgxB,MAClB1wB,KAAMN,EAAWM,MAErBmB,EAAMwvB,uBAAuB5B,GAC7B,IAAIpL,EAAQ,IAAI0K,EAAYltB,EAAMguB,cAAehuB,EAAMmtB,UAAWS,GAClEpL,EAAM6K,WAAartB,EAAMqtB,WACrB9uB,EAAWkxB,aACXlxB,EAAWkxB,YAAYjN,GAEvBxiB,EAAMqtB,aAAe7K,EAAM6K,aAC3BrtB,EAAMqtB,WAAa7K,EAAM6K,WACzBrtB,EAAMsvB,iBAAiBtvB,EAAMqtB,aAEjChiB,SAASie,iBAAiB,YAAa0F,GAAwB,GAC/D3jB,SAASie,iBAAiB,YAAa0F,GAAwB,IAE/DU,EAAoB,SAAU9B,GAC1Bb,GAAuBa,aAAcZ,YACrCY,EAAGpC,iBAEPxrB,EAAMkuB,kBAAoB,IAAIP,EAASC,GACvC/J,EAAQyF,iBAAiB,YAAaoF,GACtC7K,EAAQyF,iBAAiB,YAAaoF,GACtCrjB,SAASie,iBAAiB,UAAWqG,GACrCtkB,SAASie,iBAAiB,WAAYqG,IAE1C9L,EAAQyF,iBAAiB,YAAaoG,GACtC7L,EAAQyF,iBAAiB,aAAcoG,GACvC,IAAIC,EAAkB,SAAU/B,GAC5B5tB,EAAMkuB,kBAAoB,KAC1BrK,EAAQ2F,oBAAoB,YAAakF,GACzC7K,EAAQ2F,oBAAoB,YAAakF,GACzCrjB,SAASme,oBAAoB,YAAawF,GAAwB,GAClE3jB,SAASme,oBAAoB,YAAawF,GAAwB,GAC9DhvB,EAAMguB,eACN4B,EAAYhC,IAGhBgC,EAAc,SAAUhC,GACxB,IACI,GAAI5tB,EAAMouB,0BAA4B,EAAG,CACrC,IAAIyB,EAAe7vB,EAAMmuB,qBAAqBnuB,EAAMouB,0BAChD0B,EAAY,CACZjM,QAASgM,EAAahM,QACtBkM,OAAQF,EAAaE,OACrBlxB,KAAMgxB,EAAahxB,MAEnB2kB,EAAU,IAAI0J,EAAYltB,EAAMguB,cAAehuB,EAAMmtB,UAAWS,GACpE,IACQkC,EAAUC,OAAOjmB,QAAQ9J,EAAMguB,cAAcuB,QAAU,GACpDvvB,EAAMqtB,aAAeP,EAAWQ,QACnCttB,EAAMiuB,sBAAuB,EACzB4B,EAAaG,QACbH,EAAaG,OAAOF,EAAWtM,IAI3C,QACQqM,EAAaI,aACbJ,EAAaI,YAAYH,EAAWtM,KAKpD,QACI,IACI,IAAI0I,EAAU,IAAIgB,EAAYltB,EAAMguB,cAAehuB,EAAMmtB,UAAWS,GACpE1B,EAAQrtB,KAAKovB,qBAAuBjuB,EAAMiuB,qBACtC1vB,EAAW2xB,WACX3xB,EAAW2xB,UAAUhE,GAG7B,QACIlsB,EAAMguB,cAAgB,KAClBhuB,EAAMmtB,WAAantB,EAAMmtB,UAAU3F,eACnCxnB,EAAMmtB,UAAU3F,cAAc2I,YAAYnwB,EAAMmtB,WAEpDntB,EAAMmtB,UAAY,KAClBntB,EAAMiuB,sBAAuB,EAC7B5iB,SAASme,oBAAoB,UAAWmG,GACxCtkB,SAASme,oBAAoB,WAAYmG,OAKzD7B,EAAYtwB,UAAU4yB,sBAAwB,SAAU7xB,GAEpD,IADcA,EAAWslB,QAErB,MAAMpR,MAAM,kDAEhBjU,KAAK2vB,qBAAqB5pB,KAAKhG,IAEnCuvB,EAAYtwB,UAAU6yB,oBAAsB,SAAUC,GAClD,IAAIC,EAAQ/xB,KAAK2vB,qBACZ3Q,QAAO,SAAUhK,GAAQ,OAAOA,IAAS8c,GACvC9c,EAAKqQ,SAAWyM,KACvB,GAAIC,EACA,IAAK,IAAIlxB,EAAK,EAAGmxB,EAAUD,EAAOlxB,EAAKmxB,EAAQ9wB,OAAQL,IAAM,CACzD,IAAImU,EAAOgd,EAAQnxB,GACnB,IAAM+K,gBAAgB5L,KAAK2vB,qBAAsB3a,KAI7Dsa,EAAYtwB,UAAUyxB,sBAAwB,SAAUrB,GAMpD,GALIA,aAAcH,YACdG,EAAGpC,iBAEPoC,EAAGgB,kBACHpwB,KAAKgxB,uBAAuB5B,IACU,GAAlCpvB,KAAK4vB,yBAAgC,CACrC,IAAK,IAAIxyB,EAAI,EAAGA,EAAI4C,KAAK2vB,qBAAqBzuB,OAAQ9D,IAAK,CACvD,IAAI2C,EAAaC,KAAK2vB,qBAAqBvyB,GAC3C,GAAI4C,KAAKiyB,qBAAqBlyB,EAAWslB,QAAS+J,GAAK,CACnDpvB,KAAK4vB,yBAA2BxyB,EAChC,OAGJ4C,KAAK4vB,0BAA4B,GACjC5vB,KAAKkyB,eAAe9C,OAGvB,CACGrvB,EAAaC,KAAK2vB,qBAAqB3vB,KAAK4vB,0BAC5C5vB,KAAKmyB,qBAAqBpyB,EAAWslB,QAAS+J,KAC9CpvB,KAAKoyB,eAAehD,GACpBpvB,KAAK4vB,0BAA4B,GAGzC,GAAI5vB,KAAK4vB,0BAA4B,EAAG,CACpC,IACI0B,EAAY,CACZjM,SAFAtlB,EAAaC,KAAK2vB,qBAAqB3vB,KAAK4vB,2BAExBvK,QACpBkM,OAAQxxB,EAAWwxB,OACnBlxB,KAAMN,EAAWM,MAErB,GAAIixB,EAAUC,OAAOjmB,QAAQtL,KAAKwvB,cAAcuB,QAAU,EAAG,CACzD,IAAIsB,EAAU,IAAI3D,EAAY1uB,KAAKwvB,cAAexvB,KAAK2uB,UAAWS,GAClEiD,EAAQxD,WAAa7uB,KAAK6uB,WACtB9uB,EAAWuyB,YACXvyB,EAAWuyB,WAAWhB,EAAWe,MAKjD/C,EAAYtwB,UAAU6xB,aAAe,SAAUhC,GAC3C,OAAQA,GACJ,KAAKP,EAAWQ,MACZ9uB,KAAKuyB,eAAevyB,KAAK2uB,UAAW,YACpC,MACJ,KAAKL,EAAWkE,OACZxyB,KAAKuyB,eAAevyB,KAAK2uB,UAAW,WACpC,MACJ,QACI3uB,KAAKuyB,eAAevyB,KAAK2uB,UAAW,cAIhDW,EAAYtwB,UAAU8xB,iBAAmB,SAAUjC,GAI/C,OAHA7uB,KAAK2uB,UAAUrE,UAAUE,OAAOxqB,KAAK8vB,YAAc,UACnD9vB,KAAK2uB,UAAUrE,UAAUE,OAAOxqB,KAAK8vB,YAAc,WACnD9vB,KAAK2uB,UAAUrE,UAAUE,OAAOxqB,KAAK8vB,YAAc,SAC3CjB,GACJ,KAAKP,EAAWQ,MACZ9uB,KAAK2uB,UAAUrE,UAAU3L,IAAI3e,KAAK8vB,YAAc,UAChD,MACJ,KAAKxB,EAAWuB,KACZ7vB,KAAK2uB,UAAUrE,UAAU3L,IAAI3e,KAAK8vB,YAAc,SAChD,MACJ,KAAKxB,EAAWkE,OACZxyB,KAAK2uB,UAAUrE,UAAU3L,IAAI3e,KAAK8vB,YAAc,WAChD,MACJ,QACI9vB,KAAK2uB,UAAUrE,UAAU3L,IAAI3e,KAAK8vB,YAAc,WAI5DR,EAAYtwB,UAAUuzB,eAAiB,SAAUlN,EAASoN,GACtD,GAAIpN,EAAS,CACTA,EAAQO,MAAM6M,OAASA,EACvB,IAAK,IAAIr1B,EAAI,EAAGA,EAAIioB,EAAQqN,SAASxxB,OAAQ9D,IACzC4C,KAAKuyB,eAAelN,EAAQqN,SAASt1B,GAAIq1B,KAIrDnD,EAAYtwB,UAAUgyB,uBAAyB,SAAU5B,GACrD,GAAIpvB,KAAK2uB,UAAW,CAChB,IAAIgE,EAAM,IAAIxD,EAASC,GACvBpvB,KAAK2uB,UAAU/I,MAAMqB,IAAO0L,EAAInL,EAAIxnB,KAAK2uB,UAAUtI,aAAe,EAAK,KACvErmB,KAAK2uB,UAAU/I,MAAMwB,KAAQuL,EAAI1N,EAAIjlB,KAAK2uB,UAAUvI,YAAc,EAAK,OAG/EkJ,EAAYtwB,UAAUkzB,eAAiB,SAAU9C,GAC7C,IAAIrvB,EAAaC,KAAK2vB,qBAAqB3vB,KAAK4vB,0BAC5C0B,EAAY,CACZjM,QAAStlB,EAAWslB,QACpBkM,OAAQxxB,EAAWwxB,OACnBlxB,KAAMN,EAAWM,MAErB,GAAIixB,EAAUC,OAAOjmB,QAAQtL,KAAKwvB,cAAcuB,QAAU,EAAG,CACzD,IAAI6B,EAAU,IAAIlE,EAAY1uB,KAAKwvB,cAAexvB,KAAK2uB,UAAWS,GAClEwD,EAAQ/D,WAAaP,EAAWQ,MAC5B/uB,EAAW8yB,aACX9yB,EAAW8yB,YAAYvB,EAAWsB,GAEtC5yB,KAAK6uB,WAAa+D,EAAQ/D,WAC1B7uB,KAAK6wB,aAAa7wB,KAAK6uB,YACvB7uB,KAAK8wB,iBAAiB9wB,KAAK6uB,iBAGvB7uB,KAAK6uB,aAAeP,EAAWkE,SAC/BxyB,KAAK6uB,WAAaP,EAAWuB,KAC7B7vB,KAAK6wB,aAAa7wB,KAAK6uB,YACvB7uB,KAAK8wB,iBAAiB9wB,KAAK6uB,cAIvCS,EAAYtwB,UAAUozB,eAAiB,SAAUhD,GAC7C,IAAIrvB,EAAaC,KAAK2vB,qBAAqB3vB,KAAK4vB,0BAC5C0B,EAAY,CACZjM,QAAStlB,EAAWslB,QACpBkM,OAAQxxB,EAAWwxB,OACnBlxB,KAAMN,EAAWM,MAErB,GAAIixB,EAAUC,OAAOjmB,QAAQtL,KAAKwvB,cAAcuB,QAAU,EAAG,CACzD,IAAI+B,EAAU,IAAIpE,EAAY1uB,KAAKwvB,cAAexvB,KAAK2uB,UAAWS,GAClE0D,EAAQjE,WAAaP,EAAWuB,KAC5B9vB,EAAW0xB,aACX1xB,EAAW0xB,YAAYH,EAAWwB,GAEtC9yB,KAAK6uB,WAAaiE,EAAQjE,WAC1B7uB,KAAK6wB,aAAa7wB,KAAK6uB,YACvB7uB,KAAK8wB,iBAAiB9wB,KAAK6uB,cAGnCS,EAAYtwB,UAAUizB,qBAAuB,SAAUX,EAAWlC,GAC9D,IAAI2D,EAAexL,EAAsB+J,GACrCqB,EAAM,IAAIxD,EAASC,GACvB,QAAIuD,EAAInL,EAAIuL,EAAavL,GAAKmL,EAAInL,EAAIuL,EAAavL,EAAI8J,EAAUjL,iBAG7DsM,EAAI1N,EAAI8N,EAAa9N,GAAK0N,EAAI1N,EAAI8N,EAAa9N,EAAIqM,EAAUlL,cAKrEkJ,EAAYtwB,UAAUmzB,qBAAuB,SAAUb,EAAWlC,GAC9D,IAAI2D,EAAexL,EAAsB+J,GACrCqB,EAAM,IAAIxD,EAASC,GACvB,QAAIuD,EAAInL,EAAIuL,EAAavL,GAAKmL,EAAInL,EAAIuL,EAAavL,EAAI8J,EAAUjL,cAC1DsM,EAAI1N,EAAI8N,EAAa9N,GAAK0N,EAAI1N,EAAI8N,EAAa9N,EAAIqM,EAAUlL,cAKjEkJ,EA3TqB,KCvChC,SAAWb,GACPA,EAAiBA,EAAyB,OAAI,GAAK,SACnDA,EAAiBA,EAAyB,OAAI,GAAK,SACnDA,EAAiBA,EAA2B,SAAI,GAAK,WACrDA,EAAiBA,EAAuB,KAAI,GAAK,OAJrD,CAKGA,IAAqBA,EAAmB,KAC3C,ICFWuE,EDEPC,EAA4B,SAAU50B,EAAOukB,EAAQsQ,EAAaC,GAClE,IAAI7Y,EAAOjc,EAAQA,EAAMgJ,WAAWxB,QAAQ,MAAO,MAAa,GAChEujB,EAAM,MAAO8J,GACR/I,SAASiJ,kBACTvH,QAAQvR,GACRkP,MAAMnrB,GAAS,KAEpBg1B,EAA4B,SAAUh1B,EAAOukB,EAAQsQ,EAAaC,GAClE,IAAIG,GAAYj1B,GAAS,IAAIgJ,WACT,iBAAThJ,IACPi1B,EAAWj1B,EAAMk1B,kBAErB,IAAIpK,EAAUC,EAAM,MAAO8J,GACtB/I,SAASiJ,kBACTvH,QAAQyH,GACR9J,MAAM8J,GACP1Q,EAAO4Q,OAASR,EAAgBS,MAChCtK,EAAQgB,SAASiJ,+BAGrBM,EAA8B,SAAUr1B,EAAOukB,EAAQsQ,EAAaC,GACpE,IAAIQ,EAAmD,kBAA1C71B,OAAOkB,UAAUqI,SAAS9J,KAAKc,GACxCi1B,GAAYj1B,GAAS,IAAIgJ,WAC7B,GAAIssB,EAAQ,CACR,IAAI1tB,EAAS,IAAKI,mBACdutB,EAAc,CAAEluB,KAAM,UAAWC,OAAQ,UAAWC,OAAQ,WAChE,OAAQgd,EAAOtE,MACX,KAAK,IAASlZ,KACVkuB,EAAWj1B,EAAMgH,mBAAmBY,GACpC,MACJ,KAAK,IAASiC,KACVorB,EAAWj1B,EAAMoH,mBAAmBQ,EAAQ2tB,GAC5C,MACJ,KAAK,IAASl0B,SACV4zB,EAAWj1B,EAAMgH,mBAAmBY,GAAU,IAAM5H,EAAMoH,mBAAmBQ,EAAQ2tB,IAIjG,IAAIzK,EAAUC,EAAM,MAAO8J,GACtB/I,SAASiJ,kBACTvH,QAAQyH,GACR9J,MAAM8J,GACP1Q,EAAO4Q,OAASR,EAAgBS,MAChCtK,EAAQgB,SAASiJ,+BAGrBS,EAA0B,SAAUx1B,EAAOukB,EAAQsQ,EAAaC,GAChE/J,EAAM,MAAO8J,GACR/I,SAASiJ,kBACTjJ,SAASiJ,uBACTjJ,SAASiJ,QAAmB/0B,EAAQ,kBAAoB,sBAE7D,EAAuC,WACvC,SAASy1B,EAAsBzf,GAC3BrU,KAAK+zB,UAAY,GACjB/zB,KAAKg0B,iBAAmB,GACxBh0B,KAAKi0B,iBAAiB,gBAAiBhB,GACvCjzB,KAAKk0B,mBAAmBzF,EAAiB0F,OAAQlB,GACjDjzB,KAAKi0B,iBAAiB,gBAAiBZ,GACvCrzB,KAAKk0B,mBAAmBzF,EAAiB2F,OAAQf,GACjDrzB,KAAKi0B,iBAAiB,kBAAmBP,GACzC1zB,KAAKk0B,mBAAmBzF,EAAiB4F,SAAUX,GACnD1zB,KAAKi0B,iBAAiB,cAAeJ,GACrC7zB,KAAKk0B,mBAAmBzF,EAAiB6F,KAAMT,GAwCnD,OAtCAC,EAAsB90B,UAAUu1B,mBAAqB,SAAUC,GAC3D,IAAIC,EAAWz0B,KAAK00B,YAAYF,GAChC,OAAOx0B,KAAKg0B,iBAAiBvF,EAAiBgG,KAElDX,EAAsB90B,UAAU21B,yBAA2B,SAAUC,GACjE,OAAO50B,KAAKg0B,iBAAiBvF,EAAiBmG,KAElDd,EAAsB90B,UAAUk1B,mBAAqB,SAAUO,EAAU7D,GACjEA,IACA5wB,KAAKg0B,iBAAiBvF,EAAiBgG,IAAa7D,IAG5DkD,EAAsB90B,UAAU61B,YAAc,SAAUl3B,GACpD,OAAOqC,KAAK+zB,UAAUp2B,IAE1Bm2B,EAAsB90B,UAAUi1B,iBAAmB,SAAUt2B,EAAMizB,GAC/D5wB,KAAK+zB,UAAUp2B,GAAQizB,GAE3BkD,EAAsB90B,UAAU01B,YAAc,SAAU3sB,GACpD,OAAQA,GACJ,KAAK,IAAS+sB,QACd,KAAK,IAASjsB,KACd,KAAK,IAASC,KACd,KAAK,IAASI,SACd,KAAK,IAASD,MACd,KAAK,IAASF,MACd,KAAK,IAASC,MACV,OAAOylB,EAAiB2F,OAC5B,KAAK,IAAShvB,KACd,KAAK,IAAS1F,SACd,KAAK,IAASwI,KACV,OAAOumB,EAAiB4F,SAC5B,KAAK,IAASU,KACV,OAAOtG,EAAiB6F,KAC5B,QACI,OAAO7F,EAAiB0F,SAG7BL,EAnD+B,GC7DtCkB,EAAuB,IACvBC,EAAqB,IACrBC,EAAqB,GACrBC,EAAuB,IAGvBC,EAAgB,IAEpB,SAAWpC,GACPA,EAAgBA,EAAsB,KAAI,GAAK,OAC/CA,EAAgBA,EAAsB,KAAI,GAAK,OAC/CA,EAAgBA,EAAwB,OAAI,GAAK,SACjDA,EAAgBA,EAAuB,MAAI,GAAK,QAJpD,CAKGA,IAAoBA,EAAkB,KACzC,IAAI,EAA4B,WAC5B,SAASqC,EAAWzS,EAAQ0S,EAAMC,GAS9B,QARiB,IAAbA,IAAuBA,GAAW,GACtCv1B,KAAKw1B,OAAS,KAEdx1B,KAAKwzB,MAAQR,EAAgBS,KAC7BzzB,KAAKmmB,WAAY,EACjBnmB,KAAKu1B,UAAW,EAChBv1B,KAAKy1B,WAAa7S,EAClB5iB,KAAKs1B,KAAOA,EACR1S,EAAQ,CACR,IAAI8S,EAAU9S,EAAOtE,KAErB,OADete,KAAKs1B,KAAKK,kBAAkBjB,YAAYgB,IAEnD,KAAKjH,EAAiB2F,OAClBp0B,KAAK2M,MAAQqoB,EACb,MACJ,KAAKvG,EAAiB4F,SAClBr0B,KAAK2M,MAAQsoB,EACb,MACJ,KAAKxG,EAAiB6F,KAClBt0B,KAAK2M,MAAQuoB,EACb,MACJ,QACIl1B,KAAK2M,MAAQwoB,EAErBn1B,KAAK41B,aAAe51B,KAAKs1B,KAAKK,kBAAkBpB,mBAAmB3R,EAAOtE,WAErEiX,IACLv1B,KAAKu1B,UAAW,EAChBv1B,KAAK2M,MAAQyoB,EACbp1B,KAAKw1B,OAAS,GACdx1B,KAAK41B,aAAe51B,KAAKs1B,KAAKK,kBAAkBhB,yBAAyBlG,EAAiB2F,SAE1FkB,GAAQA,EAAKjhB,SAAWihB,EAAKjhB,QAAQwhB,oBACrC71B,KAAK41B,aAAeN,EAAKjhB,QAAQwhB,kBAAkB71B,KAAMA,KAAK41B,eAAiB51B,KAAK41B,cAqB5F,OAlBA93B,OAAOC,eAAes3B,EAAWr2B,UAAW,QAAS,CACjDf,IAAK,WACD,OAAO+B,KAAKw1B,OAASx1B,KAAKw1B,OAASx1B,KAAKu1B,SAAW,GAAKv1B,KAAKy1B,WAAWpX,OAE5ElU,IAAK,SAAU9L,GACX2B,KAAKw1B,OAASx1B,KAAKqe,OAEvBrgB,YAAY,EACZ0gB,cAAc,IAGlB5gB,OAAOC,eAAes3B,EAAWr2B,UAAW,OAAQ,CAChDf,IAAK,WACD,OAAO+B,KAAKy1B,WAAaz1B,KAAKy1B,WAAWnX,KAAO,MAEpDtgB,YAAY,EACZ0gB,cAAc,IAEX2W,EAxDoB,GA2D3B,EAAgC,WAChC,SAASS,EAAeC,EAAYT,GAChCt1B,KAAKuc,MAAQ,GACbvc,KAAKs1B,KAAOA,EACZt1B,KAAKg2B,KAAKD,GAiEd,OA/DAD,EAAe92B,UAAUg3B,KAAO,SAAUD,EAAYE,GAGlD,QAFqB,IAAjBA,IAA2BA,GAAe,GAC9Cj2B,KAAKmd,QACD8Y,EAAc,CACd,IAAIC,EAAY,IAAI,EAAW,KAAMl2B,KAAKs1B,MAAM,GAChDt1B,KAAK2e,IAAIuX,GAEb,GAAIH,EACA,IAAK,IAAIl1B,EAAK,EAAGqQ,EAAK6kB,EAAWhX,WAAYle,EAAKqQ,EAAGhQ,OAAQL,IAAM,CAC/D,IAAI+hB,EAAS1R,EAAGrQ,GACZge,EAAM,IAAI,EAAW+D,EAAQ5iB,KAAKs1B,MAClCt1B,KAAKs1B,KAAKjhB,QAAQ8hB,kBAClBn2B,KAAKs1B,KAAKjhB,QAAQ8hB,iBAAiBtX,GAEvC7e,KAAK2e,IAAIE,KAIrB/gB,OAAOC,eAAe+3B,EAAe92B,UAAW,QAAS,CACrDf,IAAK,WACD,OAAO+B,KAAKuc,MAAMrb,QAEtBlD,YAAY,EACZ0gB,cAAc,IAElBoX,EAAe92B,UAAU2f,IAAM,SAAUE,GACrC,IAAIhT,EAAQ7L,KAAKuc,MAAMrb,OAEvB,OADAlB,KAAKuc,MAAMxW,KAAK8Y,GACThT,GAEXiqB,EAAe92B,UAAU0V,IAAM,SAAU7I,EAAOgT,GACxChT,GAAS,GAAKA,EAAQ7L,KAAKuc,MAAMrb,SACjClB,KAAKuc,MAAM1Q,GAASgT,IAG5BiX,EAAe92B,UAAUigB,KAAO,SAAUJ,EAAKK,GAC3C,IAAIC,EAAWnf,KAAKuc,MAAMjR,QAAQuT,GAC9BM,GAAY,GAAKA,GAAYD,GAC7B,IAAM1T,cAAcxL,KAAKuc,MAAO4C,EAAUD,IAElD4W,EAAe92B,UAAUf,IAAM,SAAU4N,GACrC,OAAIA,GAAS,GAAKA,EAAQ7L,KAAKuc,MAAMrb,OAC1BlB,KAAKuc,MAAM1Q,GAGX,MAMfiqB,EAAe92B,UAAU+f,SAAW,WAChC,OAAO/e,KAAKuc,OAEhBuZ,EAAe92B,UAAUsgB,SAAW,SAAUzT,GAChC7L,KAAK/B,IAAI4N,GACnB7L,KAAKuc,MAAM5Q,OAAOE,EAAO,IAG7BiqB,EAAe92B,UAAUme,MAAQ,WAC7Bnd,KAAKuc,MAAQ,IAGVuZ,EArEwB,GC5E/BniB,EAAsC,WAStC,OARAA,EAAW7V,OAAO0L,QAAU,SAASlL,GACjC,IAAK,IAAIa,EAAG/B,EAAI,EAAGyB,EAAI8H,UAAUzF,OAAQ9D,EAAIyB,EAAGzB,IAE5C,IAAK,IAAI8B,KADTC,EAAIwH,UAAUvJ,GACOU,OAAOkB,UAAUC,eAAe1B,KAAK4B,EAAGD,KACzDZ,EAAEY,GAAKC,EAAED,IAEjB,OAAOZ,IAEKsV,MAAM5T,KAAM2G,YAU5B,EAA0B,WAC1B,SAASyvB,EAAS/hB,GAyCd,GAxCArU,KAAKozB,UAAY,MACjBpzB,KAAKq2B,WAAa,CAAElV,KAAM,EAAGD,SAAU,GAAIf,MAAO,GAClDngB,KAAKs2B,kBAAoB,CACrBC,eAAgB,GAChBC,cAAc,GAElBx2B,KAAKy2B,uBAAyB,CAC1BC,KAAM,KACNC,UAAW,KACXC,wBAAwB,EACxBC,iBAAiB,EACjBC,kBAAkB,EAClBC,eAAe,EACfC,OAAQ,CACJC,iBAAiB,EACjBC,WAAY,MAEhBC,OAAQ,CACJC,SAAS,EACTlW,SAAU,IAEdmW,YAAY,EACZC,kBAAmB,KACnBC,eAAe,GAEnBv3B,KAAKw3B,kBAAoB,KACzBx3B,KAAKy3B,uBAAyB,EAC9Bz3B,KAAK03B,aAAc,EACnB13B,KAAK23B,cAAgB,KACrB33B,KAAK43B,cAAgB,EACrB53B,KAAK63B,YAAczO,EAAM,OACpBe,SAASnqB,KAAKozB,UAAY,qBAC1B/J,gBAAgBD,EAAM,OACtB0C,SACAA,QACL9rB,KAAK83B,iBAAmB,EACpBzjB,GAAWA,EAAQ8iB,SACnB9iB,EAAQ8iB,OAAS,IAAM3tB,OAAOxJ,KAAKy2B,uBAAuBU,OAAQ9iB,EAAQ8iB,SAE9En3B,KAAKqU,QAAUV,EAAS,GAAI3T,KAAKy2B,uBAAwBpiB,IACpDrU,KAAKqU,QAAQqiB,KACd,MAAMziB,MAAM,2DAChB,IAAKjU,KAAKqU,QAAQsiB,UACd,MAAM1iB,MAAM,gEAChBjU,KAAK22B,UAAYtiB,EAAQsiB,UACzB32B,KAAK+3B,aAAe,IAAI,IAAa/3B,MACrCA,KAAK21B,kBAAoB,IAAI,EAAsBthB,GACnDrU,KAAKyf,QAAU,IAAI,EAAezf,KAAK22B,UAAUlX,QAASzf,MAC1DA,KAAKg4B,QAAQh4B,KAAKqU,QAAQqiB,MAC1B12B,KAAKi4B,KAAKj4B,KAAKqU,SAqxBnB,OAnxBA+hB,EAASp3B,UAAUg5B,QAAU,SAAUtB,GACnC,GAAoB,iBAATA,GACP,GAAIA,EAAKx1B,OACL,GAAgB,MAAZw1B,EAAK,GACL12B,KAAK02B,KAAO7pB,SAASqrB,eAAexB,EAAKjc,UAAU,QAElD,IAAgB,MAAZic,EAAK,GAMV,MAAMziB,MAAM,mEACiCyiB,GAN7C,IAAIv0B,EAAS0K,SAASsrB,uBAAuBzB,EAAKjc,UAAU,IACxDtY,EAAOjB,SACPlB,KAAK02B,KAAOv0B,EAAO,UAS/BnC,KAAK02B,KAAOA,GAGpBN,EAASp3B,UAAUi5B,KAAO,SAAU5jB,GAChC,IAAI7S,EAAQxB,KACRqU,EAAQ+jB,QACRp4B,KAAK8qB,iBAAiB,OAAQzW,EAAQ+jB,QAEtC/jB,EAAQgkB,YACRr4B,KAAK8qB,iBAAiB,WAAYzW,EAAQgkB,YAE1ChkB,EAAQikB,cACRt4B,KAAK8qB,iBAAiB,aAAczW,EAAQikB,cAE5CjkB,EAAQkkB,kBACRv4B,KAAK8qB,iBAAiB,iBAAkBzW,EAAQkkB,kBAEhDlkB,EAAQmkB,iBACRx4B,KAAK8qB,iBAAiB,gBAAiBzW,EAAQmkB,iBAE/CnkB,EAAQokB,iBACRz4B,KAAK8qB,iBAAiB,gBAAiBzW,EAAQokB,iBAE/CpkB,EAAQqkB,eACR14B,KAAK8qB,iBAAiB,cAAezW,EAAQqkB,eAE7CrkB,EAAQskB,eACR34B,KAAK8qB,iBAAiB,cAAezW,EAAQskB,eAE7CtkB,EAAQukB,oBACR54B,KAAK8qB,iBAAiB,mBAAoBzW,EAAQukB,oBAEtD54B,KAAK8qB,iBAAiB,eAAe,SAAUsE,GAAM,OAAO5tB,EAAMq3B,gBAAkB,KACpF,IAAM10B,WAAWnE,KAAKs2B,kBAAmBjiB,EAAQgiB,YACjDr2B,KAAKq2B,WAAWnV,SAAWlhB,KAAKqU,QAAQ8iB,OAAOjW,UACxClhB,KAAKq2B,WAAWnV,SACnBlhB,KAAKqU,QAAQ0iB,eACb1H,EAAcuC,sBAAsB,CAChCvM,QAASrlB,KAAK02B,KACdnF,OAAQ,CAAC,kBACTsB,YAAa,SAAUiG,EAAG1J,GACtB5tB,EAAMk1B,KAAKpM,UAAU3L,IAAIoa,kBACzBv3B,EAAMw3B,gBAAgB5J,EAAGL,MAAOK,EAAGJ,QAEvCsD,WAAY,SAAUwG,EAAG1J,GACrB5tB,EAAMw3B,gBAAgB5J,EAAGL,MAAOK,EAAGJ,QAEvCyC,YAAa,SAAUqH,EAAG1J,GACtBA,EAAGP,WAAaP,EAAWkE,OAC3BhxB,EAAMk1B,KAAKpM,UAAUE,OAAOuO,kBAC5Bv3B,EAAMy3B,mBAEVzH,OAAQ,SAAUsH,EAAG1J,GACjB5tB,EAAMm1B,UAAUlX,QAAQR,KAAKmQ,EAAG/uB,KAAKuiB,OAAQphB,EAAMo2B,cACnDp2B,EAAM03B,UACN13B,EAAM23B,UAAU,CACZ7a,KAAM,cACN8a,SAAUhK,EAAG/uB,KAAKuiB,OAAO5X,GACzBkU,SAAU1d,EAAMo2B,kBAKhC53B,KAAKk5B,UACLl5B,KAAKm5B,UAAU,SAEnB/C,EAASp3B,UAAUm6B,UAAY,SAAUnV,GAChB,iBAAVA,EACPhkB,KAAK+3B,aAAazT,KAAKN,GAGvBhkB,KAAK+3B,aAAazT,KAAKN,EAAM1F,KAAM0F,IAG3CoS,EAASp3B,UAAUqc,QAAU,SAAUhb,GACnCL,KAAK22B,UAAYt2B,EACjBL,KAAKmd,QACLnd,KAAKk5B,WAET9C,EAASp3B,UAAUq6B,QAAU,WACzB,OAAOr5B,KAAK22B,WAEhBP,EAASp3B,UAAUs6B,WAAa,WAC5B,OAAOt5B,KAAKyf,SAEhB2W,EAASp3B,UAAUu6B,QAAU,WACzBv5B,KAAK02B,KAAKpL,UAAY,IAE1B8K,EAASp3B,UAAUk6B,QAAU,WACzBl5B,KAAKw5B,WACLx5B,KAAKy5B,UAETrD,EAASp3B,UAAUw6B,SAAW,WAC1Bx5B,KAAK02B,KAAKpL,UAAY,IAE1B8K,EAASp3B,UAAUme,MAAQ,WACvBnd,KAAKq2B,WAAWlV,KAAO,EACvBnhB,KAAKw5B,YAETpD,EAASp3B,UAAUy6B,OAAS,WACxB,IAAIj4B,EAAQxB,KACZ,GAAKA,KAAK05B,WAAc15B,KAAKqU,QAAQgjB,WAArC,CAEAr3B,KAAKy3B,uBAAyBz3B,KAAK02B,KAAK7P,aACxC7mB,KAAK25B,QAAU9sB,SAASyY,cAAc,OACtCtlB,KAAK25B,QAAQ/T,MAAMjZ,MAAQ,OAC3B3M,KAAK25B,QAAQrP,UAAU3L,IAAI3e,KAAKozB,UAAY,SAC5CpzB,KAAKyf,QAAQuW,KAAKh2B,KAAK22B,UAAUlX,QAASzf,KAAKqU,QAAQyiB,kBACvD92B,KAAK45B,eACL55B,KAAK25B,QAAQlU,YAAYzlB,KAAK65B,WAC9B75B,KAAK85B,aACL95B,KAAK25B,QAAQlU,YAAYzlB,KAAK+5B,SAC9B/5B,KAAKg6B,eACLh6B,KAAK25B,QAAQlU,YAAYzlB,KAAKi6B,WAC9B,IAAIC,EAAgBrtB,SAASyY,cAAc,OAC3C4U,EAAc5P,UAAU3L,IAAI3e,KAAKozB,UAAY,cAC7C8G,EAAczU,YAAYzlB,KAAK25B,SAC/B35B,KAAK02B,KAAKjR,YAAYyU,GAClBl6B,KAAKw3B,kBACLx3B,KAAKw3B,kBACAxkB,MAAK,WAAc,OAAOxR,EAAM24B,kBAChCnnB,MAAK,WACNxR,EAAMk2B,aAAc,EACpBl2B,EAAMg2B,kBAAoB,QAI9B5S,YAAW,WACPpjB,EAAM24B,eACN34B,EAAMk2B,aAAc,IACrB,OAGXtB,EAASp3B,UAAUm7B,aAAe,WAC9B,IAAI34B,EAAQxB,KACZ,OAAO,IAAIsV,SAAQ,SAAUC,GACzB,GAAI/T,EAAM6S,QAAQijB,kBAAmB,CACjC,IAAI8C,EAAW54B,EAAM64B,qBAAqBC,kBAGtCC,GAFYH,EAAWA,EAAS/T,aAnN3B,IAoNM7kB,EAAM6S,QAAQijB,kBAW7B,OATAlO,EAAM5nB,EAAMu4B,SACP/P,SAAS,SAAUuQ,EAAe,WACvC3V,YAAW,WACP,IAAI4V,EAAWh5B,EAAMi5B,gBAAgBpU,aAAe7kB,EAAMi5B,gBAAgB5T,aAC1E0T,GAA8BC,EAC9BpR,EAAM5nB,EAAMu4B,SACP/P,SAAS,SAAUuQ,EAAe,MACvChlB,MACD,KAGF,GAAI/T,EAAMi2B,uBAAyB,EAAG,CACvC,IAAIiD,EAAal5B,EAAMi2B,uBAAyBj2B,EAAMq4B,UAAUxT,aAAe7kB,EAAMy4B,UAAU5T,aAC/F+C,EAAM5nB,EAAMu4B,SACP/P,SAAS,SAAU0Q,EAAa,MAEzCnlB,OAECvC,MAAK,WACFxR,EAAM6S,QAAQuiB,wBAA0Bp1B,EAAMk2B,cAC9Cl2B,EAAMk1B,KAAK9Q,MAAMgB,OAASplB,EAAMk1B,KAAKrQ,aAAe,UAIhE+P,EAASp3B,UAAU46B,aAAe,WAC9B,IAAIp4B,EAAQxB,KACZA,KAAK65B,UAAYzQ,EAAM,OAClBe,SAASnqB,KAAKozB,UAAY,WAC1BtH,QACL9rB,KAAK26B,kBAAoBvR,EAAM,MAAOppB,KAAK65B,WACtC1P,SAASnqB,KAAKozB,UAAY,oBAC1BtH,QACL9rB,KAAK46B,uBAAyBxR,EAAM,MAAOppB,KAAK26B,mBAC3CxQ,SAASnqB,KAAKozB,UAAY,0BAC1BtH,QACL9rB,KAAK66B,aAAezR,EAAM,MAAOppB,KAAK46B,wBACjCzQ,SAASnqB,KAAKozB,UAAY,eAC1BtH,QACL9rB,KAAKyf,QAAQV,WAAW4D,SAAQ,SAAUC,EAAQ/W,GAC9C,GAAK+W,EAAOuD,UAAZ,CAGA,IAAI2U,EAAKt5B,EAAMu5B,mBAAmBnY,EAAQ/W,GAC1CrK,EAAMq5B,aAAapV,YAAYqV,GAC3BlY,EAAO2S,UACPnM,EAAM0R,GACDzR,gBAAgB7nB,EAAMw5B,6BAGnC,IAAIC,EAAiBj7B,KAAKyf,QAAQV,WAAWnd,KAAI,SAAUghB,GAAU,OAAOA,EAAOjW,SAAU0W,QAAO,SAAU6X,EAAKC,GAAW,OAAOD,EAAMC,KAC3I/R,EAAMppB,KAAK46B,wBACN5Q,SAAS,QAASiR,EAAiB,OAE5C7E,EAASp3B,UAAU06B,QAAU,WACzB,OAAO15B,KAAK22B,UAAUlX,QAAQwB,MAAQ,GAE1CmV,EAASp3B,UAAU+7B,mBAAqB,SAAUnY,EAAQ/W,GACtD,IAAIuvB,EAAahS,EAAM,OAClBe,SAASnqB,KAAKozB,UAAY,gBAC1B/yB,KAAK,UAAW,IAAMwL,EAAQ,IAC9Bme,SAAS,QAASpH,EAAOjW,MAAQ,MAClCiW,EAAO6S,YACP2F,EACK/6B,KAAK,SAAU,GAAKuiB,EAAO6S,WAAWzqB,IAE/C,IAAIqwB,EAASD,EAAWtP,QAyBxB,OAxBA1C,EAAM,MAAOiS,GACRlR,SAASnqB,KAAKozB,UAAY,uBAC1BxQ,EAAO2S,UACRnM,EAAM,MAAOiS,GACRlR,SAASnqB,KAAKozB,UAAY,sBAC1B9Y,KAAKsI,EAAOvE,OAEjBre,KAAKqU,QAAQ0iB,eACb1H,EAAcW,sBAAsB,CAChC3K,QAASgW,EACTtK,MAAO,iBACP1wB,KAAM,CAAEuiB,OAAQA,GAChBgO,SAAU,SAAUjC,GAChBA,EAAUrD,UAAY,GACtB,IAAIgQ,EAAYzuB,SAASyY,cAAc,OACvCgW,EAAUlQ,UAAYxI,EAAOvE,MAC7BsQ,EAAUrE,UAAU3L,IAAI,sBACxBgQ,EAAUlJ,YAAY6V,IAE1BrK,YAAa,SAAU7B,GACnBA,EAAGP,WAAaP,EAAWQ,SAIhCuM,GAEXjF,EAASp3B,UAAU86B,WAAa,WAC5B,IAAIt4B,EAAQxB,KACZA,KAAK+5B,QAAU3Q,EAAM,OAChBe,SAASnqB,KAAKozB,UAAY,SAC1BtH,QACL9rB,KAAKy6B,gBAAkBrR,EAAM,MAAOppB,KAAK+5B,SACpC5P,SAASnqB,KAAKozB,UAAY,kBAC1B7b,KAAK,WAAY,KACjBuU,QACL9rB,KAAKq6B,qBAAuBjR,EAAM,MAAOppB,KAAKy6B,iBACzCtQ,SAASnqB,KAAKozB,UAAY,mBAC1BtH,QACD9rB,KAAK22B,YACL32B,KAAKu7B,eACLv7B,KAAKw3B,kBAAoBx3B,KAAKw7B,kBACzBxoB,MAAK,SAAUyN,GAKhB,GAJAjf,EAAMi6B,eAENj6B,EAAM64B,qBAAqB/O,UAAY,GACvC9pB,EAAMm2B,cAAgB,KAClBlX,EAAKvf,OAAQ,CACb,IAAIw6B,EAAel6B,EAAMm6B,aACrBC,EAAYp6B,EAAMq6B,mBAOtB,GANApb,EAAKkC,SAAQ,SAAUhC,EAAK9U,GACpB6vB,GACAl6B,EAAMs6B,kBAAkBF,EAAWjb,GACvC,IAAIob,EAAKv6B,EAAMw6B,UAAUrb,EAAK9U,GAC9BrK,EAAM64B,qBAAqB5U,YAAYsW,MAEvCL,GAAgBl6B,EAAMy6B,aAAc,CACpC,IAAItb,EAAM,IAAI,IAAQnf,EAAMm1B,UAAUlX,QAAS,IAAIxV,MAAMzI,EAAMm1B,UAAUlX,QAAQwB,QACjFzf,EAAMs6B,kBAAkBF,EAAWjb,GAAK,IAGhD,IAAIsa,EAAiBz5B,EAAMie,QAAQV,WAC9Bnd,KAAI,SAAUghB,GAAU,OAAOA,EAAOjW,SAAU0W,QAAO,SAAU6X,EAAKC,GAAW,OAAOD,EAAMC,KAGnG,OAFA/R,EAAM5nB,EAAM64B,sBACPrQ,SAAS,QAASiR,EAAiB,MACjCxa,EAAKvf,UAEXiS,OAAM,SAAU3L,GAA+B,OAAtBjB,QAAQiB,MAAMA,GAAe,MAE/DxH,KAAKy6B,gBAAgB3P,iBAAiB,UAAU,SAAUsE,GACtDhG,EAAM5nB,EAAMm5B,mBACP3Q,SAAS,cAAe,IAAMxoB,EAAMi5B,gBAAgBnT,WAAa,SAE1EtnB,KAAKy6B,gBAAgB3P,iBAAiB,UAAW9qB,KAAKk8B,iBAAiBt9B,KAAKoB,QAEhFo2B,EAASp3B,UAAUi9B,WAAa,WAC5B,OAAOj8B,KAAKq2B,WAAWlV,KAAOnhB,KAAKq2B,WAAWnV,UAAYlhB,KAAKq2B,WAAWlW,OAE9EiW,EAASp3B,UAAU28B,WAAa,WAC5B,OAAO37B,KAAKqU,QAAQ2iB,SAAWh3B,KAAKqU,QAAQ2iB,OAAOC,iBAC5Cj3B,KAAKm8B,sBACLn8B,KAAK22B,UAAUlX,QAAQV,WACrBC,QAAO,SAAUH,GAAO,OAAOA,EAAIN,UAAWrd,OAAS,GAEpEk1B,EAASp3B,UAAUm9B,kBAAoB,WACnC,OAAOn8B,KAAKqU,QAAQ2iB,OAAOoF,MAAQt+B,OAAOyK,OAAOvI,KAAKqU,QAAQ2iB,OAAOoF,MAChEx6B,KAAI,SAAU0L,GAAO,OAAOA,EAAI+uB,iBAChChZ,QAAO,SAAUiZ,EAAMj+B,GACxB,OAAOi+B,GAAQj+B,KAChB,IAEP+3B,EAASp3B,UAAU68B,iBAAmB,WAClC,IAAIU,EAAUv8B,KAAK22B,UAAUlX,QAAQV,WAChCC,QAAO,SAAUH,GAAO,OAAQA,EAAIN,UAEzC,OADAge,EAAQC,MACDD,GAEXnG,EAASp3B,UAAU88B,kBAAoB,SAAUS,EAASzZ,EAAQ2Z,GAE9D,QADe,IAAXA,IAAqBA,GAAS,GAC9Bz8B,KAAK23B,eAAiB33B,KAAKm8B,oBAAqB,CAEhD,IADA,IAAIO,GAAe,EACVt/B,EAAI,EAAGA,EAAIm/B,EAAQr7B,OAAQ9D,IAAK,CACrC,IAAIyhB,EAAM0d,EAAQn/B,GAClB,GAAI4C,KAAK23B,cAAc/X,SAASf,EAAI7T,MAAQ8X,EAAOlD,SAASf,EAAI7T,IAAK,CACjE0xB,EAAct/B,EACd,OAGR,IAAoB,GAAhBs/B,EACA,KAAIC,EAAa38B,KAAKqU,QAAQ2iB,OAC9B,IAAS55B,EAAIm/B,EAAQr7B,OAAQ9D,EAAIs/B,EAAat/B,IAAK,CAC3CyhB,EAAM0d,EAAQn/B,EAAI,GACtB,IAAIu/B,EAAWP,OAAkD,IAA1CO,EAAWP,KAAKvd,EAAI7T,IAAIqxB,cAA/C,CAEA,IAAI1b,EAAM,IAAI,IAAQ3gB,KAAK22B,UAAUlX,QAASzf,KAAK23B,cAAcjY,WAC7Dqc,EAAK/7B,KAAK48B,gBAAgBx/B,EAAGujB,GACjC3gB,KAAKq6B,qBAAqB5U,YAAYsW,MAIlD,GAAIU,GAAUz8B,KAAKqU,QAAQ2iB,OAAOC,gBAAiB,CAC3C8E,EAAK/7B,KAAK48B,gBAAgB,EAAG9Z,GACjC9iB,KAAKq6B,qBAAqB5U,YAAYsW,GAE1C/7B,KAAK23B,cAAgB7U,GAEzBsT,EAASp3B,UAAU49B,gBAAkB,SAAUC,EAAOlc,GAClD,IAAInf,EAAQxB,KAORmzB,EANa/J,EAAM,OAClBe,SAASnqB,KAAKozB,UAAY,QAC1BjJ,SAASnqB,KAAKozB,UAAY,eAC1BjJ,SAASnqB,KAAKozB,UAAY,aAAeyJ,GACzCx8B,KAAK,eAAgB,GAAKw8B,GAC1BtlB,KAAK,WAAY,MACMuU,QA6B5B,OA5BA9rB,KAAKyf,QAAQV,WAAW4D,SAAQ,SAAUC,EAAQ/W,GAC9C,GAAK+W,EAAOuD,UAAZ,CAGA,IAAI2W,EAAWla,EAAO2S,UAAY,EAAI/zB,EAAMm1B,UAAUlX,QAAQL,SAASwD,EAAO6S,WAAWzqB,IACrFsC,EAAOwvB,GAAYD,GAAkB,GAATA,GAA0B,GAAZC,EAAiBt7B,EAAMu7B,eAAeF,GAAS,GACzFC,GAAYt7B,EAAMm1B,UAAUlX,QAAQwB,MAAQ,IAC5C3T,EAAM,kBAEV6lB,EAAW1N,YAAYjkB,EAAMw7B,WAAWpa,EAAQka,EAAUxvB,EAAK6lB,QAEtDnzB,KAAKqU,QAAQ2iB,OAAOE,WAAW+F,YACrCC,WAAWL,EAAOlc,GACpB3N,MAAK,WACNmgB,EAAW7H,UAAY,GACvB9pB,EAAMie,QAAQV,WAAW4D,SAAQ,SAAUC,EAAQ/W,GAC/C,GAAK+W,EAAOuD,UAAZ,CAGA,IAAI2W,EAAWla,EAAO2S,UAAY,EAAI/zB,EAAMm1B,UAAUlX,QAAQL,SAASwD,EAAO6S,WAAWzqB,IACrFsC,EAAOwvB,GAAYD,GAAkB,GAATA,GAA0B,GAAZC,EAAiBt7B,EAAMu7B,eAAeF,GAAS,IACxFja,EAAO2S,UAAY3S,EAAO6S,WAAWlX,SACtCjR,EAAMqT,EAAIf,SAASkd,IAEvB3J,EAAW1N,YAAYjkB,EAAMw7B,WAAWpa,EAAQka,EAAUxvB,EAAK6lB,WAGlEhgB,OAAM,SAAU3L,GAAS,OAAOjB,QAAQiB,MAAMA,MAC5C2rB,GAEXiD,EAASp3B,UAAU+9B,eAAiB,SAAUF,GAC1C,OAAO,EAAU,eAAiB,kBAEtCzG,EAASp3B,UAAUk9B,iBAAmB,SAAU9M,GAC5C,GAAIpvB,KAAKqU,QAAQkjB,cAAe,CAC5B,IAAI4F,EAAWn9B,KAAKq6B,qBAAqB+C,iBAAiB,IAAMp9B,KAAKozB,UAAY,QAAQlyB,OACrFm8B,OAAW,EACf,OAAQjO,EAAGzwB,KACP,IAAK,YAEL,IAAK,aACD,MACJ,IAAK,UACDywB,EAAGpC,iBACHqQ,EAAWr9B,KAAK64B,eAAiB,GAAK74B,KAAK64B,gBAAkBsE,EAAWA,EAAW,EAAIn9B,KAAK64B,eAAiB,EAC7G74B,KAAK64B,eAAiBwE,GAAY,EAAIA,EAAW,EACjD,MACJ,IAAK,YACDjO,EAAGpC,iBACHqQ,EAAWr9B,KAAK64B,eAAiB,GAAK74B,KAAK64B,gBAAkBsE,EAAW,EAAIn9B,KAAK64B,eAAiB,EAClG74B,KAAK64B,eAAiBwE,EAAWF,EAAWE,EAAWF,EAAW,KAKlF/G,EAASp3B,UAAUs+B,oBAAsB,SAAUC,GAC/C,IAAI5c,EAA4B,iBAAf4c,EACXv9B,KAAKw9B,WAAWD,GAChBA,EACN,GAAI5c,EAAK,CACL,IAAI8c,EAAU9c,EAAIgH,wBACd+V,EAAe19B,KAAKy6B,gBAAgB9S,wBACpCgW,EAASF,EAAQxW,IAAMyW,EAAazW,IACpC2W,EAAYH,EAAQ5V,OAAS6V,EAAazW,IAC1C4W,EAAiB79B,KAAKy6B,gBAAgB5T,aACtCiX,EAAe9wB,OAAO8Z,aAAeja,SAASK,gBAAgB2Z,aAClE,GAAI8W,EAAS,GACTC,GAAaC,GACbJ,EAAQxW,IAAM,GACdwW,EAAQ5V,OAASiW,EACjB,OAEAH,EAAS,EACT39B,KAAKy6B,gBAAgBtT,UAAYnnB,KAAKy6B,gBAAgBtT,UAAYwW,EAE7DC,EAAYC,IACjB79B,KAAKy6B,gBAAgBtT,UAAYnnB,KAAKy6B,gBAAgBtT,UAAYyW,EAAYC,IAElFJ,EAAU9c,EAAIgH,yBACFV,IAAM,EACdpa,SAASK,gBAAgBia,UAAYta,SAASK,gBAAgBia,UAAYsW,EAAQxW,IAE7EwW,EAAQ5V,OAASiW,IACtBjxB,SAASK,gBAAgBia,UAAYta,SAASK,gBAAgBia,UAAYsW,EAAQ5V,OAASiW,KAIvG1H,EAASp3B,UAAUw8B,gBAAkB,WACjC,OAAoC,IAAhCx7B,KAAKqU,QAAQ8iB,OAAOC,QACb9hB,QAAQC,QAAQvV,KAAK22B,UAAUpU,iBAEnCviB,KAAK22B,UAAU7V,QAAQ,CAC1BK,KAAMnhB,KAAKq2B,WAAWlV,KACtBD,SAAUlhB,KAAKq2B,WAAWnV,WAEzB/N,OAAM,SAAU3L,GAEjB,OADAjB,QAAQiB,MAAMA,GACP,OAIf4uB,EAASp3B,UAAUg7B,aAAe,WAC9Bh6B,KAAKi6B,UAAY7Q,EAAM,OAClBe,SAASnqB,KAAKozB,UAAY,WAC1BtH,QACL9rB,KAAK+9B,kBAAoB/9B,KAAKg+B,sBAC9Bh+B,KAAKi6B,UAAUxU,YAAYzlB,KAAK+9B,mBAChC,IAAIE,EAAgBj+B,KAAKk+B,sBACzBl+B,KAAKi6B,UAAUxU,YAAYwY,IAE/B7H,EAASp3B,UAAUk/B,oBAAsB,WACrC,IAAI18B,EAAQxB,KACRm+B,EAAc/U,EAAM,OACnBe,SAASnqB,KAAKozB,UAAY,cAC1BtH,QAYL,OAXI9rB,KAAKw3B,mBACLx3B,KAAKw3B,kBAAkBxkB,MAAK,SAAUiO,GAClC,IAAImd,EAAoBnd,GAASzf,EAAM60B,WAAWlV,KAAO,GAAK3f,EAAM60B,WAAWnV,SAAW,EAAI,EAC1Fmd,EAAoBpd,EAAQmd,EAAoBnd,EAAQ,EAAI,EAC5Dd,EAAQ3e,EAAMm1B,UAAUvU,WAC5B+b,EAAY7S,UAAY,IAAK7kB,QAAQ,gBAChCZ,QAAQ,uBAAwB,SAAWu4B,EAAkB/2B,WAAa,WAC1ExB,QAAQ,sBAAuB,SAAWw4B,EAAkBh3B,WAAa,WACzExB,QAAQ,UAAW,SAAWsa,EAAM9Y,WAAa,cAGvD82B,GAEX/H,EAASp3B,UAAUu8B,aAAe,aAElCnF,EAASp3B,UAAUy8B,aAAe,aAElCrF,EAASp3B,UAAUs/B,sBAAwB,SAAUzyB,GACjD,OAAI7L,KAAKq2B,WACExqB,EAAQ7L,KAAKq2B,WAAWnV,SAGxBrV,GAGfuqB,EAASp3B,UAAUu/B,sBAAwB,SAAU1yB,GACjD,OAAI7L,KAAKq2B,YACGr2B,KAAKq2B,WAAWlV,KAAO,GAAKnhB,KAAKq2B,WAAWnV,SAAWrV,EAGxDA,GAGfuqB,EAASp3B,UAAUg9B,UAAY,SAAUrb,EAAK9U,GAC1C,IAAIrK,EAAQxB,KACRw+B,EAAcx+B,KAAKu+B,sBAAsB1yB,GACzC4yB,EAAarV,EAAM,OAClBe,SAASnqB,KAAKozB,UAAY,QAC1BjJ,SAASnqB,KAAKozB,UAAY,SAAWvnB,EAAQ,GAAK,EAAI,MAAQ,SAC9DxL,KAAK,UAAW,GAAKm+B,GACrBjnB,KAAK,WAAY,MACjBoT,GAAG,SAAS,SAAUyE,GACvB5tB,EAAMq3B,eAAiBhtB,EACvBrK,EAAM23B,UAAU,CACZ7a,KAAM,WACNqC,IAAKA,EACL+d,SAAU7yB,EACV+iB,YAAaQ,OAGhBzE,GAAG,YAAY,SAAUyE,GAC1B5tB,EAAM23B,UAAU,CACZ7a,KAAM,aACNqC,IAAKA,EACL+d,SAAU7yB,EACV+iB,YAAaQ,OAGR,GAATvjB,GACA4yB,EAAWtU,SAASnqB,KAAKozB,UAAY,cAEzC,IAAID,EAAasL,EAAW3S,QAY5B,OAXI9rB,KAAKqU,QAAQkjB,eAAiB1rB,GAAS7L,KAAK64B,gBAC5C4F,EAAWtU,SAASnqB,KAAKozB,UAAY,eAEzCpzB,KAAKyf,QAAQV,WAAW4D,SAAQ,SAAUC,GACtC,GAAKA,EAAOuD,UAAZ,CAGA,IAAIwY,EAAW/b,EAAO2S,UAAY,EAAI/zB,EAAMm1B,UAAUlX,QAAQL,SAASwD,EAAO6S,WAAWzqB,IACrFsC,EAAMsV,EAAO2S,SAAWiJ,EAAc,EAAI7d,EAAIf,SAAS+e,GAC3DxL,EAAW1N,YAAYjkB,EAAMw7B,WAAWpa,EAAQ+b,EAAUrxB,EAAK6lB,QAE5DA,GAEXiD,EAASp3B,UAAUg+B,WAAa,SAAUpa,EAAQka,EAAUz+B,EAAO80B,GAC/D,IAAIhK,EAAUC,EAAM,OACfe,SAASnqB,KAAKozB,UAAY,SAC1B/yB,KAAK,UAAW,GAAKy8B,GACrBvlB,KAAK,WAAY,MACjByS,SAAS,QAASpH,EAAOjW,MAAQ,MAatC,OAZIiW,EAAO4Q,OAASR,EAAgB4L,KAChCzV,EAAQgB,SAASnqB,KAAKozB,UAAY,oBAE7BxQ,EAAO4Q,OAASR,EAAgB6L,MACrC1V,EAAQgB,SAASnqB,KAAKozB,UAAY,qBAE7BxQ,EAAO4Q,OAASR,EAAgB8L,QACrC3V,EAAQgB,SAASnqB,KAAKozB,UAAY,sBAElCxQ,EAAOgT,cACPhT,EAAOgT,aAAav3B,EAAOukB,EAAQuG,EAAQ2C,QAASqH,GAEjDhK,EAAQ2C,SAEnBsK,EAASp3B,UAAUg/B,oBAAsB,WACrC,IAAIx8B,EAAQxB,KACR++B,EAAclyB,SAASyY,cAAc,OAGzC,GAFAyZ,EAAYvZ,UAAYxlB,KAAKozB,UAAY,sBACzCpzB,KAAKq2B,WAAWlW,MAAQngB,KAAK22B,UAAUvU,WACnCpiB,KAAKqU,QAAQ8iB,QAAUn3B,KAAKqU,QAAQ8iB,OAAOC,SACxCp3B,KAAKq2B,WAAWlW,MAAQngB,KAAKq2B,WAAWnV,SAAU,CACrD,IAAI3R,EAASvP,KAAKs2B,kBAAkBE,aAAe,GAAKx2B,KAAKozB,UAAY,IACzE2L,EAAYzT,UAAY,GACxB,IAAI0T,EAAYh/B,KAAKq2B,WAAWlV,MAAQ,EACpC8d,EAAY7yB,KAAK+Y,KAAKnlB,KAAKq2B,WAAWlW,MAAQngB,KAAKq2B,WAAWnV,WAAa,EAC3Ege,EAAqB,SAAU9P,GAC/B,IAAI/J,EAAU+J,EAAG3lB,OACjB,GAAI4b,EAAQ8K,aAAa,aAAc,CACnC,IAAIhP,EAAO9R,SAASgW,EAAQ8Z,aAAa,cACzC39B,EAAM60B,WAAWlV,KAAOA,EACxB3f,EAAM23B,UAAU,CAAE7a,KAAM,cAAe6C,KAAMA,IAC7C3f,EAAM03B,UACN13B,EAAMi5B,gBAAgB2E,UAG1B7I,EAAiBv2B,KAAKs2B,kBAAkBC,gBAAkB,GAC1D8I,EAAiBL,EAAY,EAC7BM,EAAiBD,EAAkBA,EAAiB9I,EAAkB,EACtEgJ,EAAgBD,EAAiB/I,EAAiB,EAClDgJ,EAAgBN,IAChBM,EAAgBN,GAEpB,IAAIO,EAAK3yB,SAASyY,cAAc,MAChCka,EAAGha,UAAYjW,EAAS,aACxB,IAAIkwB,EAAK5yB,SAASyY,cAAc,MAChCma,EAAGja,UAAYjW,EAAS,YACxB,IAAIpJ,EAAI0G,SAASyY,cAAc,QAG/B,GAFAnf,EAAEojB,aAAa,cAAe,QAC9BpjB,EAAEqf,UAAYjW,EAAS,YACD,GAAlB+vB,EACAG,EAAGja,WAAa,gBAEf,CACD,GAAIxlB,KAAKs2B,kBAAkBE,cACvBrwB,EAAI0G,SAASyY,cAAc,MACzBiE,aAAa,OAAQ,sBACvBpjB,EAAEojB,aAAa,YAAa,IAAM+V,EAAiB,SAG/CI,EAAO7yB,SAASyY,cAAc,MAC7BiE,aAAa,OAAQ,sBAC1BmW,EAAKnW,aAAa,YAAa,IAAM+V,EAAiB,IACtDn5B,EAAIu5B,EAERv5B,EAAEqf,UAAYjW,EAAS,YACvBpJ,EAAE2kB,iBAAiB,QAASoU,GAEhC/4B,EAAEmlB,UAAY,UACdmU,EAAGha,YAAYtf,GACfq5B,EAAG/Z,YAAYga,GACf,IAAK,IAAIriC,EAAIkiC,EAAgBliC,GAAKmiC,EAAeniC,KAC7CqiC,EAAK5yB,SAASyY,cAAc,OACzBE,UAAYjW,EAAS,YACpBnS,GAAK4hC,IACLS,EAAGja,WAAa,YACpBrf,EAAI0G,SAASyY,cAAc,MACzBiE,aAAa,OAAQ,sBACvBpjB,EAAEmlB,UAAYluB,EAAEiK,WAChBlB,EAAEojB,aAAa,YAAansB,EAAEiK,YAC9BlB,EAAEqf,UAAYjW,EAAS,YACvBpJ,EAAE2kB,iBAAiB,QAASoU,GAC5BO,EAAGha,YAAYtf,GACfq5B,EAAG/Z,YAAYga,GAOnB,IALAA,EAAK5yB,SAASyY,cAAc,OACzBE,UAAYjW,EAAS,aACxBpJ,EAAI0G,SAASyY,cAAc,SACzBiE,aAAa,cAAe,QAC9BpjB,EAAEqf,UAAYjW,EAAS,YACnBgwB,GAAiBN,EACjBQ,EAAGja,WAAa,gBAEf,CAOG,IAAIka,EANR,GAAI1/B,KAAKs2B,kBAAkBE,cACvBrwB,EAAI0G,SAASyY,cAAc,MACzBiE,aAAa,OAAQ,sBACvBpjB,EAAEojB,aAAa,YAAa,IAAMgW,EAAgB,SAG9CG,EAAO7yB,SAASyY,cAAc,MAC7BiE,aAAa,OAAQ,sBAC1BmW,EAAKnW,aAAa,YAAa,IAAMgW,EAAgB,IACrDp5B,EAAIu5B,EAERv5B,EAAEqf,UAAYjW,EAAS,YACvBpJ,EAAE2kB,iBAAiB,QAASoU,GAEhC/4B,EAAEmlB,UAAY,UACdmU,EAAGha,YAAYtf,GACfq5B,EAAG/Z,YAAYga,GACfV,EAAYtZ,YAAY+Z,GAE5B,OAAOT,GAEX3I,EAASp3B,UAAU8rB,iBAAmB,SAAUhH,EAAW6b,GACvD,OAAO3/B,KAAK+3B,aAAalU,UAAUC,GAAW,SAAUE,GAAS,OAAO2b,EAAQ3b,EAAM3jB,UAE1F+1B,EAASp3B,UAAUgsB,oBAAsB,SAAUlH,EAAW8b,GAC1D5/B,KAAK+3B,aAAa3T,YAAYN,EAAW8b,IAE7CxJ,EAASp3B,UAAUg8B,sBAAwB,WACvC,IAAIx5B,EAAQxB,KACZ,OAAIA,KAAKqU,QAAQgjB,WACNjO,EAAM,OACRe,SAASnqB,KAAKozB,UAAY,WAC1B5J,MAAMxpB,KAAKqU,QAAQwrB,iBAAmB,cACtC5W,SAAS,KAAK,SAAUE,GAAW,OAAOA,EAC1C5R,KAAK,OAAQ,sBACboT,GAAG,SAAS,SAAU6B,GACvBA,EAAEQ,iBACFxrB,EAAM23B,UAAU,CACZ7a,KAAM,iBACNsQ,YAAapC,UAGhBV,QAEF1C,EAAM,QACRsC,QAAQ,KACRI,SAETsK,EAASp3B,UAAUg6B,gBAAkB,SAAUjK,EAAOC,GAGlD,IAFA,IAAI8Q,EAAW9/B,KAAK66B,aAAauC,iBAAiB,WAAap9B,KAAKozB,UAAY,eAC5EgJ,EAAO,GACFh/B,EAAI,EAAGA,EAAI0iC,EAAS5+B,OAAQ9D,IAAK,CACtC,IAAI2iC,EAAUD,EAAS1iC,GACO,SAA1B2iC,EAAQna,MAAMC,SAElBuW,EAAKr2B,KAAKg6B,GAEd,GAAoB,IAAhB3D,EAAKl7B,OAGL,OAFAlB,KAAK43B,aAAe,OACpB53B,KAAK66B,aAAapV,YAAYzlB,KAAK63B,aAGvC,IAAImI,EAAazY,EAAsBvnB,KAAK63B,aAC5C,KAAI9I,GAASiR,EAAW/a,GAAK8J,GAASiR,EAAW/a,EAAIjlB,KAAK63B,YAAYzR,aAAtE,CAIA,IADA,IAAI6Z,EAAkBjgC,KAAK43B,aAClB/2B,EAAK,EAAGq/B,EAAS9D,EAAMv7B,EAAKq/B,EAAOh/B,OAAQL,IAAM,CACtD,IAAIge,EAAMqhB,EAAOr/B,GACbs/B,EAAS5Y,EAAsB1I,GAC/BlS,EAAQkS,EAAIuH,YACZ2I,EAAQoR,EAAOlb,GAAK8J,EAAQoR,EAAOlb,EAAItY,IAEvCszB,EAAkB5wB,SAASwP,EAAIsgB,aAAa,iBAAmB,GAGnEc,GAAmBjgC,KAAK43B,eACxB53B,KAAK43B,aAAeqI,EAChBjgC,KAAK43B,aAAewE,EAAKl7B,OACzBlB,KAAK66B,aAAauF,aAAapgC,KAAK63B,YAAauE,EAAKp8B,KAAK43B,eAG3D53B,KAAK66B,aAAapV,YAAYzlB,KAAK63B,gBAI/CzB,EAASp3B,UAAUi6B,gBAAkB,WACjC,IAAIz3B,EAAQxB,KACZA,KAAK43B,cAAgB,EACrBhT,YAAW,WACHpjB,EAAMq2B,YAAY7O,eAClBxnB,EAAMq2B,YAAY7O,cAAc2I,YAAYnwB,EAAMq2B,eAEvD,KAEP/5B,OAAOC,eAAeq4B,EAASp3B,UAAW,iBAAkB,CACxDf,IAAK,WACD,OAAO+B,KAAK83B,iBAEhB3tB,IAAK,SAAU9L,GACX,GAAIA,IAAU2B,KAAK83B,gBAAiB,CAChC,IAAIuI,EAAWrgC,KAAK83B,gBACpB93B,KAAK83B,gBAAkBz5B,EACvB2B,KAAKsgC,kBACLtgC,KAAKm5B,UAAU,CACX7a,KAAM,mBACN+hB,SAAUA,EACVhD,SAAUr9B,KAAK64B,eACf6F,SAAU1+B,KAAKu+B,sBAAsBv+B,KAAK64B,oBAItD76B,YAAY,EACZ0gB,cAAc,IAElB0X,EAASp3B,UAAUshC,gBAAkB,WACjC,IAAI9+B,EAAQxB,KACZ,GAAIA,KAAKqU,QAAQkjB,cAAe,CACjBv3B,KAAKq6B,qBAAqB+C,iBAAiB,WAAap9B,KAAKozB,UAAY,gBAC/EzQ,SAAQ,SAAUiK,GAAMA,EAAGtC,UAAUE,OAAOhpB,EAAM4xB,UAAY,kBACnE,IAAImN,EAAYvgC,KAAKwgC,eACjBD,IACAA,EAAUjW,UAAU3L,IAAI3e,KAAKozB,UAAY,eACzCpzB,KAAKs9B,oBAAoBt9B,KAAK64B,mBAI1CzC,EAASp3B,UAAUwhC,aAAe,WAC9B,OAAOxgC,KAAKw9B,WAAWx9B,KAAK64B,iBAEhCzC,EAASp3B,UAAUw+B,WAAa,SAAU3xB,GACtC,IAAI4U,EAAOxW,MAAM0V,KAAK3f,KAAKq6B,qBAAqB+C,iBAAiB,IAAMp9B,KAAKozB,UAAY,aAAepzB,KAAKozB,UAAY,iBACxH,OAAIvnB,GAAS,GAAKA,EAAQ4U,EAAKvf,OACpBuf,EAAK5U,GACT,MAEXuqB,EAASp3B,UAAUogC,MAAQ,WACvBp/B,KAAKy6B,gBAAgB2E,SAElBhJ,EAx0BkB,GCnBzBqK,EAA0B,WAC1B,SAASA,EAAS/J,EAAMriB,GACpBrU,KAAK02B,KAAOA,EACZ12B,KAAKqU,QAAUA,GAAW,GACrBrU,KAAKqU,QAAQqsB,YACd1gC,KAAKqU,QAAQqsB,UAAY,aAqBjC,OAlBA5iC,OAAOC,eAAe0iC,EAASzhC,UAAW,YAAa,CACnDf,IAAK,WACD,MAAO,YAEXD,YAAY,EACZ0gB,cAAc,IAElB+hB,EAASzhC,UAAU2hC,QAAU,SAAUvvB,GACnCpR,KAAK4gC,YAAc,IAAIx7B,KAAKgM,IAEhCqvB,EAASzhC,UAAUgS,QAAU,WACzB,OAAO,IAAI5L,KAAKpF,KAAK4gC,cAEzBH,EAASzhC,UAAU6hC,YAAc,SAAUjtB,GACnC5T,KAAKqU,QAAQysB,eACb9gC,KAAKqU,QAAQysB,cAAc9gC,KAAK4gC,YAAahtB,IAG9C6sB,EA1BkB,GCCzB,EAAgC,WAChC,SAASM,EAAe1sB,GACpBrU,KAAKghC,SAAW,KAChBhhC,KAAKihC,WAAa,KAClBjhC,KAAKqU,QAAUA,EACfrU,KAAKy5B,SAiGT,OA/FA37B,OAAOC,eAAegjC,EAAe/hC,UAAW,YAAa,CACzDf,IAAK,WACD,MAAO,QAEXD,YAAY,EACZ0gB,cAAc,IAElBqiB,EAAe/hC,UAAUkiC,YAAc,SAAUp5B,GAC7C9H,KAAKmhC,gBAAkB,IAAI/7B,KAAK0C,GAC5B9H,KAAKghC,UACLhhC,KAAKghC,SAASL,QAAQ3gC,KAAKmhC,iBAE3BnhC,KAAKihC,YACLjhC,KAAKihC,WAAWG,QAAQphC,KAAKmhC,kBAGrCJ,EAAe/hC,UAAUqiC,YAAc,WACnC,OAAO,IAAIj8B,KAAKpF,KAAKmhC,kBAEzBJ,EAAe/hC,UAAUy6B,OAAS,WAC9B,IAAIj4B,EAAQxB,KACRA,KAAKqU,QAAQitB,eACbthC,KAAKghC,SAAWhhC,KAAKuhC,eAAe,CAChCb,UAAW1gC,KAAKqU,QAAQqsB,UACxBc,kBAAmBxhC,KAAKqU,QAAQmtB,kBAChCC,iBAAkBzhC,KAAKqU,QAAQqtB,eAC/BC,sBAAuB3hC,KAAKqU,QAAQstB,sBACpCb,cAAe,SAAU1vB,EAAMwC,GAC3BpS,EAAM2/B,gBAAkB/vB,EACpB5P,EAAMy/B,YACNz/B,EAAMy/B,WAAWG,QAAQ5/B,EAAM2/B,iBAE/B3/B,EAAM6S,QAAQqtB,gBACdlgC,EAAMogC,kBAENhuB,GACApS,EAAMoS,MAAMpS,EAAM2/B,oBAI1BnhC,KAAKghC,UACLhhC,KAAKghC,SAASvH,UAElBz5B,KAAKqU,QAAQqtB,iBACb1hC,KAAKihC,WAAajhC,KAAK6hC,iBAAiB,CACpCC,cAAe,SAAUC,GACrBvgC,EAAM2/B,gBAAgBa,SAASD,EAAK1wB,YACpC7P,EAAM2/B,gBAAgBc,WAAWF,EAAKzwB,cAClC9P,EAAMw/B,UACNx/B,EAAMw/B,SAASL,QAAQn/B,EAAM2/B,iBAEjC3/B,EAAMogC,qBAGV5hC,KAAKihC,YACLjhC,KAAKihC,WAAWxH,UAExBz5B,KAAKkhC,YAAY,IAAI97B,OAEzB27B,EAAe/hC,UAAUuiC,eAAiB,SAAUltB,GAChD,OAAO,MAEX0sB,EAAe/hC,UAAU6iC,iBAAmB,SAAUxtB,GAClD,OAAO,MAEX0sB,EAAe/hC,UAAU4qB,KAAO,SAAUsY,GAClCliC,KAAKqU,QAAQ8tB,YACbniC,KAAKqU,QAAQ8tB,aAEjB,IAAIxP,EAAMpL,EAAsB2a,GAAUr1B,SAASD,MACnD5M,KAAK02B,KAAK9Q,MAAMqB,IAAM0L,EAAInL,EAAI0a,EAAOrb,aAAe,KACpD7mB,KAAK02B,KAAK9Q,MAAMwB,KAAOuL,EAAI1N,EAAI,MAEnC8b,EAAe/hC,UAAU4U,MAAQ,SAAUxC,GACnCpR,KAAKqU,QAAQ+tB,SACbpiC,KAAKqU,QAAQ+tB,QAAQhxB,GAEzBpR,KAAKu5B,WAETwH,EAAe/hC,UAAUqjC,OAAS,WAC1BriC,KAAKqU,QAAQiuB,UACbtiC,KAAKqU,QAAQiuB,WAEjBtiC,KAAKu5B,WAETwH,EAAe/hC,UAAUu6B,QAAU,WAC3Bv5B,KAAK02B,MAAQ12B,KAAK02B,KAAK1N,eACvBhpB,KAAK02B,KAAK1N,cAAc2I,YAAY3xB,KAAK02B,OAGjDqK,EAAe/hC,UAAU4iC,gBAAkB,WACnC5hC,KAAKqU,QAAQkuB,mBACbviC,KAAKqU,QAAQkuB,kBAAkBviC,KAAKmhC,kBAGrCJ,EAtGwB,GCD/B,EAAwC,WACxC,IAAIruB,EAAgB,SAAUhV,EAAG0I,GAI7B,OAHAsM,EAAgB5U,OAAOyV,gBAClB,CAAEC,UAAW,cAAgBvJ,OAAS,SAAUvM,EAAG0I,GAAK1I,EAAE8V,UAAYpN,IACvE,SAAU1I,EAAG0I,GAAK,IAAK,IAAIlH,KAAKkH,EAAOA,EAAEnH,eAAeC,KAAIxB,EAAEwB,GAAKkH,EAAElH,MACpDxB,EAAG0I,IAE5B,OAAO,SAAU1I,EAAG0I,GAEhB,SAASqN,IAAOzT,KAAK0T,YAAchW,EADnCgV,EAAchV,EAAG0I,GAEjB1I,EAAEsB,UAAkB,OAANoH,EAAatI,OAAOY,OAAO0H,IAAMqN,EAAGzU,UAAYoH,EAAEpH,UAAW,IAAIyU,IAV3C,GAgBxC,EAAiC,SAAUK,GAE3C,SAAS0uB,EAAgB9L,EAAMriB,GAC3B,IAAI7S,EAAQsS,EAAOvW,KAAKyC,KAAM02B,EAAMriB,IAAYrU,KAChDwB,EAAMihC,WAAa,CAAC,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,OAC9DjhC,EAAMkhC,OAAS,CAAC,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,OAC7FlhC,EAAMmhC,aAAe,KACrBnhC,EAAMohC,uBAAwB,EAC9B,IAAK,IAAIxlC,EAAI,EAAGA,EAAIoE,EAAMihC,WAAWvhC,OAAQ9D,IACzCoE,EAAMihC,WAAWrlC,GAAK,IAAK+J,oBAAoB/J,EAAI,GAEvD,IAASA,EAAI,EAAGA,EAAIoE,EAAMkhC,OAAOxhC,OAAQ9D,IACrCoE,EAAMkhC,OAAOtlC,GAAK,IAAK8J,iBAAiB9J,EAAI,GAEhD,OAAOoE,EAqOX,OAlPA,EAAUghC,EAAiB1uB,GAe3B0uB,EAAgBxjC,UAAU2hC,QAAU,SAAUvvB,GAC1C0C,EAAO9U,UAAU2hC,QAAQpjC,KAAKyC,KAAMoR,GACpCpR,KAAK6iC,cAAgB7iC,KAAK4gC,YAAY7vB,WACtC/Q,KAAK8iC,aAAe9iC,KAAK4gC,YAAY9vB,cACrC9Q,KAAK+iC,iBAETP,EAAgBxjC,UAAUy6B,OAAS,WAC/B,IAAIj4B,EAAQxB,KACRoB,EAASgoB,EAAM,MAAOppB,KAAK02B,MAC1BvM,SAASnqB,KAAKozB,UAAY,WAC3BpzB,KAAKqU,QAAQmtB,kBACbpgC,EACKioB,gBAAgBrpB,KAAKgjC,yBAG1B5hC,EACK6nB,SAAS,QAAQ,SAAUE,GAAW,OAAO3nB,EAAMyhC,eAAiB9Z,EAAQ2C,WAErF1C,EAAMppB,KAAK02B,MACNrN,gBAAgBrpB,KAAKkjC,yBAC1BljC,KAAK2iC,aAAevZ,EAAM,MAAOppB,KAAK02B,MACjCvM,SAASnqB,KAAKozB,UAAY,SAC1BtH,SAET0W,EAAgBxjC,UAAUmkC,mBAAqB,WAC3C,IAAIz/B,EAAW,IAAKU,oBACpB,OAAQpE,KAAKqU,QAAwB,iBAC/B3Q,EAASd,eAAiB,IAAMc,EAASZ,eACzCY,EAASd,gBAEnB4/B,EAAgBxjC,UAAUgkC,sBAAwB,WAC9C,IAAIxhC,EAAQxB,KACRgI,EAAShI,KAAKmjC,qBACdha,EAAUC,EAAM,SACf7R,KAAK,cAAevP,GACpBmiB,SAASnqB,KAAKozB,UAAY,iBAwC/B,OAvCAjK,EACKgD,KAAKnkB,EAAOnC,QAAQ,OAAQ,QAC5BA,QAAQ,KAAM,MACdA,QAAQ,KAAM,MACdA,QAAQ,KAAM,MACdA,QAAQ,KAAM,MACdA,QAAQ,KAAM,OACd8kB,GAAG,SAAS,SAAUyE,GACvBjG,EAAQoB,YAAY,SACpB,IACI/oB,EAAMohC,uBAAwB,EAC9B,IAAIQ,EAAU,IAAUjzB,cAAc3O,EAAM6hC,gBAAgBhlC,MAAO2J,GACnExG,EAAMo/B,YAAcwC,EACpB5hC,EAAM8hC,KAAK9hC,EAAMo/B,YAAY9vB,cAAetP,EAAMo/B,YAAY7vB,YAC9DvP,EAAMq/B,aAAY,GAEtB,MAAOrU,GACHrD,EAAQgB,SAAS,SAErB,QACI3oB,EAAMohC,uBAAwB,MAGjCjY,GAAG,WAAW,SAAUyE,GACN,KAAfA,EAAGrC,UACHqC,EAAGpC,iBACHoC,EAAGgB,kBACC5uB,EAAM6hC,gBAAgB7d,UAAUla,QAAQ,SAAW,IAC/C9J,EAAMohC,uBACVphC,EAAMq/B,aAAY,OAGzBlW,GAAG,SAAS,WACb/F,YAAW,WACPpjB,EAAM6hC,gBAAgB1W,eAAiB,EACvCnrB,EAAM6hC,gBAAgBvW,aAAe,IACtC,OAEP9sB,KAAKqjC,gBAAkBla,EAAQ2C,QACxB9rB,KAAKqjC,iBAEhBb,EAAgBxjC,UAAUukC,yBAA2B,WACjD,GAAIvjC,KAAKqjC,iBACL,IAAKrjC,KAAK4iC,sBAAuB,CAC7B,IAAI56B,EAAShI,KAAKmjC,qBAClBnjC,KAAKqjC,gBAAgBhlC,MAAQ,IAAUwJ,cAAc7H,KAAK4gC,YAAa54B,GACvEhI,KAAKqjC,gBAAgBjE,cAGxB,GAAIp/B,KAAKijC,eAAgB,CAC1B,IAAIh9B,EAAS,IAAKI,mBAClBrG,KAAKijC,eAAe7X,UAAYprB,KAAK4gC,YAAYrN,eAAyB,MAAVttB,OAAiBd,EAAYc,EAAQ,CACjGX,KAAM,UACNC,MAAO,OACPC,IAAK,cAIjBg9B,EAAgBxjC,UAAUkkC,sBAAwB,WAC9C,IAAI1hC,EAAQxB,KAyCZ,OAxCcopB,EAAM,OACfe,SAASnqB,KAAKozB,UAAY,QAC1BnK,SAAS,OAAO,SAAUE,GAAW,OAAOA,EAC5CgB,SAAS3oB,EAAM4xB,UAAY,aAC3BzI,GAAG,SAAS,WACbnpB,EAAM86B,UAELrT,SAAS,QAAQ,SAAUE,GAAW,OAAOA,EAAQkC,KAAK,kBAC1DpC,SAAS,OAAO,SAAUE,GAAW,OAAOA,EAC5CgB,SAAS3oB,EAAM4xB,UAAY,kBAC3BnK,SAAS,OAAO,SAAUE,GAAW,OAAOA,EAC5CgB,SAAS3oB,EAAM4xB,UAAY,cAC3BnK,SAAS,UAAU,SAAUE,GAC9BA,EACKwB,GAAG,UAAU,WACdnpB,EAAM8hC,KAAK9hC,EAAMshC,aAAczzB,SAAS7N,EAAMgiC,gBAAgBnlC,WAOlE,IALA,IAAIolC,EAAU,SAAUrmC,GACpB+rB,EAAQF,SAAS,UAAU,SAAUE,GAAW,OAAOA,EAClD5R,KAAK,QAASna,EAAEiK,YAChBiT,KAAK9Y,EAAMkhC,OAAOtlC,QAElBA,EAAI,EAAGA,EAAIoE,EAAMkhC,OAAOxhC,OAAQ9D,IACrCqmC,EAAQrmC,GAEZoE,EAAMgiC,gBAAkBra,EAAQ2C,cAE/B7C,SAAS,OAAO,SAAUE,GAAW,OAAOA,EAC5CgB,SAAS3oB,EAAM4xB,UAAY,aAC3BnK,SAAS,UAAU,SAAUE,GAAW,OAAO3nB,EAAMkiC,eAAiBva,EACtEwB,GAAG,UAAU,WACdnpB,EAAM8hC,KAAKj0B,SAAS7N,EAAMkiC,eAAerlC,OAAQmD,EAAMqhC,kBAEtD/W,iBACA7C,SAAS,OAAO,SAAUE,GAAW,OAAOA,EAC5CgB,SAAS3oB,EAAM4xB,UAAY,aAC3BzI,GAAG,SAAS,WACbnpB,EAAMmiC,UAEL1a,SAAS,QAAQ,SAAUE,GAAW,OAAOA,EAAQkC,KAAK,kBAChDS,SAEnB0W,EAAgBxjC,UAAUs9B,KAAO,WAC7Bt8B,KAAK8iC,aAAuC,IAAvB9iC,KAAK6iC,cAAuB7iC,KAAK8iC,aAAe,EAAI9iC,KAAK8iC,aAC9E9iC,KAAK6iC,cAAwC,IAAvB7iC,KAAK6iC,cAAuB,GAAK7iC,KAAK6iC,cAAgB,EAC5E7iC,KAAK+iC,iBAETP,EAAgBxjC,UAAU2kC,KAAO,WAC7B3jC,KAAK8iC,aAAuC,KAAvB9iC,KAAK6iC,cAAwB7iC,KAAK8iC,aAAe,EAAI9iC,KAAK8iC,aAC/E9iC,KAAK6iC,eAAiB7iC,KAAK6iC,cAAgB,GAAK,GAChD7iC,KAAK+iC,iBAETP,EAAgBxjC,UAAU4kC,mBAAqB,WAC3C,IAAIpxB,EAAQ,oBAAoBqxB,KAAK7jC,KAAKqU,QAAQqsB,WAC9CoD,EAAY,EACZC,EAAW,EACD,OAAVvxB,IACAsxB,EAAYz0B,SAASmD,EAAM,IAC3BuxB,EAAW10B,SAASmD,EAAM,KAE9BxS,KAAK0jC,eAAepY,UAAY,GAChC,IAAK,IAAIluB,EAAI,EAAGA,GAAK0mC,EAAYC,EAAU3mC,IAAK,CAC5C,IAAI4mC,EAAKn3B,SAASyY,cAAc,UAC5BhgB,EAAOtF,KAAK8iC,aAAegB,EAAY1mC,EAC3C4mC,EAAG3lC,MAAQiH,EAAK+B,WAChB28B,EAAG5Y,UAAY9lB,EAAK+B,WACpBrH,KAAK0jC,eAAeje,YAAYue,KAGxCxB,EAAgBxjC,UAAUskC,KAAO,SAAUh+B,EAAMC,GAC7CvF,KAAK8iC,aAAex9B,EACpBtF,KAAK6iC,cAAgBt9B,EACrBvF,KAAK+iC,iBAETP,EAAgBxjC,UAAU+jC,cAAgB,WACtC,IAAIvhC,EAAQxB,KAEZA,KAAKujC,2BACLvjC,KAAK4jC,qBACL,IAAIK,EAAW,IAAK7+B,KAAKpF,KAAK8iC,aAAc9iC,KAAK6iC,eAAgBqB,SAC7DC,EAAc,IAAI/+B,KAAKpF,KAAK8iC,aAAc9iC,KAAK6iC,cAAgB,EAAG,GAAG7xB,UACzEhR,KAAK2iC,aAAarX,UAAY,GAC9BtrB,KAAK0jC,eAAerlC,MAAQ2B,KAAK8iC,aAAaz7B,WAC9CrH,KAAKwjC,gBAAgBnlC,MAAQ2B,KAAK6iC,cAAcx7B,WAChDrH,KAAKyiC,WAAW9f,SAAQ,SAAUnd,EAAK0F,GACnCke,EAAM,MAAO5nB,EAAMmhC,cACdxY,SAAS3oB,EAAM4xB,UAAY,YAC3BjJ,SAAgB,GAAPjf,GAAmB,GAAPA,EAAW1J,EAAM4xB,UAAY,WAAa,IAC/D9Y,KAAK9U,MAGd,IAAK,IAAIpI,EAAI,EAAGA,EAAI6mC,EAAU7mC,IAC1BgsB,EAAM,MAAOppB,KAAK2iC,cACbxY,SAASnqB,KAAKozB,UAAY,cAInC,IADA,IAAIviB,EAAQ,IAAIzL,KACPI,EAAM,EAAGA,GAAO2+B,EAAa3+B,IAAO,CACzC,IAAI2jB,EAAUC,EAAM,MAAOppB,KAAK2iC,cAC3BxY,SAASnqB,KAAKozB,UAAY,QAC1B7b,KAAK,YAAa/R,EAAI6B,YACtBiT,KAAK9U,EAAI6B,YACTsjB,GAAG,SAAS,SAAU6B,GACvBhrB,EAAMo/B,YAAYwD,YAAY5iC,EAAMshC,cACpCthC,EAAMo/B,YAAYyD,SAAS7iC,EAAMqhC,eACjCrhC,EAAMo/B,YAAYD,QAAQtxB,SAASmd,EAAE/iB,OAAO01B,aAAa,eACzD39B,EAAMq/B,YAAYr/B,EAAM6S,QAAQstB,0BAEhCn8B,IAAQqL,EAAMG,WAAahR,KAAK8iC,eAAiBjyB,EAAMC,eAAiB9Q,KAAK6iC,gBAAkBhyB,EAAME,YACrGoY,EAAQgB,SAASnqB,KAAKozB,UAAY,gBAElC5tB,IAAQxF,KAAK4gC,YAAY5vB,WAAahR,KAAK8iC,eAAiB9iC,KAAK4gC,YAAY9vB,eAAiB9Q,KAAK6iC,gBAAkB7iC,KAAK4gC,YAAY7vB,YACtIoY,EAAQgB,SAASnqB,KAAKozB,UAAY,iBAEtC,IAAIkR,GAAaL,EAAWz+B,EAAM,GAAK,EACtB,GAAb8+B,GAA+B,GAAbA,GAClBnb,EAAQgB,SAASnqB,KAAKozB,UAAY,YAI1C,IAAImR,GAAuBN,EAAWE,GAAe,EACjDK,EAAqC,GAAvBD,EAA2B,EAAI,EAAIA,EACrD,IAASnnC,EAAI,EAAGA,EAAIonC,EAAapnC,IAC7BgsB,EAAM,MAAOppB,KAAK2iC,cACbxY,SAASnqB,KAAKozB,UAAY,eAGvCoP,EAAgBxjC,UAAU6hC,YAAc,SAAUjtB,GAC9CE,EAAO9U,UAAU6hC,YAAYtjC,KAAKyC,KAAM4T,GACxC5T,KAAK+iC,iBAEFP,EAnPyB,CAoPlC/B,GCpQEgE,EAA4B,WAC5B,SAASA,EAAW/N,EAAMriB,GACtBrU,KAAK02B,KAAOA,EACZ12B,KAAKqU,QAAUA,GAAW,GAoB9B,OAlBAvW,OAAOC,eAAe0mC,EAAWzlC,UAAW,YAAa,CACrDf,IAAK,WACD,MAAO,WAEXD,YAAY,EACZ0gB,cAAc,IAElB+lB,EAAWzlC,UAAUoiC,QAAU,SAAUW,GACrC/hC,KAAK0kC,YAAc,IAAIt/B,KAAK28B,IAEhC0C,EAAWzlC,UAAUkR,QAAU,WAC3B,OAAO,IAAI9K,KAAKpF,KAAK0kC,cAEzBD,EAAWzlC,UAAU2lC,YAAc,WAC3B3kC,KAAKqU,QAAQytB,eACb9hC,KAAKqU,QAAQytB,cAAc9hC,KAAK0kC,cAGjCD,EAvBoB,GCA3B,EAAwC,WACxC,IAAI/xB,EAAgB,SAAUhV,EAAG0I,GAI7B,OAHAsM,EAAgB5U,OAAOyV,gBAClB,CAAEC,UAAW,cAAgBvJ,OAAS,SAAUvM,EAAG0I,GAAK1I,EAAE8V,UAAYpN,IACvE,SAAU1I,EAAG0I,GAAK,IAAK,IAAIlH,KAAKkH,EAAOA,EAAEnH,eAAeC,KAAIxB,EAAEwB,GAAKkH,EAAElH,MACpDxB,EAAG0I,IAE5B,OAAO,SAAU1I,EAAG0I,GAEhB,SAASqN,IAAOzT,KAAK0T,YAAchW,EADnCgV,EAAchV,EAAG0I,GAEjB1I,EAAEsB,UAAkB,OAANoH,EAAatI,OAAOY,OAAO0H,IAAMqN,EAAGzU,UAAYoH,EAAEpH,UAAW,IAAIyU,IAV3C,GAgBxC,EAAmC,SAAUK,GAE7C,SAAS8wB,IACL,OAAkB,OAAX9wB,GAAmBA,EAAOF,MAAM5T,KAAM2G,YAAc3G,KA0D/D,OA5DA,EAAU4kC,EAAmB9wB,GAI7B8wB,EAAkB5lC,UAAUoiC,QAAU,SAAUW,GAC5CjuB,EAAO9U,UAAUoiC,QAAQ7jC,KAAKyC,KAAM+hC,GACpC/hC,KAAK6kC,sBACL7kC,KAAK8kC,WAAW5Y,cAAgB6V,EAAK1wB,WACrCrR,KAAK+kC,aAAa7Y,cAAgB6V,EAAKzwB,cAE3CszB,EAAkB5lC,UAAUy6B,OAAS,WACjC,IAAIj4B,EAAQxB,KACZopB,EAAM,MAAOppB,KAAK02B,MACbvM,SAASnqB,KAAKozB,UAAY,SAC1BnK,SAAS,QAAQ,SAAUE,GAAW,OAAO3nB,EAAMwjC,SAAW7b,EAAQ2C,WACtEA,QACL,IAAImZ,EAAiB7b,EAAM,MAAOppB,KAAK02B,MAClCvM,SAASnqB,KAAKozB,UAAY,YAiC/B,OAhCA6R,EACKhc,SAAS,OAAO,SAAUE,GAAW,OAAOA,EAC5CgB,SAAS3oB,EAAM4xB,UAAY,aAC3B5J,MAAM,SACNP,SAAS,SAAS,SAAUE,GAAW,OAAO3nB,EAAMsjC,WAAa3b,EACjEgB,SAAS3oB,EAAM4xB,UAAY,gBAC3B9U,KAAK,SACL/G,KAAK,MAAO,KACZA,KAAK,MAAO,MACZA,KAAK,OAAQ,KACboT,GAAG,SAAS,SAAU6B,GACvBhrB,EAAMkjC,YAAY1C,SAASxgC,EAAMsjC,WAAW5Y,eAC5C1qB,EAAMqjC,sBACNrjC,EAAMmjC,iBAEL7Y,cACLmZ,EACKhc,SAAS,OAAO,SAAUE,GAAW,OAAOA,EAC5CgB,SAAS3oB,EAAM4xB,UAAY,aAC3B5J,MAAM,WACNP,SAAS,SAAS,SAAUE,GAAW,OAAO3nB,EAAMujC,aAAe5b,EACnEgB,SAAS3oB,EAAM4xB,UAAY,kBAC3B9U,KAAK,SACL/G,KAAK,MAAO,KACZA,KAAK,MAAO,MACZA,KAAK,OAAQ,KACboT,GAAG,SAAS,SAAU6B,GACvBhrB,EAAMkjC,YAAYzC,WAAWzgC,EAAMujC,aAAa7Y,eAChD1qB,EAAMqjC,sBACNrjC,EAAMmjC,iBAEL7Y,cACE9rB,KAAK02B,MAEhBkO,EAAkB5lC,UAAU6lC,oBAAsB,WAC9C,IAAI5+B,EAAS,IAAKI,mBACd6+B,EAAallC,KAAK0kC,YAAYnR,eAAyB,MAAVttB,OAAiBd,EAAYc,EAAQ,CAClFP,KAAM,UACNC,OAAQ,YAEZ3F,KAAKglC,SAAS5Z,UAAY8Z,GAEvBN,EA7D2B,CA8DpCH,GC9EE,EAAwC,WACxC,IAAI/xB,EAAgB,SAAUhV,EAAG0I,GAI7B,OAHAsM,EAAgB5U,OAAOyV,gBAClB,CAAEC,UAAW,cAAgBvJ,OAAS,SAAUvM,EAAG0I,GAAK1I,EAAE8V,UAAYpN,IACvE,SAAU1I,EAAG0I,GAAK,IAAK,IAAIlH,KAAKkH,EAAOA,EAAEnH,eAAeC,KAAIxB,EAAEwB,GAAKkH,EAAElH,MACpDxB,EAAG0I,IAE5B,OAAO,SAAU1I,EAAG0I,GAEhB,SAASqN,IAAOzT,KAAK0T,YAAchW,EADnCgV,EAAchV,EAAG0I,GAEjB1I,EAAEsB,UAAkB,OAANoH,EAAatI,OAAOY,OAAO0H,IAAMqN,EAAGzU,UAAYoH,EAAEpH,UAAW,IAAIyU,IAV3C,GAmBxC,EAAuC,SAAUK,GAEjD,SAASqxB,IACL,OAAkB,OAAXrxB,GAAmBA,EAAOF,MAAM5T,KAAM2G,YAAc3G,KAkG/D,OApGA,EAAUmlC,EAAuBrxB,GAIjCqxB,EAAsBnmC,UAAUy6B,OAAS,WACrC,IAAIj4B,EAAQxB,KACZA,KAAK02B,KAAOtN,EAAM,MAAOvc,SAASD,MAC7Bud,SAAS,GAAKnqB,KAAKozB,WACnB7b,KAAK,WAAY,KACjByS,SAAS,WAAY,YACrBA,SAAS,MAAO,WAChBA,SAAS,OAAQ,WACjBW,GAAG,WAAW,SAAUyE,GAOzB,OANmB,KAAfA,EAAGrC,QACHvrB,EAAM6gC,SAEc,KAAfjT,EAAGrC,SACRvrB,EAAMoS,MAAMpS,EAAM6/B,gBAEf,KAENvV,QACLhY,EAAO9U,UAAUy6B,OAAOl8B,KAAKyC,MAC7BA,KAAKolC,gBACLplC,KAAKqlC,uBAAyB,SAAU7Y,GACpC,IAAIxI,EAAQhX,OAAOgX,OAASwI,EACpBxI,EAAMshB,YAActhB,EAAMva,OAMlC,OALiBjI,EAAMk1B,KAAK6O,SAASvhB,EAAMva,UAEvCoD,SAASme,oBAAoB,YAAaxpB,EAAM6jC,wBAAwB,GACxE7jC,EAAM6gC,WAEH,IAGf8C,EAAsBnmC,UAAUomC,cAAgB,WAC5C,IAAI5jC,EAAQxB,KACRmpB,EAAUC,EAAM,MAAOppB,KAAK02B,MAC3BvM,SAASnqB,KAAKozB,UAAY,YAC1BnK,SAAS,UAAU,SAAU7iB,GAAK,OAAO5E,EAAMgkC,UAAYp/B,EAC3D+jB,SAAS3oB,EAAM4xB,UAAY,WAAa5xB,EAAM4xB,UAAY,eAC1D9Y,KAAK,IAAK7T,QAAQ,cAClBkkB,GAAG,SAAS,WAGb,OAFAnpB,EAAM0/B,YAAY,IAAI97B,MACtB5D,EAAMogC,mBACC,KAEN9V,YACD9rB,KAAKqU,QAAQqtB,gBAAmB1hC,KAAKqU,QAAQstB,uBAC7CxY,EAAQF,SAAS,UAAU,SAAU7iB,GAAK,OAAO5E,EAAMikC,aAAer/B,EACjE+jB,SAAS3oB,EAAM4xB,UAAY,WAAa5xB,EAAM4xB,UAAY,iBAC1D9Y,KAAK,IAAK7T,QAAQ,gBAClBkkB,GAAG,SAAS,WAEb,OADAnpB,EAAMoS,MAAMpS,EAAM6/B,gBACX,KAENvV,WAET3C,EAAQF,SAAS,UAAU,SAAU7iB,GAAK,OAAO5E,EAAMikC,aAAer/B,EACjE+jB,SAAS3oB,EAAM4xB,UAAY,WAAa5xB,EAAM4xB,UAAY,kBAC1D9Y,KAAK,IAAK7T,QAAQ,iBAClBkkB,GAAG,SAAS,WAEb,OADAnpB,EAAM6gC,UACC,KAENvW,YAETqZ,EAAsBnmC,UAAUuiC,eAAiB,SAAUltB,GAKvD,OAJArU,KAAK0lC,aACDtc,EAAM,MAAOppB,KAAK02B,MACbvM,SAASnqB,KAAKozB,UAAY,QAC1BtH,QACF,IAAI,EAAgB9rB,KAAK0lC,aAAcrxB,IAElD8wB,EAAsBnmC,UAAU6iC,iBAAmB,SAAUxtB,GAKzD,OAJArU,KAAK2lC,eACDvc,EAAM,MAAOppB,KAAK02B,MACbvM,SAASnqB,KAAKozB,UAAY,OAC1BtH,QACF,IAAI,EAAkB9rB,KAAK2lC,eAAgBtxB,IAEtD8wB,EAAsBnmC,UAAU4qB,KAAO,SAAUsY,GAC7C,IAAI1gC,EAAQxB,KACZ,GAAIA,KAAKqU,QAAQmtB,kBAAmB,CAC5BxhC,KAAKqU,QAAQ8tB,YACbniC,KAAKqU,QAAQ8tB,aAEjB,IAAIyD,EAAYre,EAAsB2a,GAAUr1B,SAASD,MACrDi5B,EAAYte,EAAsB2a,EAASA,EAAOlZ,eAAiBkZ,EAASr1B,SAASD,MACzF5M,KAAK02B,KAAK9Q,MAAMqB,IAAM4e,EAAUre,EAAI,KACpCxnB,KAAK02B,KAAK9Q,MAAMwB,KAAOwe,EAAU3gB,EAAI,UAGrCnR,EAAO9U,UAAU4qB,KAAKrsB,KAAKyC,KAAMkiC,GACjCliC,KAAK02B,KAAK0I,QAEdxa,YAAW,WACP/X,SAASie,iBAAiB,YAAatpB,EAAM6jC,wBAAwB,KACtE,IAEAF,EArG+B,CAsGxC,GCtHEW,EAAsC,WACtC,SAASA,KAsFT,OApFAA,EAAqB9mC,UAAU+mC,YAAc,SAAUvc,EAAOwc,EAASjiB,GACnE,IAAIviB,EAAQxB,KAERqU,EAAU,CACVmV,MAAOA,EACPyc,UAAU,EACVC,YAAY,EACZC,YAAY,EACZv5B,KANW,iCAAkDo5B,EAAU,UAQ3E,OAAIjiB,GACA1P,EAAQ+xB,SAAW,WACfriB,GAAS,IAEb1P,EAAQiuB,SAAW,WACfve,GAAS,SAEb/jB,KAAKuB,KAAK8S,IAGP,IAAIiB,SAAQ,SAAUC,GACzBlB,EAAQ+xB,SAAW,WACf7wB,GAAQ,IAEZlB,EAAQiuB,SAAW,WACf/sB,GAAQ,IAEZ/T,EAAMD,KAAK8S,OAGnByxB,EAAqB9mC,UAAUqnC,WAAa,SAAU7c,EAAOwc,EAASM,EAAQviB,GAC1E,IAAIviB,EAAQxB,KAERqU,EAAU,CACVmV,MAAOA,EACP0c,YAAY,EACZD,UAAU,EACVE,YAAY,EACZI,eAAe,EACf35B,KAPW,uLAA0Oo5B,EAAU,gJAQ/PQ,gBAAgB,EAChBC,WAAY,WACR,IAAIpa,EAAQxf,SAASqrB,eAAe,0BAChCoO,IACAja,EAAMhuB,MAAQioC,GAElBja,EAAM+S,UAGVsH,EAAe,SAAU3iB,GACzB,IAAIsI,EAAQxf,SAASqrB,eAAe,0BAChC/1B,EAASkqB,EAAMhuB,MACnB,OAAI8D,GAAUA,EAAO0D,QAAQ,MAAO,IAAI3E,OAAS,GAC7C6iB,EAAS5hB,IACF,IAEXkqB,EAAM/B,UAAU3L,IAAI,iBACb,IAEX,OAAIoF,GACA1P,EAAQ+xB,SAAW,WACf,OAAOM,EAAa3iB,IAExB1P,EAAQiuB,SAAW,WACfve,EAAS,UAEb/jB,KAAKuB,KAAK8S,IAGP,IAAIiB,SAAQ,SAAUC,GACzBlB,EAAQ+xB,SAAW,WACf,OAAOM,EAAanxB,IAExBlB,EAAQiuB,SAAW,WACf/sB,EAAQ,KAEZ/T,EAAMD,KAAK8S,OAGnByxB,EAAqB9mC,UAAUuC,KAAO,SAAU8S,GAC5C,IAAIsyB,EAAM,IAAI,GAActyB,GAE5B,OADAsyB,EAAIplC,OACGolC,GAEJb,EAvF8B,GA0FrC,GAA+B,WAC/B,SAASc,EAAcvyB,GACnB,IAAI7S,EAAQxB,KACZA,KAAKqU,QAAUA,EACfrU,KAAK6mC,cAAgB,WACjB,QAAIrlC,EAAM6S,QAAQ+xB,WAAyC,IAA7B5kC,EAAM6S,QAAQ+xB,cAG5C5kC,EAAM+3B,WACC,IAEXv5B,KAAK8mC,cAAgB,WACbtlC,EAAM6S,QAAQiuB,UACd9gC,EAAM6S,QAAQiuB,WAElB9gC,EAAM+3B,WAEVv5B,KAAK+mC,eAAiB,SAAU3X,GAC5B,OAAkB,IAAdA,EAAGrC,UAAiBvrB,EAAMwlC,mBAC1B5X,EAAGpC,iBACHoC,EAAGgB,mBACC5uB,EAAMqlC,mBACN75B,OAAOge,oBAAoB,UAAWxpB,EAAMulC,gBAAgB,IACrD,IAKnB,IAAI/7B,EAAK,IAAMsE,WAAW,OAC1BtP,KAAK02B,KACDtN,EAAM,MAAOvc,SAASD,MACjB2K,KAAK,YAAa,MAClBlX,KAAK,YAAa2K,GAClBmf,SAAS,aAAc,aACvBlB,SAAS,OAAO,SAAU7iB,GAAK,OAAOA,EACtC+jB,SAAS,4BACTlB,SAAS,OAAO,SAAU7iB,GAAK,OAAOA,EACtC+jB,SAAS,qBACTlB,SAAS,UAAU,SAAU7iB,GAC9BA,EACK+jB,SAAS,eACTlB,SAAS,KAAK,SAAU7iB,GAAK,OAAOA,EACpC+jB,SAAS,qBACTuB,QAAQrX,EAAQmV,WACI,IAArBnV,EAAQ4xB,UACR7/B,EAAE6iB,SAAS,UAAU,SAAU7iB,GAAK,OAAOA,EACtC+jB,SAAS,oBACTQ,GAAG,SAAS,WACbnpB,EAAMslC,yBAGb7d,SAAS,WAAW,SAAU7iB,GAC/BA,EACK+jB,SAAS,aACc,iBAAjB9V,EAAQzH,KACfxG,EAAEylB,QAAQxX,EAAQzH,MAGlBxG,EAAEijB,gBAAgBhV,EAAQzH,SAG7Bqc,SAAS,UAAU,SAAU7iB,GAC9BA,EAAE+jB,SAAS,cAAe,gBACC,IAAvB9V,EAAQ6xB,aAEZ9/B,EAAE6iB,SAAS,UAAU,SAAU7iB,GAAK,OAAOA,EACtC+jB,SAAS,cAAe,WACxBuB,QAAQ,IAAKjlB,QAAQ,aACrBkkB,GAAG,SAAS,SAAU6B,GACvBhrB,EAAMqlC,uBAEiB,IAAvBxyB,EAAQ8xB,YACR//B,EAAE6iB,SAAS,UAAU,SAAUE,GAAW,OAAOA,EAC5CgB,SAAS,eACTuB,QAAQ,IAAKjlB,QAAQ,iBACrBkkB,GAAG,SAAS,SAAU6B,GACvBhrB,EAAMslC,6BAGbhb,QA6Db,OA3DA8a,EAAc5nC,UAAUuC,KAAO,WACvBvB,KAAKqU,QAAQoyB,YACbzmC,KAAKqU,QAAQoyB,aAEjBrd,EAAMppB,KAAK02B,MAAM9M,OACb5pB,KAAKqU,QAAQmyB,gBACbxmC,KAAKwmC,gBAAe,GAExB,IAAIS,EAAYjnC,KAAK02B,KAChBwQ,cAAc,sBACflnC,KAAKqU,QAAQuS,SACbqgB,EAAUrhB,MAAMgB,OAAwC,iBAAxB5mB,KAAKqU,QAAQuS,OACvC5mB,KAAKqU,QAAQuS,OACb5mB,KAAKqU,QAAQuS,OAAS,MAE5B5mB,KAAKqU,QAAQ1H,QACbs6B,EAAUrhB,MAAMjZ,MAAsC,iBAAvB3M,KAAKqU,QAAQ1H,MACtC3M,KAAKqU,QAAQ1H,MACb3M,KAAKqU,QAAQ1H,MAAQ,OAGnCi6B,EAAc5nC,UAAUmoC,OAAS,WAC7BnnC,KAAK6mC,iBAETD,EAAc5nC,UAAUqjC,OAAS,WAC7BriC,KAAK8mC,iBAETF,EAAc5nC,UAAUu6B,QAAU,WAC1Bv5B,KAAKqU,QAAQmyB,gBACbxmC,KAAKwmC,gBAAe,GAExB35B,SAASD,KAAK+kB,YAAY3xB,KAAK02B,MAC3B12B,KAAKqU,QAAQkyB,eACbv5B,OAAOge,oBAAoB,UAAWhrB,KAAK+mC,gBAAgB,GAE3D/mC,KAAKqU,QAAQ+yB,WACbpnC,KAAKqU,QAAQ+yB,aAGrBR,EAAc5nC,UAAUgoC,eAAiB,WACrC,IAAIK,EAAax6B,SAASK,gBAAgBkwB,iBAAiB,eAC3D,OAAOiK,EAAWA,EAAWnmC,OAAS,KAAOlB,KAAK02B,MAEtDkQ,EAAc5nC,UAAUwnC,eAAiB,SAAUc,GAE/C,IADA,IAAID,EAAax6B,SAASK,gBAAgBkwB,iBAAiB,sBAClDhgC,EAAI,EAAGA,EAAIiqC,EAAWnmC,OAAS,EAAG9D,IACvC,GAAIkqC,EAAQ,CACR,IAAIlmB,EAAc,GAALhkB,EAAS,GAAS,GAAJA,EAAS,GACpCgsB,EAAMie,EAAWjqC,IACZ4sB,SAAS,aAAc5I,EAAS,MAChC4I,SAAS,cAAe5I,EAAS,WAGtCgI,EAAMie,EAAWjqC,IACZysB,YAAY,cACZA,YAAY,gBAItB+c,EA5IuB,GC3F9B,IAAKn/B,mBAAmB,CACpB8/B,aAAc,gEACdC,YAAa,QACbC,UAAW,QCLnB,yqB,iCCCWC,ECGA,EACAC,ECLAC,E,OCGPC,EAA8B,WAC9B,SAASA,EAAa7/B,GAClBhI,KAAKgM,MAAMhE,GA+Ef,OAzEA6/B,EAAa7oC,UAAUgN,MAAQ,SAAUhE,GACrChI,KAAK8nC,UAAY9/B,EACjBhI,KAAK2yB,IAAM,EACX3yB,KAAK+nC,QAAU,EACf/nC,KAAKgoC,UAAY,IAKrBH,EAAa7oC,UAAUipC,WAAa,WAChC,KAAOjoC,KAAK2yB,IAAM3yB,KAAK8nC,UAAU5mC,QAA8C,MAApClB,KAAK8nC,UAAUjb,OAAO7sB,KAAK2yB,MAClE3yB,KAAK2yB,OAKbkV,EAAa7oC,UAAU2kC,KAAO,WAE1B,GADA3jC,KAAKioC,aACDjoC,KAAK2yB,KAAO3yB,KAAK8nC,UAAU5mC,OAC3B,OAAO,EACX,IAAIgnC,EAAO,EACX,GAAwC,MAApCloC,KAAK8nC,UAAUjb,OAAO7sB,KAAK2yB,KAAc,CAEzC,IADAuV,EAAOloC,KAAK8nC,UAAUx8B,QAAQ,IAAKtL,KAAK2yB,MAC7B,EACP,OAAO,EACX3yB,KAAKgoC,UAAYhoC,KAAK8nC,UAAUrtB,UAAUza,KAAK2yB,IAAKuV,EAAO,GACnB,IAApCloC,KAAKgoC,UAAU18B,QAAQ,WACvBtL,KAAKmoC,MAAQ,aACbnoC,KAAK+nC,QAAU14B,SAASrP,KAAKgoC,UAAUvtB,UAAU,EAAGza,KAAKgoC,UAAU9mC,UAEvElB,KAAK2yB,IAAMuV,EAAO,OAEjB,GAAwC,MAApCloC,KAAK8nC,UAAUjb,OAAO7sB,KAAK2yB,MAAgB3yB,KAAK2yB,IAAM3yB,KAAK8nC,UAAU5mC,OAAS,GAA6C,MAAxClB,KAAK8nC,UAAUjb,OAAO7sB,KAAK2yB,IAAM,GACzH3yB,KAAK2yB,KAAO,EACZuV,EAAOloC,KAAK8nC,UAAUx8B,QAAQ,KAAMtL,KAAK2yB,KACzC3yB,KAAKmoC,MAAQ,WACbnoC,KAAKgoC,UAAYhoC,KAAK8nC,UAAUrtB,UAAUza,KAAK2yB,IAAKuV,GACpDloC,KAAK2yB,IAAMuV,EAAO,MAEjB,CACDloC,KAAKmoC,MAAQ,OACb,IAAIC,EAAQpoC,KAAK8nC,UAAUx8B,QAAQ,IAAKtL,KAAK2yB,KACzCyV,EAAQ,IACRA,EAAQpoC,KAAK8nC,UAAU5mC,QAC3B,IAAImnC,EAAQroC,KAAK8nC,UAAUx8B,QAAQ,KAAMtL,KAAK2yB,KAC1C0V,EAAQ,IACRA,EAAQroC,KAAK8nC,UAAU5mC,QAC3BgnC,EAAO97B,KAAKE,IAAI87B,EAAOC,GACvBroC,KAAKgoC,UAAYhoC,KAAK8nC,UAAUrtB,UAAUza,KAAK2yB,IAAKuV,GAAMlnC,OAC1DhB,KAAK2yB,IAAMuV,EAEf,OAAO,GAKXL,EAAa7oC,UAAUspC,SAAW,WAC9B,MAAO,CACHhqB,KAAMte,KAAKmoC,MACX7tB,KAAMta,KAAKgoC,UACXn8B,MAAO7L,KAAK+nC,QAAU,IAM9BF,EAAa7oC,UAAU4W,MAAQ,WAE3B,IADA,IAAIzT,EAAS,GACNnC,KAAK2jC,QACRxhC,EAAO4D,KAAK/F,KAAKsoC,YAErB,OAAOnmC,GAEJ0lC,EAjFsB,IHDjC,SAAWH,GAKPA,EAASA,EAAe,KAAI,GAAK,OAEjCA,EAASA,EAAc,IAAI,GAAK,MAKhCA,EAASA,EAAiB,OAAI,GAAK,SAEnCA,EAASA,EAAc,IAAI,GAAK,MAdpC,CAeGA,IAAaA,EAAW,MCZhBC,EAgGR,IAAY,EAAU,KA7EbY,YAZR,SAAqBC,EAAOC,GACxB,IAAItmC,EAASqmC,EASb,OARc,MAAVrmC,GAAkBA,EAAOjB,OAAS,GACM,KAApCiB,EAAO0qB,OAAO1qB,EAAOjB,OAAS,KAC9BiB,GAAU,KACdA,GAAUsmC,GAGVtmC,EAASsmC,EAENtmC,GAqBXwlC,EAAQe,cAdR,SAAuBzmC,GACnB,MAAW,OAAPA,EACOylC,EAASiB,IAEJ,UAAP1mC,EACEylC,EAASkB,OAEJ,OAAP3mC,EACEylC,EAASmB,IAGTnB,EAAS7X,MAsBxB8X,EAAQmB,cAdR,SAAuBxqB,GACnB,OAAIA,IAASopB,EAASiB,IACX,MAEFrqB,IAASopB,EAASkB,OAChB,SAEFtqB,GAAQopB,EAASmB,IACf,MAGA,QAmBflB,EAAQoB,oBAXR,SAA6BC,GACzB,IAAIhhC,EAAS,IAAKvB,QAAQ,YAAauiC,EAASh+B,GAAI,UAQpD,OAPKhD,IACDA,EAAS,IAAKvB,QAAQ,YAAauiC,EAASh+B,GAAI,kBAE/ChD,IACDA,EAASghC,EAASC,eAET,IAAIpB,EAAa7/B,GAChB4N,SAwBlB+xB,EAAQuB,aAdR,SAAsB7qC,EAAO8qC,EAAcC,GACvC,OAAQA,GACJ,KAAK,IAAS1gC,OACV,OAAOrK,EACX,KAAM,IAASy2B,QAAS,IAASjsB,KAAM,IAASE,MAAO,IAASC,MAAO,IAASF,KAC5E,IAAIugC,EAASh6B,SAAShR,GACtB,OAAOsP,MAAM07B,GAAU,GAAKA,EAAOhiC,WACvC,KAAM,IAAS6B,SAAU,IAASD,MAC9B,IAAIqgC,EAAW17B,WAAWvP,GAC1B,OAAOsP,MAAM27B,GAAY,GAAKA,EAASjiC,WAC3C,QACI,MAAO,KChGvB,SAAWugC,GAIP,IAAI2B,EACA,WAIIvpC,KAAKwpC,eAAiB,CAClB,CAAEx+B,GAAI,WAAYrM,IAAK,QAAS8qC,WAAW,GAC3C,CAAEz+B,GAAI,eAAgBrM,IAAK,aAC3B,CAAEqM,GAAI,cAAerM,IAAK,YAC1B,CAAEqM,GAAI,qBAAsBrM,IAAK,mBACjC,CAAEqM,GAAI,oBAAqBrM,IAAK,mBAKpCqB,KAAK0pC,eAAiB,CAClB,CAAE1+B,GAAI,SAAUrM,IAAK,MAAO8qC,WAAW,GACvC,CAAEz+B,GAAI,eAAgBrM,IAAK,aAC3B,CAAEqM,GAAI,cAAerM,IAAK,YAC1B,CAAEqM,GAAI,UAAWrM,IAAK,SAK1BqB,KAAK2pC,cAAgB,CACjB,CAAE3+B,GAAI,WAAYrM,IAAK,SACvB,CAAEqM,GAAI,UAAWrM,IAAK,OAAQ8qC,WAAW,KAQrD7B,EAASgC,WAAa,IAAIL,EAI1B3B,EAASiC,sBAAwB,CAC7B,CAAE7+B,GAAI,MAAOrM,IAAK,eAClB,CAAEqM,GAAI,MAAOrM,IAAK,eAClB,CAAEqM,GAAI,OAAQrM,IAAK,gBACnB,CAAEqM,GAAI,SAAUrM,IAAK,mBA9C7B,CAgDGipC,IAAaA,EAAW,KE9C3B,ICFQl1B,ECAGo3B,EFEPC,EAA8B,WAE9B,SAASA,IACL/pC,KAAKgL,GAAK,GACVhL,KAAKgW,QAAU,GACfhW,KAAKgqC,QAAU,GACfhqC,KAAKipC,cAAgB,GACrBjpC,KAAKiqC,aAAe,GAexB,OATAF,EAAa/qC,UAAUoX,aAAe,SAAU8zB,GACxCA,IACAlqC,KAAKgL,GAAKk/B,EAAal/B,GACvBhL,KAAKgW,QAAUk0B,EAAa3xB,KAC5BvY,KAAKipC,cAAgBiB,EAAaC,IAClCnqC,KAAKgqC,QAAUE,EAAa9xB,KAC5BpY,KAAKiqC,aAAeC,EAAaE,QAAUpqC,KAAKiqC,eAGjDF,EAtBsB,GCH7Bz2B,GACIZ,EAAgB,SAAUhV,EAAG0I,GAI7B,OAHAsM,EAAgB5U,OAAOyV,gBAClB,CAAEC,UAAW,cAAgBvJ,OAAS,SAAUvM,EAAG0I,GAAK1I,EAAE8V,UAAYpN,IACvE,SAAU1I,EAAG0I,GAAK,IAAK,IAAIlH,KAAKkH,EAAOA,EAAEnH,eAAeC,KAAIxB,EAAEwB,GAAKkH,EAAElH,MACpDxB,EAAG0I,IAErB,SAAU1I,EAAG0I,GAEhB,SAASqN,IAAOzT,KAAK0T,YAAchW,EADnCgV,EAAchV,EAAG0I,GAEjB1I,EAAEsB,UAAkB,OAANoH,EAAatI,OAAOY,OAAO0H,IAAMqN,EAAGzU,UAAYoH,EAAEpH,UAAW,IAAIyU,KAOnF42B,EAA+B,SAAUv2B,GAGzC,SAASu2B,IACL,OAAOv2B,EAAOvW,KAAKyC,OAASA,KAiBhC,OApBAsT,EAAU+2B,EAAev2B,GASzBu2B,EAAcrrC,UAAUoX,aAAe,SAAU/V,GAC7CyT,EAAO9U,UAAUoX,aAAa7Y,KAAKyC,KAAMK,GACrCA,IACIA,EAAKiqC,MACLtqC,KAAKuqC,UAAYlqC,EAAKiqC,KAEtBjqC,EAAKmqC,cACLxqC,KAAKwqC,YAAcnqC,EAAKmqC,eAI7BH,EArBuB,CAsBhC,MCrCF,SAAWP,GAEPA,EAASA,EAAiB,OAAI,GAAK,SAEnCA,EAASA,EAAgB,MAAI,GAAK,QAElCA,EAASA,EAAoB,UAAI,GAAK,YAEtCA,EAASA,EAAe,KAAI,GAAK,OAEjCA,EAASA,EAAgB,MAAI,GAAK,QAElCA,EAASA,EAAuB,aAAI,GAAK,eAZ7C,CAaGA,IAAaA,EAAW,KCT3B,ICLWW,EDKP,EAA0B,WAE1B,SAASC,IACL1qC,KAAKgL,GAAK,GACVhL,KAAKoY,KAAO,GACZpY,KAAK2qC,iBAAmB,UACxB3qC,KAAKgW,QAAU,0BACfhW,KAAKipC,cAAgB,8CACrBjpC,KAAK4qC,SAAU,EACf5qC,KAAK6qC,SAAU,EACf7qC,KAAK8qC,WAAa,EAClB9qC,KAAK+qC,eAAiB,IAAI,EAC1B/qC,KAAKiqC,aAAe,GACpBjqC,KAAKgrC,SAAW,IAAI/gC,MAmCxB,OA5BAygC,EAAS1rC,UAAUoX,aAAe,SAAUC,EAAOhW,GAC/C,GAAIA,IACAL,KAAKgL,GAAK3K,EAAK2K,GACfhL,KAAKgW,QAAU3V,EAAKkY,KACpBvY,KAAK6qC,QAAUxqC,EAAKwqC,QACpB7qC,KAAK4qC,QAAUvqC,EAAKuqC,QACpB5qC,KAAKipC,cAAgB5oC,EAAK8pC,IAC1BnqC,KAAK8qC,WAAazqC,EAAK4qC,KACvBjrC,KAAKoY,KAAO/X,EAAK+X,KACjBpY,KAAKiqC,aAAe5pC,EAAK+pC,QAAUpqC,KAAKiqC,aACpC5pC,EAAK6qC,YACLlrC,KAAK+qC,eAAe30B,aAAaC,EAAOhW,EAAK6qC,YAE7C7qC,EAAKsb,SACL3b,KAAK+qC,eAAepvB,OAAStF,EAAMuD,cAAcvZ,EAAKsb,SAAW,IAAI0uB,GAErEhqC,EAAK2qC,UACL,IAAK,IAAI5tC,EAAI,EAAGA,EAAIiD,EAAK2qC,SAAS9pC,OAAQ9D,IAAK,CAC3C,IAAI+tC,EAAa,IAAI,EACrBA,EAAW/0B,aAAaC,EAAOhW,EAAK2qC,SAAS5tC,IACzCiD,EAAKsb,SACLwvB,EAAWxvB,OAAStF,EAAMuD,cAAcvZ,EAAKsb,SAAW,IAAI0uB,GAEhErqC,KAAKgrC,SAASjlC,KAAKolC,KAK5BT,EAhDkB,GAsDzB,EAAyB,WAEzB,SAASU,IACLprC,KAAKqY,KAAOyxB,EAASuB,OACrBrrC,KAAK+H,SAAW,IAASvI,QACzBQ,KAAK2b,OAAS,IAAI0uB,EAClBrqC,KAAKia,SAAW,GAwBpB,OAjBAmxB,EAAQpsC,UAAUoX,aAAe,SAAUC,EAAOi1B,GAC9CtrC,KAAKqY,KAAOizB,EAAQjzB,KACpBrY,KAAK+H,SAAWujC,EAAQ99B,MACxBxN,KAAKia,SAAWqxB,EAAQh+B,IACxBtN,KAAKurC,QAAUD,EAAQE,IAEnBF,EAAQ3vB,SACR3b,KAAK2b,OAAStF,EAAMuD,cAAc0xB,EAAQ3vB,SAAW,IAAI0uB,IAOjEe,EAAQpsC,UAAUysC,SAAW,SAAUC,GACnC,IAAUliC,OAAOxJ,KAAM0rC,IAEpBN,EA9BiB,GE5DxB,EAAwC,WACxC,IAAI14B,EAAgB,SAAUhV,EAAG0I,GAI7B,OAHAsM,EAAgB5U,OAAOyV,gBAClB,CAAEC,UAAW,cAAgBvJ,OAAS,SAAUvM,EAAG0I,GAAK1I,EAAE8V,UAAYpN,IACvE,SAAU1I,EAAG0I,GAAK,IAAK,IAAIlH,KAAKkH,EAAOA,EAAEnH,eAAeC,KAAIxB,EAAEwB,GAAKkH,EAAElH,MACpDxB,EAAG0I,IAE5B,OAAO,SAAU1I,EAAG0I,GAEhB,SAASqN,IAAOzT,KAAK0T,YAAchW,EADnCgV,EAAchV,EAAG0I,GAEjB1I,EAAEsB,UAAkB,OAANoH,EAAatI,OAAOY,OAAO0H,IAAMqN,EAAGzU,UAAYoH,EAAEpH,UAAW,IAAIyU,IAV3C,GAiBxCk4B,EAAwB,SAAU73B,GAGlC,SAAS63B,EAAO51B,GACZ,IAAIvU,EAAQsS,EAAOvW,KAAKyC,KAAM+V,IAAW/V,KAIzC,OAHAwB,EAAMoqC,iBAAkB,EACxBpqC,EAAMqqC,aAAc,EACpBrqC,EAAMsqC,cAAe,EACdtqC,EAkBX,OAzBA,EAAUmqC,EAAQ73B,GAclB63B,EAAO3sC,UAAUoX,aAAe,SAAUC,EAAOhW,GAC7CyT,EAAO9U,UAAUoX,aAAa7Y,KAAKyC,KAAMqW,EAAOhW,GAC5CA,IACAL,KAAK4rC,gBAAkBvrC,EAAK0rC,IAC5B/rC,KAAK6rC,YAAcxrC,EAAK2rC,IACxBhsC,KAAK8rC,aAAezrC,EAAK4rC,MAGjCN,EAAO3sC,UAAU+X,KAAO,SAAUC,EAAkBC,GAChDnD,EAAO9U,UAAU+X,KAAKxZ,KAAKyC,MAAM,SAAUuX,EAAML,GAAQ,OAAOF,GAAoBA,EAAiBO,EAAML,MAAU,SAAUG,EAAQH,GAAQ,OAAOD,GAAiBA,EAAcI,EAAQH,OAE1Ly0B,EA1BgB,CA2BzB,KAKEO,EAA4B,SAAUp4B,GAGtC,SAASo4B,EAAW70B,GAChB,IAAI7V,EAAQsS,EAAOvW,KAAKyC,KAAMqX,IAAWrX,KAYzC,OARAwB,EAAMuf,OAAS,GACfvf,EAAMoqC,iBAAkB,EACxBpqC,EAAMqqC,aAAc,EACpBrqC,EAAMsqC,cAAe,EACrBtqC,EAAM2qC,gBAAkB,GACxB3qC,EAAM4qC,UAAY,IAAIniC,MACtBzI,EAAM2W,WAAa,GACnB3W,EAAM4W,KAAO,GACN5W,EAoBX,OAnCA,EAAU0qC,EAAYp4B,GAsBtBo4B,EAAWltC,UAAUoX,aAAe,SAAUC,EAAOhW,GACjDyT,EAAO9U,UAAUoX,aAAa7Y,KAAKyC,KAAMqW,EAAOhW,GAC5CA,IACAL,KAAK4rC,gBAAkBvrC,EAAK0rC,IAC5B/rC,KAAK6rC,YAAcxrC,EAAK2rC,IACxBhsC,KAAK8rC,aAAezrC,EAAK4rC,IACzBjsC,KAAKoY,KAAO/X,EAAKiqC,IACjBtqC,KAAKmsC,gBAAkB9rC,EAAKgsC,YAC5BrsC,KAAKosC,UAAY/rC,EAAKisC,IAClBjsC,EAAKmZ,QACLxZ,KAAKyZ,SAAWpZ,EAAKmZ,SAG1B0yB,EApCoB,CAqC7B,KCtFEv4B,EAAsC,WAStC,OARAA,EAAW7V,OAAO0L,QAAU,SAASlL,GACjC,IAAK,IAAIa,EAAG/B,EAAI,EAAGyB,EAAI8H,UAAUzF,OAAQ9D,EAAIyB,EAAGzB,IAE5C,IAAK,IAAI8B,KADTC,EAAIwH,UAAUvJ,GACOU,OAAOkB,UAAUC,eAAe1B,KAAK4B,EAAGD,KACzDZ,EAAEY,GAAKC,EAAED,IAEjB,OAAOZ,IAEKsV,MAAM5T,KAAM2G,YAIrB4lC,EAAc54B,EAAS,GAAI,IAAW,CAE7C64B,QAAS,UAETC,SAAU,WAEVC,mBAAoB,wBFjBxB,SAAWjC,GAEPA,EAAQA,EAAiB,QAAI,GAAK,UAElCA,EAAQA,EAAkB,SAAI,GAAK,WAEnCA,EAAQA,EAAyB,gBAAI,GAAK,kBAE1CA,EAAQA,EAA+B,sBAAI,GAAK,wBAEhDA,EAAQA,EAA2B,kBAAI,GAAK,oBAE5CA,EAAQA,EAAsB,aAAI,GAAK,eAEvCA,EAAQA,EAAe,MAAI,IAAM,QAEjCA,EAAQA,EAAmB,UAAI,IAAM,YAhBzC,CAiBGA,IAAYA,EAAU,KGnBzB,ICAWkC,EASAC,ECLAC,EFJPC,EAAsB,WACtB,SAASA,EAAKzuC,QACI,IAAVA,IAAoBA,EAAQ,MAChC2B,KAAK+sC,OAAS,GACd/sC,KAAK3B,MAAQ,KACb2B,KAAK+V,OAAS,KACV1X,IACI4L,MAAMC,QAAQ7L,IACd2B,KAAK3B,MAAQA,EAAM,GACfA,EAAM6C,OAAS,GACflB,KAAKipB,SAAS,IAAI6jB,EAAKzuC,EAAMujB,MAAM,MAGlCvjB,aAAiByuC,GACtB9sC,KAAK3B,MAAQA,EAAMA,MACnB2B,KAAK+sC,OAAS1uC,EAAM0uC,QAGpB/sC,KAAK3B,MAAQA,GAoCzB,OAhCAyuC,EAAK9tC,UAAUumC,SAAW,SAAUlnC,GAChC,GAAI2B,KAAK3B,QAAUA,EACf,OAAO,EACX,IAAK,IAAIwC,EAAK,EAAGqQ,EAAKlR,KAAK+sC,OAAQlsC,EAAKqQ,EAAGhQ,OAAQL,IAAM,CAErD,GADYqQ,EAAGrQ,GACL0kC,SAASlnC,GACf,OAAO,EAEf,OAAO,GAEXyuC,EAAK9tC,UAAUguC,SAAW,SAAU3uC,GAChC,GAAI2B,KAAK3B,QAAUA,EACf,OAAO2B,KACX,IAAK,IAAIa,EAAK,EAAGqQ,EAAKlR,KAAK+sC,OAAQlsC,EAAKqQ,EAAGhQ,OAAQL,IAAM,CACrD,IACIsB,EADQ+O,EAAGrQ,GACImsC,SAAS3uC,GAC5B,GAAI8D,EACA,OAAOA,EAEf,OAAO,MAEX2qC,EAAK9tC,UAAUiqB,SAAW,SAAUgkB,GAChCA,EAAMl3B,OAAS/V,KACfA,KAAK+sC,OAAOhnC,KAAKknC,IAErBH,EAAK9tC,UAAUkuC,WAAa,WACxB,IAAK,IAAIrsC,EAAK,EAAGqQ,EAAKlR,KAAK+sC,OAAQlsC,EAAKqQ,EAAGhQ,OAAQL,IAAM,CACrD,IAAIosC,EAAQ/7B,EAAGrQ,GACfosC,EAAMl3B,OAAS/V,KACfitC,EAAMC,eAGPJ,EAtDc,GGArB,EAAwC,WACxC,IAAIp6B,EAAgB,SAAUhV,EAAG0I,GAI7B,OAHAsM,EAAgB5U,OAAOyV,gBAClB,CAAEC,UAAW,cAAgBvJ,OAAS,SAAUvM,EAAG0I,GAAK1I,EAAE8V,UAAYpN,IACvE,SAAU1I,EAAG0I,GAAK,IAAK,IAAIlH,KAAKkH,EAAOA,EAAEnH,eAAeC,KAAIxB,EAAEwB,GAAKkH,EAAElH,MACpDxB,EAAG0I,IAE5B,OAAO,SAAU1I,EAAG0I,GAEhB,SAASqN,IAAOzT,KAAK0T,YAAchW,EADnCgV,EAAchV,EAAG0I,GAEjB1I,EAAEsB,UAAkB,OAANoH,EAAatI,OAAOY,OAAO0H,IAAMqN,EAAGzU,UAAYoH,EAAEpH,UAAW,IAAIyU,IAV3C,GA0BxC,EAA2B,SAAUK,GAGrC,SAASq5B,IACL,IAAI3rC,EAAQsS,EAAOvW,KAAKyC,OAASA,KAWjC,OAVAwB,EAAMmZ,WAAa,KACnBnZ,EAAM4qC,UAAY,IAAIniC,MACtBzI,EAAMoZ,WAAa,IAAI+wB,EACvBnqC,EAAM4rC,cAAgB,IAAInjC,MAC1BzI,EAAM6rC,WAAa,CAAC,aAAc,iBAC9B,gBAAiB,uBAAwB,sBACzC,sBAAuB,sBAAuB,0BAA2B,2BACzE,2BAA4B,0BAA2B,0BAA2B,2BACtF7rC,EAAM8rC,WAAa,CAAC,WAAY,iBAAkB,gBAAiB,aACnE9rC,EAAM+rC,MAAQ,GACP/rC,EA00BX,OAx1BA,EAAU2rC,EAAWr5B,GAoBrBq5B,EAAUnuC,UAAU6b,cAAgB,WAChC,OAAO7a,KAAK2a,YAMhBwyB,EAAUnuC,UAAU8b,aAAe,SAAUC,GACzC,IAAI1E,EAAQjB,KAAKQ,MAAMmF,GACvB/a,KAAKoW,aAAaC,IAMtB82B,EAAUnuC,UAAUoX,aAAe,SAAU/V,GAIzC,GAHAyT,EAAO9U,UAAUoX,aAAa7Y,KAAKyC,KAAMK,GAEzCL,KAAKosC,UAAY,IAAIniC,MACjB5J,EAAK+rC,UACL,IAAK,IAAIhvC,EAAI,EAAGA,EAAIiD,EAAK+rC,UAAUlrC,OAAQ9D,IAAK,CAC5C,IAAIowC,EAAc,IAAI,EACtBA,EAAYp3B,aAAapW,KAAMK,EAAK+rC,UAAUhvC,IAC9C4C,KAAKosC,UAAUrmC,KAAKynC,GAO5B,GAHAxtC,KAAK4a,WAAWxE,aAAapW,KAAMK,EAAK+a,SAExCpb,KAAKotC,cAAgB,IAAInjC,MACrB5J,EAAKotC,UACL,IAASrwC,EAAI,EAAGA,EAAIiD,EAAKotC,UAAUvsC,OAAQ9D,IAAK,CAC5C,IAAIswC,EAAc,IAAI3D,EACtB2D,EAAYt3B,aAAa/V,EAAKotC,UAAUrwC,IACxC4C,KAAKotC,cAAcrnC,KAAK2nC,KAQpCP,EAAUnuC,UAAU2uC,UAAY,WAC5B,OAAO3tC,MAMXmtC,EAAUnuC,UAAUqc,QAAU,SAAUhF,GACf,iBAAVA,EACPrW,KAAK8a,aAAazE,GAGlBrW,KAAKoW,aAAaC,IAQ1B82B,EAAUnuC,UAAU2X,aAAe,SAAUZ,GACzC,OAAO,IAAI41B,EAAO51B,IAOtBo3B,EAAUnuC,UAAU8X,iBAAmB,SAAUf,GAC7C,OAAO,IAAIm2B,EAAWn2B,IAM1Bo3B,EAAUnuC,UAAU4uC,YAAc,WAC9B,OAAO,IAAI,EAAM5tC,OAMrBmtC,EAAUnuC,UAAUyc,cAAgB,WAChC,OAAOzb,KAAK4a,YAOhBuyB,EAAUnuC,UAAU4a,cAAgB,SAAU8B,GAC1C,OAAO5H,EAAO9U,UAAU4a,cAAcrc,KAAKyC,KAAM0b,IAQrDyxB,EAAUnuC,UAAU4c,iBAAmB,SAAUC,GAC7C,IAAItE,EAAOvX,KAAK8b,kBAAkB9b,KAAKyb,gBAAiBI,GACxD,OAAKtE,GACM,MAUf41B,EAAUnuC,UAAU+c,kBAAoB,SAAUF,EAAQ1N,GACtD,IAAI6N,EAAYhc,KAAK4b,iBAAiBC,GACtC,GAAIG,EAAW,CACX,QAAmC,IAAxBA,EAAU7N,GACjB,KAAM,qBAAuBA,EAEjC,QAAI6N,EAAU7N,MAGL6N,EAAU7D,aACf0D,EAASG,EAAU7D,YACnB6D,EAAYhc,KAAK4b,iBAAiBC,KACdG,EAAU7N,IAOlC,OAAO,GASfg/B,EAAUnuC,UAAU8c,kBAAoB,SAAUzE,EAAQwE,GACtD,OAAO/H,EAAO9U,UAAU8c,kBAAkBve,KAAKyC,KAAMqX,EAAQwE,IAEjEsxB,EAAUnuC,UAAU6uC,wBAA0B,SAAUx2B,EAAQ8E,GAC5D,IACInG,EADA7T,EAAS,IAAI8H,MAEbmS,EAAM,KACV,GAAI/E,EAAOlB,YAEP,IADA,IAAIqB,EAAiBH,EAAOlB,YAAYjV,OAC/Bmb,EAAS,EAAGA,EAAS7E,EAAgB6E,IAAU,CAEpD,GADAD,EAAM/E,EAAOlB,YAAYkG,IACpBF,GAAcA,EAAWC,EAAK,OAC/BpG,EAAU,IAAKvP,QAAQ,WAAY2V,EAAIze,SAEnCqY,EAAUoG,EAAIpG,UAEdsG,EAAS,IAAU9S,OAAO,IAAImiC,EAAU,CAAE3gC,GAAIoR,EAAIze,KAAM2c,KAAMtE,EAASuG,MAAO,GAAIC,UAAU,KACzFD,MAAQvc,KAAK6tC,wBAAwBzxB,EAAKD,GAC7CG,EAAOC,MAAMrb,OAAS,GACtBiB,EAAO4D,KAAKuW,GAI5B,IAAI/E,EAAO,KACX,GAAIF,EAAOnB,WAEP,IADA,IAAIoB,EAAYD,EAAOnB,WAAWhV,OACzBub,EAAU,EAAGA,EAAUnF,EAAWmF,IAEvC,GADAlF,EAAOF,EAAOnB,WAAWuG,IACpBN,GAAcA,EAAW9E,EAAQE,GAAO,EACzCvB,EAAU,IAAKvP,QAAQ,aAAc8Q,EAAKvM,OAEtCgL,EAAUuB,EAAKvB,SACnB,IAAIsG,EAAS,IAAU9S,OAAO,IAAImiC,EAAU,CAAE3gC,GAAIuM,EAAKvM,GAAIsP,KAAMtE,EAASjO,SAAUwP,EAAKxP,WACzF5F,EAAO4D,KAAKuW,GAIxB,OAAOna,GAEXgrC,EAAUnuC,UAAU8uC,cAAgB,SAAUz2B,EAAQH,EAAMiF,GACxDjF,EAAOA,GAAQ,GACf,IAEIlB,EAFA2G,EAAiB,GACjBC,EAAmB,GAEnBR,EAAM,KACV,GAAI/E,EAAOlB,YAEP,IADA,IAAIqB,EAAiBH,EAAOlB,YAAYjV,OAC/Bmb,EAAS,EAAGA,EAAS7E,EAAgB6E,IAE1C,GADAD,EAAM/E,EAAOlB,YAAYkG,KACpBF,GAAcA,EAAWC,EAAK,UACX,IAAhBlF,EAAK62B,SAA4C,IAAxB3xB,EAAIwvB,kBACb,IAAhB10B,EAAK82B,SAAwC,IAApB5xB,EAAIyvB,cACb,IAAhB30B,EAAK+2B,SAAyC,IAArB7xB,EAAI0vB,cAAwB,CACrD91B,EAAU,IAAKvP,QAAQ,WAAY2V,EAAIze,OAASye,EAAIpG,QACpD,IAAIsG,EAAS,IAAU9S,OAAO,IAAImiC,EAAU,CACxC3gC,GAAIoR,EAAIze,KACR2c,KAAMtE,EACNuG,MAAO,GACPC,UAAU,EACVvG,YAAamG,EAAInG,cAEjB4G,EAAU,IAAUrT,OAAO,GAAI0N,GACnC2F,EAAQC,iBAAkB,EAC1BR,EAAOC,MAAQvc,KAAK8tC,cAAc1xB,EAAKS,EAASV,GAC5CG,EAAOC,MAAMrb,OAAS,GACtByb,EAAe5W,KAAKuW,GAMxC,IAAI/E,EAAO,KACX,GAAIF,EAAOnB,WAEP,IADA,IAAIoB,EAAYD,EAAOnB,WAAWhV,OACzBub,EAAU,EAAGA,EAAUnF,EAAWmF,IACvClF,EAAOF,EAAOnB,WAAWuG,GACpBN,IAAcA,EAAW9E,EAAQE,MACd,IAAhBL,EAAK62B,SAA6C,IAAzBx2B,EAAKq0B,kBACd,IAAhB10B,EAAK82B,SAAyC,IAArBz2B,EAAKs0B,cACd,IAAhB30B,EAAK+2B,SAA0C,IAAtB12B,EAAKu0B,gBAC9B91B,EAAU,IAAKvP,QAAQ,aAAc8Q,EAAKvM,KAAOuM,EAAKvB,QACtD4G,EAAiB7W,KAAK,IAAUyD,OAAO,IAAI0iC,EAAW70B,GAAS,CAAErM,GAAIuM,EAAKvM,GAAIsP,KAAMtE,EAASjO,SAAUwP,EAAKxP,SAAUoQ,WAAYZ,EAAKY,WAAYlC,YAAasB,EAAKtB,gBAKrL,IAaI9T,EAbA4a,EAAY,SAAU5W,EAAGC,GACzB,OAAID,EAAEmU,KAAKlM,eAAiBhI,EAAEkU,KAAKlM,cACxB,EAEPjI,EAAEmU,KAAKlM,cAAgBhI,EAAEkU,KAAKlM,cACvB,GAEH,GAgBZ,OAdI8I,EAAK8F,eACLL,EAAezW,KAAK6W,GACpBH,EAAiB1W,KAAK6W,IAOtB5a,EAJC+U,EAAK+F,eAAuC,GAAtB/F,EAAK+F,cAInBL,EAAiBM,OAAOP,GAHxBA,EAAeO,OAAON,GAKT,GAAtB1F,EAAK+F,eACL9a,EAAO+D,KAAK6W,GAEZ7F,EAAK4F,kBACL9G,EAAU,IAAKvP,QAAQ,WAAY4Q,EAAO1Z,SAEtCqY,EAAUqB,EAAOrB,SACd,CAAEhL,GAAIqM,EAAO1Z,KAAM2c,KAAMtE,EAASuG,MAAOpa,IAGzCA,GAMfgrC,EAAUnuC,UAAUme,MAAQ,WACxBrJ,EAAO9U,UAAUme,MAAM5f,KAAKyC,MAC5BA,KAAKosC,UAAY,GACjBpsC,KAAKotC,cAAgB,IAOzBD,EAAUnuC,UAAUkvC,oBAAsB,SAAUl5B,GAChD,IAAIgvB,EAAK,IAAUl5B,aAAa9K,KAAKosC,UAAWp3B,EAAKhK,IAqBrD,OApBKg5B,KACDA,EAAK,IAAI,GACNh5B,GAAKgK,EAAKhK,GACbhL,KAAKosC,UAAUrmC,KAAKi+B,IAExBA,EAAGhuB,QAAUhB,EAAKgB,QAClBguB,EAAG5rB,KAAOpD,EAAKoD,MAAQ,GACvB4rB,EAAGiF,cAAgBj0B,EAAKhN,OACxBg8B,EAAG+G,eAAiB,IAAI,EACxB/G,EAAG+G,eAAe1yB,KAAOrD,EAAKqD,MAAQyxB,EAASuB,OAC3Cr2B,EAAKi1B,eACLjG,EAAGiG,aAAej1B,EAAKi1B,cACvBj1B,EAAK81B,WAAa,IAClB9G,EAAG8G,WAAa91B,EAAK81B,YAEzB9qC,KAAKme,oBAAmB,SAAU5G,EAAML,GAChCK,EAAK60B,UAAU9gC,QAAQ04B,EAAGh5B,IAAM,GAAKg5B,EAAGiG,aAAa3+B,QAAQiM,EAAKxP,WAAa,GAC/EwP,EAAK60B,UAAUrmC,KAAKi+B,EAAGh5B,OAGxBg5B,GAQXmJ,EAAUnuC,UAAUmvC,eAAiB,SAAUnjC,EAAIojC,QAClC,IAATA,IAAmBA,GAAO,GAC9B,IAAIpK,EAAK,IAAUl5B,aAAa9K,KAAKosC,UAAWphC,GAC5Cg5B,IACKoK,GACD,IAAUxiC,gBAAgB5L,KAAKosC,UAAWpI,GAC9ChkC,KAAKme,oBAAmB,SAAU5G,EAAML,GACpC,IAAUtL,gBAAgB2L,EAAK60B,UAAWpI,EAAGh5B,SASzDmiC,EAAUnuC,UAAUqvC,yBAA2B,SAAU/vB,GACrD,OAAQA,GACJ,KAAK,IAAS5V,OACd,KAAK,IAASC,KACV,MAAO,sHAAsH1H,MAAM,KACvI,KAAK,IAASqtC,KACV,MAAO,iBAAiBrtC,MAAM,KAClC,KAAK,IAASmE,KACd,KAAK,IAAS1F,SACV,MAAO,4MAA4MuB,MAAM,KAC7N,KAAK,IAASiH,KACV,MAAO,wEAAwEjH,MAAM,KACzF,KAAK,IAAS4H,KACd,KAAK,IAASC,KACd,KAAK,IAASC,MACd,KAAK,IAASC,MACd,KAAK,IAASC,MACd,KAAK,IAASC,SACd,KAAK,IAASqlC,IACd,KAAK,IAASzZ,QACd,KAAK,IAASt1B,QACV,MAAO,sHAAsHyB,MAAM,KACvI,KAAK,IAAS8zB,KACV,MAAO,iBAAiB9zB,MAAM,KAClC,QAEI,IADA,IAAIkB,EAAS,GACJtB,EAAK,EAAGqQ,EAAKlR,KAAKosC,UAAWvrC,EAAKqQ,EAAGhQ,OAAQL,IAAM,CACxD,IAAImjC,EAAK9yB,EAAGrQ,GACRmjC,EAAGiG,aAAa3+B,QAAQgT,IAAS,GACjCnc,EAAO4D,KAAKi+B,EAAGh5B,IAEvB,OAAO7I,IAOnBgrC,EAAUnuC,UAAUwvC,eAAiB,SAAUC,GAC3C,IAAIp3B,EAASrX,KAAK2a,YAAc3a,KAAK4a,WACjC8zB,EAAO1uC,KAAK2uC,yBAAyBt3B,GAEzC,OADAq3B,EAAKxB,aACEwB,GAEXvB,EAAUnuC,UAAU2vC,yBAA2B,SAAUt3B,GAErD,IADA,IAAIq3B,EAAO,IAAI5B,EAAKz1B,GACXxW,EAAK,EAAGqQ,EAAKmG,EAAOlB,YAAatV,EAAKqQ,EAAGhQ,OAAQL,IAAM,CAC5D,IAAI+tC,EAAc19B,EAAGrQ,GACrB6tC,EAAKzlB,SAASjpB,KAAK2uC,yBAAyBC,IAEhD,OAAOF,GAMXvB,EAAUnuC,UAAU6vC,mBAAqB,SAAUJ,GAC/C,GAAIA,EAAMp4B,MAAMrL,KAAOhL,KAAKgL,GACxB,MAAMiJ,MAAM,mBAGhB,IAFA,IAAI66B,EAAW,GAENjuC,EAAK,EAAGkuC,EADHN,EAAMnV,aACkBz4B,EAAKkuC,EAAU7tC,OAAQL,IAAM,CAC/D,IAAI+hB,EAASmsB,EAAUluC,GAClB+hB,EAAOwU,SAEZp3B,KAAKgvC,sBAAsBF,EAAUlsB,EAAOxK,MAEhD,IAAI62B,EAAWR,EAAMS,mBAErB,OADAlvC,KAAKmvC,4BAA4BL,EAAUG,GACpCH,GAEX3B,EAAUnuC,UAAUmwC,4BAA8B,SAAUL,EAAUlxB,GAClE,IAAK,IAAI/c,EAAK,EAAGqQ,EAAK0M,EAAKwxB,gBAAiBvuC,EAAKqQ,EAAGhQ,OAAQL,IAAM,CAC9D,IAAIwuC,EAAYn+B,EAAGrQ,GACnB,GAAKwuC,EAAUC,UAaXtvC,KAAKmvC,4BAA4BL,EAAUO,QAZ3C,IAAK,IAAI90B,EAAK,EAAGC,EAAK60B,EAAUE,YAAah1B,EAAKC,EAAGtZ,OAAQqZ,IAAM,CAC/D,IAAInC,EAAOoC,EAAGD,GAEd,GADAva,KAAKgvC,sBAAsBF,EAAU12B,GACjCA,EAAK1R,KACL,IAAK,IAAI8oC,EAAK,EAAGC,EAAKr3B,EAAK1R,KAAM8oC,EAAKC,EAAGvuC,OAAQsuC,IAAM,CACnD,IAAIE,EAAMD,EAAGD,GACbxvC,KAAKgvC,sBAAsBF,EAAUY,OAU7DvC,EAAUnuC,UAAUgwC,sBAAwB,SAAUF,EAAU12B,GAC5D,GAAIA,EAAK2B,MAAQ0wB,EAAQkF,gBAAzB,CAEA,IAAI9zB,EAASzD,EAAKw3B,YAAcx3B,EAAK/Z,MACrC,GAAIwd,EAAQ,CACR,IAAItE,EAAOvX,KAAK4b,iBAAiBC,GAC7BtE,GACIA,EAAKF,QAAU,IAAUjM,iBAAiB0jC,EAAUv3B,EAAKF,QAAU,GACnEy3B,EAAS/oC,KAAKwR,EAAKF,WAWnC81B,EAAUnuC,UAAU6wC,SAAW,SAAUC,EAAYC,GACjD,IAAK,IAAIlvC,EAAK,EAAGqQ,EAAKlR,KAAKutC,MAAO1sC,EAAKqQ,EAAGhQ,OAAQL,IAAM,CACpD,IAAImvC,EAAO9+B,EAAGrQ,GACd,GAAImvC,EAAKF,YAAcA,GAChBE,EAAKD,UAAYA,EACpB,OAAOC,EAEf,OAAO,MAOX7C,EAAUnuC,UAAUixC,iBAAmB,SAAU54B,GAE7C,IADA,IAAIlV,EAAS,GACJtB,EAAK,EAAGqQ,EAAKlR,KAAKutC,MAAO1sC,EAAKqQ,EAAGhQ,OAAQL,IAAM,CACpD,IAAImvC,EAAO9+B,EAAGrQ,GACVmvC,EAAKF,YAAcz4B,GAAU24B,EAAKD,UAAY14B,GAC9ClV,EAAO4D,KAAKiqC,GAGpB,OAAO7tC,GASXgrC,EAAUnuC,UAAUue,gBAAkB,SAAUrG,EAAMiF,GAClD,OAAOnc,KAAK8tC,cAAc9tC,KAAKyb,gBAAiBvE,EAAMiF,IAQ1DgxB,EAAUnuC,UAAUwe,0BAA4B,SAAUrB,GACtD,OAAOnc,KAAK6tC,wBAAwB7tC,KAAKyb,gBAAiBU,IAQ9DgxB,EAAUnuC,UAAUye,wBAA0B,SAAU5B,EAAQ6B,GAE5D,OADAA,EAAMA,GAAO,IACN1d,KAAK2d,oBAAoB3d,KAAKyb,gBAAiBI,EAAQ6B,GAAK,IAUvEyvB,EAAUnuC,UAAU2e,oBAAsB,SAAUtG,EAAQwE,EAAQ6B,EAAKE,GACrE,OAAO9J,EAAO9U,UAAU2e,oBAAoBpgB,KAAKyC,KAAMqX,EAAQwE,EAAQ6B,EAAKE,IAQhFuvB,EAAUnuC,UAAU+e,iBAAmB,SAAUxG,EAAMvP,GACnD,OAAO8L,EAAO9U,UAAU+e,iBAAiBxgB,KAAKyC,KAAMuX,EAAMvP,IAE9DmlC,EAAUnuC,UAAUkxC,gBAAkB,WAClC,OAAOlwC,KAAKmwC,wBAAwBnwC,KAAKyb,kBAQ7C0xB,EAAUnuC,UAAUmxC,wBAA0B,SAAU94B,GACpD,IAA+B,IAA3BA,EAAOu0B,gBAA2B,CAClC,GAAIv0B,EAAOnB,WAEP,IADA,IAAIoB,EAAYD,EAAOnB,WAAWhV,OACzB9D,EAAI,EAAGA,EAAIka,EAAWla,IAC3B,GAAIia,EAAOnB,WAAW9Y,GAAGwuC,gBACrB,OAAOv0B,EAAOnB,WAAW9Y,GAIrC,GAAIia,EAAOlB,YACP,KAAIqB,EAAiBH,EAAOlB,YAAYjV,OACxC,IAAS9D,EAAI,EAAGA,EAAIoa,EAAgBpa,IAAK,CACrC,IAAI+E,EAASnC,KAAKmwC,wBAAwB94B,EAAOlB,YAAY/Y,IAC7D,GAAI+E,EACA,OAAOA,IAKvB,OAAO,MASXgrC,EAAUnuC,UAAUmf,mBAAqB,SAAUnH,EAAkBC,GACjEjX,KAAKyb,gBAAgB1E,KAAKC,EAAkBC,IAMhDk2B,EAAUnuC,UAAUof,0BAA4B,SAAUjC,GACtD,IAAIF,EAAM,KAOV,OANAjc,KAAKme,oBAAmB,SAAU5G,EAAML,GAChCiF,EAAW5E,KACXL,EAAKC,MAAO,EACZ8E,EAAM1E,KAEX,MACI0E,GAQXkxB,EAAUnuC,UAAUoxC,iBAAmB,SAAUC,GAC7C,GAAIrwC,KAAKosC,UAAUlrC,OAAS,EAExB,IADA,IAAIovC,EAAUtwC,KAAKosC,UAAUlrC,OACpBgK,EAAM,EAAGA,EAAMolC,EAASplC,IAC7B,GAAIlL,KAAKosC,UAAUlhC,GAAKF,IAAMqlC,EAC1B,OAAOrwC,KAAKosC,UAAUlhC,GAIlC,OAAO,MAQXiiC,EAAUnuC,UAAUuxC,gBAAkB,SAAUF,GAC5C,IAAIrM,EAAKhkC,KAAKowC,iBAAiBC,GAG/B,OAFKrM,IACDA,EAAK,IAAI,GACNA,GAEXmJ,EAAUnuC,UAAUwxC,4BAA8B,SAAUj5B,GACxD,OAAIA,EAAK40B,gBACE50B,EAAK40B,gBAEP50B,EAAK60B,UAAUlrC,OAAS,EACtBqW,EAAK60B,UAAU,IAGf,IAAK,GAAYphC,IAQhCmiC,EAAUnuC,UAAUyxC,uBAAyB,SAAUC,GACnD,IAAIC,EAAY,IAAKlqC,QAAQ,qBAAsBiqC,GAC/CE,EAAcD,EAAYA,EAAU36B,QAAU,IAAKvP,QAAQ,OAASiqC,EAAO7qC,QAAQ,IAAK,IAAM,YAClG,GAAI+qC,EACA,OAAOA,EAEX,IAAIC,EAAO,IAAU/lC,aAAa9K,KAAKotC,cAAesD,GACtD,OAAKG,GAASA,EAAK76B,QAEZ66B,EAAK76B,QADD06B,GAQfvD,EAAUnuC,UAAU8xC,sBAAwB,SAAUJ,GAClD,IAAIC,EAAY,IAAKlqC,QAAQ,qBAAsBiqC,GAC/CK,EAAaJ,EAAYA,EAAU1H,cAAgB,IAAKxiC,QAAQ,OAASiqC,EAAO7qC,QAAQ,IAAK,IAAM,WACvG,GAAIkrC,EACA,OAAOA,EAEX,IAAIF,EAAO,IAAU/lC,aAAa9K,KAAKotC,cAAesD,GACtD,OAAKG,GAASA,EAAK5H,cAEZ4H,EAAK5H,cADD,IAQfkE,EAAUnuC,UAAUgyC,0BAA4B,SAAUz5B,GACtD,IAAI84B,EAAarwC,KAAKwwC,4BAA4Bj5B,GAClD,OAAOvX,KAAKuwC,gBAAgBF,IAShClD,EAAUnuC,UAAUiyC,WAAa,SAAU15B,EAAMyxB,EAAUn9B,GACvD,IAAIq/B,EAAa,IAAI,EACjBlC,GAAYA,EAAS+B,gBACrBG,EAAWO,SAASzC,EAAS+B,gBACxBG,EAAWjxB,WACZixB,EAAWjxB,SAAW,IAErBixB,EAAWK,UACZL,EAAWK,QAAU,MAIzBL,EAAW7yB,KAAOyxB,EAASuB,OAC3BH,EAAWnjC,SAAWwP,EAAKxP,SAC3BmjC,EAAWjxB,SAAW,GACtBixB,EAAWK,QAAU,GACrBL,EAAWvvB,OAAS,MAExB,IAAIxZ,EAAS+oC,EA4Bb,OA3BI/oC,EAAO4F,WAAa,IAASvI,SAAW+X,IACxCpV,EAAO4F,SAAWwP,EAAKxP,UAEvBihC,GAAan9B,GAAS,GAClBm9B,EAASgC,UAAYhC,EAASgC,SAASn/B,EAAQ,KAC/C1J,EAAS,IAAUqH,OAAOrH,EAAQ6mC,EAASgC,SAASn/B,EAAQ,KAI/D1J,EAAOwZ,SACJuvB,EAAWvvB,OACXxZ,EAAOwZ,OAASuvB,EAAWvvB,OAEtBuvB,EAAW7yB,OAASyxB,EAASoH,MAClC/uC,EAAOwZ,OAAO5B,IAAMwyB,EAAYE,SAE3Bl1B,GAAQA,EAAKoC,cAClBxX,EAAOwZ,OAASpE,EAAKoC,cAEhBxX,EAAO4F,WAAa,IAAS3C,MAAQjD,EAAO4F,WAAa,IAASrI,UACpEyC,EAAO4F,WAAa,IAASG,KAChC/F,EAAOwZ,OAAO5B,IAAMwyB,EAAY7sC,SAGhCyC,EAAOwZ,OAAO5B,IAAMwyB,EAAY9sC,MAGjC0C,GAMXgrC,EAAUnuC,UAAUmyC,iBAAmB,WACnC,OAAOnxC,KAAKotC,eAOhBD,EAAUnuC,UAAUoyC,kBAAoB,SAAUC,GAC9C,GAAIrxC,KAAKsxC,YAAYD,GAAQ,CACzB,IAAI3zC,EAAI,IAAI0H,KAEZ,OADgBisC,EAAM7+B,MAAM,eAAe,IAEvC,IAAK,QACD,MACJ,IAAK,YACD9U,EAAEijC,QAAQjjC,EAAEsT,UAAY,GACxB,MACJ,IAAK,WACDtT,EAAEijC,QAAQjjC,EAAEsT,UAAY,GACxB,MACJ,IAAK,kBACDtT,EAAEijC,QAAQ,GACV,MACJ,IAAK,iBACDjjC,EAAE2mC,SAAS3mC,EAAEqT,WAAa,EAAG,GAC7B,MACJ,IAAK,qBAEDvL,EAAc,IADVA,EAAM9H,EAAEwmC,UACO,EAAI,EAAI1+B,EAC3B9H,EAAEijC,QAAQjjC,EAAEsT,UAAYxL,GACxB,MACJ,IAAK,iBAEDA,EAAc,IADVA,EAAM9H,EAAEwmC,UACO,EAAI1+B,EAAM,EAC7B9H,EAAEijC,QAAQjjC,EAAEsT,UAAYxL,GACxB,MACJ,IAAK,iBACD9H,EAAE2mC,SAAS,EAAG,GACd,MACJ,IAAK,qBACD,IAAI7+B,EACJA,EAAc,IADVA,EAAM9H,EAAEwmC,UACO,EAAI,EAAI1+B,EAC3B9H,EAAEijC,QAAQjjC,EAAEsT,UAAYxL,GACxB,MACJ,IAAK,sBACD9H,EAAE2mC,SAAS3mC,EAAEqT,WAAa,EAAG,GAC7B,MACJ,IAAK,sBACDrT,EAAE2mC,SAAS3mC,EAAEqT,WAAa,EAAG,GAC7B,MACJ,IAAK,qBACDrT,EAAE0mC,YAAY1mC,EAAEoT,cAAgB,EAAG,EAAG,GACtC,MACJ,IAAK,qBACDpT,EAAE0mC,YAAY1mC,EAAEoT,cAAgB,EAAG,EAAG,GAI9C,OAAOpT,EAEX,OAAO,MAOXyvC,EAAUnuC,UAAUsyC,YAAc,SAAUD,GACxC,OAAO,IAAUjmC,iBAAiBpL,KAAKqtC,WAAYgE,IAAU,GAOjElE,EAAUnuC,UAAUuyC,oBAAsB,SAAUC,GAChD,IAAI9zC,EAAIsC,KAAKoxC,kBAAkBI,GAC/B,OAAO9zC,GAAQ8zC,GAOnBrE,EAAUnuC,UAAUyyC,kBAAoB,SAAUJ,GAC9C,IAAI3zC,EAAI,IAAI0H,KACZ,GAAIpF,KAAK0xC,YAAYL,GAAQ,CAEzB,OADgBA,EAAM7+B,MAAM,eAAe,IAEvC,IAAK,MACD,MACJ,IAAK,YACD9U,EAAEukC,WAAW,EAAG,EAAG,GACnB,MACJ,IAAK,WACDvkC,EAAEskC,SAAS,EAAG,EAAG,EAAG,GACpB,MACJ,IAAK,OACDtkC,EAAEskC,SAAS,GAAI,EAAG,EAAG,GAI7B,OAAOtkC,EAEX,OAAO,MAOXyvC,EAAUnuC,UAAU0yC,YAAc,SAAUL,GACxC,OAAO,IAAUjmC,iBAAiBpL,KAAKstC,WAAY+D,IAAU,GAOjElE,EAAUnuC,UAAU2yC,oBAAsB,SAAU5P,GAChD,IAAIzjC,EAAI0B,KAAKyxC,kBAAkB1P,GAC/B,OAAOzjC,GAAQyjC,GAMnBoL,EAAUnuC,UAAU4yC,iBAAmB,WACnC,OAAO5xC,KAAKqtC,YAMhBF,EAAUnuC,UAAU6yC,iBAAmB,WACnC,OAAO7xC,KAAKstC,YAETH,EAz1BmB,CA01B5B,KC52BE,EAA4B,WAE5B,SAAS2E,EAAW/7B,GAChB,IAAIvU,EAAQxB,KACZA,KAAK+V,OAASA,EAEd/V,KAAK+Z,IAAM0wB,EAAQsH,SAEnB/xC,KAAKqY,KAAOyxB,EAASuB,OAErBrrC,KAAK+H,SAAW,IAASW,OAEzB1I,KAAKgyC,OAAS,GAIdhyC,KAAKiyC,UAAW,EAChBjyC,KAAKkyC,iBAAkB,EACvBlyC,KAAKyG,QAAU,WAAc,OAAOjF,EAAM8Y,MAAQ9Y,EAAMwwC,QACxDhyC,KAAK0G,KAAO,IAAIuD,MA4KpB,OA1KA6nC,EAAW9yC,UAAUmzC,UAAY,WAC7B,OAAOnyC,KAAK+V,QAEhB+7B,EAAW9yC,UAAUozC,SAAW,WAC5B,OAAOpyC,KAAK+V,OAAOs8B,WAAWD,YAOlCN,EAAW9yC,UAAUoX,aAAe,SAAUC,EAAOhW,GACjD,GAAIA,EAAM,CAcN,GAbAL,KAAK+Z,IAAM1Z,EAAK0Z,IACZ1Z,EAAKiN,KACLtN,KAAKgyC,OAAS3xC,EAAKiN,IACnBtN,KAAKsa,KAAOja,EAAKmrC,KAEZnrC,EAAK2K,KACVhL,KAAKqY,KAAOyxB,EAASwI,UACrBtyC,KAAKgyC,OAAS3xC,EAAK2K,GACnBhL,KAAKsa,KAAOja,EAAKmrC,UAEK,IAAfnrC,EAAKmN,QACZxN,KAAK+H,SAAW1H,EAAKmN,OAErBxN,KAAK+Z,KAAO0wB,EAAQkF,iBACjB3vC,KAAK+Z,KAAO0wB,EAAQ8H,sBAGvB,YAFAvyC,KAAKqY,KAAOyxB,EAASwI,WAczB,QAVyB,IAAdjyC,EAAKgY,OACZrY,KAAKqY,KAAOhY,EAAKgY,MAEjBhY,EAAKouC,QACLzuC,KAAKwyC,SAAW,IAAI,EAAMn8B,GAC1BrW,KAAKwyC,SAASC,mBAAmBpyC,EAAKouC,aAEb,IAAlBpuC,EAAK4xC,WACZjyC,KAAKiyC,SAAW5xC,EAAK4xC,UAErB5xC,EAAKwwC,OACL7wC,KAAK6wC,KAAOxwC,EAAKwwC,KACbxwC,EAAKqG,MACL,IAAK,IAAItJ,EAAI,EAAGA,EAAIiD,EAAKqG,KAAKxF,OAAQ9D,IAAK,CACvC,IAAIsyC,EAAM,IAAIoC,EAAW9xC,KAAK+V,QAC9B25B,EAAIt5B,aAAaC,EAAOhW,EAAKqG,KAAKtJ,IAClC4C,KAAK0G,KAAKX,KAAK2pC,GAIvBrvC,EAAKiqC,MACLtqC,KAAKsqC,IAAMjqC,EAAKiqC,IAChBtqC,KAAK4vC,WAAavvC,EAAKuvC,cAQnCkC,EAAW9yC,UAAU0zC,WAAa,WAC9B,IAAIxkC,EAAM,CACN6L,IAAK/Z,KAAK+Z,KAMd,QAJ6B,IAAlB/Z,KAAK+H,WACZmG,EAAIV,MAAQxN,KAAK+H,UAGjB/H,KAAK+Z,KAAO0wB,EAAQkF,gBAQpB,OAPI3vC,KAAKgyC,SACL9jC,EAAIlD,GAAKhL,KAAKgyC,OACd9jC,EAAIZ,IAAMtN,KAAKgyC,QAEfhyC,KAAKsa,OACLpM,EAAIs9B,IAAMxrC,KAAKsa,MAEZpM,EAiBX,GAfIlO,KAAKwyC,WACLtkC,EAAIugC,MAAQzuC,KAAKwyC,SAASG,mBAEL,IAAd3yC,KAAKqY,OACZnK,EAAImK,KAAOrY,KAAKqY,MAEhBrY,KAAKgyC,SACL9jC,EAAIZ,IAAMtN,KAAKgyC,QAEfhyC,KAAKsa,OACLpM,EAAIs9B,IAAMxrC,KAAKsa,MAEfta,KAAKiyC,WACL/jC,EAAI+jC,SAAWjyC,KAAKiyC,UAEpBjyC,KAAK6wC,KAAM,CACX3iC,EAAI2iC,KAAO7wC,KAAK6wC,KAChB3iC,EAAIxH,KAAO,GACX,IAAK,IAAItJ,EAAI,EAAGA,EAAI4C,KAAK0G,KAAKxF,OAAQ9D,IAClC8Q,EAAIxH,KAAKX,KAAK/F,KAAK0G,KAAKtJ,GAAGs1C,cAOnC,OAJI1yC,KAAKsqC,MACLp8B,EAAIo8B,IAAMtqC,KAAKsqC,IACfp8B,EAAI0hC,WAAa5vC,KAAK4vC,YAEnB1hC,GAEX4jC,EAAW9yC,UAAUogB,SAAW,WAC5B,OAAOpf,KAAK+V,OAAO68B,mBAAmB5yC,OAE1ClC,OAAOC,eAAe+zC,EAAW9yC,UAAW,QAAS,CACjDf,IAAK,WACD,OAAO+B,KAAKgyC,QAEhBh0C,YAAY,EACZ0gB,cAAc,IAElBozB,EAAW9yC,UAAU+gB,SAAW,SAAUzS,EAAKulC,QAC5B,IAAXA,IAAqBA,GAAS,GAClC7yC,KAAK8yC,WAAWxlC,OAAKnI,EAAW0tC,IAEpCf,EAAW9yC,UAAU8zC,WAAa,SAAUxlC,EAAKk+B,EAAKqH,QACnC,IAAXA,IAAqBA,GAAS,GAClC,IAAIxS,EAAWrgC,KAAK3B,MACpB,GAAI2B,KAAKqY,MAAQyxB,EAASwI,WAAahlC,EAAK,CACxC,IAAIiK,EAAOvX,KAAKoyC,WAAWx2B,iBAAiBtO,GAC5C,IAAKiK,EACD,KAAM,4BAA8BjK,EAExCtN,KAAK+H,SAAWwP,EAAKxP,SAEzB/H,KAAKgyC,OAAS1kC,OACK,IAARk+B,EACPxrC,KAAKsa,KAAOkxB,OAEc,IAAdxrC,KAAKsa,OACjBta,KAAKsa,KAAOhN,GAEhBtN,KAAKkyC,iBAAkB,EAClBW,GACD7yC,KAAK+V,OAAOg9B,kBAAkB/yC,KAAMqgC,IAG5CyR,EAAW9yC,UAAUsc,QAAU,WAC3B,QAAStb,KAAKsa,MAAQta,KAAKgyC,SAE/BF,EAAW9yC,UAAUg0C,QAAU,WAC3B,OAAOhzC,KAAKsa,MAAQta,KAAKsa,KAAKpZ,OAAS,GAE3C4wC,EAAW9yC,UAAUi0C,iBAAmB,SAAU76B,GAC9C,GAAIpY,KAAKqY,MAAQD,EAAKC,KAAM,CACxB,GAAIrY,KAAK+H,UAAYqQ,EAAKrQ,SACtB/H,KAAK8yC,WAAW16B,EAAK/Z,MAAM6C,OAASkX,EAAK/Z,MAAQ2B,KAAKgyC,OAAS55B,EAAKkC,MAAQlC,EAAKkC,KAAKpZ,OAAUkX,EAAKkC,KAAOta,KAAKsa,MAAM,OAEtH,CACD,IAAIhN,EAAM,EAAQ47B,aAAa9wB,EAAK/Z,MAAO+Z,EAAKrQ,SAAU/H,KAAK+H,UAC/D/H,KAAK8yC,WAAWxlC,EAAIpM,OAASoM,EAAMtN,KAAKgyC,OAAS55B,EAAKkC,MAAQlC,EAAKkC,KAAKpZ,OAAUkX,EAAKkC,KAAOta,KAAKsa,MAAM,GAE7Gta,KAAKwyC,SAAWp6B,EAAKo6B,SACrBxyC,KAAKsqC,IAAMlyB,EAAKkyB,IAChBtqC,KAAK4vC,WAAax3B,EAAKw3B,gBAEjB5vC,KAAKkyC,kBACXlyC,KAAK8yC,WAAW,GAAI,IAAI,GACxB9yC,KAAKwyC,SAAW,KAChBxyC,KAAKsqC,IAAM,KACXtqC,KAAK4vC,WAAa,OAGnBkC,EA/LoB,IHP/B,SAAWnF,GACPA,EAAgBA,EAA4B,WAAI,GAAK,aACrDA,EAAgBA,EAAyB,QAAI,GAAK,UAClDA,EAAgBA,EAAgC,eAAI,GAAK,iBACzDA,EAAgBA,EAA4B,WAAI,IAAM,aACtDA,EAAgBA,EAA2B,UAAI,IAAM,YACrDA,EAAgBA,EAAqB,IAAI,KAAO,MANpD,CAOGA,IAAoBA,EAAkB,KAEzC,SAAWC,GACPA,EAAkBA,EAAuB,IAAI,GAAK,MAClDA,EAAkBA,EAA0B,OAAI,GAAK,SACrDA,EAAkBA,EAA0B,OAAI,GAAK,SACrDA,EAAkBA,EAAuB,IAAI,KAAO,MAJxD,CAKGA,IAAsBA,EAAoB,KCV7C,SAAWC,GAEPA,EAAcA,EAAoB,KAAI,GAAK,OAE3CA,EAAcA,EAAyB,UAAI,GAAK,YAEhDA,EAAcA,EAA0B,WAAI,GAAK,aANrD,CAOGA,IAAkBA,EAAgB,KAIrC,IGZWqG,ECJAC,EJgBP,EAAwB,WAExB,SAASC,EAAO3E,EAAO4E,QACA,IAAfA,IAAyBA,GAAa,GAC1CrzC,KAAKyuC,MAAQA,EACbzuC,KAAKqzC,WAAaA,EAElBrzC,KAAKo3B,SAAU,EAEfp3B,KAAK+gB,OAAS,GACd/gB,KAAKszC,WAAY,EACjBtzC,KAAKuzC,IAAM,IAAUjkC,WAAW,OAChCtP,KAAKgW,QAAU,GACfhW,KAAKwzC,QAAU3G,EAAchd,KAC7B7vB,KAAKyzC,WAAa,EAClBzzC,KAAKoY,KAAO,IAAI,EAAWpY,MAC3BA,KAAK0zC,QAAU,GAkGnB,OAhGA51C,OAAOC,eAAeq1C,EAAOp0C,UAAW,KAAM,CAC1Cf,IAAK,WACD,OAAO+B,KAAKuzC,KAEhBv1C,YAAY,EACZ0gB,cAAc,IAElB00B,EAAOp0C,UAAUozC,SAAW,WACxB,OAAOpyC,KAAKyuC,MAAM2D,YAEtBgB,EAAOp0C,UAAUqzC,SAAW,WACxB,OAAOryC,KAAKyuC,OAGhB2E,EAAOp0C,UAAU20C,WAAa,WAC1B,OAAO,GAGXP,EAAOp0C,UAAU40C,aAAe,WAC5B,OAAO5zC,KAAKqzC,YAEhBD,EAAOp0C,UAAU60C,YAAc,SAAUx1C,KAIzC+0C,EAAOp0C,UAAU80C,SAAW,WACxB,OAAO9zC,KAAKszC,WAEhBF,EAAOp0C,UAAU+0C,UAAY,SAAU11C,GACnC2B,KAAKszC,UAAYj1C,GAOrB+0C,EAAOp0C,UAAUoX,aAAe,SAAUC,EAAO29B,GACzCA,IACIA,EAAQhpC,KACRhL,KAAKuzC,IAAMS,EAAQhpC,IAEvBhL,KAAKgW,QAAUg+B,EAAQz7B,UACI,IAAhBy7B,EAAQC,MACfj0C,KAAKwzC,QAAUQ,EAAQC,IACvBj0C,KAAKyzC,UAAYO,EAAQE,SAEL,IAApBF,EAAQ5c,UACRp3B,KAAKo3B,QAAU4c,EAAQ5c,SAE3Bp3B,KAAKoY,KAAKhC,aAAaC,EAAO29B,EAAQ57B,MACtCpY,KAAK0zC,QAAUM,EAAQN,QACnBM,EAAQG,QACRn0C,KAAK+zC,WAAU,KAQ3BX,EAAOp0C,UAAU0zC,WAAa,WAC1B,IAAIxkC,EAAM,GAmBV,OAlBAA,EAAIlD,GAAKhL,KAAKuzC,IACVvzC,KAAKgW,UACL9H,EAAIqK,KAAOvY,KAAKgW,cAEQ,IAAjBhW,KAAKwzC,UACZtlC,EAAI+lC,IAAMj0C,KAAKwzC,QACftlC,EAAIgmC,OAASl0C,KAAKyzC,WAEtBvlC,EAAIkK,KAAOpY,KAAKoY,KAAKs6B,aACjB1yC,KAAK0zC,UACLxlC,EAAIwlC,QAAU1zC,KAAK0zC,UAEF,IAAjB1zC,KAAKo3B,UACLlpB,EAAIkpB,QAAUp3B,KAAKo3B,SAEnBp3B,KAAK8zC,aACL5lC,EAAIimC,QAAS,GAEVjmC,GAEXklC,EAAOp0C,UAAUo1C,iBAAmB,WAChCp0C,KAAKyuC,MAAM2F,iBAAiB,CACxBC,KAAOr0C,KAAe,WAChB2sC,EAAgB2H,eAChB3H,EAAgB4H,QACtBC,OAAQ5H,EAAkB6H,OAC1BC,QAAS10C,QAGjBozC,EAAOp0C,UAAU4zC,mBAAqB,SAAUx6B,GAC5C,OAAO,GAEXg7B,EAAOp0C,UAAU+zC,kBAAoB,SAAU36B,EAAMioB,KAE9C+S,EAlHgB,IGX3B,SAAWF,GAEPA,EAAQA,EAAiB,QAAI,GAAK,UAElCA,EAAQA,EAAgB,OAAI,GAAK,SAEjCA,EAAQA,EAAe,MAAI,IAAM,QANrC,CAOGA,IAAYA,EAAU,KCXzB,SAAWC,GACPA,EAAcA,EAA0B,WAAI,GAAK,aACjDA,EAAcA,EAAwB,SAAI,GAAK,WAC/CA,EAAcA,EAAqB,MAAI,GAAK,QAC5CA,EAAcA,EAAmB,IAAI,IAAM,MAJ/C,CAKGA,IAAkBA,EAAgB,KCMrC,ICXWwB,ECDAC,ECAAC,EHYP,EAA2B,WAK3B,SAASC,EAAUrG,EAAO10B,GACtB/Z,KAAKyuC,MAAQA,EAIbzuC,KAAK+0C,SAAWrN,EAASiB,IACzB3oC,KAAK+V,OAAS,KACd/V,KAAKuzC,IAAM,IAAUjkC,WAAW,QAChCtP,KAAKg1C,WAAY,EACjBh1C,KAAK+Z,IAAMA,GAAOm5B,EAAQ1zC,QAC1BQ,KAAKo3B,SAAU,EACfp3B,KAAKqwC,WAAa,GAClBrwC,KAAK0zC,QAAU,GACf1zC,KAAKuvC,YAAc,IAAItlC,MACvBjK,KAAKi1C,WAAa,IAAIhrC,MAmS1B,OAjSAnM,OAAOC,eAAe+2C,EAAU91C,UAAW,KAAM,CAC7Cf,IAAK,WACD,OAAO+B,KAAKuzC,KAEhBv1C,YAAY,EACZ0gB,cAAc,IAElB5gB,OAAOC,eAAe+2C,EAAU91C,UAAW,UAAW,CAClDf,IAAK,WACD,OAAO+B,KAAKk1C,YAAcl1C,KAAKmyC,aAAenyC,KAAKmyC,YAAY/a,UAEnEjtB,IAAK,SAAU9L,GACX2B,KAAKk1C,SAAW72C,KAAW2B,KAAKmyC,aAAenyC,KAAKmyC,YAAY/a,SAChEp3B,KAAKi1C,YAAcj1C,KAAKi1C,WAAWtyB,SAAQ,SAAUwyB,GACjDA,EAAK/d,QAAU/4B,MAGvBL,YAAY,EACZ0gB,cAAc,IAElBo2B,EAAU91C,UAAUqzC,SAAW,WAC3B,OAAOryC,KAAKyuC,OAEhBqG,EAAU91C,UAAUozC,SAAW,WAC3B,OAAOpyC,KAAKyuC,MAAM2D,YAEtB0C,EAAU91C,UAAUmzC,UAAY,WAC5B,OAAOnyC,KAAK+V,QAEhB++B,EAAU91C,UAAUo2C,UAAY,SAAUr/B,GACtC/V,KAAK+V,OAASA,GAElB++B,EAAU91C,UAAUowC,cAAgB,WAChC,OAAOpvC,KAAKi1C,YAEhBH,EAAU91C,UAAUsc,QAAU,WAC1B,OAAkC,IAA3Btb,KAAKi1C,WAAW/zC,QAE3B4zC,EAAU91C,UAAUswC,QAAU,WAC1B,OAAQtvC,KAAK+Z,KAAOm5B,EAAQmC,OAA0B,MAAfr1C,KAAK+V,QAEhD++B,EAAU91C,UAAUs2C,SAAW,WAC3B,IAAIv/B,EAAS/V,KAAKmyC,YAClB,OAAOp8B,EAASA,EAAOu/B,WAAa,EAAI,GAK5CR,EAAU91C,UAAU20C,WAAa,WAC7B,OAAO,GAEXmB,EAAU91C,UAAU60C,YAAc,SAAUx1C,KAK5Cy2C,EAAU91C,UAAUu2C,gBAAkB,WAClC,OAAO,GAEXT,EAAU91C,UAAUw2C,iBAAmB,SAAUn3C,KAKjDy2C,EAAU91C,UAAUy2C,SAAW,WAC3B,OAAO,GAEXX,EAAU91C,UAAU02C,UAAY,SAAUr3C,KAE1Cy2C,EAAU91C,UAAU22C,gBAAkB,WAClC31C,KAAKi1C,WAAa,IAEtBH,EAAU91C,UAAU42C,aAAe,SAAUT,GAEzC,OADAA,EAAKC,UAAUp1C,MACRA,KAAKi1C,WAAWlvC,KAAKovC,IAEhCL,EAAU91C,UAAU62C,kBAAoB,SAAUhqC,GAC9C7L,KAAKi1C,WAAWtpC,OAAOE,EAAO,IAOlCipC,EAAU91C,UAAUoX,aAAe,SAAUC,EAAOhW,GAChD,GAAIA,EAAM,CAWN,GAVAL,KAAK+Z,IAAM1Z,EAAK0Z,IACX/Z,KAAK+Z,MACN/Z,KAAK+Z,KAAQ/Z,KAAK+V,QAAU/V,KAAKi1C,WAAW/zC,OAAS,EAAKgyC,EAAQmC,MAAQnC,EAAQ4C,aAE1D,IAAjBz1C,EAAK+2B,UACZp3B,KAAKo3B,QAAU/2B,EAAK+2B,cAEK,IAAlB/2B,EAAK01C,WACZ/1C,KAAKo3B,SAAW/2B,EAAK01C,UAErB/1C,KAAK+Z,KAAOm5B,EAAQ4C,SACpB91C,KAAKqwC,WAAahwC,EAAK2jC,GACnB3jC,EAAK21C,OACL,IAAK,IAAI54C,EAAI,EAAGA,EAAIiD,EAAK21C,MAAM90C,OAAQ9D,IAAK,CACxC,IAAI64C,EAAU,IAAI,EAAWj2C,MAC7Bi2C,EAAQ7/B,aAAaC,EAAOhW,EAAK21C,MAAM54C,IACvC4C,KAAKuvC,YAAYxpC,KAAKkwC,GAIlCj2C,KAAK+0C,SAAW10C,EAAK61C,UAO7BpB,EAAU91C,UAAU0zC,WAAa,WAC7B,IAAIxkC,EAAM,GAKV,GAJAA,EAAI6L,IAAM/Z,KAAK+Z,IACV/Z,KAAKo3B,UACNlpB,EAAIkpB,QAAUp3B,KAAKo3B,SAEnBp3B,KAAK+Z,KAAOm5B,EAAQ4C,OAAQ,CAC5B5nC,EAAI81B,GAAKhkC,KAAKqwC,WACdniC,EAAI8nC,MAAQ,GACZ,IAAK,IAAI54C,EAAI,EAAGA,EAAI4C,KAAKuvC,YAAYruC,OAAQ9D,IACzC8Q,EAAI8nC,MAAMjwC,KAAK/F,KAAKuvC,YAAYnyC,GAAGs1C,cAO3C,OAJI1yC,KAAK+Z,KAAOm5B,EAAQmC,QAEpBnnC,EAAIgoC,QAAUl2C,KAAK+0C,UAEhB7mC,GAEX4mC,EAAU91C,UAAUo1C,iBAAmB,SAAU+B,QAC5B,IAAbA,IAAuBA,EAAWhD,EAAcxK,KACpD3oC,KAAKyuC,MAAM2F,iBAAiB,CACxBC,KAAM1H,EAAgByJ,WACtB5B,OAAQ5H,EAAkB6H,OAC1BC,QAAS10C,KACTm2C,SAAUA,KAGlBrB,EAAU91C,UAAU4zC,mBAAqB,SAAUx6B,GAC/C,OAAOpY,KAAKuvC,YAAYjkC,QAAQ8M,EAAM,IAE1C08B,EAAU91C,UAAU+zC,kBAAoB,SAAU36B,EAAMioB,GAC7B,GAAnBjoB,EAAKgH,YAAmBhH,EAAK2B,KAAO0wB,EAAQkF,iBAE5C3vC,KAAKq2C,oBAAoBj+B,EAAK/Z,QAGtCy2C,EAAU91C,UAAUs3C,cAAgB,WAChC,OAAOt2C,KAAKqwC,YAEhByE,EAAU91C,UAAUu3C,cAAgB,SAAUC,EAAe3D,QAC1C,IAAXA,IAAqBA,GAAS,GAClC,IAAI4D,EAAgBz2C,KAAKqwC,WAEzB,GADArwC,KAAKqwC,WAAamG,GACb3D,EAAQ,CACT,IAAIx8B,EAAQrW,KAAKoyC,WACbpJ,EAAW3yB,EAAMk6B,gBAAgBiG,GACjC36B,EAAS7b,KAAKuvC,YAAY,GAAGlxC,MAC7BkZ,EAAOlB,EAAMuF,iBAAiBC,GAClC7b,KAAK02C,qBAAqBn/B,EAAMyxB,EAAUzxB,EAAKvM,GAAIyrC,KAG3D3B,EAAU91C,UAAUq3C,oBAAsB,SAAUM,GAChD,IAAItgC,EAAQrW,KAAKoyC,WACbv2B,EAAS7b,KAAKuvC,YAAY,GAAGlxC,MAC7BkZ,EAAOlB,EAAMuF,iBAAiBC,GAClC,GAAY,MAARtE,EAAc,CACd,IAAIi2B,EAAcxtC,KAAKoyC,WAAWpB,0BAA0Bz5B,GACxDk/B,EAAgBz2C,KAAKqwC,WACzBrwC,KAAKqwC,WAAa7C,EAAYxiC,GAC9BhL,KAAK02C,qBAAqBn/B,EAAMi2B,EAAamJ,EAAWF,KAGhE3B,EAAU91C,UAAU03C,qBAAuB,SAAUn/B,EAAMyxB,EAAU2N,EAAWF,GAC5E,IAAIpgC,EAAQrW,KAAKoyC,WACjB,GAAKpJ,EAAL,CAEA,IAAI4N,EAAY52C,KAAKuvC,YAAYruC,OAE7B21C,GADUF,GAAYtgC,EAAMuF,iBAAiB+6B,GAC/B,MAIlB,GAHIF,IACAI,EAAcxgC,EAAMk6B,gBAAgBkG,IAEpCI,GAAeA,EAAY/L,YAAc9B,EAAS8B,WAAY,CAG9D,IADA,IAAI1tC,EAAI,EACDA,EAAI4rC,EAAS8B,YAAY,CAC5B,IAAIgM,EAAazgC,EAAM46B,WAAW15B,EAAMs/B,EAAaz5C,GAKrD,IAJIkuC,EAAUj1B,EAAM46B,WAAW15B,EAAMyxB,EAAU5rC,IACnC2K,UAAY,IAASvI,UAC7B8rC,EAAQvjC,SAAWwP,EAAKxP,UAExB3K,GAAKw5C,EAAW,CAChB,IAAIG,EAAU/2C,KAAKg3C,gBAAgB1L,GACnCtrC,KAAKuvC,YAAYxpC,KAAKgxC,OAErB,CACD,IAAIE,EAAUj3C,KAAKuvC,YAAYnyC,GAE3B64C,EAAUj2C,KAAKg3C,gBAAgB1L,GAC/BtrC,KAAKk3C,qBAAqBJ,EAAWn7B,OAAQ2vB,EAAQ3vB,SACrDs6B,EAAQhD,iBAAiBgE,GAE7Bj3C,KAAKuvC,YAAYnyC,GAAK64C,EAE1B74C,IAEAw5C,EAAYx5C,GAEZ4C,KAAKuvC,YAAY5jC,OAAOvO,EAAGw5C,EAAYx5C,OAG1C,CACD4C,KAAKuvC,YAAY5jC,OAAO,EAAG3L,KAAKuvC,YAAYruC,OAAS,GACrD,IAAS9D,EAAI,EAAGA,EAAI4rC,EAAS8B,WAAY1tC,IAAK,CAC1C,IAAIkuC,KAAUj1B,EAAM46B,WAAW15B,EAAMyxB,EAAU5rC,IACnC2K,UAAY,IAASvI,UAC7B8rC,EAAQvjC,SAAWwP,EAAKxP,UAExBgvC,EAAU/2C,KAAKg3C,gBAAgB1L,GACnCtrC,KAAKuvC,YAAYxpC,KAAKgxC,OAIlCjC,EAAU91C,UAAUk4C,qBAAuB,SAAUC,EAAWh8B,GAC5D,OAAIA,EAAUpB,KAAOwyB,EAAY3sC,YAAcub,EAAUpB,KAAOwyB,EAAY5sC,MACrEwb,EAAUpB,KAAOwyB,EAAYC,SAKxCsI,EAAU91C,UAAUo4C,uBAAyB,SAAU9L,EAASh+B,QAChD,IAARA,IAAkBA,EAAM,MAC5B,IAAI8K,EAAOpY,KAAKg3C,gBAAgB1L,EAASh+B,GAEzC,OADAtN,KAAKuvC,YAAYxpC,KAAKqS,GACfA,GAEX08B,EAAU91C,UAAUg4C,gBAAkB,SAAU1L,EAASh+B,QACzC,IAARA,IAAkBA,EAAM,MAC5B,IAAI+pC,EAAkB/pC,QAClBjP,EAAQiP,GAAYg+B,EAAQrxB,SAC5BK,EAAOhN,GAAYg+B,EAAQC,QAC3BppC,EAAS,IAAI,EAAWnC,MAC5B,GAAIsrC,EAAQjzB,OAASyxB,EAASoH,MAC1B/uC,EAAO4X,IAAM0wB,EAAQyG,MACrB/uC,EAAO4F,SAAWujC,EAAQvjC,SAC1B5F,EAAOkW,KAAOizB,EAAQjzB,KACtBlW,EAAO2wC,WAAWz0C,EAAOic,GAAM,QAE9B,GAAIgxB,EAAQjzB,OAASyxB,EAASwI,UAAW,CAC1C,IAAK+E,EAAiB,CAClB,IAAIC,EAAUt3C,KAAKoyC,WAAWh0B,2BAA0B,SAAU7G,GAC9D,OAA+B,GAAxBA,EAAKq0B,mBAA6BN,EAAQvjC,UAAYwP,EAAKxP,UAAYujC,EAAQvjC,aAE1F1J,EAAQi5C,EAAUA,EAAQtsC,GAAK,KAEnC7I,EAAO4X,IAAM0wB,EAAQkF,gBACrBxtC,EAAOkW,KAAOizB,EAAQjzB,KACtBlW,EAAO4F,SAAWujC,EAAQvjC,SAC1B5F,EAAO2wC,WAAWz0C,EAAOic,GAAM,QAG3B+8B,IAEIh5C,EADAitC,EAAQrxB,UAAgC,IAApBqxB,EAAQrxB,SACpBqxB,EAAQrxB,SAGZqxB,EAAQ3vB,QAAU2vB,EAAQ3vB,OAAO1B,SACzBqxB,EAAQ3vB,OAAO1B,SAGf,GAGZqxB,EAAQ3vB,SACRrB,EAAOgxB,EAAQ3vB,OAAOtB,aAAahc,KAG3C8D,EAAO4X,IAAM0wB,EAAQsH,SACrB5vC,EAAO4F,SAAWujC,EAAQvjC,SAC1B5F,EAAOkW,KAAOizB,EAAQjzB,KACtBlW,EAAO2wC,WAAWz0C,EAAOic,GAAM,GAC/BnY,EAAO+vC,gBAAkBmF,EAE7B,OAAOl1C,GAEJ2yC,EAtTmB,GIZ1B,EAAwC,WACxC,IAAIpiC,EAAgB,SAAUhV,EAAG0I,GAI7B,OAHAsM,EAAgB5U,OAAOyV,gBAClB,CAAEC,UAAW,cAAgBvJ,OAAS,SAAUvM,EAAG0I,GAAK1I,EAAE8V,UAAYpN,IACvE,SAAU1I,EAAG0I,GAAK,IAAK,IAAIlH,KAAKkH,EAAOA,EAAEnH,eAAeC,KAAIxB,EAAEwB,GAAKkH,EAAElH,MACpDxB,EAAG0I,IAE5B,OAAO,SAAU1I,EAAG0I,GAEhB,SAASqN,IAAOzT,KAAK0T,YAAchW,EADnCgV,EAAchV,EAAG0I,GAEjB1I,EAAEsB,UAAkB,OAANoH,EAAatI,OAAOY,OAAO0H,IAAMqN,EAAGzU,UAAYoH,EAAEpH,UAAW,IAAIyU,IAV3C,GA4BxC8jC,EAAmC,SAAUzjC,GAM7C,SAASyjC,EAAkBvjC,GACvB,IAAIxS,EAAQsS,EAAOvW,KAAKyC,KAAMgU,IAAYhU,KAK1C,OAJIiU,MAAMujC,mBACNvjC,MAAMujC,kBAAkBh2C,EAAO+1C,GAEnC/1C,EAAM7D,KAAO,oBACN6D,EAEX,OAbA,EAAU+1C,EAAmBzjC,GAatByjC,EAd2B,CAepCtjC,OAKE,EAAuB,WAQvB,SAASi9B,EAAM76B,EAAOhW,EAAMgU,GAIxBrU,KAAKy3C,UAAY,GACjBz3C,KAAK03C,UAAY,GACjB13C,KAAK23C,UAAW,EAChB33C,KAAK43C,aAAc,EACnB53C,KAAK63C,YAAc,KACnB73C,KAAK83C,WAAa,GAClB93C,KAAK+3B,aAAe,IAAI,IAAa/3B,MACrCA,KAAK4d,KAAO,IAAI,EAAU5d,KAAMkzC,EAAQmC,OACxCr1C,KAAK+3C,gBAAkB,IAAI,EAAU/3C,KAAMkzC,EAAQmC,OACnDr1C,KAAKyf,QAAU,IAAIxV,MACnBjK,KAAKqzC,WAAa,IAAIppC,MACjBjK,KAAKgL,IACNhL,KAAKg4C,eAETh4C,KAAKi4C,iBACLj4C,KAAKiW,YAAc,GACnBjW,KAAKk4C,QAAU,GACfl4C,KAAKm4C,UAAY,GACjBn4C,KAAKqW,MAAQ,GAAkB,IAAI,EAC/BhW,GACAL,KAAKoW,aAAa/V,GAEtBL,KAAKo4C,iBAAmB,GAAY/jC,EAAQgkC,SAAqC5N,EAAQkF,gBACzF3vC,KAAKs4C,yBAA2B,EAAYjkC,EAAQikC,yBAA2B,IAAIruC,MACnFjK,KAAKu4C,yBAA2B,EAAYlkC,EAAQkkC,yBAA2B,IAAItuC,MACnFjK,KAAKw4C,gBAAiB,IAAKpzC,MAAQqzC,oBAC/BpkC,IACArU,KAAK63C,YAAcxjC,EAAQ0B,QAs8BnC,OAn8BAm7B,EAAMlyC,UAAU05C,WAAa,WACzB,OAAO14C,KAAK43C,aAEhB1G,EAAMlyC,UAAU25C,cAAgB,WAC5B34C,KAAK43C,aAAc,GAEvB1G,EAAMlyC,UAAU45C,KAAO,WACnB,OAAO,GAMX1H,EAAMlyC,UAAU65C,MAAQ,SAAUC,QACX,IAAfA,IAAyBA,GAAa,GACtCA,GACA94C,KAAKmd,QAETnd,KAAKg4C,eACLh4C,KAAKi4C,iBACLj4C,KAAK43C,aAAc,EACnB53C,KAAK23C,UAAW,GAEpBzG,EAAMlyC,UAAU+5C,sBAAwB,WACpC,OAAO/4C,KAAKyf,QAAQT,QAAO,SAAUH,GAAO,OAAOA,EAAIuY,SAChDvY,EAAIzG,KAAK2B,MAAQ0wB,EAAQuO,qBAAsB93C,OAAS,GAEnEgwC,EAAMlyC,UAAUi5C,eAAiB,WAE7B,OADAj4C,KAAKi5C,QAAQ,IAAKxyC,QAAQ,iBACnBzG,KAAKwb,WAOhB01B,EAAMlyC,UAAUk6C,SAAW,SAAU7kC,GACjCA,EAAUA,GAAW,GAGrB,IAAKrU,KAAKqW,MACN,MAAM,IAAIkhC,EAAkB,yBAEhC,GAAIv3C,KAAKyf,QACL,IAAK,IAAI5e,EAAK,EAAGqQ,EAAKlR,KAAKyf,QAAS5e,EAAKqQ,EAAGhQ,OAAQL,IAAM,CACtD,IAAI+hB,EAAS1R,EAAGrQ,GAChB,GAAI+hB,EAAOxK,KAAK2B,KAAO0wB,EAAQkF,iBACxB/sB,EAAOxK,KAAK2B,MAAQ0wB,EAAQ8H,uBAE/B,IADWvyC,KAAKqW,MAAMuF,iBAAiBgH,EAAOxK,KAAK/Z,OAE/C,MAAM,IAAIk5C,EAZI,gDAYwC30B,EAAOxK,KAAK/Z,YAGrE,GAAIukB,EAAOxK,KAAK2B,MAAQ0wB,EAAQuO,kBAAmB,CAEpD,IADWh5C,KAAKqW,MAAMuF,iBAAiBgH,EAAOxK,KAAK1R,KAAK,GAAGrI,OAEvD,MAAM,IAAIk5C,EAlBI,gDAkBwC30B,EAAOxK,KAAK1R,KAAK,GAAGrI,YAG7E,GAAIukB,EAAOxK,KAAK2B,MAAQ0wB,EAAQ0O,UACjC,MAAM,IAAI5B,EArBH,iCAqBoC30B,EAAOxK,KAAK2B,KAI/D/Z,KAAK4d,MAAQ5d,KAAK4d,KAAKwxB,iBACvBpvC,KAAKo5C,uBAAuBp5C,KAAK4d,KAAMvJ,IAQ/C68B,EAAMlyC,UAAUq6C,YAAc,SAAUhlC,GACpC,IAEI,OADArU,KAAKk5C,SAAS7kC,IACP,EAEX,MAAOmY,GACH,GAAc,qBAAVA,EAAE7uB,KACF,OAAO,EAGP,MAAM6uB,IAIlB0kB,EAAMlyC,UAAUo6C,uBAAyB,SAAUE,EAASjlC,GACxD,GAAIilC,EAAQhK,UACR,IAAK,IAAIzuC,EAAK,EAAGqQ,EAAKooC,EAAQlK,gBAAiBvuC,EAAKqQ,EAAGhQ,OAAQL,IAAM,CACjE,IAAIwuC,EAAYn+B,EAAGrQ,GACdwuC,EAAUjY,SAEfp3B,KAAKo5C,uBAAuB/J,EAAWh7B,QAG1C,GAAIilC,EAAQ/J,YAAY,GAAGx1B,MAAQ0wB,EAAQkF,gBAAiB,CAC7D,IAAI9zB,EAASy9B,EAAQ/J,YAAY,GAAGlxC,MAEpC,IADW2B,KAAKqW,MAAMuF,iBAAiBC,GAEnC,MAAM,IAAI07B,EAAkB,gDAAkD17B,GAElF,IAAKxH,EAAQklC,iBACT,OACJ,IAAK,IAAIn8C,EAAI,EAAGA,EAAIk8C,EAAQ/J,YAAYruC,OAAQ9D,IAAK,CACjD,IAAIgb,EAAOkhC,EAAQ/J,YAAYnyC,GAC/B,GAAIgb,EAAK2B,MAAQ0wB,EAAQsH,UAGrB,IAAUxkC,cAAc6K,EAAKrQ,UAAW,CACxC,IAAKqQ,EAAK/Z,MAAM6C,OACZ,MAAM,IAAIq2C,EAAkB,8CAAgD+B,EAAQtuC,IASxF,IAPA,IAOSuP,EAAK,EAAGi/B,EANbphC,EAAKC,OAASyxB,EAASnqC,KACdyY,EAAK/Z,MAAM4C,MAAM,WAGjB,CAACmX,EAAK/Z,OAEiBkc,EAAKi/B,EAASt4C,OAAQqZ,IAAM,CAC5D,IAAIlc,EAAQm7C,EAASj/B,GACjBk/B,GAAap7C,EACjB,GAAIsP,MAAM8rC,GACN,MAAM,IAAIlC,EAAkB,2CAA6C+B,EAAQtuC,IAErF,GAAI,IAAUyC,UAAU2K,EAAKrQ,WAAa0xC,GAAapqC,SAAShR,EAAO,IACnE,MAAM,IAAIk5C,EAAkB,uDAAyD+B,EAAQtuC,SAYrHkmC,EAAMlyC,UAAUyzC,mBAAqB,SAAUpyC,EAAMq5C,QAC5B,IAAjBA,IAA2BA,GAAe,GAC1Cr5C,IACoB,iBAATA,EACPL,KAAK25C,aAAat5C,EAAMq5C,GAGxB15C,KAAKoW,aAAa/V,EAAMq5C,KASpCxI,EAAMlyC,UAAU26C,aAAe,SAAUC,EAAMF,QACtB,IAAjBA,IAA2BA,GAAe,GAC9C,IAAIr5C,EAAO+U,KAAKQ,MAAMgkC,GACtB55C,KAAKoW,aAAa/V,EAAMq5C,IAQ5BxI,EAAMlyC,UAAUoX,aAAe,SAAU/V,EAAMq5C,QACtB,IAAjBA,IAA2BA,GAAe,GAI9C,GAFA15C,KAAKmd,QACLnd,KAAK65C,kBACDx5C,EAAM,CAGN,GAFAL,KAAKgL,GAAK3K,EAAK2K,GACfhL,KAAK4d,KAAKxH,aAAapW,KAAKqW,MAAOhW,EAAKud,MACpCvd,EAAKud,MAAQvd,EAAKud,KAAKk8B,MACvB,IAAK,IAAI18C,EAAI,EAAGA,EAAIiD,EAAKud,KAAKk8B,MAAM54C,OAAQ9D,IAAK,CAC7C,IAAI28C,EAAW15C,EAAKud,KAAKk8B,MAAM18C,GAC/B,IAAI28C,EAASD,OAAU95C,KAAK44C,OAA5B,CAIA,IAAIzD,EAAOn1C,KAAKg6C,kBAChB7E,EAAK/+B,aAAapW,KAAKqW,MAAO0jC,GAC9B/5C,KAAK4d,KAAKg4B,aAAaT,QALnB5uC,QAAQiB,MAAM,0DAW1B,GAHAxH,KAAKrC,KAAO0C,EAAK1C,KACjBqC,KAAKiW,YAAc5V,EAAK2U,KACxBhV,KAAKqzC,WAAa,GACdhzC,EAAK45C,aACL,IAAS78C,EAAI,EAAGA,EAAIiD,EAAK45C,aAAa/4C,OAAQ9D,IAAK,EAC3C88C,EAASl6C,KAAKm6C,cAAa,IACxB/jC,aAAapW,KAAKqW,MAAOhW,EAAK45C,aAAa78C,IAClD4C,KAAKqzC,WAAWttC,KAAKm0C,GAG7B,GAAI75C,EAAK+7B,KACL,IAASh/B,EAAI,EAAGA,EAAIiD,EAAK+7B,KAAKl7B,OAAQ9D,IAAK,CACvC,IAAI88C,KAASl6C,KAAKm6C,gBACX/jC,aAAapW,KAAKqW,MAAOhW,EAAK+7B,KAAKh/B,IAC1C4C,KAAKyf,QAAQ1Z,KAAKm0C,GAO1B,GAJI75C,EAAKo3C,YACLz3C,KAAKy3C,UAAYp3C,EAAKo3C,WAE1Bz3C,KAAK03C,UAAYr3C,EAAKq3C,WAAa13C,KAAK03C,UACpCr3C,EAAK+5C,KAAO/5C,EAAK+5C,IAAIl5C,OACrB,IAAK,IAAIL,EAAK,EAAGqQ,EAAK7Q,EAAK+5C,IAAKv5C,EAAKqQ,EAAGhQ,OAAQL,IAAM,CAClD,IAAImR,EAAKd,EAAGrQ,GACAb,KAAKq6C,eACXjkC,aAAapE,IAMvB0nC,IACA15C,KAAK23C,UAAW,EAChB33C,KAAK43C,aAAc,GAG3B53C,KAAKk5C,YAKThI,EAAMlyC,UAAUq7C,aAAe,WAC3B,IAAI5L,EAAQzuC,KAAKqW,MAAMu3B,cAGvB,OAFAa,EAAMoJ,YAAc73C,KACpBA,KAAK83C,WAAW/xC,KAAK0oC,GACdA,GAEXyC,EAAMlyC,UAAUs7C,cAAgB,WAC5B,OAAOt6C,KAAK83C,YAEhB5G,EAAMlyC,UAAUu7C,eAAiB,WAC7B,OAAOv6C,KAAK63C,aAKhB3G,EAAMlyC,UAAUw7C,eAAiB,SAAU93B,GACvC,IAAK,IAAI7hB,EAAK,EAAGqQ,EAAKlR,KAAKyf,QAAS5e,EAAKqQ,EAAGhQ,OAAQL,IAAM,CACtD,IAAIge,EAAM3N,EAAGrQ,GACb,GAAIge,EAAI7T,KAAO0X,EACX,OAAO7D,EAEf,OAAO,MAMXqyB,EAAMlyC,UAAUozC,SAAW,WACvB,OAAOpyC,KAAKqW,OAMhB66B,EAAMlyC,UAAUy7C,SAAW,SAAUpkC,GACjCrW,KAAKqW,MAAQA,GAMjB66B,EAAMlyC,UAAU07C,cAAgB,SAAUrkC,GACtCrW,KAAKqW,MAAMgF,QAAQhF,IAMvB66B,EAAMlyC,UAAU27C,OAAS,WACrB,OAAOvlC,KAAKC,UAAUrV,KAAK2yC,eAM/BzB,EAAMlyC,UAAU2zC,WAAa,WACzB,IAAInxC,EAAQxB,KACRkO,EAAM,CACNgqC,QAASl4C,KAAKqW,MAAQrW,KAAKqW,MAAMkF,QAAU,KAC3C48B,UAAWn4C,KAAKqW,MAAQrW,KAAKqW,MAAMmF,UAAY,MAEnDtN,EAAIlD,GAAKhL,KAAKgL,GACdkD,EAAIvQ,KAAOqC,KAAKrC,KACZqC,KAAKiW,cACL/H,EAAI8G,KAAOhV,KAAKiW,aAEpB/H,EAAIkuB,KAAO,GACX,IAAK,IAAIh/B,EAAI,EAAGA,EAAI4C,KAAKyf,QAAQve,OAAQ9D,IACrC8Q,EAAIkuB,KAAKr2B,KAAK/F,KAAKyf,QAAQriB,GAAGs1C,cAElCxkC,EAAI+rC,aAAe,GACnB,IAAS78C,EAAI,EAAGA,EAAI4C,KAAKqzC,WAAWnyC,OAAQ9D,IACxC8Q,EAAI+rC,aAAal0C,KAAK/F,KAAKqzC,WAAWj2C,GAAGs1C,cAEzC1yC,KAAKy3C,YACLvpC,EAAIupC,UAAYz3C,KAAKy3C,WAErBz3C,KAAK03C,YACLxpC,EAAIwpC,UAAY13C,KAAK03C,WAEzB,IAAIkD,EAAiB,SAAUC,GAC3B,IAAI14C,EAAS04C,EAAUnI,aACvBvwC,EAAO23C,MAAQ,GAEf,IADA,IAAI7E,EAAa4F,EAAUzL,gBAClBhyC,EAAI,EAAGA,EAAI63C,EAAW/zC,OAAQ9D,KAC/B63C,EAAW73C,GAAGkyC,WAAc9tC,EAAMo3C,OAItCz2C,EAAO23C,MAAM/zC,KAAKkvC,EAAW73C,GAAGs1C,cAH5BnsC,QAAQiB,MAAM,0DAKtB,OAAOrF,GAIX,GAFA+L,EAAI0P,KAAOg9B,EAAe56C,KAAK4d,MAC/B1P,EAAI4sC,WAAaF,EAAe56C,KAAK+3C,iBACjC/3C,KAAK83C,WAAW52C,OAAS,EAAG,CAC5BgN,EAAIksC,IAAM,GACV,IAAK,IAAIv5C,EAAK,EAAGqQ,EAAKlR,KAAK83C,WAAYj3C,EAAKqQ,EAAGhQ,OAAQL,IAAM,CACzD,IAAImR,EAAKd,EAAGrQ,GACZqN,EAAIksC,IAAIr0C,KAAKiM,EAAG2gC,eAIxB,OADAzkC,EAAIsqC,eAAiBx4C,KAAKw4C,eACnBtqC,GAMXgjC,EAAMlyC,UAAU+7C,kBAAoB,WAChC,OAAO/6C,KAAK4d,KAAKtC,WAMrB41B,EAAMlyC,UAAUg8C,eAAiB,WAC7B,OAAQh7C,KAAKyf,SAAmC,IAAxBzf,KAAKyf,QAAQve,QAMzCgwC,EAAMlyC,UAAUsc,QAAU,WACtB,OAAOtb,KAAKg7C,kBAAoBh7C,KAAK+6C,qBAKzC7J,EAAMlyC,UAAUme,MAAQ,WACpBnd,KAAKi7C,eACLj7C,KAAK21C,kBACL31C,KAAKk7C,uBACLl7C,KAAK03C,UAAY,GACjB13C,KAAKy3C,UAAY,IAKrBvG,EAAMlyC,UAAUi8C,aAAe,WAC3Bj7C,KAAKyf,QAAU,GACfzf,KAAKqzC,WAAa,IAKtBnC,EAAMlyC,UAAU22C,gBAAkB,WAC9B31C,KAAK4d,KAAK+3B,kBACV31C,KAAK4d,KAAKm3B,SAAWrN,EAASiB,IAC9B3oC,KAAK4d,KAAKwZ,SAAU,GAKxB8Z,EAAMlyC,UAAUk8C,qBAAuB,WACnCl7C,KAAK+3C,gBAAgBpC,mBAKzBzE,EAAMlyC,UAAU66C,gBAAkB,WAC9B75C,KAAK83C,WAAa,IAMtB5G,EAAMlyC,UAAUuc,MAAQ,WACpB,OAAOvb,KAAKgL,IAMhBkmC,EAAMlyC,UAAUm8C,MAAQ,SAAUnwC,GAC9BhL,KAAKgL,GAAKA,GAMdkmC,EAAMlyC,UAAUg5C,aAAe,WAC3Bh4C,KAAKgL,GAAK,IAAUsE,WAAW,SAMnC4hC,EAAMlyC,UAAUwc,QAAU,WACtB,OAAOxb,KAAKrC,MAMhBuzC,EAAMlyC,UAAUi6C,QAAU,SAAUt7C,GAChCqC,KAAKrC,KAAOA,GAMhBuzC,EAAMlyC,UAAUo8C,eAAiB,WAC7B,OAAOp7C,KAAKiW,aAMhBi7B,EAAMlyC,UAAUq8C,eAAiB,SAAUplC,GACvCjW,KAAKiW,YAAcA,GAMvBi7B,EAAMlyC,UAAUs6B,WAAa,WACzB,OAAOt5B,KAAKyf,SAMhByxB,EAAMlyC,UAAUs8C,qBAAuB,WACnC,OAAOt7C,KAAKqzC,YAMhBnC,EAAMlyC,UAAUu8C,iBAAmB,WAI/B,IAHA,IAAIC,EAAa,IAAIvxC,MACjBmyB,EAAOp8B,KAAKs5B,aACXpc,OAAOld,KAAKs7C,wBACRl+C,EAAI,EAAGA,EAAIg/B,EAAKl7B,OAAQ9D,IAAK,CAClC,IAAIyhB,EAAMud,EAAKh/B,GACXyhB,EAAI40B,WAAa,GACjB+H,EAAWz1C,KAAK8Y,GAMxB,OAHA28B,EAAWt1C,MAAK,SAAUu1C,EAAMC,GAC5B,OAAOD,EAAKhI,UAAYiI,EAAKjI,aAE1B+H,GAOXtK,EAAMlyC,UAAU28C,mBAAqB,SAAU98B,GAC3C,GAAIA,EAAI20B,SAAW3G,EAAchd,KAAM,CACnC,GAAIhR,EAAI40B,UAAY,EAAG,CACnB,IAAIrX,EAAOp8B,KAAKs5B,aACXpc,OAAOld,KAAKs7C,wBACjB,OAAO,IAAUlwC,iBAAiBgxB,EAAMvd,GAGxC,OAAOA,EAAI40B,UAGnB,OAAQ,GAEZvC,EAAMlyC,UAAUm7C,aAAe,SAAU9G,GAErC,YADmB,IAAfA,IAAyBA,GAAa,GACnC,IAAI,EAAOrzC,KAAMqzC,IAiB5BnC,EAAMlyC,UAAU48C,UAAY,SAAU77C,EAAY87C,GAC9C,IAGIC,EAHAr8B,EAAW1f,EAAqB,WAC9BC,KAAKqzC,WACLrzC,KAAKyf,QAEX,GAAI1f,EAAW6iB,OACXk5B,EAAY/7C,EAAW6iB,WAEtB,CACDk5B,EAAY97C,KAAKm6C,aAAap6C,EAAWszC,YACzC,IAAI97B,OAAO,EACX,GAAIxX,EAAWic,UACXzE,EAAOxX,EAAWic,cAEjB,KAAIjc,EAAWg8C,YAOhB,MAAM,IAAI9nC,MAAM,+BALhB,KADAsD,EAAOvX,KAAKqW,MAAMuF,iBAAiB7b,EAAWg8C,cAE1C,MAAM,IAAI9nC,MAAM,2BAA6BlU,EAAWg8C,YAAc,gBAU9E,GAJIh8C,EAAWi8C,YAAcj8C,EAAWk8C,WACpC11C,QAAQC,KAAK,oGAGbzG,EAAWk8C,UACXH,EAAU9lC,QAAU,oBACpB8lC,EAAU1jC,KAAK2B,IAAM0wB,EAAQ0O,UAC7B2C,EAAU1jC,KAAKw3B,WAAar4B,EAAKvM,GACjC8wC,EAAU1jC,KAAKkyB,IAAMvqC,EAAWk8C,eAE/B,GAAIl8C,EAAWi8C,WAAY,CAC5BF,EAAU9lC,QAAUuB,EAAKvB,QAAU,IAC7BhW,KAAKqW,MAAMo6B,uBAAuB1wC,EAAWi8C,YACnDF,EAAU1jC,KAAK2B,IAAM0wB,EAAQuO,kBAC7B8C,EAAU1jC,KAAKy4B,KAAO9wC,EAAWi8C,WACjCF,EAAU1jC,KAAK65B,UAAW,EAC1B,IAAIvC,EAAM,IAAI,EAAWoM,GACzBpM,EAAI3vB,SAASxI,EAAKvM,IAAI,GACtB0kC,EAAI31B,IAAM0wB,EAAQkF,gBAClBmM,EAAU1jC,KAAK1R,KAAKX,KAAK2pC,QAIzBoM,EAAU9lC,QAAUuB,EAAKvB,QACzB8lC,EAAU1jC,KAAK2H,SAASxI,EAAKvM,IAAI,GACjC8wC,EAAU1jC,KAAK2B,IAAM0wB,EAAQkF,gBAEjCmM,EAAU9lC,QAAUjW,EAAWiW,SAAW8lC,EAAU9lC,QACpD8lC,EAAUtI,QAAUzzC,EAAWyzC,SAAW3G,EAAchd,KACxDisB,EAAUrI,UAAY1zC,EAAW0zC,YAAc,EAC/CqI,EAAU1kB,QAAU,IAAU9sB,aAAavK,EAAWq3B,SAAS,GAC/D0kB,EAAUjI,YAAY,IAAUvpC,aAAavK,EAAWm8C,UAAU,IAQtE,OANIn8C,EAAW8L,OAAS9L,EAAW8L,OAAS,GAAK9L,EAAW8L,MAAQ4T,EAAQve,OACxEue,EAAQ9T,OAAO5L,EAAW8L,MAAO,EAAGiwC,GAGpCr8B,EAAQ1Z,KAAK+1C,GAEVA,GAaX5K,EAAMlyC,UAAUm9C,aAAe,SAAUv5B,EAAQ/W,EAAOgwC,GACpD,IAAIp8B,EAAUzf,KAAKyf,aACS,IAAjBmD,EAAO1hB,OACM,iBAAT2K,EACP4T,EAAQ9T,OAAOE,EAAO,EAAG+W,GAGzBnD,EAAQ1Z,KAAK6c,GAIG,iBAAT/W,EACP4T,EAAQ1Z,KAAK6N,MAAM6L,EAAS,CAAC5T,EAAO,GAAGqR,OAAO0F,IAG9CnD,EAAQ1Z,KAAK6N,MAAM6L,EAAS,GAAGvC,OAAO0F,KAUlDsuB,EAAMlyC,UAAUo9C,iBAAmB,SAAUx5B,EAAQ7I,EAAKrT,GACtD,IAAIkc,EAAOgxB,eAGX,GADAltC,EAAOA,GAAQ,GACXqT,IAAQ0wB,EAAQuO,kBAAmB,CACnC,IAAKtyC,EAAKgqC,OACN,MAAMz8B,MAAM,oCAChB,GAAI2O,EAAOxK,KAAK2B,KAAO0wB,EAAQuO,kBAE3B,YADAp2B,EAAOxK,KAAKy4B,KAAOnqC,EAAKgqC,QAG5B,IAAI2L,EAAYz5B,EAAOxK,KAAK/Z,MAC5BukB,EAAO5M,QAAU,IACboC,EAAO,IAAI,EAAWwK,IACrB7I,IAAM0wB,EAAQuO,kBACnB5gC,EAAKy4B,KAAOnqC,EAAKgqC,OACjBt4B,EAAK65B,UAAW,EAChB,IAAIvC,EAAM,IAAI,EAAW9sB,GAEzB8sB,EAAI3vB,SAASs8B,GAAW,GACxB3M,EAAI31B,IAAM0wB,EAAQkF,gBAClBv3B,EAAK1R,KAAKX,KAAK2pC,GACf9sB,EAAOxK,KAAOA,OAEb,GAAI2B,IAAQ0wB,EAAQ0O,UAAW,CAChC,IAAIt9B,EAAU+G,EAAOxK,KAAK2B,KAAO0wB,EAAQuO,kBACnCp2B,EAAOxK,KAAK1R,KAAK,GAAGrI,MACpBukB,EAAOxK,KAAK/Z,MAClBukB,EAAO5M,QAAU,GACjB,IAAIsmC,EAAU,GACVt8C,KAAKqW,QACLimC,EAAUt8C,KAAKqW,MAAMuF,iBAAiBC,GAAQzD,MAElD,IAAImkC,EAAgB,IAAI,EAAW35B,GACnC25B,EAAcxiC,IAAM0wB,EAAQ0O,UAC5BoD,EAAcjS,IAAMgS,EACpBC,EAAc3M,WAAa/zB,EAC3B+G,EAAOxK,KAAOmkC,OAEb,GAAIxiC,IAAQ0wB,EAAQkF,gBAAiB,CACtC,GAAI/sB,EAAOxK,KAAK2B,MAAQ0wB,EAAQkF,iBACzB/sB,EAAOxK,KAAK2B,MAAQ0wB,EAAQ8H,sBAC/B,OAEJ,IAIIn6B,EAJAokC,EAAU55B,EAAOxK,KAAK2B,MAAQ0wB,EAAQ0O,UACpCv2B,EAAOxK,KAAKw3B,WACZhtB,EAAOxK,KAAK1R,KAAK,GAAGrI,MAC1BukB,EAAO5M,QAAU,IACboC,EAAO,IAAI,EAAWwK,IACrB7I,IAAM0wB,EAAQkF,gBAEnBv3B,EAAK2H,SAASy8B,GAAQ,GACtB55B,EAAOxK,KAAOA,IAStB84B,EAAMlyC,UAAUy9C,WAAa,SAAUhxC,EAAQC,GAC3C,IAAI+T,EAAUzf,KAAKs5B,aACnB,IAAU9tB,cAAciU,EAAShU,EAAQC,IAO7CwlC,EAAMlyC,UAAU09C,aAAe,SAAU95B,EAAQi5B,GAC7C,IAAIp8B,EAAWmD,EAAOgxB,eAChB5zC,KAAKs7C,uBACLt7C,KAAKs5B,aACX,IAAU1tB,gBAAgB6T,EAASmD,IAOvCsuB,EAAMlyC,UAAU29C,kBAAoB,SAAU58C,EAAY68C,GAGtD,YAF0B,IAAtBA,IAAgCA,GAAoB,GACxDr2C,QAAQiB,MAAM,0DACP,MAEX0pC,EAAMlyC,UAAU69C,uBAAyB,SAAU98C,EAAY68C,GAG3D,YAF0B,IAAtBA,IAAgCA,GAAoB,GACxDr2C,QAAQiB,MAAM,0DACP,MAEX0pC,EAAMlyC,UAAUg7C,gBAAkB,SAAUjgC,GAExC,YADY,IAARA,IAAkBA,EAAMm5B,EAAQ4C,QAC7B,IAAI,EAAU91C,KAAM+Z,IAO/Bm3B,EAAMlyC,UAAU89C,mBAAqB,SAAU/8C,GAC3C,IAAIgW,EAAShW,EAAWgW,QAAU/V,KAAKkvC,mBACnC74B,EAAQrW,KAAKoyC,WACjB,IAAK/7B,EACD,OAAO,KACX,IAAKtW,EAAWic,YAAcjc,EAAWg8C,YACrC,MAAM,IAAI9nC,MAAM,mEAEpB,IAAKlU,EAAWic,YACZjc,EAAWic,UAAY3F,EAAMuF,iBAAiB7b,EAAWg8C,cACpDh8C,EAAWic,WACZ,MAAM,IAAI/H,MAAM,kCAAoClU,EAAWg8C,cAGlEh8C,EAAWipC,UAAYjpC,EAAWswC,aACnCtwC,EAAWipC,SAAW3yB,EAAMk6B,gBAAgBxwC,EAAWswC,aAEtDtwC,EAAWipC,WACZjpC,EAAWipC,SAAW3yB,EAAM26B,0BAA0BjxC,EAAWic,YAErE,IAAIm5B,EAAOn1C,KAAK+8C,4BAA4Bh9C,EAAWic,UAAWjc,EAAWipC,SAAUjpC,EAAW1B,OAIlG,OAHA0X,EAAO6/B,aAAaT,GACpBA,EAAK/d,QAAU,IAAU9sB,aAAavK,EAAWq3B,SAAS,GAC1D+d,EAAKtB,YAAY,IAAUvpC,aAAavK,EAAWm8C,UAAU,IACtD/G,GAEXjE,EAAMlyC,UAAUg+C,wBAA0B,SAAUj9C,GAEhD,OADAA,EAAWgW,OAAShW,EAAWgW,QAAU/V,KAAK+3C,gBACvC/3C,KAAK88C,mBAAmB/8C,IAEnCmxC,EAAMlyC,UAAU+9C,4BAA8B,SAAUxlC,EAAMyxB,EAAUiU,GACpE,IAAK1lC,IAASA,EAAKq0B,gBAEf,KAAM,+CADYr0B,EAAOA,EAAKvB,QAAU,QAG5C,IAAIm/B,EAAOn1C,KAAKg6C,gBAAgB9G,EAAQ4C,QACxCX,EAAKoB,cAAcvN,EAASh+B,IAAI,GAChC,IAAIkyC,EAAW,IAAI,EAAW/H,GAC9B+H,EAASn9B,SAASxI,EAAKvM,IAAI,GAC3BkyC,EAASnjC,IAAM/Z,KAAKo4C,iBACpB8E,EAAS7kC,KAAOyxB,EAASwI,UACzB4K,EAASn1C,SAAWwP,EAAKxP,SACzBotC,EAAK5F,YAAYxpC,KAAKm3C,GACtB,IAAI7mC,EAAQrW,KAAKoyC,WACb+K,EAAWnU,EAAS8B,WACpBviC,EAAS,IAAUwD,UAAU,IAAI9B,MAAMkzC,EAAW,GAAI,MACtDF,UACIhzC,MAAMC,QAAQ+yC,GACd,IAAUxyC,YAAYwyC,EAAa10C,GAE9B40C,EAAW,IAChB50C,EAAO,GAAK00C,IAIpB,IADA,IAAIG,EAAY70C,EAAOrH,OACd9D,EAAI,EAAGA,EAAIggD,EAAWhgD,IAAK,CAChC,IAAIkuC,EAAUj1B,EAAM46B,WAAW15B,EAAMyxB,EAAU5rC,EAAI,GACnD+3C,EAAKiC,uBAAuB9L,EAAS/iC,EAAOnL,IAEhD,OAAO+3C,GAOXjE,EAAMlyC,UAAUq+C,cAAgB,SAAUC,EAAiBzB,GACvD,IAAI0B,EAAoBD,EAAgBt+B,QAAO,SAAUvhB,GAAK,OAAOA,EAAEm2C,kBACnEn0B,EAAU69B,EAAgBt+B,QAAO,SAAUvhB,GAAK,OAAQA,EAAEm2C,kBAC9D,SAAS4J,EAAgBnyC,EAAKoyC,GAE1B,IADA,IAAIC,EAASD,EAAYv8C,OAChB9D,EAAI,EAAGA,EAAIsgD,EAAQtgD,IAAK,CAC7B,IAAIyO,EAAQR,EAAIC,QAAQmyC,EAAYrgD,IAChCyO,GAAS,GACTR,EAAIM,OAAOE,EAAO,IAI1B4T,EAAQve,OAAS,GACjBs8C,EAAgBx9C,KAAKs5B,aAAc7Z,GAEnC89B,EAAkBr8C,OAAS,GAC3Bs8C,EAAgBx9C,KAAKs7C,uBAAwBiC,IAOrDrM,EAAMlyC,UAAU2+C,iBAAmB,SAAUt9C,GACzCL,KAAK+3B,aAAazT,KAAK,gBAAiBjkB,IAE5C6wC,EAAMlyC,UAAUo1C,iBAAmB,SAAUrzB,EAAQwD,EAAUq5B,QAClC,IAAd,QAAqD,IAAjB,IAC3C78B,EAAOwD,SAAWA,GAAY,EAC9BxD,EAAO68B,YAAcA,EACrBr3C,QAAQC,KAAK,4FAEjBxG,KAAK43C,iBAA6C,IAAvB72B,EAAkB,aACvCA,EAAO68B,YAEb,IAAIC,EAAY98B,GAAU,CACtBszB,KAAM1H,EAAgBhE,KAE1B3oC,KAAK+3B,aAAazT,KAAK,eAAgBu5B,EAAW98B,EAAOwD,UAAY,IAEzE2sB,EAAMlyC,UAAU8+C,wBAA0B,SAAUtJ,EAAQ5xB,EAAQywB,QAC7C,IAAfA,IAAyBA,GAAa,GAC1CrzC,KAAKo0C,iBAAiB,CAClBC,KAAM,EACA1H,EAAgB2H,eAChB3H,EAAgB4H,QACtBC,OAAQA,EACRE,QAAS9xB,KAGjBsuB,EAAMlyC,UAAU++C,2BAA6B,SAAUvJ,EAAQnF,GAC3DrvC,KAAKo0C,iBAAiB,CAClBC,KAAM1H,EAAgByJ,WACtB5B,OAAQA,EACRE,QAASrF,KAOjB6B,EAAMlyC,UAAUg/C,qBAAuB,SAAUC,GAC7C,IAAIC,EAAe,SAAUC,GACzB,IAAK,IAAI/gD,EAAI,EAAGA,EAAI+gD,EAAU/O,gBAAgBluC,OAAQ9D,IAAK,CACvD,IAAI+3C,EAAOgJ,EAAU/O,gBAAgBhyC,GACjC+3C,EAAK7F,UACL4O,EAAa/I,GAGT8I,GACAA,EAAiB9I,KAIjC+I,EAAal+C,KAAKkvC,qBAOtBgC,EAAMlyC,UAAUo/C,mBAAqB,SAAUviC,GAC3C,IAAII,EAAM,KAWV,OAVAjc,KAAKg+C,sBAAqB,SAAU7I,GAChC,GAAIA,EAAK/d,QAAS,CACd,IAAIhf,EAAO+8B,EAAK5F,YAAY,GACxB8O,EAAOlJ,EAAKmB,gBACZl+B,EAAK/Z,OAASwd,IAAUs5B,EAAK5F,YAAY,IAChC,SAAR8O,GAA2B,UAARA,GAA4B,cAARA,IACxCpiC,EAAMk5B,EAAK5F,YAAY,GAAGlxC,WAI/B4d,GAMXi1B,EAAMlyC,UAAUkwC,iBAAmB,WAC/B,OAAOlvC,KAAK4d,MAOhBszB,EAAMlyC,UAAUs/C,mBAAqB,SAAUv6B,GAC3C,OAAO/jB,KAAK+3B,aAAalU,UAAU,gBAAiBE,IAMxDmtB,EAAMlyC,UAAUu/C,sBAAwB,SAAUl6B,GAC9CrkB,KAAK+3B,aAAa3T,YAAY,gBAAiBC,IAMnD6sB,EAAMlyC,UAAUw/C,mBAAqB,SAAUz6B,GAC3C,OAAO/jB,KAAK+3B,aAAalU,UAAU,eAAgBE,IAMvDmtB,EAAMlyC,UAAUy/C,sBAAwB,SAAUp6B,GAC9CrkB,KAAK+3B,aAAa3T,YAAY,eAAgBC,IAKlD6sB,EAAMlyC,UAAU0/C,kBAAoB,WAChC,IAAIroC,EAAQrW,KAAKoyC,WACjB,IAAK/7B,EACD,MAAO,GACX,IAAIsoC,EAAwB,SAAUR,GAClC,IAAiHS,EAAUxhD,EAAvH+E,EAAS,GAAI08C,EAAU,OAAS,EAAQ/V,cAAcqV,EAAUpJ,UAAW+J,EAAW,IAAKr4C,QAAQo4C,GACvG,IAAKzhD,EAAI,EAAGA,EAAI+gD,EAAU/O,gBAAgBluC,OAAQ9D,IAAK,CACnDwhD,EAAW,GACX,IAAIzJ,EAAOgJ,EAAU/O,gBAAgBhyC,GACrC,GAAI+3C,EAAK/d,cAAqC,IAAlB+d,EAAY,QACpC,GAAIA,EAAK7F,WACLsP,EAAWD,EAAsBxJ,MAE7ByJ,EAAW,IAAMA,EAAW,UAQhC,IAJA,IAAIG,EAAO5J,EAAKmB,gBACZtN,EAAW3yB,EAAMk6B,gBAAgBwO,GACjC59C,EAAQ,EAAQ4nC,oBAAoBC,GACpCgW,EAAO79C,EAAMD,OACR+9C,EAAK,EAAGA,EAAKD,EAAMC,IAAM,CAC9B,IAAI5K,EAAOlzC,EAAM89C,GACbzT,EAAM6I,EAAK/5B,KACf,GAAiB,cAAb+5B,EAAK/1B,KAAsB,CAC3B,IAAIlG,EAAO+8B,EAAK5F,YAAY8E,EAAKxoC,OACjC,GAAIuM,EAAKC,MAAQyxB,EAASwI,WAAal6B,EAAK2B,KAAO0wB,EAAQkF,gBAAiB,CACxE,IAAIp4B,EAAOlB,EAAMuF,iBAAiBxD,EAAK/Z,OACvCmtC,EAAMn1B,EAAM0H,iBAAiBxG,EAAM,wBAGnCi0B,EAAMpzB,EAAK3R,UAGfw4C,EAAK,IACLL,GAAY,KAChBA,GAAYpT,EAIpBoT,IACIxhD,EAAI,GAAK+E,IACTA,GAAU,IAAM28C,EAAW,KAE/B38C,GAAUy8C,GAMlB,OAHIT,EAAUpJ,UAAYrN,EAAS7X,MAAQsuB,EAAUpJ,UAAYrN,EAASkB,SACtEzmC,EAAS,SAAWA,EAAS,MAE1BA,GAEX,OAAOw8C,EAAsB3+C,KAAKkvC,qBAE/BgC,EA7+Be,GC9CtB,EAAqC,WACrC,SAASgO,EAAoBC,GACzBn/C,KAAKm/C,QAAUA,EAsGnB,OApGAD,EAAoBlgD,UAAUi5B,KAAO,SAAU5jB,GAC3C,IAAI+qC,EAAY,KACZ/qC,GAAWA,EAAQ+qC,YACnBA,EAAY/qC,EAAQ+qC,WAExBp/C,KAAKq/C,aAAeD,EAAY,aAChCp/C,KAAKs/C,eAAiBF,GAE1BF,EAAoBlgD,UAAUugD,aAAe,SAAUlrC,GACnD,IAAI7S,EAAQxB,KACZ,OAAO,IAAIsV,SAAQ,SAAUC,EAASC,GAClC,IACI,IAAIgqC,EAAcC,aAAaC,QAAQl+C,EAAM69C,cACzCG,GACAjqC,EAAQH,KAAKQ,MAAM4pC,IAEvBjqC,EAAQ,IAEZ,MAAOoqC,GACHnqC,EAAOmqC,QAKnBT,EAAoBlgD,UAAU4gD,SAAW,SAAUvrC,GAC/C,IAAI7S,EAAQxB,KACZ,OAAO,IAAIsV,SAAQ,SAAUC,EAASC,GAClC,IAAIi5B,EAAQ,IAAI,EAAMjtC,EAAM29C,QAAQ/M,YACpC3D,EAAMoK,QACFxkC,GAAWA,EAAQ1W,KACnB8wC,EAAMwK,QAAQ5kC,EAAQ1W,MAGtB8wC,EAAMwJ,iBAEV1iC,EAAQk5B,EAAMkE,kBAGtBuM,EAAoBlgD,UAAU6gD,UAAY,SAAUxrC,GAChD,IAAI7S,EAAQxB,KACZ,OAAO,IAAIsV,SAAQ,SAAUC,EAASC,GAClC,IACI,IAAIsqC,EAAYL,aAAaC,QAAQl+C,EAAM89C,eAAiB,IAAMjrC,EAAQ0rC,SACtED,GACAvqC,EAAQH,KAAKQ,MAAMkqC,IAEvBtqC,EAAO,IAAIvB,MAAM,uBAAyBI,EAAQ0rC,UAEtD,MAAOJ,GACHnqC,EAAOmqC,QAInBT,EAAoBlgD,UAAUghD,UAAY,SAAU3rC,GAChD,IAAI7S,EAAQxB,KACZ,OAAO,IAAIsV,SAAQ,SAAUC,EAASC,GAClC,IACkBnB,EAAQ6jC,SAAW12C,EAAM29C,QAAQ/M,WAAW72B,QAA1D,IACIkzB,EAAQp6B,EAAQo6B,OAASjtC,EAAM29C,QAAQ9M,WACvC4N,EAAY,GACZT,EAAcC,aAAaC,QAAQl+C,EAAM69C,cACzCG,IACAS,EAAY7qC,KAAKQ,MAAM4pC,IAE3B,IAAIj2C,EAAO,IAAUuB,aAAam1C,EAAWxR,EAAMlzB,SAC9ChS,GACD02C,EAAUl6C,KAAK,CAAEiF,GAAIyjC,EAAMlzB,QAAS5d,KAAM8wC,EAAMjzB,UAAWlB,KAAMm0B,EAAM2M,mBAE3E7xC,EAAK5L,KAAO8wC,EAAMjzB,UAClBjS,EAAK+Q,KAAOm0B,EAAM2M,iBAClBqE,aAAaS,QAAQ1+C,EAAM69C,aAAcjqC,KAAKC,UAAU4qC,IACxDR,aAAaS,QAAQ1+C,EAAM89C,eAAiB,IAAM7Q,EAAMlzB,QAASkzB,EAAMkM,UACvEplC,EAAQ,MAEZ,MAAOoqC,GACHnqC,EAAOmqC,QAInBT,EAAoBlgD,UAAUmhD,YAAc,SAAU9rC,GAClD,IAAI7S,EAAQxB,KACZ,OAAO,IAAIsV,SAAQ,SAAUC,EAASC,GAClC,IACkBnB,EAAQ6jC,SAAW12C,EAAM29C,QAAQ/M,WAAW72B,QAA1D,IACI6kC,EAAY/rC,EAAQ0rC,SAAWv+C,EAAM29C,QAAQ9M,WAAW92B,QACxD0kC,EAAY,GACZT,EAAcC,aAAaC,QAAQl+C,EAAM69C,cACzCG,IACAS,EAAY7qC,KAAKQ,MAAM4pC,IAE3BS,EAAYA,EAAUjhC,QAAO,SAAUzV,GAAQ,OAAOA,EAAKyB,IAAMo1C,KACjEX,aAAaS,QAAQ1+C,EAAM69C,aAAcjqC,KAAKC,UAAU4qC,IACxDR,aAAaY,WAAW7+C,EAAM89C,eAAiB,IAAMc,GACrD7qC,IAEJ,MAAOoqC,GACHnqC,EAAOmqC,QAIZT,EAxG6B,GCFpCoB,EAA+B,WAC/B,SAASA,EAAcnB,GACnBn/C,KAAKm/C,QAAUA,EACfn/C,KAAKugD,aAAe,KA0BxB,OAxBAD,EAActhD,UAAUi5B,KAAO,SAAU5jB,KAEzCisC,EAActhD,UAAUwhD,WAAa,WACjC,OAAOxgD,KAAKm/C,SAEhBmB,EAActhD,UAAUyhD,0BAA4B,WAChD,IAAIj/C,EAAQxB,KACZA,KAAKugD,aAAe,IAAIjrC,SAAQ,SAAUC,EAASC,GAC/ChU,EAAMk/C,wBAA0BnrC,EAChC/T,EAAMm/C,uBAAyBnrC,MAMvC8qC,EAActhD,UAAU4hD,gBAAkB,WACtC,OAAO5gD,KAAKugD,cACLjrC,QAAQE,OAAO,IAAIvB,MAAM,kCAEpCqsC,EAActhD,UAAU6hD,kBAAoB,SAAUxsC,GAGlD,OAFArU,KAAKygD,4BACLzgD,KAAK8gD,qBAAqBzsC,GACnBrU,KAAKugD,cAETD,EA7BuB,GCA9B,EAAwC,WACxC,IAAI5tC,EAAgB,SAAUhV,EAAG0I,GAI7B,OAHAsM,EAAgB5U,OAAOyV,gBAClB,CAAEC,UAAW,cAAgBvJ,OAAS,SAAUvM,EAAG0I,GAAK1I,EAAE8V,UAAYpN,IACvE,SAAU1I,EAAG0I,GAAK,IAAK,IAAIlH,KAAKkH,EAAOA,EAAEnH,eAAeC,KAAIxB,EAAEwB,GAAKkH,EAAElH,MACpDxB,EAAG0I,IAE5B,OAAO,SAAU1I,EAAG0I,GAEhB,SAASqN,IAAOzT,KAAK0T,YAAchW,EADnCgV,EAAchV,EAAG0I,GAEjB1I,EAAEsB,UAAkB,OAANoH,EAAatI,OAAOY,OAAO0H,IAAMqN,EAAGzU,UAAYoH,EAAEpH,UAAW,IAAIyU,IAV3C,GAcxCstC,EAAqC,SAAUjtC,GAE/C,SAASitC,EAAoB5B,GACzB,OAAOrrC,EAAOvW,KAAKyC,KAAMm/C,IAAYn/C,KAoBzC,OAtBA,EAAU+gD,EAAqBjtC,GAI/BitC,EAAoB/hD,UAAUi5B,KAAO,aAErC8oB,EAAoB/hD,UAAU8hD,qBAAuB,SAAUzsC,GAC3D,IAAI7S,EAAQxB,KACRm/C,EAAUn/C,KAAKwgD,aACfQ,EAAO7B,EAAQ8B,cAAcC,gBAC7BhhD,EAAMi/C,EAAQgC,gBAAgB,WAAY,CAAEjJ,QAAS7jC,EAAQ6jC,UACjE8I,EAAK/iD,IAAIiC,GACJ8S,MAAK,SAAUouC,GACXA,EAAa/qC,OACd7U,EAAMm/C,uBAAuB,IAAI1sC,MAAM,iDAE3CzS,EAAMk/C,wBAAwBU,EAAa/qC,UAE1ClD,OAAM,SAAU3L,GACjBhG,EAAMm/C,uBAAuBn5C,OAG9Bu5C,EAvB6B,CAwBtCT,GCtCEe,EAAuC,WACvC,SAASA,EAAsBlC,GAC3Bn/C,KAAKm/C,QAAUA,EAoBnB,OAlBAkC,EAAsBriD,UAAUsiD,aAAe,SAAUjtC,GACrD,IAAIo6B,EAAQp6B,EAAQo6B,OAASzuC,KAAKm/C,QAAQ9M,WACtC0N,EAAUtR,EAAMlzB,QAChBgmC,EAAc,CACd,MAAS9S,EAAMkE,aACf,QAAWt+B,EAAQA,SAEnBA,EAAQ6N,QACRq/B,EAAmB,MAAIltC,EAAQ6N,OAE/B7N,EAAQhU,OACRkhD,EAAkB,KAAIltC,EAAQhU,MAElC,IAAIH,EAAMF,KAAKm/C,QAAQgC,gBAAgB,eAAgB,CAAEjJ,QAASzJ,EAAM2D,WAAW72B,QAASwkC,QAASA,IAErG,OADW//C,KAAKm/C,QAAQ8B,cAAcC,gBAC1B1sC,KAAKtU,EAAKqhD,GACjBvuC,MAAK,SAAU3S,GAAQ,OAAOA,MAEhCghD,EAtB+B,GCAtCG,EAA2C,WAC3C,SAASA,EAA0BrC,GAC/Bn/C,KAAKm/C,QAAUA,EAkBnB,OAhBAqC,EAA0BxiD,UAAUyiD,UAAY,SAAUptC,GAEtD,IAAIo6B,GADJp6B,EAAUA,GAAW,IACDo6B,OAASzuC,KAAKm/C,QAAQ9M,WACtC/F,EAAMj4B,EAAQA,SAAW,GACzBktC,EAAc,CACd,MAAS9S,EAAMkE,aACf,QAAWrG,GAEXj4B,EAAQhU,OACRkhD,EAAYlhD,KAAOgU,EAAQhU,MAE/B,IAAIH,EAAMF,KAAKm/C,QAAQgC,gBAAgB,YAAa,CAAEjJ,QAASzJ,EAAM2D,WAAW72B,QAASwkC,QAAStR,EAAMlzB,UAExG,OADWvb,KAAKm/C,QAAQ8B,cAAcC,gBAC1B1sC,KAAKtU,EAAKqhD,GACjBvuC,MAAK,SAAUouC,GAAgB,OAAOA,MAExCI,EApBmC,GCC1C,EAA2C,WAC3C,SAASE,EAA0BvC,GAC/Bn/C,KAAKm/C,QAAUA,EAsBnB,OApBAuC,EAA0B1iD,UAAU2iD,cAAgB,SAAUttC,GAC1D,IAAI6jC,EAAU7jC,EAAQ6jC,SAAWl4C,KAAKm/C,QAAQ/M,WAAW72B,QAErDG,EADc,IAAUlS,OAAO,CAAE0uC,QAASA,GAAW7jC,EAAQ0M,QACtCrF,SACvBslC,EAAOhhD,KAAKm/C,QAAQ8B,cAAcC,gBAClChhD,EAAMF,KAAKm/C,QAAQgC,gBAAgB,eAAgB,CAAEjJ,QAASA,EAAS0J,OAAQlmC,IAC/Etb,EAAc,GAIlB,OAHIiU,GAAWA,EAAQ0M,QAAU1M,EAAQ0M,OAAO3gB,cAC5CA,EAAciU,EAAQ0M,OAAO3gB,aAE1B4gD,EAAK/iD,IAAIiC,EAAK,CAAEE,YAAaA,IAC/B4S,MAAK,SAAUouC,GAChB,GAAIA,GAAgBA,EAAa74C,OAC7B,OAAO64C,EAAa74C,OAGpB,MAAM,IAAI0L,MAAM,mDAIrBytC,EAxBmC,GCD1CG,EAAmC,WACnC,SAASA,EAAkB1C,GACvBn/C,KAAKm/C,QAAUA,EA+CnB,OA7CA0C,EAAkB7iD,UAAU8iD,aAAe,SAAUztC,GACjD,IAAIo6B,EAAQp6B,EAAQo6B,OAASzuC,KAAKm/C,QAAQ9M,WACtCnyC,EAAMF,KAAKm/C,QAAQgC,gBAAgB,eAAgB,CAAEjJ,QAASzJ,EAAM2D,WAAW72B,QAC/EvT,OAAQqM,EAAQrM,QAAU,QAE1B+5C,EADO/hD,KAAKm/C,QAAQ8B,cAAcC,gBACd1sC,KAAKtU,EAAK,CAC9BuuC,MAAOA,EAAMkE,eAEb//B,EAAUmvC,EAAahvC,aAC3B,OAAOgvC,EAAa/uC,MAAK,SAAUouC,GAC/B,IAAIY,EAAO,IAAIC,KAAK,CAACb,IACjBc,EAAWtvC,EAAQpS,oBAClBmV,kBAAkB,uBAAuBnD,MAAM,mBAAmB,GAKvE,GAJI6B,EAAQ6tC,WACRA,EAAW7tC,EAAQ6tC,SACbA,EAASznC,UAAUynC,EAASC,YAAY,OAE9Cn1C,OAAO/H,UAAUm9C,iBAEjBp1C,OAAO/H,UAAUm9C,iBAAiBJ,EAAME,OAEvC,CACD,IAAI/7C,EAAI0G,SAASyY,cAAc,KAC/BzY,SAASD,KAAK6Y,YAAYtf,GAC1BA,EAAEyf,MAAMC,QAAU,OAClB1f,EAAEk8C,KAAOr1C,OAAOs1C,IAAIC,gBAAgBP,GACpC77C,EAAEq8C,SAAWN,EACb/7C,EAAEs8C,QACFz1C,OAAOs1C,IAAII,gBAAgBv8C,EAAEk8C,MAC7Bx1C,SAASD,KAAK+kB,YAAYxrB,QAItC07C,EAAkB7iD,UAAU2jD,gBAAkB,SAAUtuC,GAEpD,IAAIo6B,GADJp6B,EAAUA,GAAW,IACDo6B,OAASzuC,KAAKm/C,QAAQ9M,WACtCnyC,EAAMF,KAAKm/C,QAAQgC,gBAAgB,kBAAmB,CAAEjJ,QAASzJ,EAAM2D,WAAW72B,UAEtF,OADWvb,KAAKm/C,QAAQ8B,cAAcC,gBAC1B1sC,KAAKtU,EAAKmU,EAAQhU,KAAM,CAChC0H,SAAU,cAETiL,MAAK,SAAUouC,GAChB,OAAOA,EAAa3S,UAGrBoT,EAjD2B,GCClC,EAAmC,WACnC,SAASe,EAAkBzD,GACvBn/C,KAAKm/C,QAAUA,EACfn/C,KAAK6iD,OAAS,GA4DlB,OA1DAD,EAAkB5jD,UAAU8jD,UAAY,SAAUjmB,EAAOx8B,GACrD,IAAI2U,EAAOhV,KAAK+iD,aAAalmB,GAE7B,GADA7nB,EAAK3U,KAAOA,EACR2U,EAAKguC,iBACL,IAAK,IAAIniD,EAAK,EAAGqQ,EAAK8D,EAAKguC,iBAAkBniD,EAAKqQ,EAAGhQ,OAAQL,IAAM,EAE/DkjB,EADe7S,EAAGrQ,IACTmU,EAAK3U,MAGtB2U,EAAKguC,iBAAmB,IAE5BJ,EAAkB5jD,UAAUk+B,WAAa,SAAUL,EAAOlc,GACtD,IAAInf,EAAQxB,KAGRo8B,EAFWp8B,KAAKm/C,QAAQ9M,WAER/Y,aAAata,QAAO,SAAUH,GAAO,OAAOA,EAAIuY,SAC7DvY,EAAIzG,KAAK2B,KAAO0wB,EAAQkF,mBAC/BvT,EAAKI,MAIL,IAHA,IAAIymB,EAAa7mB,EAAKxa,MAAM,EAAGib,GAE3Bl+B,EAAM,GACDkC,EAAK,EAAGqiD,EAAeD,EAAYpiD,EAAKqiD,EAAahiD,OAAQL,IAAM,CACxE,IAAIsiD,EAASD,EAAariD,GAC1BlC,EAAIwkD,EAAOn4C,IAAM2V,EAAIf,SAASujC,EAAOn4C,IAEzC,OAAO,IAAIsK,SAAQ,SAAUC,EAASC,GAClC,IAAIR,EAAOxT,EAAMuhD,aAAalmB,GAC1BumB,EAAc,SAAU/iD,GAExB,IAAIhC,EAAQgC,EAAKpC,IAAImX,KAAKC,UAAU1W,IACpC,GAAIN,EAAO,CACP,IAAK,IAAIglD,KAAShlD,EACdsiB,EAAIZ,SAASsjC,EAAOhlD,EAAMglD,IAE9B9tC,SAGAC,KAGJR,EAAK3U,KACL+iD,EAAYpuC,EAAK3U,MAGjB2U,EAAKguC,iBAAiBj9C,KAAKq9C,OAIvCR,EAAkB5jD,UAAU+jD,aAAe,SAAUlmB,GACjD,IAAI7nB,EAAOhV,KAAK6iD,OAAOhmB,GAOvB,OANK7nB,IACDA,EAAO,CACHguC,iBAAkB,KAG1BhjD,KAAK6iD,OAAOhmB,GAAS7nB,EACdA,GAEJ4tC,EA/D2B,GAkElCU,EAAwC,WACxC,SAASA,EAAuBnE,GAC5Bn/C,KAAKm/C,QAAUA,EASnB,OAPAmE,EAAuBtkD,UAAUi+B,UAAY,WACzC,OAAO,IAAI,EAAkBj9B,KAAKm/C,UAEtCmE,EAAuBtkD,UAAUukD,UAAY,SAAUlvC,GAEnD,OADA9N,QAAQC,KAAK,kFACN8O,QAAQC,WAEZ+tC,EAXgC,GCzDvC,EAAmC,WACnC,SAASE,IACLxjD,KAAKyjD,YAAc,KACnBzjD,KAAK0jD,aAAe,KACpB1jD,KAAK2jD,kBAAoB,KACzB3jD,KAAK4jD,cAAgB,KACrB5jD,KAAK6jD,kBAAoB,KACzB7jD,KAAK8jD,gBAAkB,KACvB9jD,KAAK+jD,gBAAkB,KACvB/jD,KAAKgkD,WAAa,IAAI,IACtBhkD,KAAKgkD,WAAW7vC,eAAe,kBAAoB,QACnDnU,KAAKikD,cAAgB,SAAUnrB,GAAK,OAAO,IAAI,GAC/C94B,KAAKkkD,cAAgB,SAAU/E,GAAW,OAAO,IAAI,EAAMA,EAAQ/M,aACnEpyC,KAAKmkD,oBAAsB,SAAUhF,GAAW,OAAO,IAAI4B,EAAoB5B,IAC/En/C,KAAKokD,qBAAuB,SAAUjF,GAAW,OAAO,IAAI,EAAoBA,IAChFn/C,KAAKqkD,0BAA4B,SAAUlF,GAAW,OAAO,IAAIqC,EAA0BrC,IAC3Fn/C,KAAKskD,YAAc,SAAUnF,GAAW,OAAO,IAAI,EAA0BA,IAC7En/C,KAAKukD,sBAAwB,SAAUpF,GAAW,OAAO,IAAIkC,EAAsBlC,IACnFn/C,KAAKwkD,wBAA0B,SAAUrF,GAAW,OAAO,IAAI0C,EAAkB1C,IACjFn/C,KAAKykD,uBAAyB,SAAUtF,GAAW,OAAO,IAAImE,EAAuBnE,IAgHzF,OA9GAqE,EAAkBxkD,UAAU65C,MAAQ,WAChC74C,KAAKyjD,YAAc,KACnBzjD,KAAK0jD,aAAe,KACpB1jD,KAAK2jD,kBAAoB,MAE7BH,EAAkBxkD,UAAUkiD,cAAgB,WACxC,OAAOlhD,KAAKgkD,YAEhBR,EAAkBxkD,UAAU0lD,gBAAkB,SAAUvF,GACpD,IAAKn/C,KAAKikD,cACN,KAAM,gCAEV,OAAOjkD,KAAKikD,cAAc9E,IAE9BqE,EAAkBxkD,UAAU4uC,YAAc,SAAUuR,GAChD,IAAKn/C,KAAKkkD,cACN,KAAM,gCAEV,OAAOlkD,KAAKkkD,cAAc/E,IAE9BqE,EAAkBxkD,UAAU2lD,eAAiB,SAAUxF,GACnD,IAAKn/C,KAAKyjD,YAAa,CACnB,IAAKzjD,KAAKmkD,oBACN,KAAM,qCAEVnkD,KAAKyjD,YAAczjD,KAAKmkD,oBAAoBhF,GAEhD,OAAOn/C,KAAKyjD,aAEhBD,EAAkBxkD,UAAU4lD,gBAAkB,SAAUzF,GACpD,IAAKn/C,KAAK0jD,aAAc,CACpB,IAAK1jD,KAAKokD,qBACN,KAAM,sCAEVpkD,KAAK0jD,aAAe1jD,KAAKokD,qBAAqBjF,GAElD,OAAOn/C,KAAK0jD,cAEhBF,EAAkBxkD,UAAU6lD,qBAAuB,SAAU1F,GACzD,IAAKn/C,KAAK2jD,kBAAmB,CACzB,IAAK3jD,KAAKqkD,0BACN,KAAM,2CAEVrkD,KAAK2jD,kBAAoB3jD,KAAKqkD,0BAA0BlF,GAE5D,OAAOn/C,KAAK2jD,mBAEhBH,EAAkBxkD,UAAU8lD,iBAAmB,SAAU3F,GACrD,IAAKn/C,KAAK4jD,cAAe,CACrB,IAAK5jD,KAAKukD,sBACN,KAAM,uCAEVvkD,KAAK4jD,cAAgB5jD,KAAKukD,sBAAsBpF,GAEpD,OAAOn/C,KAAK4jD,eAEhBJ,EAAkBxkD,UAAU+lD,qBAAuB,SAAU5F,GACzD,IAAKn/C,KAAK6jD,kBAAmB,CACzB,IAAK7jD,KAAKskD,YACN,KAAM,gDAEVtkD,KAAK6jD,kBAAoB7jD,KAAKskD,YAAYnF,GAE9C,OAAOn/C,KAAK6jD,mBAEhBL,EAAkBxkD,UAAUgmD,mBAAqB,SAAU7F,GACvD,IAAKn/C,KAAK8jD,gBAAiB,CACvB,IAAK9jD,KAAKwkD,wBACN,KAAM,8CAEVxkD,KAAK8jD,gBAAkB9jD,KAAKwkD,wBAAwBrF,GAExD,OAAOn/C,KAAK8jD,iBAEhBN,EAAkBxkD,UAAUimD,mBAAqB,SAAU9F,GACvD,IAAKn/C,KAAK+jD,gBAAiB,CACvB,IAAK/jD,KAAKykD,uBACN,KAAM,8CAEVzkD,KAAK+jD,gBAAkB/jD,KAAKykD,uBAAuBtF,GAEvD,OAAOn/C,KAAK+jD,iBAEhBP,EAAkBxkD,UAAUkmD,0BAA4B,SAAUC,GAC9DnlD,KAAKikD,cAAgBkB,GAEzB3B,EAAkBxkD,UAAUomD,sBAAwB,SAAUD,GAC1DnlD,KAAKkkD,cAAgBiB,GAEzB3B,EAAkBxkD,UAAUqmD,4BAA8B,SAAUF,GAChEnlD,KAAKmkD,oBAAsBgB,GAE/B3B,EAAkBxkD,UAAUsmD,6BAA+B,SAAUH,GACjEnlD,KAAKokD,qBAAuBe,GAEhC3B,EAAkBxkD,UAAUumD,8BAAgC,SAAUJ,GAClEnlD,KAAKukD,sBAAwBY,GAEjC3B,EAAkBxkD,UAAUwmD,iCAAmC,SAAUL,GACrEnlD,KAAKqkD,0BAA4Bc,GAErC3B,EAAkBxkD,UAAUymD,0BAA4B,SAAUN,GAC9DnlD,KAAKskD,YAAca,GAEvB3B,EAAkBxkD,UAAU0mD,gCAAkC,SAAUP,GACpEnlD,KAAKwkD,wBAA0BW,GAEnC3B,EAAkBxkD,UAAU2mD,wBAA0B,SAAUR,GAC5DnlD,KAAKykD,uBAAyBU,GAE3B3B,EAnI2B,GCTlC,EAAqC,WACrC,SAASoC,EAAoBzG,GACzBn/C,KAAKm/C,QAAUA,EAuCnB,OArCAyG,EAAoB5mD,UAAU6iB,UAAY,SAAUd,GAChD,IAAIvf,EAAQxB,KAkCZ,OA/BAA,KAAK6lD,gBAAkB,IAAIvwC,SAAQ,SAAUC,EAASC,GAClDhU,EAAM29C,QAAQ2G,eAAe,CACzB5jC,MAAOnB,EACPglC,QAAS,SAAU5jD,GAMf,IALA,IAAIw0B,EAAY,IAAI,IAAc,CAC9BvW,OAAQ5e,EAAM29C,QAAQ6G,WACtB1lC,UAAW9e,EAAM29C,QAAQ8G,YAAY3lC,YAErC4lC,EAAY/jD,EAAO+jD,UACdrlD,EAAK,EAAGqQ,EAAKg1C,EAAU9pB,KAAMv7B,EAAKqQ,EAAGhQ,OAAQL,IAAM,CACxD,IAAIge,EAAM3N,EAAGrQ,GACb81B,EAAUlX,QAAQd,IAAIE,GAE1B8X,EAAUtU,SAASlgB,EAAOgkD,KAAKC,cAC/B,IAAK,IAAI7rC,EAAK,EAAGC,EAAK0rC,EAAUzlC,KAAMlG,EAAKC,EAAGtZ,OAAQqZ,IAAM,CACxD,IAAIoG,EAAMnG,EAAGD,GACboc,EAAU9V,OAAOF,GAErB,IAAIylC,EAAe,EACfjkD,EAAOgkD,MAAQhkD,EAAOgkD,KAAKC,eAC3BA,EAAejkD,EAAOgkD,KAAKC,cAE/B7wC,EAAQ,CACJwM,MAAO4U,EACPxW,MAAOimC,EACPC,SAAUtlC,EAAOV,WAAaU,EAAOK,OAASL,EAAOM,MAAQ+kC,KAGrE5+C,MAAO,SAAUA,GAAS,OAAOgO,EAAOhO,SAGzCxH,KAAK6lD,iBAETD,EAzC6B,G,MbCxC,SAAWjR,GAEPA,EAAYA,EAAkB,KAAI,GAAK,OAEvCA,EAAYA,EAAmB,MAAI,GAAK,QAExCA,EAAYA,EAAmB,MAAI,GAAK,QAExCA,EAAYA,EAAoB,OAAI,GAAK,SAEzCA,EAAYA,EAAuB,UAAI,GAAK,YAE5CA,EAAYA,EAAyB,YAAI,IAAM,cAE/CA,EAAYA,EAAiB,IAAI,OAAS,MAd9C,CAeGA,IAAgBA,EAAc,KChBjC,SAAWC,GACPA,EAAoB,UAAI,YACxBA,EAAoB,UAAI,YACxBA,EAAwB,cAAI,gBAC5BA,EAAmB,SAAI,WACvBA,EAAoB,UAAI,YACxBA,EAAsB,YAAI,cAC1BA,EAAoB,UAAI,YACxBA,EAAuB,aAAI,eAC3BA,EAAoB,UAAI,YACxBA,EAAuB,aAAI,eAC3BA,EAAuB,aAAI,eAC3BA,EAAuB,aAAI,eAC3BA,EAA0B,gBAAI,kBAblC,CAcGA,IAAaA,EAAW,KCd3B,SAAWC,GACPA,EAAeA,EAAsB,MAAI,GAAK,QAC9CA,EAAeA,EAAwB,QAAI,GAAK,UAFpD,CAGGA,IAAmBA,EAAiB,KYJvC,IAAIyR,EAAkC,WAClC,SAASA,EAAiBnH,GACtBn/C,KAAKm/C,QAAUA,EAuCnB,OArCAmH,EAAiBtnD,UAAUunD,UAAY,SAAUv+C,GAC7ChI,KAAKgI,OAASA,GAElBs+C,EAAiBtnD,UAAUwnD,OAAS,SAAUnyC,GAC1CA,EAAUA,GAAW,GACrB,IAAI2sC,EAAOhhD,KAAKm/C,QAAQ8B,cAAcC,gBAClCl5C,EAAShI,KAAKgI,QAAU,MACxBymC,EAAQp6B,EAAQo6B,OAASzuC,KAAKm/C,QAAQ9M,WACtC0N,EAAUtR,EAAMlzB,QAChB28B,EAAUzJ,EAAM2D,WAAW72B,QAC3Blb,EAAO,CACP,MAASouC,EAAMkE,aACf,SAAYt+B,EAAQ3Q,UAEpBxD,EAAMF,KAAKm/C,QAAQgC,gBAAgB,eAAgB,CAAEjJ,QAASA,EAAS6H,QAASA,EAAS/3C,OAAQA,IACjG+5C,EAAef,EAAKxsC,KAAKtU,EAAKG,GAC9BuS,EAAUmvC,EAAahvC,aAC3B,OAAOgvC,EAAa/uC,MAAK,SAAUouC,GAC/B,IAAIY,EAAO,IAAIC,KAAK,CAACb,IACjBqF,EAAW7zC,EAAQpS,oBAClBmV,kBAAkB,uBAAuBnD,MAAM,mBAAmB,GACvE,GAAIxF,OAAO/H,UAAUm9C,iBAEjBp1C,OAAO/H,UAAUm9C,iBAAiBJ,EAAMyE,OAEvC,CACD,IAAItgD,EAAI0G,SAASyY,cAAc,KAC/BzY,SAASD,KAAK6Y,YAAYtf,GAC1BA,EAAEyf,MAAMC,QAAU,OAClB1f,EAAEk8C,KAAOr1C,OAAOs1C,IAAIC,gBAAgBP,GACpC77C,EAAEq8C,SAAWiE,EACbtgD,EAAEs8C,QACFz1C,OAAOs1C,IAAII,gBAAgBv8C,EAAEk8C,MAC7Bx1C,SAASD,KAAK+kB,YAAYxrB,QAI/BmgD,EAzC0B,GCAjC,EAAsC,WAStC,OARA,EAAWxoD,OAAO0L,QAAU,SAASlL,GACjC,IAAK,IAAIa,EAAG/B,EAAI,EAAGyB,EAAI8H,UAAUzF,OAAQ9D,EAAIyB,EAAGzB,IAE5C,IAAK,IAAI8B,KADTC,EAAIwH,UAAUvJ,GACOU,OAAOkB,UAAUC,eAAe1B,KAAK4B,EAAGD,KACzDZ,EAAEY,GAAKC,EAAED,IAEjB,OAAOZ,IAEKsV,MAAM5T,KAAM2G,YAuB5B,EAA2B,WAC3B,SAAS+/C,IACL,IAAIllD,EAAQxB,KACZA,KAAK2mD,kBAAoB,GACzB3mD,KAAKw2B,cAAe,EACpBx2B,KAAK4mD,kBAAmB,EACxB5mD,KAAK6mD,kBAAmB,EACxB7mD,KAAK27B,YAAa,EAElB37B,KAAK8mD,kBAAoB,WACzB9mD,KAAK+mD,+BAAiC,CAClC,MAAS,SAAUhmC,EAAQimC,GAOvB,OADAA,EALWxlD,EAAM4wC,WAAWR,mBACvBhwC,KAAI,SAAUyvC,GACf,IAAI4V,EAAY5V,EAAM7+B,MAAM,eAAe,GAC3C,MAAO,CAAExH,GAAIqmC,EAAO/2B,KAAM,IAAK7T,QAAQwgD,SAGpC,GAEX,MAAS,SAAUlmC,EAAQimC,GAOvB,OADAA,EALWxlD,EAAM4wC,WAAWP,mBACvBjwC,KAAI,SAAUyvC,GACf,IAAI4V,EAAY5V,EAAM7+B,MAAM,eAAe,GAC3C,MAAO,CAAExH,GAAIqmC,EAAO/2B,KAAM,IAAK7T,QAAQwgD,SAGpC,IAGfjnD,KAAKknD,oBAAsB,SAAUnmC,EAAQimC,GACzC,GAAc,MAAVjmC,GAAmBA,EAAOomC,SAA9B,CAEA,IAAI1Y,EAAQjtC,EAAM6wC,WACd+U,EAAY,IAAU59C,OAAO,CAAE29C,SAAUpmC,EAAOomC,UAAYpmC,EAAOsmC,cACnEC,EAAa,GACbC,EAAc,aAClB,IAAK,IAAIC,KAAQJ,EACb,GAAKE,EAAWE,GAAhB,CAEA,IAAIC,EAAeL,EAAUI,GAAMh1C,MAAM+0C,GACzC,GAAIE,EAAc,CACd,IAAIC,EAAajZ,EAAM2P,mBAAmBqJ,EAAa,IAClDC,IACDA,EAAa,IAEjBJ,EAAWE,GAAQJ,EAAUI,GAAM3hD,QAAQ0hD,EAAaG,IAGhE,IAAIC,EAAe,CACfR,SAAUG,EAAWH,SACrBzrC,SAAUqF,EAAOrF,SACjBtb,YAAaknD,GAEbM,EAAOpmD,EAAMqmD,iBAAiB9mC,GAClC,GAAI6mC,GAAQA,EAAK1mD,OAAS,EACtB8lD,EAASY,OADb,CAIA,IAAIE,GAAY,EACZC,EAAoBvmD,EAAMulD,+BAA+BhmC,EAAOrF,UAChEqsC,IACAD,EAAYC,EAAkBhnC,EAAQimC,KAErCc,GAAatmD,EAAM82C,2BACpBwP,EAAYtmD,EAAM82C,yBAAyBv3B,EAAQimC,IAElDc,GACDtmD,EAAMmgD,cAAc,CAChB5gC,OAAQ4mC,EACR5B,QAAS,SAAU1lD,GACXA,GACAmB,EAAMwmD,eAAejnC,EAAQ1gB,GAEjC2mD,EAAS3mD,IAEbmH,MAAO,SAAUwM,GACbgzC,EAAS,YAKzBhnD,KAAKioD,WAAa,IAAI,EACtBjoD,KAAKkoD,QAAU,IAAIj+C,MACnBjK,KAAK+3B,aAAe,IAAI,IAAa/3B,MACrCA,KAAKmoD,UAAY,IAAIC,IACrBpoD,KAAKqoD,UAAY,IAAID,IACrBpoD,KAAKgmD,WAAa,IAAI,EAAoBhmD,MAC1CA,KAAKimD,YAAc,IAAI,IAAc,CACjC7lC,OAAQpgB,KAAKgmD,aAEjBhmD,KAAKimD,YAAYj7C,GAAK,cA0qC1B,OAxqCA07C,EAAU1nD,UAAUiiD,YAAc,WAC9B,OAAOjhD,KAAKioD,YAEhBvB,EAAU1nD,UAAUspD,iBAAmB,SAAUtgD,EAAQm9C,GACrDnlD,KAAKmoD,UAAUh+C,IAAInC,EAAQm9C,IAE/BuB,EAAU1nD,UAAUupD,YAAc,SAAUvgD,GACxC,IAAIm9C,EAAWnlD,KAAKmoD,UAAUlqD,IAAI+J,GAClC,OAAIm9C,EACOA,EAASnlD,MAEb,MAEX0mD,EAAU1nD,UAAUwpD,iBAAmB,WACnC,OAAOv+C,MAAM0V,KAAK3f,KAAKmoD,UAAUzmD,SAErCglD,EAAU1nD,UAAUypD,oBAAsB,WACtCzoD,KAAKsoD,iBAAiB,OAAO,SAAUnJ,GACnC,IAAIuJ,EAAW,IAAIpC,EAAiBnH,GAEpC,OADAuJ,EAASnC,UAAU,OACZmC,KAEX1oD,KAAKsoD,iBAAiB,cAAc,SAAUnJ,GAC1C,IAAIuJ,EAAW,IAAIpC,EAAiBnH,GAEpC,OADAuJ,EAASnC,UAAU,cACZmC,MAGfhC,EAAU1nD,UAAUmiD,gBAAkB,SAAUwH,EAAat0C,GACzDA,EAAUA,GAAW,GACrB,IAAIlS,EAASnC,KAAKqoD,UAAUpqD,IAAI0qD,GAChC,IAAKxmD,EACD,MAAMwmD,EAAc,2BAExB,IAAIj3C,EAAUvP,EAAOqQ,MAAMxS,KAAK8mD,mBAChC,GAAIp1C,EACA,IAAK,IAAI7Q,EAAK,EAAG+nD,EAAYl3C,EAAS7Q,EAAK+nD,EAAU1nD,OAAQL,IAAM,CAC/D,IAAI2R,EAAQo2C,EAAU/nD,GAClBgoD,EAAMr2C,EAAMiI,UAAU,EAAGjI,EAAMtR,OAAS,GACxC4nD,EAASz0C,EAAQw0C,GACrB,IAAKC,EACD,GAAW,WAAPD,EACAC,EAAS9oD,KAAKoyC,WAAW72B,YAExB,IAAW,WAAPstC,EAIL,KAAM,cAAgBA,EAAM,mBAH5BC,EAAS9oD,KAAKqyC,WAAW92B,QAMjCpZ,EAASA,EAAO0D,QAAQ2M,EAAOs2C,GAGvC,OAAO3mD,GAEXukD,EAAU1nD,UAAU+pD,YAAc,SAAUpqD,EAAKN,GAC7C2B,KAAKqoD,UAAUl+C,IAAIxL,EAAKN,IAE5BqoD,EAAU1nD,UAAUgqD,qBAAuB,SAAUrqD,EAAKN,GACjD2B,KAAKqoD,UAAUr+C,IAAIrL,IACpBqB,KAAKqoD,UAAUl+C,IAAIxL,EAAKN,IAEhCqoD,EAAU1nD,UAAUiqD,oBAAsB,SAAUC,GAChDlpD,KAAKgpD,qBAAqB,WAAY,EAAQzgB,YAAY2gB,EAAc,qBACxElpD,KAAKgpD,qBAAqB,WAAY,EAAQzgB,YAAY2gB,EAAc,uCACxElpD,KAAKgpD,qBAAqB,YAAa,EAAQzgB,YAAY2gB,EAAc,uCACzElpD,KAAKgpD,qBAAqB,YAAa,EAAQzgB,YAAY2gB,EAAc,4CACzElpD,KAAKgpD,qBAAqB,WAAY,EAAQzgB,YAAY2gB,EAAc,6BACxElpD,KAAKgpD,qBAAqB,cAAe,EAAQzgB,YAAY2gB,EAAc,uCAC3ElpD,KAAKgpD,qBAAqB,eAAgB,EAAQzgB,YAAY2gB,EAAc,6BAC5ElpD,KAAKgpD,qBAAqB,eAAgB,EAAQzgB,YAAY2gB,EAAc,+CAC5ElpD,KAAKgpD,qBAAqB,eAAgB,EAAQzgB,YAAY2gB,EAAc,yCAC5ElpD,KAAKgpD,qBAAqB,eAAgB,EAAQzgB,YAAY2gB,EAAc,uDAC5ElpD,KAAKgpD,qBAAqB,eAAgB,EAAQzgB,YAAY2gB,EAAc,2CAC5ElpD,KAAKgpD,qBAAqB,kBAAmB,EAAQzgB,YAAY2gB,EAAc,sCAMnFxC,EAAU1nD,UAAUi5B,KAAO,SAAU5jB,GACjC,IAAI7S,EAAQxB,UAEuB,KADnCqU,EAAUA,GAAW,IACQ,YACzBrU,KAAKimD,YAAY3lC,UAAYjM,EAAQiM,WAEzC,IAAImuB,EAAQzuC,KAAKqyC,WACbh+B,EAAQ80C,gBACR1a,EAAM0M,MAAM9mC,EAAQ80C,gBAEpB90C,EAAQ+0C,WACRppD,KAAKqpD,qBAAqBh1C,EAAQ+0C,WAElC/0C,EAAQpO,QACR,IAAKhC,iBAAiBoQ,EAAQpO,QAE9BoO,EAAQpM,gBACR,IAAK5D,qBAAqBgQ,EAAQpM,gBAEtCjI,KAAKspD,aAAe,gBAEpB,IAAIC,EAAgBl1C,EAAQm1C,OACxBD,IACIA,EAAcE,aACdzpD,KAAKspD,aAAeC,EAAcE,YAElCF,EAAcG,WACd1pD,KAAKspD,aAAeC,EAAcG,UAElCH,EAAcI,cACd3pD,KAAK4pD,gBAAkBL,EAAcI,aAErCJ,EAAcM,cACd7pD,KAAK8pD,gBAAkBP,EAAcM,aAErCN,EAAcQ,cACd/pD,KAAKgqD,gBAAkBT,EAAcQ,aAErCR,EAAcU,iBACdjqD,KAAKkqD,mBAAqBX,EAAcU,gBAExCV,EAAcY,iBACdnqD,KAAKoqD,mBAAqBb,EAAcY,gBAExCZ,EAAcr0C,YACHlV,KAAKihD,cAAcC,gBACzBjsC,kBAAoB,SAAUrC,GAAW,OAAO22C,EAAcr0C,UAAUtC,EAAQpS,wBAIzF6T,EAAQq1C,WACR1pD,KAAKspD,aAAej1C,EAAQq1C,UAEhC1pD,KAAKipD,oBAAoBjpD,KAAKspD,cAC9BtpD,KAAK6mD,kBAAmB,EACpBxyC,EAAQwyC,mBACR7mD,KAAK6mD,iBAAmBxyC,EAAQwyC,kBAEpC7mD,KAAK4mD,kBAAmB,OACgB,IAA7BvyC,EAAQuyC,mBACf5mD,KAAK4mD,iBAAmBvyC,EAAQuyC,kBAEhCvyC,EAAQg2C,WACJh2C,EAAQg2C,SAASjyB,QACjBp4B,KAAK8qB,iBAAiB,SAAS,WAAc,OAAOzW,EAAQg2C,SAASjyB,OAAO52B,MAE5E6S,EAAQg2C,SAASV,aACjB3pD,KAAK8qB,iBAAiB,YAAazW,EAAQg2C,SAASV,aAEpDt1C,EAAQg2C,SAASR,aACjB7pD,KAAK8qB,iBAAiB,YAAazW,EAAQg2C,SAASR,aAEpDx1C,EAAQg2C,SAASC,oBACjBtqD,KAAK8qB,iBAAiB,mBAAoBzW,EAAQg2C,SAASC,oBAE3Dj2C,EAAQg2C,SAASE,gBACjBvqD,KAAK8qB,iBAAiB,eAAgBzW,EAAQg2C,SAASE,gBAEvDl2C,EAAQg2C,SAASG,cACjBxqD,KAAK8qB,iBAAiB,aAAczW,EAAQg2C,SAASG,cAErDn2C,EAAQg2C,SAASI,QACjBzqD,KAAK8qB,iBAAiB,QAASzW,EAAQg2C,SAASI,SAGhDzqD,KAAK8qB,iBAAiB,SAAS,SAAU4/B,GACrCA,EAAIvoD,OAAS0yC,EAAe5gC,MAC5B,IAAI02C,EAAWD,GAAOA,EAAMA,EAAIlW,OAAS,SAAW,QAChDoW,EAAUF,GAAOA,EAAIpwC,KAAOowC,EAAIpwC,KAAO,GACvCowC,EAAIG,YAAY72C,UAAY42C,IAC5BA,GAAW,KAAOF,EAAIG,aAE1BtkD,QAAQiB,MAAMmjD,EAAW,KAAOC,MAGpCv2C,EAAQg2C,SAASS,qBACjB9qD,KAAKs4C,yBAA2BjkC,EAAQg2C,SAASS,oBAEjDz2C,EAAQg2C,SAAST,kBACjB5pD,KAAK4pD,gBAAkBv1C,EAAQg2C,SAAST,iBAExCv1C,EAAQg2C,SAASP,kBACjB9pD,KAAK8pD,gBAAkBz1C,EAAQg2C,SAASP,iBAExCz1C,EAAQg2C,SAASL,kBACjBhqD,KAAKgqD,gBAAkB31C,EAAQg2C,SAASL,iBAExC31C,EAAQg2C,SAASH,qBACjBlqD,KAAKkqD,mBAAqB71C,EAAQg2C,SAASH,oBAE3C71C,EAAQg2C,SAASD,qBACjBpqD,KAAKoqD,mBAAqB/1C,EAAQg2C,SAASD,qBAGnDpqD,KAAK27B,WAAatnB,EAAQsnB,aAAc,EACxC37B,KAAK+qD,aAAe12C,EAAQ02C,aAC5B/qD,KAAKmpD,eAAiB90C,EAAQ80C,gBAAkB,GAChDnpD,KAAKgrD,eAAiB32C,EAAQ22C,gBAAkB,YAC9BhrD,KAAKioD,WAAWtD,eAAe3kD,MACrCi4B,KAAK5jB,GACErU,KAAKioD,WAAWrD,gBAAgB5kD,MACtCi4B,KAAK5jB,IACkB,IAAhCA,EAAQ42C,qBACRjrD,KAAKyoD,sBAGTzoD,KAAKkoD,QAAQvlC,SAAQ,SAAUuoC,GAC3B,IAAIC,EAAgB,GAChB92C,EAAQ6zC,SAAW7zC,EAAQ6zC,QAAQgD,EAAOE,mBAC1CD,EAAgB92C,EAAQ6zC,QAAQgD,EAAOE,kBAE3CF,EAAOjzB,KAAKz2B,EAAO2pD,MAEnBnrD,KAAK4mD,iBACL5mD,KAAKqrD,mBAGLrrD,KAAKm5B,UAAU,UAQvButB,EAAU1nD,UAAUssD,UAAY,SAAUJ,GACtClrD,KAAKkoD,QAAQniD,KAAKmlD,IAMtBxE,EAAU1nD,UAAUusD,oBAAsB,SAAUC,GAChD,OAAOxrD,KAAKkoD,QACPlpC,QAAO,SAAUksC,GAAU,OAAOA,EAAOE,kBAAoBI,MAMtE9E,EAAU1nD,UAAUysD,gBAAkB,SAAUD,GAC5C,IAAItD,EAAUloD,KAAKurD,oBAAoBC,GACvC,OAAOtD,EAAQhnD,OAAS,EAAIgnD,EAAQ,GAAK,MAM7CxB,EAAU1nD,UAAU0sD,eAAiB,SAAUC,QAC5B,IAAXA,IAAqBA,EAAShX,EAAYhM,KAC9C3oC,KAAKkoD,QAAQvlC,SAAQ,SAAUuoC,GACvBA,EAAOU,eAAeD,IACtBT,EAAOhyB,cAQnBwtB,EAAU1nD,UAAU6sD,wBAA0B,SAAU9nC,GACpD/jB,KAAKqyC,WAAWmM,mBAAmBz6B,IAMvC2iC,EAAU1nD,UAAU8sD,2BAA6B,SAAU/nC,GACvD/jB,KAAKqyC,WAAWoM,sBAAsB16B,IAK1C2iC,EAAU1nD,UAAU4uC,YAAc,WAC9B,OAAO5tC,KAAKioD,WAAWra,YAAY5tC,OAKvC0mD,EAAU1nD,UAAUqzC,SAAW,WAI3B,OAHKryC,KAAKyuC,QACNzuC,KAAKyuC,MAAQzuC,KAAK4tC,eAEf5tC,KAAKyuC,OAKhBiY,EAAU1nD,UAAUozC,SAAW,WAI3B,OAHKpyC,KAAK+rD,YACN/rD,KAAK+rD,UAAY/rD,KAAKioD,WAAWvD,gBAAgB1kD,OAE9CA,KAAK+rD,WAKhBrF,EAAU1nD,UAAUgtD,kBAAoB,SAAUC,GAC9CjsD,KAAKqyC,WAAWqI,cAAcuR,GAC9BjsD,KAAK+rD,UAAY/rD,KAAKqyC,WAAWD,YAMrCsU,EAAU1nD,UAAUktD,kBAAoB,SAAUhU,GAC9Cl4C,KAAKgrD,eAAiB9S,GAQ1BwO,EAAU1nD,UAAUmtD,aAAe,SAAUn4C,EAAS23C,GAClD3rD,KAAK+3B,aAAazT,KAAK,eAAgBtQ,GACvChU,KAAKkoD,QAAQvlC,SAAQ,SAAUuoC,GACvBA,EAAOU,eAAeD,IACtBT,EAAOX,qBASnB7D,EAAU1nD,UAAUotD,WAAa,SAAUp4C,EAAS23C,GAChD3rD,KAAK+3B,aAAazT,KAAK,aAActQ,GACjCA,EAAQ7R,SAAW0yC,EAAe5gC,OAClCjU,KAAKqsD,WAAWr4C,GAEpBhU,KAAKkoD,QAAQvlC,SAAQ,SAAUuoC,GACvBA,EAAOU,eAAeD,IACtBT,EAAOV,mBAUnB9D,EAAU1nD,UAAUqtD,WAAa,SAAU3B,GACvCA,EAAIvoD,OAAS0yC,EAAe5gC,MAC5BjU,KAAK+3B,aAAazT,KAAK,QAASomC,IAOpChE,EAAU1nD,UAAUqsD,iBAAmB,WACnC,IAAI7pD,EAAQxB,KACZA,KAAKssD,UAAU,CACXpU,QAASl4C,KAAKgrD,eACdnY,QAAQ,EACRkT,QAAS,WACLvkD,EAAMkqD,eAAe/W,EAAY4X,OACjC,IAAI9d,EAAQjtC,EAAM6wC,WAClB7wC,EAAM23B,UAAU,mBAAoBsV,EAAM2D,YACtC5wC,EAAMupD,cACNtc,EAAMr4B,aAAa5U,EAAMupD,cAAc,GAEvCvpD,EAAMqlD,iBACNrlD,EAAMq+C,UAAU,CACZE,QAASv+C,EAAM2nD,eACfjR,QAAS12C,EAAMwpD,eACfjF,QAAS,WACLvkD,EAAMkqD,eAAe/W,EAAYzD,OAEjC1vC,EAAM23B,UAAU,aAKxB33B,EAAMkqD,eAAe/W,EAAYzD,OACjC1vC,EAAM23B,UAAU,cAQhCutB,EAAU1nD,UAAU85C,WAAa,WAC7B,IAAIrK,EAAQzuC,KAAKqyC,WACjB5D,EAAMtxB,QACNsxB,EAAM2F,iBAAiB,CACnBC,KAAM1H,EAAgBhE,OAM9B+d,EAAU1nD,UAAUwtD,YAAc,WAC9BxsD,KAAKimD,YAAY9oC,QACjBnd,KAAKysD,gBAAkB,KACvBzsD,KAAK0sD,cAAgB,MAMzBhG,EAAU1nD,UAAUqqD,qBAAuB,SAAUsD,GACjD3sD,KAAK4sD,kBAAoBD,GAE7BjG,EAAU1nD,UAAU6oD,iBAAmB,SAAU9mC,GAC7C,IAAIpiB,EAAMqB,KAAK6sD,gBAAgB9rC,GAC/B,OAAI/gB,KAAK4sD,kBACE5sD,KAAK4sD,kBAAkB3uD,IAAIU,GAG3BqB,KAAK2mD,kBAAkBhoD,IAGtC+nD,EAAU1nD,UAAU6tD,gBAAkB,SAAU9rC,GAC5C,IAAIpiB,EAAyB,OAAnBoiB,EAAOomC,SAAoB,OAASpmC,EAAOrF,SAAWqF,EAAOomC,SAMvE,OALIpmC,EAAO3gB,cACPzB,GAAO,IAAMb,OAAO4D,KAAKqf,EAAO3gB,aAAa4e,QAAO,SAAU7S,GAAK,MAAY,YAALA,KACrEvK,KAAI,SAAUuK,GAAK,OAAO4U,EAAO3gB,YAAY+L,MAC7C7K,KAAK,MAEP3C,GAEX+nD,EAAU1nD,UAAUgpD,eAAiB,SAAUjnC,EAAQ6mC,GACnD,IAAIjpD,EAAMqB,KAAK6sD,gBAAgB9rC,GAC3B/gB,KAAK4sD,kBACL5sD,KAAK4sD,kBAAkBziD,IAAIxL,EAAKipD,GAGhC5nD,KAAK2mD,kBAAkBhoD,GAAOipD,GAMtClB,EAAU1nD,UAAU8tD,eAAiB,WAC7B9sD,KAAK4sD,kBACL5sD,KAAK4sD,kBAAkBzvC,QAGvBnd,KAAK2mD,kBAAoB,IAMjCD,EAAU1nD,UAAU+tD,sBAAwB,WACxC,OAAO/sD,KAAKknD,qBAQhBR,EAAU1nD,UAAU0I,UAAY,SAAUzB,EAAQ0B,GAC9C,IAAKD,UAAUzB,EAAQ0B,IAE3B++C,EAAU1nD,UAAU8rB,iBAAmB,SAAUhH,EAAW6b,GACxD,OAAO3/B,KAAK+3B,aAAalU,UAAUC,GAAW,SAAUE,GAAS,OAAO2b,EAAQ3b,EAAM3jB,UAO1FqmD,EAAU1nD,UAAUgsB,oBAAsB,SAAUlH,EAAW8b,GAC3D5/B,KAAK+3B,aAAa3T,YAAYN,EAAW8b,IAE7C8mB,EAAU1nD,UAAUm6B,UAAY,SAAUrV,EAAWzjB,GACjDL,KAAK+3B,aAAazT,KAAKR,EAAWzjB,IAEtCqmD,EAAU1nD,UAAUguD,gBAAkB,WAClC,OAAOhtD,KAAKspD,cAMhB5C,EAAU1nD,UAAU2iD,cAAgB,SAAUttC,GAC1C,IAAI7S,EAAQxB,KACZqU,EAAUA,GAAW,GACrBrU,KAAKmsD,aAAa,CACd3X,OAAQI,EAASqY,aACjB3yC,KAAM,kBACPq6B,EAAYuY,QACSltD,KAAKioD,WAAWlD,qBAAqB/kD,MAC3C2hD,cAActtC,GAC3BrB,MAAK,SAAUzK,GAChB/G,EAAM4qD,WAAW,CACbjqD,OAAQ0yC,EAAesY,QACvB3Y,OAAQI,EAASqY,aACjB3yC,KAAM,iBACPq6B,EAAYuY,QACX74C,EAAQ0xC,SACR1xC,EAAQ0xC,QAAQx9C,MAGnB4K,OAAM,SAAU3L,GACjB,IACI4lD,EAAe,yCADJ/4C,GAAWA,EAAQ0M,OAAS1M,EAAQ0M,OAAOrF,SAAW,aACG,OAASlU,EAAMwM,QACvFxS,EAAM4qD,WAAW,CACbjqD,OAAQ0yC,EAAe5gC,MACvBugC,OAAQI,EAASqY,aACjB3yC,KAAM8yC,EACNvC,YAAarjD,GACdmtC,EAAYuY,QACX74C,EAAQ7M,OACR6M,EAAQ7M,MAAM4lD,EAAc,oBAexC1G,EAAU1nD,UAAUstD,UAAY,SAAUj4C,GACtC,IAAI7S,EAAQxB,KACRA,KAAK4pD,iBACL5pD,KAAK4pD,gBAAgB5pD,KAAMqU,GAE/B,IAAI6jC,EAAU7jC,EAAQ6jC,SAAW,YAC7BrF,EAASx+B,EAAQw+B,SAAU,EAM/B,OALA7yC,KAAKmsD,aAAa,CACd3X,OAAQI,EAASyY,UACjB/yC,KAAM,kBAAoB49B,GAC3BvD,EAAY4X,OACGvsD,KAAKioD,WAAWtD,eAAe3kD,MAC9B6gD,kBAAkBxsC,GAChCrB,MAAK,SAAU3U,GAkBhB,OAjBIA,GACAmD,EAAMwqD,kBAAkB3tD,GAE5BmD,EAAM4qD,WAAW,CACbjqD,OAAQ0yC,EAAesY,QACvB3Y,OAAQI,EAASyY,UACjB/yC,KAAM,iBAAmB49B,GAC1BvD,EAAY4X,OACV1Z,IACDrxC,EAAMs3C,aACNt3C,EAAMgrD,cACNhrD,EAAMkqD,kBAENr3C,EAAQ0xC,SACR1xC,EAAQ0xC,QAAQvkD,EAAM4wC,YAE1B5wC,EAAM23B,UAAU,YAAa33B,EAAM4wC,YAC5B5wC,EAAM4wC,cAEZj/B,OAAM,SAAU3L,GACjB,IAAI4lD,EAAe,oBAAsBlV,EAAU,OAAS1wC,EAAMwM,QAUlE,OATAxS,EAAM4qD,WAAW,CACbjqD,OAAQ0yC,EAAe5gC,MACvBugC,OAAQI,EAASyY,UACjB/yC,KAAM8yC,EACNvC,YAAarjD,GACdmtC,EAAY4X,OACXl4C,EAAQ7M,OACR6M,EAAQ7M,MAAM4lD,EAAc,aAEzB5rD,EAAM4wC,eAGrBsU,EAAU1nD,UAAUsuD,oBAAsB,SAAUC,GAC9BvtD,KAAKioD,WAAWtD,eAAe3kD,MACrC4gD,kBAAkB5tC,MAAK,WAC/Bu6C,QAaR7G,EAAU1nD,UAAU6gD,UAAY,SAAUxrC,GACtC,IAAI7S,EAAQxB,KACZqU,EAAUA,GAAW,GACrB,IAAIovC,EAAczjD,KAAKioD,WAAWtD,eAAe3kD,MACjDA,KAAKwsD,cACL/I,EAAY7C,kBACP5tC,MAAK,WAEN,IAAI+sC,GADJ1rC,EAAUA,GAAW,IACC0rC,QAClBlN,EAASx+B,EAAQw+B,SAAU,EAC3BrxC,EAAMsoD,iBACNtoD,EAAMsoD,gBAAgBtoD,EAAO6S,GAEjC7S,EAAM2qD,aAAa,CACf3X,OAAQI,EAAS4Y,UACjBlzC,KAAM,kBAAoBylC,GAC3BpL,EAAYzD,OACI1vC,EAAMymD,WAAWrD,gBAAgBpjD,GACvCq+C,UAAUxrC,GAClBrB,MAAK,SAAU3S,GAChBmB,EAAM4qD,WAAW,CACbjqD,OAAQ0yC,EAAesY,QACvB3Y,OAAQI,EAAS4Y,UACjBlzC,KAAM,iBAAmBylC,GAC1BpL,EAAYzD,OACX7wC,GACAmB,EAAMitC,MAAMr4B,aAAa/V,GAC7BmB,EAAMitC,MAAMkK,gBACP9F,IACDrxC,EAAMitC,MAAM2F,iBAAiB,CACzBC,KAAM1H,EAAgB8gB,WACtB7P,YAAap8C,EAAMitC,MAAMiK,eAE7Bl3C,EAAMkqD,kBAEVlqD,EAAM23B,UAAU,YAAa33B,EAAMitC,OAC/Bp6B,EAAQ0xC,SACR1xC,EAAQ0xC,QAAQvkD,EAAMitC,UAGzBt7B,OAAM,SAAU3L,GACjB,IAAIinC,EAAQjtC,EAAM6wC,WAClB7qC,EAAMwM,QAAU,qBAAuBy6B,EAAMlzB,QAAU,OAAS/T,EAAMwM,SAAW,IACjFxS,EAAM4qD,WAAW,CACbjqD,OAAQ0yC,EAAe5gC,MACvBugC,OAAQI,EAAS4Y,UACjBlzC,KAAM9S,EAAMwM,QACZ62C,YAAarjD,GACdmtC,EAAYzD,aAGlB/9B,OAAM,SAAU3L,GACjBjB,QAAQiB,MAAMA,OAStBk/C,EAAU1nD,UAAU0uD,cAAgB,SAAUr5C,GAC1C,IAAI7S,EAAQxB,KACMA,KAAKioD,WAAWtD,eAAe3kD,MACrC4gD,kBACP5tC,MAAK,WACNxR,EAAMmsD,sBAAsBt5C,MAE3BlB,OAAM,SAAU3L,GACjB,IAAI4lD,EAAe,+CAAiD5lD,EAAMwM,QAC1ExS,EAAM6qD,WAAW,CACb7X,OAAQI,EAASgZ,cACjBtzC,KAAM8yC,EACNvC,YAAarjD,QAIzBk/C,EAAU1nD,UAAU2uD,sBAAwB,SAAUt5C,GAClD,IAAI7S,EAAQxB,KACZqU,EAAUA,GAAW,GACFrU,KAAKioD,WAAWrD,gBAAgB5kD,MACRu/C,aAAalrC,GAEnDrB,MAAK,SAAU66C,GACZx5C,EAAQ0xC,SACR1xC,EAAQ0xC,QAAQ8H,MAGnB16C,OAAM,SAAU3L,GACjB,IAAI4lD,EAAe,+CAAiD5lD,EAAMwM,QACtEK,EAAQ7M,MACR6M,EAAQ7M,MAAM4lD,EAAc,iBAG5B5rD,EAAM6qD,WAAW,CACb7X,OAAQI,EAASgZ,cACjBtzC,KAAM8yC,EACNvC,YAAarjD,QAe7Bk/C,EAAU1nD,UAAU4gD,SAAW,SAAUvrC,GACrC,IAAI7S,EAAQxB,KAER84C,OAA2C,KAD/CzkC,EAAUA,GAAW,IACWykC,YAA6BzkC,EAAQykC,WACrE94C,KAAKyuC,MAAMoK,MAAMC,GACbzkC,EAAQ0rC,SACR//C,KAAKyuC,MAAM0M,MAAM9mC,EAAQ0rC,SAEzB1rC,EAAQ1W,MACRqC,KAAKyuC,MAAMwK,QAAQ5kC,EAAQ1W,MAE/B,IAAIk1C,EAASx+B,EAAQw+B,SAAU,EAC3Bib,GAAa,OACiB,IAAvBz5C,EAAQy5C,aACfA,EAAaz5C,EAAQy5C,YAEzB,IAAIC,EAAa,WACb,IAAItf,EAAQjtC,EAAM6wC,WAClB5D,EAAMkJ,UAAW,EACZ9E,GACDpE,EAAM2F,iBAAiB,CACnBC,KAAM1H,EAAgBhE,IACtBiV,YAAanP,EAAMiK,gBAI3BoV,GACA9tD,KAAKmsD,aAAa,CACd3X,OAAQI,EAASoZ,SACjB1zC,KAAM,yBACPq6B,EAAYzD,OACIlxC,KAAKioD,WAAWrD,gBAAgB5kD,MACtC4/C,SAASvrC,GACjBrB,MAAK,WACNxR,EAAM4qD,WAAW,CACbjqD,OAAQ0yC,EAAesY,QACvB3Y,OAAQI,EAASoZ,SACjB1zC,KAAM,gCACPq6B,EAAYzD,OACf6c,IACI15C,EAAQ0xC,SACR1xC,EAAQ0xC,aAGX5yC,OAAM,SAAU3L,GACjB,IAAI4lD,EAAe,8BAAgC5lD,EAAMwM,QACzDxS,EAAM4qD,WAAW,CACbjqD,OAAQ0yC,EAAe5gC,MACvBugC,OAAQI,EAASoZ,SACjB1zC,KAAM8yC,EACNvC,YAAarjD,GACdmtC,EAAYzD,OACX78B,EAAQ7M,OACR6M,EAAQ7M,MAAM4lD,EAAc,gBAKpCW,IAEJ,OAAO/tD,KAAKyuC,OAQhBiY,EAAU1nD,UAAUghD,UAAY,SAAU3rC,GACtC,IAAI7S,EAAQxB,KACZqU,EAAUA,GAAW,GACrB,IAAIo6B,EAAQzuC,KAAKqyC,WACjBryC,KAAKmsD,aAAa,CACd3X,OAAQI,EAASqZ,UACjB3zC,KAAM,iBAAmBm0B,EAAMlzB,SAChCo5B,EAAYzD,OACIlxC,KAAKioD,WAAWrD,gBAAgB5kD,MACtCggD,UAAU3rC,GAClBrB,MAAK,SAAU3S,GAChBmB,EAAM4qD,WAAW,CACb5X,OAAQI,EAASqZ,UACjB9rD,OAAQ0yC,EAAesY,QACvB7yC,KAAM,gBAAkBm0B,EAAMlzB,SAC/Bo5B,EAAYzD,OACX7wC,GACAouC,EAAMr4B,aAAa/V,GAEvBouC,EAAMkK,gBACNlK,EAAMkJ,UAAW,EACbtjC,EAAQ0xC,SACR1xC,EAAQ0xC,aAGX5yC,OAAM,SAAU3L,GACjB,IAAI4lD,EAAe,oBAAsB3e,EAAMlzB,QAAU,OAAS/T,EAAMwM,QACxExS,EAAM4qD,WAAW,CACb5X,OAAQI,EAASqZ,UACjB9rD,OAAQ0yC,EAAe5gC,MACvBqG,KAAM8yC,EACNvC,YAAarjD,GACdmtC,EAAYzD,OACX78B,EAAQ7M,OACR6M,EAAQ7M,MAAM4lD,EAAc,iBAUxC1G,EAAU1nD,UAAUmhD,YAAc,SAAU9rC,GACxC,IAAI7S,EAAQxB,KACZqU,EAAUA,GAAW,GACrB,IAAIo6B,EAAQzuC,KAAKqyC,WACjBryC,KAAKmsD,aAAa,CACd3X,OAAQI,EAASsZ,YACjB5zC,KAAM,mBAAqBm0B,EAAMlzB,SAClCo5B,EAAYzD,OACIlxC,KAAKioD,WAAWrD,gBAAgB5kD,MACtCmgD,YAAY9rC,GACpBrB,MAAK,WACNy7B,EAAMoK,QACNr3C,EAAM4qD,WAAW,CACb5X,OAAQI,EAASsZ,YACjB/rD,OAAQ0yC,EAAesY,QACvB7yC,KAAM,kBAAoBm0B,EAAMlzB,SACjCo5B,EAAYzD,OACX78B,EAAQ0xC,SACR1xC,EAAQ0xC,aAGX5yC,OAAM,SAAU3L,GACjB,IAAI4lD,EAAe,sBAAwB3e,EAAMlzB,QAAU,OAAS/T,EAAMwM,QAC1ExS,EAAM4qD,WAAW,CACb5X,OAAQI,EAASsZ,YACjB/rD,OAAQ0yC,EAAe5gC,MACvBqG,KAAM8yC,EACNvC,YAAarjD,GACdmtC,EAAYzD,OACX78B,EAAQ7M,OACR6M,EAAQ7M,MAAM4lD,EAAc,mBAUxC1G,EAAU1nD,UAAUyiD,UAAY,SAAUptC,GACtC,IAAI7S,EAAQxB,KACZqU,EAAUA,GAAW,GACrB,IAAIo6B,EAAQzuC,KAAKqyC,WACbryC,KAAKgqD,iBACLhqD,KAAKgqD,gBAAgBhqD,KAAMqU,GAE/BrU,KAAKmsD,aAAa,CACd3X,OAAQI,EAASuZ,UACjB7zC,KAAM,kBAAoBm0B,EAAMlzB,SACjCo5B,EAAYzD,OACSlxC,KAAKioD,WAAWpD,qBAAqB7kD,MAC3CyhD,UAAUptC,GACvBrB,MAAK,SAAU7Q,GAUhB,GATAX,EAAM4qD,WAAW,CACbjqD,OAAQ0yC,EAAesY,QACvB3Y,OAAQI,EAASuZ,UACjB7zC,KAAM,iBAAmBm0B,EAAMlzB,SAChCo5B,EAAYzD,OACf1vC,EAAMirD,gBAAkBtqD,GAAUA,EAAOooC,UACnCpoC,EAAOooC,UACP,GACN/oC,EAAMkqD,eAAe/W,EAAYyZ,WAC7BjsD,EAAQ,CACR,GAAIA,EAAOksD,WAAY,CACnB,IAAIC,EAAInsD,EAAOssC,MACX6f,IACA7f,EAAM0M,MAAMmT,EAAEtjD,IACdyjC,EAAMwK,QAAQqV,EAAE3wD,MAChB8wC,EAAM4M,eAAeiT,EAAEt5C,MACvBy5B,EAAMgJ,UAAY6W,EAAE7W,WAExBhJ,EAAMkK,gBACNn3C,EAAMkqD,eAAe/W,EAAY4Z,aAEjCl6C,EAAQ0xC,SACR1xC,EAAQ0xC,QAAQ5jD,OAIvBgR,OAAM,SAAU3L,GACjB,IAAI4lD,EAAe,2BAA6B3e,EAAMlzB,QAAU,OAAS/T,EAAMwM,QAC/ExS,EAAM4qD,WAAW,CACbjqD,OAAQ0yC,EAAe5gC,MACvBugC,OAAQI,EAASuZ,UACjB7zC,KAAM8yC,EACNvC,YAAarjD,GACdmtC,EAAYzD,OACX78B,EAAQ7M,OACR6M,EAAQ7M,MAAM4lD,EAAc,iBAIxC1G,EAAU1nD,UAAUwvD,sBAAwB,WACxC,IAAIpyB,EAAOp8B,KAAKyuC,MAAMnV,aACjBta,QAAO,SAAUH,GAAO,OAAOA,EAAIzG,KAAK2B,KAAO0wB,EAAQkF,iBAAmB9wB,EAAIuY,WACnFgF,EAAKI,MACLJ,EAAKzZ,SAAQ,SAAU9D,EAAKhT,GACpBgT,EAAI20B,SAAW3G,EAAchd,OAC7BhR,EAAI20B,QAAU3G,EAAc4hB,WAEhC5vC,EAAI40B,UAAY5nC,KAEpB7L,KAAKyuC,MAAMqP,2BAaf4I,EAAU1nD,UAAUsiD,aAAe,SAAUjtC,GACzC,IAAI7S,EAAQxB,MACZqU,EAAUA,GAAW,IACb6N,MAAQ7N,EAAQ6N,OACpB,CACId,OAAQ,EACRC,MAAOrhB,KAAKimD,YAAY3lC,UACxBD,WAAW,GAEdrgB,KAAKyuC,MAAM4K,YAAY,CACxBE,kBAAkB,MAIlBv5C,KAAK27B,YAAc37B,KAAKyuC,MAAMsK,yBAC9B/4C,KAAKwuD,wBAETxuD,KAAK8lD,eAAe,EAAS,GAAIzxC,EAAS,CAAE0xC,QAAS,SAAU5jD,GAMvD,GALIA,EAAOooC,YACP/oC,EAAMirD,gBAAkBtqD,EAAOooC,UAC/B/oC,EAAMkqD,eAAe/W,EAAYyZ,YAErC5sD,EAAMkrD,cAAgBvqD,EAClBA,EAAO+jD,UAAW,CAClB1kD,EAAMykD,YAAY9oC,QAElB,IADA,IAAI+oC,EAAY/jD,EAAO+jD,UACdrlD,EAAK,EAAGqQ,EAAKg1C,EAAU9pB,KAAMv7B,EAAKqQ,EAAGhQ,OAAQL,IAAM,CACxD,IAAIge,EAAM3N,EAAGrQ,GACbW,EAAMykD,YAAYxmC,QAAQd,IAAIE,GAElCrd,EAAMykD,YAAY5jC,SAASlgB,EAAOgkD,KAAKC,cACvC,IAAK,IAAI7rC,EAAK,EAAGC,EAAK0rC,EAAUzlC,KAAMlG,EAAKC,EAAGtZ,OAAQqZ,IAAM,CACxD,IAAIoG,EAAMnG,EAAGD,GACb/Y,EAAMykD,YAAYplC,OAAOF,IAG7BtM,EAAQ0xC,SACR1xC,EAAQ0xC,QAAQ5jD,SAIhCukD,EAAU1nD,UAAU8iD,aAAe,SAAUztC,GACzC,IAAI7S,EAAQxB,KACRyuC,EAAQzuC,KAAKqyC,WACjBryC,KAAKmsD,aAAa,CACd3X,OAAQI,EAAS8Z,aACjBp0C,KAAM,uBAAyBm0B,EAAMlzB,SACtCo5B,EAAYzD,OACOlxC,KAAKihD,cAAc+D,mBAAmBhlD,MAC5C8hD,aAAaztC,GACxBrB,MAAK,WACNxR,EAAM4qD,WAAW,CACbjqD,OAAQ0yC,EAAesY,QACvB3Y,OAAQI,EAAS8Z,aACjBp0C,KAAM,uBAAyBm0B,EAAMlzB,SACtCo5B,EAAYuY,QACX74C,EAAQ0xC,SACR1xC,EAAQ0xC,aAGX5yC,OAAM,SAAU3L,GACjB,IAAI4lD,EAAe,4BAA8B3e,EAAMlzB,QAAU,OAAS/T,EAAMwM,QAChFxS,EAAM4qD,WAAW,CACbjqD,OAAQ0yC,EAAe5gC,MACvBugC,OAAQI,EAAS8Z,aACjBp0C,KAAM8yC,EACNvC,YAAarjD,GACdmtC,EAAYzD,OACX78B,EAAQ7M,OACR6M,EAAQ7M,MAAM4lD,EAAc,oBAIxC1G,EAAU1nD,UAAU2jD,gBAAkB,SAAUtuC,GAC5C,IAAI7S,EAAQxB,KACRyuC,EAAQzuC,KAAKqyC,WACjBryC,KAAKmsD,aAAa,CACd3X,OAAQI,EAAS+Z,gBACjBr0C,KAAM,yBAA2Bm0B,EAAMlzB,SACxCo5B,EAAYzD,OACOlxC,KAAKihD,cAAc+D,mBAAmBhlD,MAC5C2iD,gBAAgBtuC,GAC3BrB,MAAK,SAAU3S,GAChBouC,EAAMr4B,aAAa/V,GACnBmB,EAAMkqD,iBACNlqD,EAAM4qD,WAAW,CACbjqD,OAAQ0yC,EAAesY,QACvB3Y,OAAQI,EAAS+Z,gBACjBr0C,KAAM,yBAA2Bm0B,EAAMlzB,SACxCo5B,EAAYuY,QACf1rD,EAAM23B,UAAU,YAAasV,GACzBp6B,EAAQ0xC,SACR1xC,EAAQ0xC,aAGX5yC,OAAM,SAAU3L,GACjB,IAAI4lD,EAAe,iCAAmC3e,EAAMlzB,QAAU,OAAS/T,EAAMwM,QACrFxS,EAAM4qD,WAAW,CACbjqD,OAAQ0yC,EAAe5gC,MACvBugC,OAAQI,EAAS+Z,gBACjBr0C,KAAM8yC,EACNvC,YAAarjD,GACdmtC,EAAYzD,OACX78B,EAAQ7M,OACR6M,EAAQ7M,MAAM4lD,EAAc,uBAIxC1G,EAAU1nD,UAAU8mD,eAAiB,SAAUzxC,GAC3C,IAAI7S,EAAQxB,KACRA,KAAKkqD,oBACLlqD,KAAKkqD,mBAAmBlqD,KAAMqU,GAElC,IAAI0rC,EAAU//C,KAAKqyC,WAAW92B,QAC9Bvb,KAAKmsD,aAAa,CACd3X,OAAQI,EAASga,UACjBt0C,KAAM,4BAA8BylC,GACrCpL,EAAYuY,QACKltD,KAAKioD,WAAWnD,iBAAiB9kD,MACvCshD,aAAajtC,GACtBrB,MAAK,SAAU7Q,IACZA,EAAOooC,YACP/oC,EAAMirD,gBAAkBtqD,EAAOooC,WAEnC/oC,EAAMkrD,cAAgBvqD,EAClBX,EAAMm6B,YAAcn6B,EAAMitC,MAAMsK,0BACfv3C,EAAMy/C,cAAcgE,mBAAmBzjD,GAC7C+hD,UAAU,CACjBsL,SAAUrtD,EAAMitC,MAAMnV,aACjBta,QAAO,SAAUH,GAAO,OAAOA,EAAIzG,KAAK2B,KAAO0wB,EAAQkF,iBACrD9wB,EAAIuY,WAAYl2B,SAG/BM,EAAM4qD,WAAW,CACbjqD,OAAQ0yC,EAAesY,QACvB3Y,OAAQI,EAASga,UACjBt0C,KAAM,qCAAuCylC,GAC9CpL,EAAYuY,QACX74C,EAAQ0xC,SACR1xC,EAAQ0xC,QAAQ5jD,MAGnBgR,OAAM,SAAU3L,GACjB,IAAI4lD,EAAe,iCAAmCrN,EAAU,OAASv4C,EAAMwM,QAC/ExS,EAAM4qD,WAAW,CACbjqD,OAAQ0yC,EAAe5gC,MACvBugC,OAAQI,EAASga,UACjBt0C,KAAM8yC,EACNvC,YAAarjD,GACdmtC,EAAYuY,QACX74C,EAAQ7M,OACR6M,EAAQ7M,MAAM4lD,EAAcxY,EAASga,eAQjDlI,EAAU1nD,UAAU8vD,iBAAmB,SAAUz6C,GAC7C,IAAI7S,EAAQxB,MACZqU,EAAUA,GAAW,IACb6N,MAAQ7N,EAAQ6N,OACpB,CACId,OAAQ,EACRC,MAAOrhB,KAAKimD,YAAY3lC,UACxBD,WAAW,GAEnB,IACI0/B,EADQ1rC,EAAQo6B,MACAlzB,QACpBvb,KAAKmsD,aAAa,CACd3X,OAAQI,EAASma,aACjBz0C,KAAM,wBAA0BylC,GACjCpL,EAAYuY,QACKltD,KAAKioD,WAAWnD,iBAAiB9kD,MACvCshD,aAAajtC,GACtBrB,MAAK,SAAU7Q,GAChBX,EAAM4qD,WAAW,CACbjqD,OAAQ0yC,EAAesY,QACvB3Y,OAAQI,EAASma,aACjBz0C,KAAM,8BAAgCylC,GACvCpL,EAAYuY,QACX74C,EAAQ0xC,SACR1xC,EAAQ0xC,QAAQ5jD,MAGnBgR,OAAM,SAAU3L,GACjB,IAAI4lD,EAAe,4CAA8CrN,EAAU,OAASv4C,EAAMwM,QAC1FxS,EAAM4qD,WAAW,CACbjqD,OAAQ0yC,EAAe5gC,MACvBugC,OAAQI,EAASma,aACjBz0C,KAAM8yC,GACPzY,EAAYuY,QACX74C,EAAQ7M,MACR6M,EAAQ7M,MAAM4lD,EAAc,aAG5B5rD,EAAM6qD,WAAW,CACb7X,OAAQI,EAASma,aACjBz0C,KAAM8yC,QAiBtB1G,EAAU1nD,UAAUgwD,aAAe,SAAU36C,GACzC,IAAI7S,EAAQxB,KACZqU,EAAUA,GAAW,GACjBrU,KAAKoqD,oBACLpqD,KAAKoqD,mBAAmBpqD,KAAMqU,GAElC,IAAIrM,EAASqM,EAAQrM,OACrB,GAAIA,EAAQ,CACR,IAAI0gD,EAAW1oD,KAAKuoD,YAAYvgD,GAChC,GAAI0gD,EAAU,CACV,IAAItI,EAAYpgD,KAAKqyC,WAAW92B,QAChCvb,KAAKmsD,aAAa,CACd3X,OAAQI,EAASqa,aACjB30C,KAAM,+BAAiC8lC,GACxCzL,EAAYuY,QACf,IAAIjlD,EAAiB,IAAK7D,oBAC1BiQ,EAAQ3Q,SAAW,CACfoB,WAAYmD,EAAevF,gBAC3BqC,WAAYkD,EAAepF,iBAE/B6lD,EAASlC,OAAOnyC,GACXrB,MAAK,SAAU7Q,GAChBX,EAAM4qD,WAAW,CACbjqD,OAAQ0yC,EAAesY,QACvB3Y,OAAQI,EAASqa,aACjB30C,KAAM,6BAA+B8lC,EAAY,oCAClDzL,EAAYuY,QACX74C,EAAQ0xC,SACR1xC,EAAQ0xC,aAGX5yC,OAAM,SAAU3L,GACjB,IAAI4lD,EAAe,sCAAwChN,EAAY,OAAS54C,EAAMwM,QACtFxS,EAAM4qD,WAAW,CACbjqD,OAAQ0yC,EAAe5gC,MACvBugC,OAAQI,EAASqa,aACjB30C,KAAM8yC,EACNvC,YAAarjD,GACdmtC,EAAYuY,QACX74C,EAAQ7M,OACR6M,EAAQ7M,MAAM4lD,EAAc,sBAMzC1G,EArwCmB,GC1B1B,GAAwB,WAKxB,SAASwI,EAAOx4B,GACZ12B,KAAK02B,KAAOA,EACZ12B,KAAKuzC,IAAM,IAAMjkC,WAAWtP,KAAKorD,iBAqFrC,OAnFAttD,OAAOC,eAAemxD,EAAOlwD,UAAW,KAAM,CAC1Cf,IAAK,WACD,OAAO+B,KAAKuzC,KAEhBv1C,YAAY,EACZ0gB,cAAc,IAOlBwwC,EAAOlwD,UAAUi5B,KAAO,SAAUknB,EAAS9qC,GACvCrU,KAAKm/C,QAAUA,GAKnB+P,EAAOlwD,UAAUwhD,WAAa,WAC1B,OAAOxgD,KAAKm/C,SAKhB+P,EAAOlwD,UAAUk6B,QAAU,WACvBl5B,KAAKmvD,eAQTD,EAAOlwD,UAAUmwD,YAAc,aAO/BD,EAAOlwD,UAAUurD,eAAiB,WAC9BvqD,KAAKovD,sBAQTF,EAAOlwD,UAAUowD,mBAAqB,aAOtCF,EAAOlwD,UAAUwrD,aAAe,WAC5BxqD,KAAKqvD,oBAQTH,EAAOlwD,UAAUqwD,iBAAmB,aAMpCH,EAAOlwD,UAAU4sD,eAAiB,SAAUD,GACxC,YAAqB,IAAVA,GAAmC,MAAVA,GACF,IAAzBA,EAAS3rD,KAAKsvD,QAK3BJ,EAAOlwD,UAAUu6B,QAAU,WACvBv5B,KAAKuvD,eAETL,EAAOlwD,UAAUuwD,YAAc,aAExBL,EA5FgB,GCKF,IAXU,WAC/B,SAASM,EAAcC,EAAOC,EAAOC,GACjC3vD,KAAKyvD,MAAQA,EACbzvD,KAAK0vD,MAAQA,EACb1vD,KAAK2vD,OAASA,EAKlB,OAHAH,EAAcxwD,UAAUqI,SAAW,WAC/B,OAAOrH,KAAKyvD,MAAQ,IAAMzvD,KAAK0vD,MAAQ,IAAM1vD,KAAK2vD,QAE/CH,EATuB,GAWT,CAAkB,EAAG,EAAG,GCT7C,IAAK/nD,mBAAmB,CACpBmoD,aAAc,cAEdC,MAAO,QACPC,UAAW,YACXC,SAAU,WACVC,gBAAiB,yBACjBC,eAAgB,wBAChBC,eAAgB,wBAChBC,eAAgB,wBAChBC,mBAAoB,6BACpBC,oBAAqB,8BACrBC,mBAAoB,6BACpBC,IAAK,MACLC,UAAW,kBACXC,SAAU,WACVC,KAAM,OACNC,SAAU,GACVC,WAAY,GACZC,UAAW,GACXC,kBAAmB,KCtB3B,ozB,sECAA,gJACWC,cACX,SAAWA,cACP,IAAIC,WAAa,KACbC,MAAQ,KACZ,SAASC,OACL,OAAOC,KAAK,gDAShB,SAASC,YACL,GAAmB,OAAfJ,WAAqB,CACrB,IAAIK,EAAKpsD,UAAUqsD,UACnBN,WAAaK,EAAGjjD,cAAc9C,QAAQ,YAAc,EAExD,OAAO0lD,WANXD,aAAaG,KAAOA,KAQpBH,aAAaK,UAAYA,UACzB,IAAIG,uBAAwB,EACxBC,mBAAgBrsD,EAChBssD,mBAAqB,WACrB,IAAIpxB,EAAWqxB,eACfH,sBAAwBvkD,OAAO2kD,WAAW,sCAAsCjgD,SACzE1E,OAAO2kD,WAAW,uCAAuCjgD,QAChE,IAAI2rB,EAAWq0B,eACXr0B,IAAagD,GAAYuxB,yBACzBA,wBAAwBv0B,IAuB5Bu0B,wBAlBJ,SAASF,eACL,YAAsBvsD,IAAlBqsD,cACOA,cAGAD,sBAIf,SAASM,gBAAgBxzD,GACrB,IAAIgiC,EAAWqxB,eACfF,cAAgBnzD,EAChB,IAAIg/B,EAAWq0B,eACXr0B,IAAagD,GAAYuxB,yBACzBA,wBAAwBv0B,GAKhC,SAASy0B,oBAAoB/tC,GACzB6tC,wBAA0B7tC,EAG9B,SAASguC,oBACL,OAAOL,eAAiB,sCAAc,KA1B1CD,qBACAzkD,OAAO8d,iBAAiB,UAAU,WAAc,OAAO2mC,wBASvDV,aAAaW,aAAeA,aAS5BX,aAAac,gBAAkBA,gBAK/Bd,aAAae,oBAAsBA,oBAInCf,aAAagB,kBAAoBA,kBA5DrC,CA6DGhB,eAAiBA,aAAe,M,6BC/DnC,mJAUO,SAASiB,EAAU3sC,GACtBT,YAAW,SAAUkU,GACbzT,GACAA,EAAQ+Z,UAEb,KAEA,IAAIrG,EAAc,OACdk5B,EAAc,cAClB,SAASC,EAAuB7sC,GACnC,YAAMA,GACD8E,SAAS4O,EAAc,gBACvB9P,SAAS,OAAO,SAAU7iB,GAC3BA,EAAE+jB,SAAS4O,EAAc,eACpBpO,GAAG,SAAS,SAAU6B,GACvBA,EAAEQ,iBACF,YAAM3H,GACDoF,YAAYsO,EAAc,sB,6BCpB3C57B,EAAOD,QAAU,SAAUi1D,GACzB,IAAIvK,EAAO,GAgDX,OA9CAA,EAAKvgD,SAAW,WACd,OAAOrH,KAAK4B,KAAI,SAAU2H,GACxB,IAAIy8B,EA+CV,SAAgCz8B,EAAM4oD,GACpC,IAAInsB,EAAUz8B,EAAK,IAAM,GACrB6oD,EAAa7oD,EAAK,GAEtB,IAAK6oD,EACH,OAAOpsB,EAGT,GAAImsB,GAAgC,mBAATE,KAAqB,CAC9C,IAAIC,GAWWC,EAXeH,EAezB,mEAFMC,KAAKG,SAASC,mBAAmBr9C,KAAKC,UAAUk9C,MAEtC,OAdjBG,EAAaN,EAAWzoD,QAAQ/H,KAAI,SAAU8H,GAChD,MAAO,iBAAmB0oD,EAAWO,WAAajpD,EAAS,SAE7D,MAAO,CAACs8B,GAAS9oB,OAAOw1C,GAAYx1C,OAAO,CAACo1C,IAAgBhxD,KAAK,MAOrE,IAAmBixD,EAJjB,MAAO,CAACvsB,GAAS1kC,KAAK,MA/DJsxD,CAAuBrpD,EAAM4oD,GAE3C,OAAI5oD,EAAK,GACA,UAAYA,EAAK,GAAK,IAAMy8B,EAAU,IAEtCA,KAER1kC,KAAK,KAIVsmD,EAAKxqD,EAAI,SAAUE,EAASu1D,GACH,iBAAZv1D,IACTA,EAAU,CAAC,CAAC,KAAMA,EAAS,MAK7B,IAFA,IAAIw1D,EAAyB,GAEpB11D,EAAI,EAAGA,EAAI4C,KAAKkB,OAAQ9D,IAAK,CACpC,IAAI4N,EAAKhL,KAAK5C,GAAG,GAEP,MAAN4N,IACF8nD,EAAuB9nD,IAAM,GAIjC,IAAK5N,EAAI,EAAGA,EAAIE,EAAQ4D,OAAQ9D,IAAK,CACnC,IAAImM,EAAOjM,EAAQF,GAKJ,MAAXmM,EAAK,IAAeupD,EAAuBvpD,EAAK,MAC9CspD,IAAetpD,EAAK,GACtBA,EAAK,GAAKspD,EACDA,IACTtpD,EAAK,GAAK,IAAMA,EAAK,GAAK,UAAYspD,EAAa,KAGrDjL,EAAK7hD,KAAKwD,MAKTq+C,I,gBCnDT,IAEwBmL,EACnBC,EAHDC,EAAc,GAWdC,GAToBH,EASF,WAMrB,OAAO/lD,QAAUH,UAAYA,SAASsmD,MAAQnmD,OAAOomD,MAZ9C,WAEN,YADoB,IAATJ,IAAsBA,EAAOD,EAAGn/C,MAAM5T,KAAM2G,YAChDqsD,IAaLK,EAAY,SAAU5pD,EAAQsM,GAChC,OAAIA,EACKA,EAAOmxB,cAAcz9B,GAEvBoD,SAASq6B,cAAcz9B,IAG5B6pD,EAAa,SAAWP,GAC3B,IAAIC,EAAO,GAEX,OAAO,SAASvpD,EAAQsM,GAMT,GAAsB,mBAAXtM,EACH,OAAOA,IAEf,QAA4B,IAAjBupD,EAAKvpD,GAAyB,CACtD,IAAI8pD,EAAcF,EAAU91D,KAAKyC,KAAMyJ,EAAQsM,GAE/C,GAAI/I,OAAOwmD,mBAAqBD,aAAuBvmD,OAAOwmD,kBAC7D,IAGCD,EAAcA,EAAYE,gBAAgBC,KACzC,MAAMlnC,GACP+mC,EAAc,KAGhBP,EAAKvpD,GAAU8pD,EAEhB,OAAOP,EAAKvpD,IA1BG,GA8BbkqD,EAAY,KACZC,EAAmB,EACnBC,EAAsB,GAEtBC,EAAU,EAAQ,IAqDtB,SAASC,EAAgBC,EAAQ3/C,GAChC,IAAK,IAAIjX,EAAI,EAAGA,EAAI42D,EAAO9yD,OAAQ9D,IAAK,CACvC,IAAImM,EAAOyqD,EAAO52D,GACd62D,EAAWhB,EAAY1pD,EAAKyB,IAEhC,GAAGipD,EAAU,CACZA,EAASC,OAET,IAAI,IAAIC,EAAI,EAAGA,EAAIF,EAAS9yD,MAAMD,OAAQizD,IACzCF,EAAS9yD,MAAMgzD,GAAG5qD,EAAKpI,MAAMgzD,IAG9B,KAAMA,EAAI5qD,EAAKpI,MAAMD,OAAQizD,IAC5BF,EAAS9yD,MAAM4E,KAAKquD,EAAS7qD,EAAKpI,MAAMgzD,GAAI9/C,QAEvC,CACN,IAAIlT,EAAQ,GAEZ,IAAQgzD,EAAI,EAAGA,EAAI5qD,EAAKpI,MAAMD,OAAQizD,IACrChzD,EAAM4E,KAAKquD,EAAS7qD,EAAKpI,MAAMgzD,GAAI9/C,IAGpC4+C,EAAY1pD,EAAKyB,IAAM,CAACA,GAAIzB,EAAKyB,GAAIkpD,KAAM,EAAG/yD,MAAOA,KAKxD,SAASkzD,EAAczM,EAAMvzC,GAI5B,IAHA,IAAI2/C,EAAS,GACTM,EAAY,GAEPl3D,EAAI,EAAGA,EAAIwqD,EAAK1mD,OAAQ9D,IAAK,CACrC,IAAImM,EAAOq+C,EAAKxqD,GACZ4N,EAAKqJ,EAAQkgD,KAAOhrD,EAAK,GAAK8K,EAAQkgD,KAAOhrD,EAAK,GAIlD8qC,EAAO,CAACmgB,IAHFjrD,EAAK,GAGOkrD,MAFVlrD,EAAK,GAEmBgpD,UADpBhpD,EAAK,IAGjB+qD,EAAUtpD,GACTspD,EAAUtpD,GAAI7J,MAAM4E,KAAKsuC,GADX2f,EAAOjuD,KAAKuuD,EAAUtpD,GAAM,CAACA,GAAIA,EAAI7J,MAAO,CAACkzC,KAIjE,OAAO2f,EAGR,SAASU,EAAoBrgD,EAASuR,GACrC,IAAInc,EAAS6pD,EAAWj/C,EAAQsgD,YAEhC,IAAKlrD,EACJ,MAAM,IAAIwK,MAAM,+GAGjB,IAAI2gD,EAAgCf,EAAoBA,EAAoB3yD,OAAS,GAErF,GAAyB,QAArBmT,EAAQwgD,SACND,EAEMA,EAA8BE,YACxCrrD,EAAO22B,aAAaxa,EAAOgvC,EAA8BE,aAEzDrrD,EAAOgc,YAAYG,GAJnBnc,EAAO22B,aAAaxa,EAAOnc,EAAOsrD,YAMnClB,EAAoB9tD,KAAK6f,QACnB,GAAyB,WAArBvR,EAAQwgD,SAClBprD,EAAOgc,YAAYG,OACb,IAAgC,iBAArBvR,EAAQwgD,WAAyBxgD,EAAQwgD,SAASG,OAInE,MAAM,IAAI/gD,MAAM,8LAHhB,IAAI6gD,EAAcxB,EAAWj/C,EAAQwgD,SAASG,OAAQvrD,GACtDA,EAAO22B,aAAaxa,EAAOkvC,IAM7B,SAASG,EAAoBrvC,GAC5B,GAAyB,OAArBA,EAAMsvC,WAAqB,OAAO,EACtCtvC,EAAMsvC,WAAWvjC,YAAY/L,GAE7B,IAAI1a,EAAM2oD,EAAoBvoD,QAAQsa,GACnC1a,GAAO,GACT2oD,EAAoBloD,OAAOT,EAAK,GAIlC,SAASiqD,EAAoB9gD,GAC5B,IAAIuR,EAAQ/Y,SAASyY,cAAc,SAMnC,QAJ0BngB,IAAvBkP,EAAQuC,MAAM0H,OAChBjK,EAAQuC,MAAM0H,KAAO,iBAGKnZ,IAAxBkP,EAAQuC,MAAMw+C,MAAqB,CACrC,IAAIA,EAgCN,WACK,EAIJ,OAAO,KArCMC,GACRD,IACH/gD,EAAQuC,MAAMw+C,MAAQA,GAOxB,OAHAE,EAAS1vC,EAAOvR,EAAQuC,OACxB89C,EAAmBrgD,EAASuR,GAErBA,EAiBR,SAAS0vC,EAAU1oC,EAAIhW,GACtB9Y,OAAO4D,KAAKkV,GAAO+L,SAAQ,SAAUhkB,GACpCiuB,EAAGrD,aAAa5qB,EAAKiY,EAAMjY,OAY7B,SAASy1D,EAAUlmD,EAAKmG,GACvB,IAAIuR,EAAO+pC,EAAQnlC,EAAQroB,EAG3B,GAAIkS,EAAQkhD,WAAarnD,EAAIsmD,IAAK,CAK9B,KAJAryD,EAAsC,mBAAtBkS,EAAQkhD,UACxBlhD,EAAQkhD,UAAUrnD,EAAIsmD,KACtBngD,EAAQkhD,UAAUC,QAAQtnD,EAAIsmD,MAS7B,OAAO,aAJPtmD,EAAIsmD,IAAMryD,EAUf,GAAIkS,EAAQs/C,UAAW,CACtB,IAAI8B,EAAa7B,IAEjBhuC,EAAQ+tC,IAAcA,EAAYwB,EAAmB9gD,IAErDs7C,EAAS+F,EAAoB92D,KAAK,KAAMgnB,EAAO6vC,GAAY,GAC3DjrC,EAASkrC,EAAoB92D,KAAK,KAAMgnB,EAAO6vC,GAAY,QAG3DvnD,EAAIqkD,WACW,mBAARjQ,KACwB,mBAAxBA,IAAIC,iBACoB,mBAAxBD,IAAII,iBACK,mBAATT,MACS,mBAAToQ,MAEPzsC,EAlEF,SAA4BvR,GAC3B,IAAI27B,EAAOnjC,SAASyY,cAAc,QAUlC,YAR0BngB,IAAvBkP,EAAQuC,MAAM0H,OAChBjK,EAAQuC,MAAM0H,KAAO,YAEtBjK,EAAQuC,MAAM++C,IAAM,aAEpBL,EAAStlB,EAAM37B,EAAQuC,OACvB89C,EAAmBrgD,EAAS27B,GAErBA,EAuDE4lB,CAAkBvhD,GAC1Bs7C,EAASkG,EAAWj3D,KAAK,KAAMgnB,EAAOvR,GACtCmW,EAAS,WACRyqC,EAAmBrvC,GAEhBA,EAAMy8B,MAAMC,IAAII,gBAAgB98B,EAAMy8B,SAG1Cz8B,EAAQuvC,EAAmB9gD,GAC3Bs7C,EAASmG,EAAWl3D,KAAK,KAAMgnB,GAC/B4E,EAAS,WACRyqC,EAAmBrvC,KAMrB,OAFA+pC,EAAOzhD,GAEA,SAAsB6nD,GAC5B,GAAIA,EAAQ,CACX,GACCA,EAAOvB,MAAQtmD,EAAIsmD,KACnBuB,EAAOtB,QAAUvmD,EAAIumD,OACrBsB,EAAOxD,YAAcrkD,EAAIqkD,UAEzB,OAGD5C,EAAOzhD,EAAM6nD,QAEbvrC,KA1PHrtB,EAAOD,QAAU,SAAS0qD,EAAMvzC,GAC/B,GAAqB,oBAAV2hD,OAAyBA,OACX,iBAAbnpD,SAAuB,MAAM,IAAIoH,MAAM,iEAGnDI,EAAUA,GAAW,IAEbuC,MAAiC,iBAAlBvC,EAAQuC,MAAqBvC,EAAQuC,MAAQ,GAI/DvC,EAAQs/C,WAA0C,kBAAtBt/C,EAAQs/C,YAAyBt/C,EAAQs/C,UAAYT,KAG1E7+C,EAAQsgD,aAAYtgD,EAAQsgD,WAAa,QAGhDtgD,EAAQwgD,WAAUxgD,EAAQwgD,SAAW,UAE1C,IAAIb,EAASK,EAAazM,EAAMvzC,GAIhC,OAFA0/C,EAAeC,EAAQ3/C,GAEhB,SAAiB4hD,GAGvB,IAFA,IAAIC,EAAY,GAEP94D,EAAI,EAAGA,EAAI42D,EAAO9yD,OAAQ9D,IAAK,CACvC,IAAImM,EAAOyqD,EAAO52D,IACd62D,EAAWhB,EAAY1pD,EAAKyB,KAEvBkpD,OACTgC,EAAUnwD,KAAKkuD,GAGbgC,GAEFlC,EADgBM,EAAa4B,EAAS5hD,GACZA,GAG3B,IAASjX,EAAI,EAAGA,EAAI84D,EAAUh1D,OAAQ9D,IAAK,CAC1C,IAAI62D,EAEJ,GAAqB,KAFjBA,EAAWiC,EAAU94D,IAEb82D,KAAY,CACvB,IAAK,IAAIC,EAAI,EAAGA,EAAIF,EAAS9yD,MAAMD,OAAQizD,IAAKF,EAAS9yD,MAAMgzD,YAExDlB,EAAYgB,EAASjpD,QAkNhC,IACKmrD,EADDC,GACCD,EAAY,GAET,SAAUtqD,EAAOwqD,GAGvB,OAFAF,EAAUtqD,GAASwqD,EAEZF,EAAUn3C,OAAOs3C,SAASh1D,KAAK,QAIxC,SAASo0D,EAAqB9vC,EAAO/Z,EAAO2e,EAAQtc,GACnD,IAAIsmD,EAAMhqC,EAAS,GAAKtc,EAAIsmD,IAE5B,GAAI5uC,EAAM2wC,WACT3wC,EAAM2wC,WAAWC,QAAUJ,EAAYvqD,EAAO2oD,OACxC,CACN,IAAIiC,EAAU5pD,SAAS+e,eAAe4oC,GAClCkC,EAAa9wC,EAAM8wC,WAEnBA,EAAW7qD,IAAQ+Z,EAAM+L,YAAY+kC,EAAW7qD,IAEhD6qD,EAAWx1D,OACd0kB,EAAMwa,aAAaq2B,EAASC,EAAW7qD,IAEvC+Z,EAAMH,YAAYgxC,IAKrB,SAASX,EAAYlwC,EAAO1X,GAC3B,IAAIsmD,EAAMtmD,EAAIsmD,IACVC,EAAQvmD,EAAIumD,MAMhB,GAJGA,GACF7uC,EAAM2D,aAAa,QAASkrC,GAG1B7uC,EAAM2wC,WACR3wC,EAAM2wC,WAAWC,QAAUhC,MACrB,CACN,KAAM5uC,EAAMmvC,YACXnvC,EAAM+L,YAAY/L,EAAMmvC,YAGzBnvC,EAAMH,YAAY5Y,SAAS+e,eAAe4oC,KAI5C,SAASqB,EAAY7lB,EAAM37B,EAASnG,GACnC,IAAIsmD,EAAMtmD,EAAIsmD,IACVjC,EAAYrkD,EAAIqkD,UAQhBoE,OAAgDxxD,IAAlCkP,EAAQuiD,uBAAuCrE,GAE7Dl+C,EAAQuiD,uBAAyBD,KACpCnC,EAAMV,EAAQU,IAGXjC,IAEHiC,GAAO,uDAAyDnC,KAAKG,SAASC,mBAAmBr9C,KAAKC,UAAUk9C,MAAgB,OAGjI,IAAIvQ,EAAO,IAAIC,KAAK,CAACuS,GAAM,CAAEl2C,KAAM,aAE/Bu4C,EAAS7mB,EAAKqS,KAElBrS,EAAKqS,KAAOC,IAAIC,gBAAgBP,GAE7B6U,GAAQvU,IAAII,gBAAgBmU,K,sEC9YzB,IAAI9F,aAAX,iFACA,SAAWA,cACP,IAAIC,WAAa,KACbC,MAAQ,KACZ,SAASC;;AAEL,GAAc,OAAVD,MAAgB,CAChB,IAAII,EAAKpsD,UAAUqsD,UAEnBL,MAAQI,EAAG/lD,QAAQ,UAAY,GAAK+lD,EAAG/lD,QAAQ,aAAe,EAElE,OAAO2lD,MAGX,SAAS6F,SACL,OAAQ5F,QAAUC,KAAK,uBAG3B,SAASC,YACL,GAAmB,OAAfJ,WAAqB,CACrB,IAAIK,EAAKpsD,UAAUqsD,UACnBN,WAAaK,EAAGjjD,cAAc9C,QAAQ,YAAc,EAExD,OAAO0lD,WAVXD,aAAaG,KAAOA,KAIpBH,aAAa+F,OAASA,OAQtB/F,aAAaK,UAAYA,UACzB,IAAIG,uBAAwB,EACxBC,mBAAgBrsD,EAChBssD,mBAAqB,WACrB,IAAIpxB,EAAWqxB,eACfH,sBAAwBvkD,OAAO2kD,WAAW,sCAAsCjgD,SACzE1E,OAAO2kD,WAAW,uCAAuCjgD,QAChE,IAAI2rB,EAAWq0B,eACXr0B,IAAagD,GAAYuxB,yBACzBA,wBAAwBv0B,IAuB5Bu0B,wBAlBJ,SAASF,eACL,YAAsBvsD,IAAlBqsD,cACOA,cAGAD,sBAIf,SAASM,gBAAgBxzD,GACrB,IAAIgiC,EAAWqxB,eACfF,cAAgBnzD,EAChB,IAAIg/B,EAAWq0B,eACXr0B,IAAagD,GAAYuxB,yBACzBA,wBAAwBv0B,GAKhC,SAASy0B,oBAAoB/tC,GACzB6tC,wBAA0B7tC,EAG9B,SAASguC,oBACL,OAAOL,eAAiB,WAAa,KA1BzCD,qBACAzkD,OAAO8d,iBAAiB,UAAU,WAAc,OAAO2mC,wBASvDV,aAAaW,aAAeA,aAS5BX,aAAac,gBAAkBA,gBAK/Bd,aAAae,oBAAsBA,oBAInCf,aAAagB,kBAAoBA,kBAhErC,CAiEGhB,eAAiBA,aAAe,M,sEClEnC,uEAIIgG,oBAAqC,WAKrC,SAASA,oBAAoB12D,GACpBA,IACDA,EAAO,CACH+7B,KAAM,GACN3b,KAAM,KAGM,iBAATpgB,EACPL,KAAK8a,aAAaza,GAGlBL,KAAKg3D,SAAW32D,EAsJxB,OA/IA02D,oBAAoB/3D,UAAU8b,aAAe,SAAU8+B,GACnD55C,KAAKg3D,SAAW5hD,KAAKQ,MAAMgkC,IAM/Bmd,oBAAoB/3D,UAAU27C,OAAS,WACnC,OAAOvlC,KAAKC,UAAUrV,KAAKg3D,WAM/BD,oBAAoB/3D,UAAU2uC,UAAY,WACtC,OAAO3tC,KAAKg3D,UAMhBD,oBAAoB/3D,UAAUsc,QAAU,WACpC,OAAoC,GAA7Btb,KAAKi3D,sBAAuD,GAA1Bj3D,KAAKk3D,mBAMlDH,oBAAoB/3D,UAAUi4D,mBAAqB,WAC/C,OAAOj3D,KAAKg3D,SAAS56B,KAAKl7B,QAO9B61D,oBAAoB/3D,UAAUm4D,gBAAkB,SAAUr6B,GACtD,OAAOA,EAAW98B,KAAKg3D,SAAS56B,KAAKl7B,OAASlB,KAAKg3D,SAAS56B,KAAKU,GAAY,MAOjFi6B,oBAAoB/3D,UAAUo4D,YAAc,SAAUt6B,GAClD,IAAIje,EAAM7e,KAAKm3D,gBAAgBr6B,GAC/B,OAAOje,EAAMA,EAAI7T,GAAK,MAO1B+rD,oBAAoB/3D,UAAUq4D,eAAiB,SAAUv6B,GACrD,IAAIje,EAAM7e,KAAKm3D,gBAAgBr6B,GAC/B,OAAOje,EAAMA,EAAIR,MAAQ,MAO7B04C,oBAAoB/3D,UAAUs4D,cAAgB,SAAUx6B,GACpD,IAAIje,EAAM7e,KAAKm3D,gBAAgBr6B,GAC/B,OAAOje,EAAMA,EAAIP,KAAO,MAO5By4C,oBAAoB/3D,UAAUu4D,oBAAsB,SAAUz6B,GAC1D,IAAIje,EAAM7e,KAAKm3D,gBAAgBr6B,GAC/B,OAAOje,EAAMA,EAAI3f,EAAI,MAMzB63D,oBAAoB/3D,UAAUk4D,gBAAkB,WAC5C,OAAOl3D,KAAKg3D,SAASv2C,KAAKvf,QAE9B61D,oBAAoB/3D,UAAUkqC,aAAe,SAAU7qC,MAAOy+B,UAC1D,IAAI06B,QAAUx3D,KAAKy3D,yBAAyBz3D,KAAKs3D,cAAcx6B,WAC/D,MAAI,CAAC,8CAAS13B,KAAM,8CAAS1F,SAAU,8CAASwI,MAAMwvD,SAASF,SACpDrG,KAAK,OAAS9yD,OAElBA,OAOX04D,oBAAoB/3D,UAAU4gB,SAAW,SAAU8e,EAAU5B,GACzD,IAAInc,EAAM+d,EAAW1+B,KAAKg3D,SAASv2C,KAAKvf,OAASlB,KAAKg3D,SAASv2C,KAAKie,GAAY,KAChF,GAAI/d,EAAK,CACL,IAAIg3C,EAAO76B,EAAW98B,KAAKg3D,SAAS56B,KAAKl7B,OAASyf,EAAIljB,EAAEq/B,GAAY,KACpE,GAAI66B,EACA,OAAO33D,KAAKkpC,aAAayuB,EAAKp0C,EAAGuZ,GAGzC,OAAO,MAEXi6B,oBAAoB/3D,UAAUmjB,OAAS,SAAUuc,GAC7C,IAAIl9B,EAAQxB,KAIZ,OAHgB0+B,EAAW1+B,KAAKg3D,SAASv2C,KAAKvf,OAASlB,KAAKg3D,SAASv2C,KAAKie,GAAY,MAC1DjhC,EACNmE,KAAI,SAAUsM,EAAKhD,GAAO,OAAO1J,EAAM0nC,aAAah7B,EAAIqV,EAAGrY,KAASlL,OAG9F+2D,oBAAoB/3D,UAAU44D,UAAY,SAAUjhC,GAEhD,IADA,IAAIkhC,EAAW73D,KAAKi3D,qBACX75D,EAAI,EAAGA,EAAIy6D,EAAUz6D,IAC1Bu5B,EAAUlX,QAAQd,IAAI,CAClB3T,GAAIhL,KAAKo3D,YAAYh6D,GACrBihB,MAAOre,KAAKq3D,eAAej6D,GAC3BkhB,KAAMte,KAAKy3D,yBAAyBz3D,KAAKs3D,cAAcl6D,MAG/D,IAAI+/B,EAAWn9B,KAAKk3D,kBACpB,IAAS95D,EAAI,EAAGA,EAAI+/B,EAAU//B,IAC1Bu5B,EAAU9V,OAAO7gB,KAAKmiB,OAAO/kB,KAGrC25D,oBAAoB/3D,UAAUy4D,yBAA2B,SAAUK,GAC/D,OAAQA,GACJ,IAAK,SACD,OAAO,8CAASpvD,OACpB,IAAK,SACD,OAAO,8CAASO,MACpB,IAAK,UACD,OAAO,8CAAS8rB,KACpB,IAAK,OACD,OAAO,8CAAS3vB,KACpB,IAAK,WACD,OAAO,8CAAS1F,SACpB,IAAK,YACD,OAAO,8CAASwI,KACpB,QACI,OAAO,8CAASQ,SAGrBquD,oBAtK6B,I,uDCJxC,EAAQ,IACR,EAAQ,IACR,EAAQ,IACR,EAAQ,IACR,EAAQ,IACR,EAAQ,IACR,EAAQ,IACR,EAAQ,IACR,EAAQ,IACR,EAAQ,IACR,EAAQ,K,gBCTR,IAAI/wB,EAAU,EAAQ,IAEA,iBAAZA,IAAsBA,EAAU,CAAC,CAAC7oC,EAAOC,EAAI4oC,EAAS,MAOhE,IAAI3xB,EAAU,CAAC,KAAM,EAErB,eAPIkhD,EAQJ,gBAAqBpwD,GAER,EAAQ,EAAR,CAAyD6gC,EAAS3xB,GAE5E2xB,EAAQ+xB,SAAQ56D,EAAOD,QAAU8oC,EAAQ+xB,S,iBCjBlC56D,EAAOD,QAAU,EAAQ,EAAR,EAAyD,IAE5E6I,KAAK,CAAC5I,EAAOC,EAAI,ivnCAA0vnC,M,cCYnxnCD,EAAOD,QAAU,SAAUs3D,GAEzB,IAAIwD,EAA6B,oBAAXhrD,QAA0BA,OAAOgrD,SAEvD,IAAKA,EACH,MAAM,IAAI/jD,MAAM,oCAInB,IAAKugD,GAAsB,iBAARA,EACjB,OAAOA,EAGR,IAAIyD,EAAUD,EAASE,SAAW,KAAOF,EAASG,KAC9CC,EAAaH,EAAUD,EAASK,SAASxyD,QAAQ,YAAa,KA2DnE,OA/Be2uD,EAAI3uD,QAAQ,uDAAuD,SAASyyD,EAAWC,GAErG,IAWIC,EAXAC,EAAkBF,EACpBv3D,OACA6E,QAAQ,YAAY,SAAShI,EAAG4U,GAAK,OAAOA,KAC5C5M,QAAQ,YAAY,SAAShI,EAAG4U,GAAK,OAAOA,KAG9C,MAAI,oDAAoDrD,KAAKqpD,GACpDH,GAQRE,EAFqC,IAAlCC,EAAgBntD,QAAQ,MAElBmtD,EACkC,IAAjCA,EAAgBntD,QAAQ,KAEzB2sD,EAAUQ,EAGVL,EAAaK,EAAgB5yD,QAAQ,QAAS,IAIjD,OAASuP,KAAKC,UAAUmjD,GAAU,U,gBClF3C,IAAIxyB,EAAU,EAAQ,IAEA,iBAAZA,IAAsBA,EAAU,CAAC,CAAC7oC,EAAOC,EAAI4oC,EAAS,MAOhE,IAAI3xB,EAAU,CAAC,KAAM,EAErB,eAPIkhD,EAQJ,gBAAqBpwD,GAER,EAAQ,EAAR,CAAyD6gC,EAAS3xB,GAE5E2xB,EAAQ+xB,SAAQ56D,EAAOD,QAAU8oC,EAAQ+xB,S,iBCjBlC56D,EAAOD,QAAU,EAAQ,EAAR,EAAyD,IAE5E6I,KAAK,CAAC5I,EAAOC,EAAI,os3FAAqs3F,M,gBCD9t3F,IAAI4oC,EAAU,EAAQ,IAEA,iBAAZA,IAAsBA,EAAU,CAAC,CAAC7oC,EAAOC,EAAI4oC,EAAS,MAOhE,IAAI3xB,EAAU,CAAC,KAAM,EAErB,eAPIkhD,EAQJ,gBAAqBpwD,GAER,EAAQ,EAAR,CAAyD6gC,EAAS3xB,GAE5E2xB,EAAQ+xB,SAAQ56D,EAAOD,QAAU8oC,EAAQ+xB,S,iBCjBlC56D,EAAOD,QAAU,EAAQ,EAAR,EAAyD,IAE5E6I,KAAK,CAAC5I,EAAOC,EAAI,4xeAA6xe,M,gBCDtze,IAAI4oC,EAAU,EAAQ,IAEA,iBAAZA,IAAsBA,EAAU,CAAC,CAAC7oC,EAAOC,EAAI4oC,EAAS,MAOhE,IAAI3xB,EAAU,CAAC,KAAM,EAErB,eAPIkhD,EAQJ,gBAAqBpwD,GAER,EAAQ,EAAR,CAAyD6gC,EAAS3xB,GAE5E2xB,EAAQ+xB,SAAQ56D,EAAOD,QAAU8oC,EAAQ+xB,S,iBCjBlC56D,EAAOD,QAAU,EAAQ,EAAR,EAAyD,IAE5E6I,KAAK,CAAC5I,EAAOC,EAAI,k+nBAAygoB,M,gBCDlioB,IAAI4oC,EAAU,EAAQ,IAEA,iBAAZA,IAAsBA,EAAU,CAAC,CAAC7oC,EAAOC,EAAI4oC,EAAS,MAOhE,IAAI3xB,EAAU,CAAC,KAAM,EAErB,eAPIkhD,EAQJ,gBAAqBpwD,GAER,EAAQ,EAAR,CAAyD6gC,EAAS3xB,GAE5E2xB,EAAQ+xB,SAAQ56D,EAAOD,QAAU8oC,EAAQ+xB,S,iBCjBlC56D,EAAOD,QAAU,EAAQ,EAAR,EAAyD,IAE5E6I,KAAK,CAAC5I,EAAOC,EAAI,qgHAAsgH,M,gBCD/hH,IAAI4oC,EAAU,EAAQ,IAEA,iBAAZA,IAAsBA,EAAU,CAAC,CAAC7oC,EAAOC,EAAI4oC,EAAS,MAOhE,IAAI3xB,EAAU,CAAC,KAAM,EAErB,eAPIkhD,EAQJ,gBAAqBpwD,GAER,EAAQ,EAAR,CAAyD6gC,EAAS3xB,GAE5E2xB,EAAQ+xB,SAAQ56D,EAAOD,QAAU8oC,EAAQ+xB,S,iBCjBlC56D,EAAOD,QAAU,EAAQ,EAAR,EAAyD,IAE5E6I,KAAK,CAAC5I,EAAOC,EAAI,wzBAAyzB,M,gBCDl1B,IAAI4oC,EAAU,EAAQ,IAEA,iBAAZA,IAAsBA,EAAU,CAAC,CAAC7oC,EAAOC,EAAI4oC,EAAS,MAOhE,IAAI3xB,EAAU,CAAC,KAAM,EAErB,eAPIkhD,EAQJ,gBAAqBpwD,GAER,EAAQ,EAAR,CAAyD6gC,EAAS3xB,GAE5E2xB,EAAQ+xB,SAAQ56D,EAAOD,QAAU8oC,EAAQ+xB,S,iBCjBlC56D,EAAOD,QAAU,EAAQ,EAAR,EAAyD,IAE5E6I,KAAK,CAAC5I,EAAOC,EAAI,GAAI,M,gBCD7B,IAAI4oC,EAAU,EAAQ,IAEA,iBAAZA,IAAsBA,EAAU,CAAC,CAAC7oC,EAAOC,EAAI4oC,EAAS,MAOhE,IAAI3xB,EAAU,CAAC,KAAM,EAErB,eAPIkhD,EAQJ,gBAAqBpwD,GAER,EAAQ,EAAR,CAAyD6gC,EAAS3xB,GAE5E2xB,EAAQ+xB,SAAQ56D,EAAOD,QAAU8oC,EAAQ+xB,S,iBCjBlC56D,EAAOD,QAAU,EAAQ,EAAR,EAAyD,IAE5E6I,KAAK,CAAC5I,EAAOC,EAAI,mtUAAotU,M,gBCD7uU,IAAI4oC,EAAU,EAAQ,IAEA,iBAAZA,IAAsBA,EAAU,CAAC,CAAC7oC,EAAOC,EAAI4oC,EAAS,MAOhE,IAAI3xB,EAAU,CAAC,KAAM,EAErB,eAPIkhD,EAQJ,gBAAqBpwD,GAER,EAAQ,EAAR,CAAyD6gC,EAAS3xB,GAE5E2xB,EAAQ+xB,SAAQ56D,EAAOD,QAAU8oC,EAAQ+xB,S,iBCjBlC56D,EAAOD,QAAU,EAAQ,EAAR,EAAyD,IAE5E6I,KAAK,CAAC5I,EAAOC,EAAI,08UAAi9U,M,gBCD1+U,IAAI4oC,EAAU,EAAQ,IAEA,iBAAZA,IAAsBA,EAAU,CAAC,CAAC7oC,EAAOC,EAAI4oC,EAAS,MAOhE,IAAI3xB,EAAU,CAAC,KAAM,EAErB,eAPIkhD,EAQJ,gBAAqBpwD,GAER,EAAQ,EAAR,CAAyD6gC,EAAS3xB,GAE5E2xB,EAAQ+xB,SAAQ56D,EAAOD,QAAU8oC,EAAQ+xB,S,iBCjBlC56D,EAAOD,QAAU,EAAQ,EAAR,EAAyD,IAE5E6I,KAAK,CAAC5I,EAAOC,EAAI,oiIAAyiI,M,gBCDlkI,IAAI4oC,EAAU,EAAQ,IAEA,iBAAZA,IAAsBA,EAAU,CAAC,CAAC7oC,EAAOC,EAAI4oC,EAAS,MAOhE,IAAI3xB,EAAU,CAAC,KAAM,EAErB,eAPIkhD,EAQJ,gBAAqBpwD,GAER,EAAQ,EAAR,CAAyD6gC,EAAS3xB,GAE5E2xB,EAAQ+xB,SAAQ56D,EAAOD,QAAU8oC,EAAQ+xB,S,iBCjBlC56D,EAAOD,QAAU,EAAQ,EAAR,EAAyD,IAE5E6I,KAAK,CAAC5I,EAAOC,EAAI,s0iCAAu0iC,M,6BCDh2iCU,OAAOC,eAAeb,EAAS,aAAc,CAAEmB,OAAO,IACtD,IAAIq6D,EAAO,EAAQ,IACnB,EAAQ,IACR1rD,OAAO8d,iBAAiB,QAAQ,WAE5B,IAAI6tC,EAAc,CACdh9B,YAAY,EAEZi9B,oBAAoB,EACpBvO,SAAU,CACNI,QAAS,SAAUjjD,MAGvBrF,OAAQ,CAEJ02D,WAAW,EAEX1hC,OAAQ,CACJjW,SAAU,KAIlB0lC,kBAAkB,EAElBoE,eAAgB,kBAEhBtB,SAAU18C,OAAsB,cAAI,uBACpC8rD,cAAc,EAEd5Q,QAAS,CAEL6Q,WAAY,CACRC,oBAAoB,EACpBC,kBAAkB,EAClBC,kBAAmB,SACnBC,oBAAoB,EACpBC,0BAA0B,EAC1BC,YAAa,CACTC,mBAAoB,GACpBC,qBAAqB,IAI7BC,WAAY,CACRC,2BAA2B,EAC3BL,0BAA0B,EAC1BC,YAAa,CACTC,mBAAoB,GACpBC,qBAAqB,IAI7BG,WAAY,CACRC,WAAY,iBACZC,eAAgB,SAAUjjC,EAAW+H,EAAU5B,EAAUz+B,GAErD,MAAsB,WADVs4B,EAAU4gC,oBAAoBz6B,GAChC/0B,SACC,IAAM1J,EAGNA,MAMvBw7D,EAAa,IAAInB,EAAKoB,WACtB3a,EAAU0a,EAAWrZ,aACzBrB,EAAQ4a,sBAAsB/sD,OAAsB,cAAIA,OAAwB,iBAChFmyC,EAAQ6a,eAAc,WAClBH,EAAW5hC,KAAK0gC,MAEpB9rD,SAAqB,WAAIgtD,M,wCCxErBnnD,ECMGunD,E,mCDPP3mD,GACIZ,EAAgB,SAAUhV,EAAG0I,GAI7B,OAHAsM,EAAgB5U,OAAOyV,gBAClB,CAAEC,UAAW,cAAgBvJ,OAAS,SAAUvM,EAAG0I,GAAK1I,EAAE8V,UAAYpN,IACvE,SAAU1I,EAAG0I,GAAK,IAAK,IAAIlH,KAAKkH,EAAOA,EAAEnH,eAAeC,KAAIxB,EAAEwB,GAAKkH,EAAElH,MACpDxB,EAAG0I,IAErB,SAAU1I,EAAG0I,GAEhB,SAASqN,IAAOzT,KAAK0T,YAAchW,EADnCgV,EAAchV,EAAG0I,GAEjB1I,EAAEsB,UAAkB,OAANoH,EAAatI,OAAOY,OAAO0H,IAAMqN,EAAGzU,UAAYoH,EAAEpH,UAAW,IAAIyU,KAYnF,EAA+B,SAAUK,GAMzC,SAASomD,EAAcxjC,GACnB,IAAIl1B,EAAQsS,EAAOvW,KAAKyC,KAAM02B,IAAS12B,KAIvC,OAHAwB,EAAM24D,uBAAyB,KAC/B34D,EAAM8tD,MAAQ,IAAY/C,MAAQ,IAAYrb,MAC9C1vC,EAAM44D,MAAQ1jC,EACPl1B,EA0kBX,OAplBA8R,EAAU4mD,EAAepmD,GAYzBhW,OAAOC,eAAem8D,EAAcl7D,UAAW,YAAa,CACxDf,IAAK,WACD,MAAO,WAEXD,YAAY,EACZ0gB,cAAc,IAElBw7C,EAAcl7D,UAAUosD,cAAgB,WACpC,MAAO,iBAOX8O,EAAcl7D,UAAUi5B,KAAO,SAAUknB,EAAS9qC,GAC9CP,EAAO9U,UAAUi5B,KAAK16B,KAAKyC,KAAMm/C,EAAS9qC,GAC1CrU,KAAKq6D,WAAWhmD,GAChBrU,KAAKs6D,uBAKTJ,EAAcl7D,UAAUmwD,YAAc,WAClCnvD,KAAKy5B,SACDz5B,KAAKqU,QAAQkmD,iBACbv6D,KAAKw6D,gCAGbN,EAAcl7D,UAAUowD,mBAAqB,WACrCpvD,KAAKqU,QAAQomD,sBACRz6D,KAAK06D,cAAcxF,YACpBl1D,KAAKo6D,MAAM30C,YAAYzlB,KAAK06D,iBAGxCR,EAAcl7D,UAAUqwD,iBAAmB,WACnCrvD,KAAKqU,QAAQomD,qBACTz6D,KAAK06D,cAAcxF,YACnBl1D,KAAKo6D,MAAMzoC,YAAY3xB,KAAK06D,gBAGxCR,EAAcl7D,UAAUuwD,YAAc,WAClCvvD,KAAK02B,KAAKpL,UAAY,IAE1B4uC,EAAcl7D,UAAUq7D,WAAa,SAAUhmD,GAC3C,IAAI7S,EAAQxB,MACZA,KAAKqU,QAAU,CACXsmD,aAAa,EACbJ,iBAAiB,EACjBK,qBAAqB,EACrBC,0BAA0B,EAC1BC,qBAAqB,EACrBC,wBAAwB,EACxBC,gBAAgB,EAChBC,cAAc,EACdC,qBAAqB,EACrBC,eAAgB,CAAEvvB,iBAAiB,EAAMC,aAAa,EAAMC,cAAc,GAC1EsvB,eAAe,EACfC,cAAe,EACfZ,qBAAqB,EACrBx9C,cAAe,EACfD,cAAc,EACds+C,oBAAoB,EACpBC,uBAAwB,KACxBC,0BAA2B,MAE3BnnD,GACA,IAAUlQ,WAAWnE,KAAKqU,QAASA,GAEnCrU,KAAKm6D,0BACD1rB,EAAQzuC,KAAKm/C,QAAQ9M,YACnBoM,sBAAsBz+C,KAAKm6D,wBAErC,GAAIn6D,KAAKqU,QAAQkmD,gBAAiB,CAC9B,IAAI9rB,EAAQzuC,KAAKm/C,QAAQ9M,WACzBryC,KAAKm6D,uBAAyB1rB,EAAM+P,oBAAmB,SAAUpvB,GAC7D,IAAIqsC,EAAQrsC,EAAG/uB,MACVo7D,GAAUA,EAAMpnB,MAAQ,IAAgBE,SAAWknB,EAAMpnB,MAAQ,IAAgB1L,KAGtFnnC,EAAMg5D,oCAIlBN,EAAcl7D,UAAUy6B,OAAS,WAC7B,IAAIpjB,EAAQrW,KAAKm/C,QAAQ/M,WAMzB,GAJApyC,KAAKmd,QACLnd,KAAKo6D,MAAM9vC,UAAU3L,IAAI3e,KAAKozB,UAAY,UAC1CpzB,KAAKo6D,MAAM9vC,UAAU3L,IAAI,IAAaozC,qBACtC/xD,KAAK07D,gBAAkB7uD,SAASyY,cAAc,OACjC,MAATjP,IAAkBA,EAAMiF,UAAW,CACnC,IAAIqgD,EAAUtlD,EAAMkH,gBAAgB,CAChCwwB,OAAQ/tC,KAAKqU,QAAQ8mD,eAAevvB,gBACpCoC,OAAQhuC,KAAKqU,QAAQ8mD,eAAetvB,YACpCoC,OAAQjuC,KAAKqU,QAAQ8mD,eAAervB,aACpC7uB,cAAejd,KAAKqU,QAAQ4I,cAC5BD,aAAchd,KAAKqU,QAAQ2I,aAC3BF,iBAAiB,IAErB9c,KAAK47D,gBAAkB57D,KAAK67D,aAAaF,EAAS37D,KAAK07D,gBAAiB,GACxE17D,KAAKo6D,MAAM30C,YAAYzlB,KAAK47D,iBAE5B57D,KAAKqU,QAAQ+mD,cACbp7D,KAAK87D,kBAGL97D,KAAK07D,gBAAgB91C,MAAMqB,IAAM,IAEjCjnB,KAAKqU,QAAQsmD,cAAgB36D,KAAKqU,QAAQkmD,gBAC1Cv6D,KAAK+7D,kBAGL/7D,KAAK07D,gBAAgB91C,MAAMiC,OAAS,KAG5CqyC,EAAcl7D,UAAU68D,aAAe,SAAUxkD,EAAQ2kD,EAAO56C,GAC5D,IACI66C,EADAz6D,EAAQxB,KAERk8D,EAAarvD,SAASyY,cAAc,OACxC42C,EAAW5xC,UAAU3L,IAAI3e,KAAKozB,UAAY,gBAC1C8oC,EAAW5xC,UAAU3L,IAAI,IAAaozC,qBACtC,IAAIoK,EAAiBtvD,SAASyY,cAAc,OAC5C62C,EAAe7xC,UAAU3L,IAAI3e,KAAKozB,UAAY,oBAC9C+oC,EAAe7xC,UAAU3L,IAAI,IAAaozC,qBAC1C,IAAIqK,EAAYvvD,SAASyY,cAAc,SACvC82C,EAAU9xC,UAAU3L,IAAI3e,KAAKozB,UAAY,sBACzC,IAAIipC,EAAYxvD,SAASyY,cAAc,SACvC+2C,EAAU/9C,KAAO,WACjB,IAGIg+C,EAAUhhC,EAAWihC,EAHrBC,EAAmB3vD,SAASyY,cAAc,KAC9Ck3C,EAAiBna,KAAO,qBACxBma,EAAiBlyC,UAAU3L,IAAI3e,KAAKozB,UAAY,uBAEhD,IAAIqpC,EAAgBr7C,EAcpB,GATI46C,GACAC,EAAcD,GACF1wC,UAAY,GAGxB2wC,EAAcpvD,SAASyY,cAAc,OAEzC22C,EAAY3xC,UAAU3L,IAAI3e,KAAKozB,UAAY,WAC3C6oC,EAAY3xC,UAAU3L,IAAI,IAAaozC,qBACnC16C,EAAOrM,IAAmB,IAAbqM,EAAOrM,GAAU,CAC9BoxD,EAAUhxC,UAAY/T,EAAOiD,KAC7B4hD,EAAWz2C,YAAY22C,GACnBp8D,KAAKqU,QAAQ2mD,gBACboB,EAAUh8B,aAAai8B,EAAWD,EAAUrH,YAEhDmH,EAAW97B,aAAao8B,EAAkBN,EAAWnH,YACjD/0D,KAAKqU,QAAQ4mD,cAAgB5jD,EAAOpB,aACpCmmD,EAAU7yC,aAAa,QAASlS,EAAOpB,aAE3C,IAAK,IAAI7Y,EAAI,EAAGA,EAAIq/D,EAAer/D,IAAK,CACpC,IAAIs/D,EAAU7vD,SAASyY,cAAc,OACrCo3C,EAAQpyC,UAAU3L,IAAI3e,KAAKozB,UAAY,kBACvC8oC,EAAW97B,aAAas8B,EAASR,EAAWnH,YAEhDkH,EAAYx2C,YAAYy2C,GACxBC,EAAehoB,QAAS,EACxBsoB,IAEJ,IAAIE,EAActlD,EAAOkF,MAAQlF,EAAOkF,MAAMrb,OAAS,EACnDuiC,EAAU,SAAUrmC,GACpB,IAAImM,EAAO8N,EAAOkF,MAAMnf,GACxB,GAAImM,EAAKiT,SACL2/C,EAAe12C,YAAYm3C,EAAOf,aAAatyD,EAAM,KAAMkzD,SAG3D,IAAKlzD,EAAK4O,aAvCM,SAAU0D,EAAQogD,GAEtC,OADUA,EAAY7+B,iBAAiB,IAAM57B,EAAM4xB,UAAY,yBAA4BvX,EAAS,MACzF3a,OAAS,EAqCS,CAAmBqI,EAAK4O,WAAYgkD,GAAkB,EAC3E7gC,EAAYzuB,SAASyY,cAAc,UACzB8F,UAAY7hB,EAAK+Q,KAC3BghB,EAAUhR,UAAU3L,IAAIi+C,EAAOxpC,UAAY,sBACvCwpC,EAAOvoD,QAAQ2mD,kBACfuB,EAAY1vD,SAASyY,cAAc,UACzBhH,KAAO,WACjBgd,EAAU8E,aAAam8B,EAAWjhC,EAAUy5B,YACxC6H,EAAOvoD,QAAQkmD,iBACfgC,EAAUzxC,iBAAiB,UAAU,SAAUsE,GAC3C,IAAI/Y,EAAQ7U,EAAM29C,QAAQ/M,WACtB3D,EAAQjtC,EAAM29C,QAAQ9M,WACtBwqB,EAAWztC,EAAG0tC,cACdjhD,EAASghD,EAAS7zC,cAAcA,cAAcmW,aAAa,WAC/D,GAAI9oB,EAAM0F,kBAAkBF,EAAQ,eAChC,GAAIghD,EAASE,QAAS,CAClB,IAAIn6C,EAAS6rB,EAAMmN,UAAU,CAAEG,YAAalgC,IAC5C4yB,EAAMqP,wBAAwB,IAAkBkf,IAAKp6C,OAEpD,CACD,IAAInD,EAAUgvB,EAAMnV,aACfta,QAAO,SAAUH,GAAO,OAAOA,EAAIzG,KAAK2B,MAAQ,IAAQ41B,iBACtD9wB,EAAIzG,KAAK/Z,QAAUwd,KACtB4D,EAAQve,OAAS,IACjButC,EAAMiO,aAAaj9B,EAAQ,GAAI,MAC/BgvB,EAAMqP,wBAAwB,IAAkBjpC,OAAQ4K,EAAQ,UAOpFm9C,EAAOvoD,QAAQ4mD,cAAgB1xD,EAAK0M,aACpCqlB,EAAU/R,aAAa,QAAShgB,EAAK0M,aAEzC,IAAK,IAAIk+C,EAAI,EAAGA,EAAIsI,EAAgB,EAAGtI,IAAK,CACxC,IAAIuI,EAAU7vD,SAASyY,cAAc,OACrCo3C,EAAQpyC,UAAU3L,IAAIi+C,EAAOxpC,UAAY,kBACzCkI,EAAU8E,aAAas8B,EAASphC,EAAUy5B,aAE9CuH,EAAWzvD,SAASyY,cAAc,QACzBgF,UAAU3L,IAAIi+C,EAAOxpC,UAAY,gBACP,GAA/B8oC,EAAW5wC,UAAUpqB,QACrBo7D,EAAShyC,UAAU3L,IAAIi+C,EAAOxpC,UAAY,qBAE9CkpC,EAAShxC,UAAY,GACrBgxC,EAAS72C,YAAY6V,GACrBghC,EAAS/yC,aAAa,UAAWhgB,EAAKyB,IAClC4xD,EAAOvoD,QAAQ6mD,qBACf,IAAclrC,sBAAsB,CAChC3K,QAASi3C,EACTvrC,MAAO,aACP1wB,KAAM,CAAEwb,OAAQtS,EAAKyB,IACrB4lB,SAAU,SAAUjC,GAChBA,EAAUrD,UAAY,GACtB,IAAIgQ,EAAYzuB,SAASyY,cAAc,QACvCgW,EAAUlQ,UAAY7hB,EAAK+Q,KAC3BqU,EAAUlJ,YAAY6V,MAI9BshC,EAAOvoD,QAAQmnD,2BACfoB,EAAOvoD,QAAQmnD,0BAA0Bc,GAE7CH,EAAe12C,YAAY62C,KAInCM,EAAS58D,KACb,IAAS5C,EAAI,EAAGA,EAAIu/D,EAAav/D,IAC7BqmC,EAAQrmC,GAiBZ,GAfI++D,EAAe7wC,UAAUpqB,SACzB+6D,EAAYx2C,YAAY02C,GACxBK,EAAiB1xC,iBAAiB,SAAS,SAAU9G,GACjDm4C,EAAehoB,QAAUgoB,EAAehoB,OACxC,IAAI9uB,EAAUrB,EAAMva,OAChB+b,EAAYhkB,EAAM4xB,UAAY,2BAC9B/N,EAAQiF,UAAUib,SAAS/f,GAC3BH,EAAQiF,UAAUE,OAAOhF,GAGzBH,EAAQiF,UAAU3L,IAAI6G,GAE1BxB,EAAMgJ,qBAGVmvC,EACA,KAAIc,EAAad,EAAe/+B,iBAAiB,IAAMp9B,KAAKozB,UAAY,gCACxE,IAASh2B,EAAI,EAAGA,EAAI6/D,EAAW/7D,OAAQ9D,IAAK,CACzB6/D,EAAW7/D,GACjB0tB,iBAAiB,SAAS,SAAU9G,GAC3BA,EAAMva,OACRszD,UAAYV,EAAUU,QAC9BV,EAAUU,SAAU,EAE6C,IAA5DZ,EAAe/+B,iBAAiB,iBAAiBl8B,SACtDm7D,EAAUU,SAAU,GAExB/4C,EAAMoM,sBA0ClB,OAtCAisC,EAAUvxC,iBAAiB,SAAS,SAAU9G,GAG1C,IAFA,IAAIqB,EAAUrB,EAAMva,OAChBqlC,EAAWqtB,EAAe/+B,iBAAiB,eACtChgC,EAAI,EAAGA,EAAI0xC,EAAS5tC,OAAQ9D,IAAK,CACvB0xC,EAAS1xC,GACf2/D,QAAU13C,EAAQ03C,QAE/B,GAAIv7D,EAAM6S,QAAQkmD,gBAAiB,CAK/B,IAJA,IAAI9rB,EAAQjtC,EAAM29C,QAAQ9M,WACtBh8B,EAAQ7U,EAAM29C,QAAQ/M,WACtB8qB,EAAa,GAERr8D,EAAK,EAAGs8D,EADDlzD,MAAM0V,KAAKw8C,EAAe/+B,iBAAiB,IAAM57B,EAAM4xB,UAAY,iBACzCvyB,EAAKs8D,EAAYj8D,OAAQL,IAAM,CACrE,IACIgb,EADOshD,EAAYt8D,GACLs+B,aAAa,WAC3B9oB,EAAM0F,kBAAkBF,EAAQ,gBAChCqhD,EAAWn3D,KAAK8V,GAGxB,GAAIwJ,EAAQ03C,QACR,IAAK,IAAI7rD,EAAK,EAAGksD,EAAaF,EAAYhsD,EAAKksD,EAAWl8D,OAAQgQ,IAAM,CAChE2K,EAASuhD,EAAWlsD,GACxBu9B,EAAMmN,UAAU,CAAEG,YAAalgC,QAGlC,CACD,IAAI4D,EAAUgvB,EAAMnV,aACfta,QAAO,SAAUH,GAAO,OAAOA,EAAIzG,KAAK2B,MAAQ,IAAQ41B,iBACtDutB,EAAW5xD,QAAQuT,EAAIzG,KAAK/Z,QAAU,KAC7CowC,EAAM4O,cAAc59B,EAAS,MAEjCgvB,EAAMqP,0BAEV95B,EAAMoM,qBAEN4rC,GAASh8D,KAAK07D,iBAAmB17D,KAAKqU,QAAQknD,wBAC9Cv7D,KAAKqU,QAAQknD,uBAAuBU,GAEjCA,GAEX/B,EAAcl7D,UAAU88D,gBAAkB,WACtC,IAAIt6D,EAAQxB,KACZA,KAAKq9D,eAAiBxwD,SAASyY,cAAc,OAC7CtlB,KAAKq9D,eAAe/yC,UAAU3L,IAAI3e,KAAKozB,UAAY,eACnDpzB,KAAKq9D,eAAe/yC,UAAU3L,IAAI,IAAaozC,qBAC/C/xD,KAAKs9D,eAAiBzwD,SAASyY,cAAc,SAC7CtlB,KAAKs9D,eAAehzC,UAAU3L,IAAI3e,KAAKozB,UAAY,qBACnDpzB,KAAKs9D,eAAexyC,iBAAiB,WAAW,SAAU0B,GACtD,OAAIA,EAAEO,UACFvrB,EAAM87D,eAAej/D,MAAQ,GAC7BmD,EAAM87D,eAAenwC,cAAc,YAAmB,UACtDX,EAAE4D,mBACK,MAIfpwB,KAAKs9D,eAAexyC,iBAAiB,SAAS,SAAU0B,GAEpD,IADA,IAAI5V,EAAQpV,EAAM44D,MAAMh9B,iBAAiB,IAAM57B,EAAM4xB,UAAY,gBACxDh2B,EAAI,EAAGA,EAAIwZ,EAAM1V,OAAQ9D,IAAK,CACnC,IAAIma,EAAOX,EAAMxZ,GACjBma,EAAK48B,QAAU3yC,EAAM+7D,qBAAqBhmD,GAE9C,IAAIu3B,EAAWttC,EAAM44D,MAAMh9B,iBAAiB,KAAO57B,EAAM4xB,UAAY,WACrE,IAASh2B,EAAI,EAAGA,EAAI0xC,EAAS5tC,OAAQ9D,IAAK,CAItC,IAHA,IAAIia,EAASy3B,EAAS1xC,GAClBogE,EAAUnmD,EAAO+lB,iBAAiB,IAAM57B,EAAM4xB,UAAY,gBAC1DqqC,EAAmB,EACdC,EAAM,EAAGA,EAAMF,EAAQt8D,OAAQw8D,IACD,SAA/BF,EAAQE,GAAK93C,MAAMC,SACnB43C,IAGRpmD,EAAO88B,OAA8B,IAArBspB,EAEe,KAA/Bj8D,EAAM87D,eAAej/D,MACrBmD,EAAMm8D,cAENn8D,EAAMo8D,eAEd59D,KAAKq9D,eAAe53C,YAAYzlB,KAAKs9D,gBACrCt9D,KAAKo6D,MAAMh6B,aAAapgC,KAAKq9D,eAAgBr9D,KAAKo6D,MAAMrF,aAE5DmF,EAAcl7D,UAAU+8D,gBAAkB,WACtC,IAAIv6D,EAAQxB,KACR69D,EAAW79D,KAAKozB,UAAY,cAC5B0qC,EAAiBjxD,SAASyY,cAAc,OAC5Cw4C,EAAexzC,UAAU3L,IAAIk/C,GAC7BC,EAAexzC,UAAU3L,IAAI,IAAaozC,qBAC1C,IAAIgM,EAAgBlxD,SAASyY,cAAc,OAC3Cy4C,EAAczzC,UAAU3L,IAAIk/C,EAAW,eACvCE,EAAcv0C,MAAQ,aACtB,IAAIw0C,EAAkBnxD,SAASyY,cAAc,OAC7C04C,EAAgB1zC,UAAU3L,IAAIk/C,EAAW,iBACzCG,EAAgBx0C,MAAQ,kBACxB,IAAIy0C,EAAiBpxD,SAASyY,cAAc,OAC5C24C,EAAe3zC,UAAU3L,IAAIk/C,EAAW,gBACxCI,EAAez0C,MAAQ,aACvB,IAAI00C,EAAcrxD,SAASyY,cAAc,OACzC44C,EAAY5zC,UAAU3L,IAAIk/C,EAAW,aACrCK,EAAY10C,MAAQ,gBACpB,IAAI20C,EAAgBtxD,SAASyY,cAAc,OAC3C64C,EAAc7zC,UAAU3L,IAAIk/C,EAAW,cACvC,IAAIO,EAAiBvxD,SAASyY,cAAc,OAC5C84C,EAAe9zC,UAAU3L,IAAIk/C,EAAW,eACxC,IAAIxnD,EAAQrW,KAAKm/C,QAAQ/M,WACrBpyC,KAAKqU,QAAQumD,sBACbmD,EAAcv0C,MAAQ,IAAK/iB,QAAQ,mBACnC03D,EAAc14C,YAAYs4C,GAC1BA,EAAcjzC,iBAAiB,SAAS,WACpCtpB,EAAM68D,gBAGVr+D,KAAKqU,QAAQwmD,2BACbmD,EAAgBx0C,MAAQ,IAAK/iB,QAAQ,qBACrC03D,EAAc14C,YAAYu4C,GAC1BA,EAAgBlzC,iBAAiB,SAAS,WACtCtpB,EAAM88D,kBAGVt+D,KAAKqU,QAAQymD,sBACbmD,EAAez0C,MAAQ,IAAK/iB,QAAQ,oBACpC23D,EAAe34C,YAAYw4C,GAC3BA,EAAenzC,iBAAiB,SAAS,WACrC,IAEIjP,EAFA0iD,EAAe/8D,EAAM44D,MAAMh9B,iBAAiB,IAAM57B,EAAM4xB,UAAY,gBACpEorC,EAAW,GAEX/vB,EAAQjtC,EAAM29C,QAAQ9M,WAC1B5D,EAAMkP,iBAAiB,CACnBj0C,OAAQ+0D,KACR1qD,OAAQ,UAEZ,IAAK,IAAI3W,EAAI,EAAGA,EAAImhE,EAAar9D,OAAQ9D,IAAK,CAC1C,IAAIshE,EAAcH,EAAanhE,GACnBshE,EAAY5xD,qBAAqB,SAAS,GAC5CiwD,UACNlhD,EAAS6iD,EAAYv/B,aAAa,WAC9B9oB,EAAM0F,kBAAkBF,EAAQ,gBAChC2iD,EAASz4D,KAAK8V,IAI1B,IAAK,IAAIhb,EAAK,EAAG89D,EAAaH,EAAU39D,EAAK89D,EAAWz9D,OAAQL,IAAM,CAClE,IAAI+9D,EAAWD,EAAW99D,GAC1B4tC,EAAMmN,UAAU,CACZG,YAAa6iB,IAGrBnwB,EAAM2F,mBACF5yC,EAAM6S,QAAQinD,oBACd95D,EAAM88D,cAEV7vB,EAAMkP,iBAAiB,CACnBj0C,OAAQ+0D,KACR1qD,OAAQ,eAIhB/T,KAAKqU,QAAQ0mD,yBACbmD,EAAY10C,MAAQ,IAAK/iB,QAAQ,uBACjC23D,EAAe34C,YAAYy4C,GAC3BA,EAAYpzC,iBAAiB,SAAS,WAClC,IAEIjP,EAFA0iD,EAAe/8D,EAAM44D,MAAMh9B,iBAAiB,IAAM57B,EAAM4xB,UAAY,gBACpEorC,EAAW,GAEX/vB,EAAQjtC,EAAM29C,QAAQ9M,WAC1B5D,EAAMkP,iBAAiB,CACnBj0C,OAAQ+0D,KACR1qD,OAAQ,UAEZ,IAAK,IAAI3W,EAAI,EAAGA,EAAImhE,EAAar9D,OAAQ9D,IAAK,CAC1C,IAAIshE,EAAcH,EAAanhE,GACnBshE,EAAY5xD,qBAAqB,SAAS,GAC5CiwD,UACNlhD,EAAS6iD,EAAYv/B,aAAa,WAC9B9oB,EAAM0F,kBAAkBF,EAAQ,oBAChC2iD,EAASz4D,KAAK8V,IAI1B,IAAK,IAAIhb,EAAK,EAAGg+D,EAAaL,EAAU39D,EAAKg+D,EAAW39D,OAAQL,IAAM,CAClE,IAAIi+D,EAAWD,EAAWh+D,GAC1B4tC,EAAMqO,mBAAmB,CACrBf,YAAa+iB,IAGrBrwB,EAAM2F,mBACF5yC,EAAM6S,QAAQinD,oBACd95D,EAAM88D,cAEV7vB,EAAMkP,iBAAiB,CACnBj0C,OAAQ+0D,KACR1qD,OAAQ,eAIpB+pD,EAAer4C,YAAY04C,GAC3BL,EAAer4C,YAAY24C,GAC3Bp+D,KAAKo6D,MAAM30C,YAAYq4C,IAE3B5D,EAAcl7D,UAAUu+D,qBAAuB,SAAUhmD,GAErD,GADgBA,EAAK2vB,cAAc,eACrB61B,QACV,OAAO,EAEX,IACIgC,EADYxnD,EAAK2vB,cAAc,SACP83B,YAC5B,GAAIh/D,KAAKi/D,gBAAgBF,GACrB,OAAO,EAEX,IACIlhD,EADatG,EAAKyR,cAAcA,cAAcke,cAAc,IAAMlnC,KAAKozB,UAAY,gBACxD8T,cAAc,SAAS83B,YACtD,QAAIh/D,KAAKi/D,gBAAgBphD,IAK7Bq8C,EAAcl7D,UAAUigE,gBAAkB,SAAU5gE,GAChD,IAAI6gE,EAAal/D,KAAKs9D,eAAej/D,MACrC,MAAkB,IAAd6gE,IAE8B,GAA9Bl/D,KAAKqU,QAAQgnD,eAAsBh9D,EAAM+P,cAAc9C,QAAQ4zD,EAAW9wD,gBAAkB,GAE9D,GAA9BpO,KAAKqU,QAAQgnD,eAA+E,GAAzDh9D,EAAM+P,cAAc9C,QAAQ4zD,EAAW9wD,iBAIlF8rD,EAAcl7D,UAAUw7D,6BAA+B,WACnDx6D,KAAKs+D,cAIL,IAHA,IAGSz9D,EAAK,EAAGs+D,EAHLn/D,KAAKm/C,QAAQ9M,WACD/Y,aACnBta,QAAO,SAAUH,GAAO,OAAOA,EAAIzG,KAAK2B,MAAQ,IAAQ41B,mBACf9uC,EAAKs+D,EAAcj+D,OAAQL,IAAM,CAC3E,IAAI+hB,EAASu8C,EAAct+D,GACvBy7D,EAAWt8D,KAAK07D,gBACfx0B,cAAc,IAAMlnC,KAAKozB,UAAY,yBAA4BxQ,EAAOxK,KAAK/Z,MAAQ,MACtFw+D,EAAWP,EAASp1B,cAAc,iBACtC21B,EAASE,SAAU,EAEnB,IADA,IAAIqC,EAAc9C,EAAStzC,cACpBo2C,GACAA,EAAY90C,UACVib,SAASvlC,KAAKozB,UAAY,qBAAqB,CACpDgsC,EAAYjrB,QAAS,EACrB,IAAIkrB,EAAUD,EAAYp2C,cAC1B,IAAIq2C,GAAWD,IAAgBC,EAAQ/kC,kBAOnC,OANAuiC,EAAWwC,EAAQ/kC,kBACd4M,cAAc,kBACV61B,SAAU,EACnBqC,EAAcC,EAAQr2C,iBAQtCkxC,EAAcl7D,UAAU4+D,UAAY,WAChC,IAAK,IAAIxgE,EAAI,EAAGA,EAAI4C,KAAK07D,gBAAgBhF,WAAWx1D,OAAQ9D,IAGxD,IAFA,IACI2vC,EADQ/sC,KAAK07D,gBAAgBhF,WAAW,GACzBt5B,iBAAiB,IAAMp9B,KAAKozB,UAAY,oBAClD+gC,EAAI,EAAGA,EAAIpnB,EAAO7rC,OAAQizD,IAAK,CACzBpnB,EAAOonB,GACbhgB,QAAS,EAGtB,IAAImrB,EAAct/D,KAAK07D,gBAAgBt+B,iBAAiB,IAAMp9B,KAAKozB,UAAY,uBAC/E,IAASh2B,EAAI,EAAGA,EAAIkiE,EAAYp+D,OAAQ9D,IAAK,CAC9BkiE,EAAYliE,GAClBktB,UAAU3L,IAAI3e,KAAKozB,UAAY,8BAG5C8mC,EAAcl7D,UAAU2+D,YAAc,WAClC,IAAK,IAAIvgE,EAAI,EAAGA,EAAI4C,KAAK07D,gBAAgBhF,WAAWx1D,OAAQ9D,IAGxD,IAFA,IACI2vC,EADQ/sC,KAAK07D,gBAAgBhF,WAAW,GACzBt5B,iBAAiB,IAAMp9B,KAAKozB,UAAY,oBAClD+gC,EAAI,EAAGA,EAAIpnB,EAAO7rC,OAAQizD,IAAK,CACzBpnB,EAAOonB,GACbhgB,QAAS,EAGtB,IAAImrB,EAAct/D,KAAK07D,gBAAgBt+B,iBAAiB,IAAMp9B,KAAKozB,UAAY,uBAC/E,IAASh2B,EAAI,EAAGA,EAAIkiE,EAAYp+D,OAAQ9D,IAAK,CAC9BkiE,EAAYliE,GAClBktB,UAAUE,OAAOxqB,KAAKozB,UAAY,8BAG/C8mC,EAAcl7D,UAAUq/D,UAAY,WAEhC,IADA,IAAIkB,EAASv/D,KAAK47D,gBAAgBx+B,iBAAiB,SAC1ChgC,EAAI,EAAGA,EAAImiE,EAAOr+D,OAAQ9D,IAAK,CACxBmiE,EAAOniE,GACb2/D,SAAU,IAGxB7C,EAAcl7D,UAAUs/D,YAAc,WAElC,IADA,IAAIiB,EAASv/D,KAAK47D,gBAAgBx+B,iBAAiB,SAC1ChgC,EAAI,EAAGA,EAAImiE,EAAOr+D,OAAQ9D,IAAK,CACxBmiE,EAAOniE,GACb2/D,SAAU,IAGxB7C,EAAcl7D,UAAUs7D,oBAAsB,WAC1Ct6D,KAAK06D,cAAgB7tD,SAASyY,cAAc,OAC5CtlB,KAAK06D,cAAcpwC,UAAU3L,IAAI,IAAc,kBAC/C3e,KAAK06D,cAAcpwC,UAAU3L,IAAI,IAAaozC,qBAC9C/xD,KAAK06D,cAAcpvC,UAAY,wVAEnC4uC,EAAcl7D,UAAUme,MAAQ,WAC5Bnd,KAAKo6D,MAAM9uC,UAAY,IAEpB4uC,EArlBuB,CAslBhC,KEvmBE,EAA2B,WAC3B,SAASsF,EAAUnrD,GACfrU,KAAKy/D,iBAAkB,EACvBz/D,KAAK0/D,cAAe,EAEpB1/D,KAAK2/D,WAAatrD,EAAQurD,MAAQ,KAClC5/D,KAAK6/D,YAAcxrD,EAAQ0B,QAAU,KACrC/V,KAAKgpB,cAAgB3U,EAAQid,WAAazkB,SAASD,KACnD5M,KAAK8/D,WAAazrD,EAAQyrD,YAAc,EACxC9/D,KAAK+/D,SAAW,KAChB//D,KAAKggE,gBAAkB3rD,EAAQ2rD,kBAAmB,EAClDhgE,KAAKigE,OAAS5rD,EAAQ4rD,QAAU,GAChCjgE,KAAKkgE,qBAAuB7rD,EAAQ6rD,sBAAwB,KAE5DlgE,KAAKmgE,UAAY,CAAEn1D,GAAI,KAAMsP,KAAM,KAAM8lD,QAAS,MAClDpgE,KAAKuc,MAAQlI,EAAQkI,OAAS,GAC9Bvc,KAAKqgE,WAAa,KAClBrgE,KAAKsgE,aAAe,KACpBtgE,KAAKugE,aAAc,EACnBvgE,KAAK0/D,aAAerrD,EAAQqrD,aAC5B1/D,KAAKwgE,QAAU,EACfxgE,KAAKygE,gBAg8BT,OA97BA3iE,OAAOC,eAAeyhE,EAAUxgE,UAAW,YAAa,CACpDf,IAAK,WACD,MAAO,aAEXD,YAAY,EACZ0gB,cAAc,IAElB8gD,EAAUxgE,UAAU+f,SAAW,WAC3B,OAAO/e,KAAKuc,OAEhBijD,EAAUxgE,UAAU0hE,SAAW,SAAUnkD,GACrCvc,KAAKuc,MAAQA,GAEjBijD,EAAUxgE,UAAUyhE,cAAgB,WAChC,IAAIj/D,EAAQxB,KACZ,GAAKA,KAAKuc,MAAV,CAGA,IAEIokD,EAAc3gE,KAAK2/D,WAAW/5C,MAAMg7C,OAAOC,MAAQ,QACnDC,EAAc9gE,KAAK2/D,WAAW/5C,MAAMg7C,OAAOG,MAAQ,QAEnDC,GADkBhhE,KAAK2/D,WAAW/5C,MAAMg7C,OAAOK,OAC9BjhE,KAAK2/D,WAAW/5C,MAAMs7C,UAAUC,YAAc,IAC/DC,EAAephE,KAAK2/D,WAAW/5C,MAAMs7C,UAAUG,UAAY,OAC3DC,EAActhE,KAAK2/D,WAAWtrD,QAAQitD,YACtCC,EAAavhE,KAAK2/D,WAAWtrD,QAAQktD,WAErCC,EAAiB,YAAM,OACtBr3C,SAAS,IAAa4nC,qBACvB/xD,KAAK2/D,WAAWtrD,QAAQotD,kBACxBD,EACKx3C,SAAS,kBAAmB22C,GAC5B32C,SAAS,SAAU,aACnBA,SAAS,cAAe22C,GACxB32C,SAAS,kBAAmBhqB,KAAK2/D,WAAW/5C,MAAMg7C,OAAOc,QACzD13C,SAAS,SAAU,qBACnBA,SAAS,QAAS,QAClBA,SAAS,SAAU,QAE5Bw3C,EACKx3C,SAAS,UAAWhqB,KAAK2/D,WAAWgC,QACpC33C,SAAS,WAAY,YACrBA,SAAS,UAAW,QACzB,IAAI43C,EAAUJ,EAAe11C,QAC7B81C,EAAmB,UAAI5hE,KACvB,IAAImgE,EAAYngE,KAAKmgE,UAErB,GAAImB,GAAmC,IAApBthE,KAAK8/D,WAAkB,CACtC,IAAI+B,EAAWh1D,SAASyY,cAAc,OACtCu8C,EAASv3C,UAAU3L,IAAI3e,KAAKozB,UAAY,aACxCyuC,EAAmB,SAAI1B,EACvBngE,KAAK8hE,SAAWj1D,SAASyY,cAAc,UACnCtlB,KAAK2/D,WAAWtrD,QAAQotD,mBACxBI,EAASj8C,MAAMm8C,aAAe,YAC9BF,EAASj8C,MAAMo8C,QAAU,MACzBH,EAASj8C,MAAM8C,aAAe,MAC9B1oB,KAAK8hE,SAASl8C,MAAMo8C,QAAU,QAC9BhiE,KAAK8hE,SAASl8C,MAAM6M,OAAS,WAEjC,IAAIwvC,EAAgBp1D,SAAS+e,eAAe5rB,KAAK2/D,WAAWtrD,QAAQ6tD,QAAQ/6B,QAC5EnnC,KAAK8hE,SAASr8C,YAAYw8C,GAC1BJ,EAASp8C,YAAYzlB,KAAK8hE,UAE1B,IAAIK,EAAYt1D,SAASyY,cAAc,UACvC68C,EAAU73C,UAAU3L,IAAI3e,KAAKozB,UAAY,WACrCpzB,KAAK2/D,WAAWtrD,QAAQotD,mBACxBU,EAAUv8C,MAAMo8C,QAAU,QAC1BG,EAAUv8C,MAAM6M,OAAS,UACzB0vC,EAAUv8C,MAAMw8C,WAAa,QAEjC,IAAIC,EAAax1D,SAAS+e,eAAe5rB,KAAK2/D,WAAWtrD,QAAQ6tD,QAAQ7/B,QACzE8/B,EAAU18C,YAAY48C,GACtBR,EAASp8C,YAAY08C,GACrBP,EAAQn8C,YAAYo8C,GACpB1B,EAAUC,QAAUyB,EACpB7hE,KAAK8hE,SAASh3C,iBAAiB,SAAS,WACpCtpB,EAAM2lC,OAAO3lC,EAAM2+D,cAEvBgC,EAAUr3C,iBAAiB,SAAS,WAChCtpB,EAAMm+D,WAAW2C,cAKzB,GAAwB,MAApBtiE,KAAK6/D,cACD7/D,KAAK2/D,WAAWtrD,QAAQkuD,sBAAwBviE,KAAKuc,MAAMrb,QAAUlB,KAAK2/D,WAAWtrD,QAAQilD,oBAAqB,CACtH,IAAIkJ,EAAmB,YAAM,OACxBr4C,SAASnqB,KAAKozB,UAAY,cAC3BpzB,KAAK2/D,WAAWtrD,QAAQotD,mBACxBe,EACKx4C,SAAS,gBAAiB,kBAC1BA,SAAS,mBAAoB22C,GAC7B32C,SAAS,eAAgBhqB,KAAK2/D,WAAW/5C,MAAMg7C,OAAOc,QACrC,IAAlBV,GACAwB,EAAiBx4C,SAAS,cAAeg3C,GAE7CwB,EACKx4C,SAAS,YAAao3C,GACtBp3C,SAAS,QAAS82C,GAClB92C,SAAS,SAAU,WACnBA,SAAS,aAAc,QACvBA,SAAS,UAAW,QAE7B,IAAIy4C,EAAuB,YAAM,SAC5Bz3D,GAAG,aACHrN,KAAK,aACL2gB,KAAK,QACL5G,KAAK,IACLyS,SAASnqB,KAAKozB,UAAY,cAC1BzI,GAAG,SAAS,SAAUyE,GACvB5tB,EAAMkhE,eAAelhE,EAAM6+D,YAC3B7+D,EAAMmhE,YAAYnhE,EAAMohE,UAAUvkE,UAEjCssB,GAAG,WAAW,SAAUyE,GAEzB,OADcA,EAAGrC,SAEb,KAAK,GACGvrB,EAAM6+D,YACN7+D,EAAM6+D,WAAWD,QAAQ3d,QAE7B,MACJ,KAAK,GACDjhD,EAAMqhE,mBACN,MACJ,KAAK,GACDrhE,EAAMshE,qBACN,MACJ,KAAK,GACIthE,EAAMohE,UAAUvkE,OACjBmD,EAAMuhE,aAAavhE,EAAM6+D,gBAKrCrgE,KAAK2/D,WAAWtrD,QAAQotD,kBACxBgB,EACKz4C,SAAS,cAAe,aACxBA,SAAS,YAAa,OACtBA,SAAS,QAAS,QAEvBu3C,GACAkB,EAAqBt4C,SAAS,aAElCnqB,KAAK4iE,UAAYH,EAAqB32C,QACtC9rB,KAAKgjE,UAAYR,EAAiB12C,QAClC9rB,KAAKgjE,UAAUv9C,YAAYzlB,KAAK4iE,WAChChB,EAAQn8C,YAAYzlB,KAAKgjE,WAE7B,IAAIC,EAAYp2D,SAASyY,cAAc,OACvC29C,EAAUC,SAAW,EACrB,YAAMD,GACD94C,SAASnqB,KAAKozB,UAAY,cAC1BjJ,SAAS,IAAa4nC,qBAC3BkR,EAAUr9C,MAAMu9C,UAAY,SAC5BF,EAAUr9C,MAAMw9C,UAAY,OAC5BH,EAAUr9C,MAAM6B,SAAW,WAC3Bm6C,EAAQn8C,YAAYw9C,GACpBjjE,KAAK+/D,SAAW6B,EAChB5hE,KAAKijE,UAAYA,EACbjjE,KAAKigE,SACLjgE,KAAK+/D,SAAS/0D,GAAKhL,KAAKigE,QAE5BjgE,KAAK2iE,cAqCLM,EAAUn4C,iBAAiB,WApCG,SAAU9G,GACpC,OAAQA,EAAMq/C,OACV,KAAK,GACG7hE,EAAMm+D,WAAWtrD,QAAQitD,YACzB9/D,EAAMm+D,WAAW2D,eAAexB,SAASrf,QAGrCjhD,EAAM6+D,YACN7+D,EAAM6+D,WAAWD,QAAQ3d,QAGjC,MACJ,KAAK,GACGjhD,EAAM6+D,YACN7+D,EAAM6+D,WAAWD,QAAQ3d,QAE7B,MACJ,KAAK,GACGjhD,EAAMq+D,cAAgBr+D,EAAMi+D,kBAC5Bj+D,EAAMkhE,eAAelhE,EAAM6+D,YAC3B7+D,EAAMq+D,YAAYzgC,SAEtB,MACJ,KAAK,GACD59B,EAAMuhE,aAAavhE,EAAM6+D,YACzB,MACJ,KAAK,GACD7+D,EAAMqhE,mBACN,MACJ,KAAK,GACDrhE,EAAMshE,qBACN,MACJ,QAAS,OAEb9+C,EAAMgJ,oBAGN,IAAa0kC,iBACb1xD,KAAKujE,SACD,YAAM,MAAO3B,GACRz3C,SAAS,uBACTuB,QAAQ,IAAKjlB,QAAQ,gBACrBkkB,GAAG,SAAS,WACbnpB,EAAMm+D,WAAW2C,cAEhBx2C,WAGjB0zC,EAAUxgE,UAAU8jE,mBAAqB,WACrC,IAAIvmD,EAAQvc,KAAKy/D,gBAAkBz/D,KAAKwjE,cAAgBxjE,KAAKuc,MAC7D,GAAIvc,KAAKqgE,WAAY,CACjB,IAAIn1D,EAAMqR,EAAMjR,QAAQtL,KAAKqgE,YACzBn1D,EAAMqR,EAAMrb,OAAS,GACrBlB,KAAKyjE,aAAalnD,EAAMrR,EAAM,IAAI,QAItClL,KAAKyjE,aAAalnD,EAAM,IAAI,IAGpCijD,EAAUxgE,UAAU6jE,iBAAmB,WACnC,IAAItmD,EAAQvc,KAAKy/D,gBAAkBz/D,KAAKwjE,cAAgBxjE,KAAKuc,MAC7D,GAAIvc,KAAKqgE,WAAY,CACjB,IAAIn1D,EAAMqR,EAAMjR,QAAQtL,KAAKqgE,YACzBn1D,EAAM,GACNlL,KAAKyjE,aAAalnD,EAAMrR,EAAM,IAAI,QAItClL,KAAKyjE,aAAalnD,EAAMA,EAAMrb,OAAS,IAAI,IAGnDs+D,EAAUxgE,UAAU+jE,aAAe,SAAUW,GACrCA,GAAYA,EAASnnD,QAAUvc,KAAKy/D,kBACpCz/D,KAAK2jE,aAAaD,GAClBA,EAASE,SAASH,aAAaC,EAASE,SAASrnD,MAAM,MAG/DijD,EAAUxgE,UAAU6kE,eAAiB,WACjC7jE,KAAKijE,UAAU7jC,SAEnBogC,EAAUxgE,UAAU8kE,eAAiB,SAAUvnD,GAE3C,IAAK,IAAInf,EAAI,EAAGA,EAAImf,EAAMrb,OAAQ9D,IAAK,CACnC,IAAImM,EAAOgT,EAAMnf,GACbmM,EAAKw6D,eACLx6D,EAAKw6D,aAAahH,QAAU/8D,KAAKgkE,eAAez6D,IAChDA,EAAKgT,OACLvc,KAAK8jE,eAAev6D,EAAKgT,SAIrCijD,EAAUxgE,UAAUglE,eAAiB,SAAUz6D,GAC3C,GAAIA,EAAKgT,MAAO,CACZ,IAAK,IAAInf,EAAI,EAAGA,EAAImM,EAAKgT,MAAMrb,OAAQ9D,IACnC,GAAI4C,KAAKgkE,eAAez6D,EAAKgT,MAAMnf,IAC/B,OAAO,EAGf,OAAO,EAGP,OAAOmM,EAAKukB,UAGpB0xC,EAAUxgE,UAAUilE,gBAAkB,SAAU16D,EAAMlL,GAClD,GAAIkL,EAAKgT,MACL,IAAK,IAAInf,EAAI,EAAGA,EAAImM,EAAKgT,MAAMrb,OAAQ9D,IACnC4C,KAAKikE,gBAAgB16D,EAAKgT,MAAMnf,GAAIiB,QAIxCkL,EAAKukB,SAAWzvB,GAGxBmhE,EAAUxgE,UAAUklE,YAAc,SAAU3nD,EAAO4nD,GAC/C,IAAK,IAAIhQ,EAAI,EAAGA,EAAI53C,EAAMrb,OAAQizD,IAC1B53C,EAAM43C,GAAG53C,MACTvc,KAAKkkE,YAAY3nD,EAAM43C,GAAG53C,MAAO4nD,GAG7B5nD,EAAM43C,GAAGrmC,UACTq2C,EAAcp+D,KAAKwW,EAAM43C,KAKzCqL,EAAUxgE,UAAUolE,uBAAyB,SAAU7nD,EAAO8nD,GAC1D,IAAK,IAAIjnE,EAAI,EAAGA,EAAImf,EAAMrb,OAAQ9D,IAC9B,GAAIinE,EAAe9nD,EAAMnf,IACrB,OAAO,EAEf,OAAO,GAEXoiE,EAAUxgE,UAAUslE,UAAY,SAAUj/C,GACtC,QAAOA,EAAkB,UAE7Bm6C,EAAUxgE,UAAUulE,WAAa,SAAUl/C,GACvC,QAAOA,EAAmB,WAE9Bm6C,EAAUxgE,UAAUwlE,YAAc,SAAUn/C,GAExC,IADA,IAAIuH,EAAKvH,GACDrlB,KAAKskE,UAAU13C,IAAK,CACxB,GAAI5sB,KAAKukE,WAAW33C,GAChB,KAAM,sBAEVA,EAAKA,EAAG5D,cAEZ,OAAO4D,EAAa,UAExB4yC,EAAUxgE,UAAUylE,yBAA2B,WAC3C,IAAIjjE,EAAQxB,KACZA,KAAKy/D,iBAAkB,EACvB,IAAIwD,EAAYjjE,KAAKijE,UACjB3B,EAActhE,KAAK2/D,WAAWtrD,QAAQitD,YACtC/H,EAAsBv5D,KAAK2/D,WAAWtrD,QAAQklD,oBAC9CuH,EAAc9gE,KAAK2/D,WAAW/5C,MAAMg7C,OAAOG,MAAQ,QAEnDK,GADkBphE,KAAK2/D,WAAW/5C,MAAMg7C,OAAOK,OAChCjhE,KAAK2/D,WAAW/5C,MAAMs7C,UAAUG,UAAY,QAC3DqD,EAAqB1kE,KAAK2/D,WAAWgF,wBACzC1B,EAAU33C,UAAY,GACtB,IAAK,IAAIluB,EAAI,EAAGA,EAAI4C,KAAKuc,MAAMrb,OAAQ9D,IAAK,CACxC,IAAImM,EAAOvJ,KAAKuc,MAAMnf,GACtB,GAAKmM,GAASA,EAAK+Q,KAAnB,CAEA,GAAIoqD,EAAoB,CACpB,IAAKA,EAAmBn7D,GACpB,SACJ,GAAIA,EAAKgT,OAASvc,KAAKokE,uBAAuB76D,EAAKgT,MAAOmoD,GACtD,SAERn7D,EAAKlJ,KAAO,SAAU8N,GAClB,OAAO3M,EAAM2M,SAEa,IAAlB5E,EAAa,WACrBA,EAAKukB,UAAW,GAEhBvkB,EAAKukB,UAAiC,MAArB9tB,KAAKsgE,eACtBtgE,KAAKsgE,aAAe/2D,GAExB,IAAI62D,EAAUvzD,SAASyY,cAAc,OAsBrC,GArBA,YAAM86C,GACDj2C,SAASnqB,KAAKozB,UAAY,YAC1BjJ,SAAS,IAAa4nC,qBACvBxoD,EAAKukB,UAAY9tB,KAAK0/D,eAAiB4B,GACvClB,EAAQ91C,UAAU3L,IAAI3e,KAAKozB,UAAY,aAGvCpzB,KAAKggE,iBAAmBhgE,KAAKigE,SAC7BG,EAAQp1D,GAAK,QAAUhL,KAAKigE,OAAS,IAAM12D,EAAKyB,IAEpDi4D,EAAUx9C,YAAY26C,GACtBA,EAAkB,SAAI72D,EACtB62D,EAAmB,UAAIpgE,KACvBuJ,EAAK62D,QAAUA,EACXpgE,KAAK2/D,WAAWtrD,QAAQotD,mBACxBrB,EAAQx6C,MAAMy7C,SAAWD,EACzBhB,EAAQx6C,MAAMg/C,MAAQ9D,EACtBV,EAAQx6C,MAAMi/C,YAAc,OAC5BzE,EAAQx6C,MAAMk/C,aAAe,MAC7B1E,EAAQx6C,MAAM6M,OAAS,WAEV,OAAblpB,EAAK+Q,KACL8lD,EAAQ36C,YAAY5Y,SAASyY,cAAc,WAE1C,CACD,GAAIg8C,EAAa,CACb,IAAIyD,EAAKl4D,SAASyY,cAAc,SAChCy/C,EAAGzmD,KAAO,WACVymD,EAAG/5D,GAAK,KAAOzB,EAAKyB,GACpB+5D,EAAGhI,QAAU/8D,KAAKgkE,eAAez6D,GACjCw7D,EAAGC,eAAiBhlE,KAAKgkE,eAAez6D,GACxC62D,EAAQ36C,YAAYs/C,GACpBx7D,EAAKw6D,aAAegB,EAChB/kE,KAAK2/D,WAAWtrD,QAAQotD,mBACxBsD,EAAGn/C,MAAMq/C,OAAS,eAClBF,EAAGn/C,MAAMs/C,cAAgB,OAGjC,IAAIC,EAAWt4D,SAAS+e,eAAeriB,EAAK+Q,MAE5C,GADA8lD,EAAQ36C,YAAY0/C,GAChB57D,EAAKgT,OAAShT,EAAKgT,MAAMrb,OAAS,EAAG,CACrCk/D,EAAQ91C,UAAU3L,IAAI3e,KAAKozB,UAAY,wBACvC,IAAIgyC,EAAYv4D,SAASyY,cAAc,QACvC8/C,EAAU96C,UAAU3L,IAAI3e,KAAKozB,UAAY,kBACzCgtC,EAAQ36C,YAAY2/C,GACpB,IAAIC,EAAYx4D,SAAS+e,eAAe,KACxCw5C,EAAU3/C,YAAY4/C,GAE1B,IAAIC,EAAmB,SAAUl2C,GAC7B,IAAIs0C,EAAWliE,EAAMgjE,YAAYp1C,EAAG3lB,QACpC,GAAI63D,EACA,GAAKoC,EAASnnD,OAAS6S,EAAG3lB,QAAUi6D,EAASK,aAOzCviE,EAAMiiE,aAAaC,OAPoC,CACvD,IAAI6B,EAAe/jE,EAAMwiE,eAAeN,GACxCliE,EAAMyiE,gBAAgBP,GAAW6B,GACjC7B,EAASK,aAAahH,SAAWwI,EACjC/jE,EAAMm+D,WAAW6F,yBAOrBhkE,EAAMiiE,aAAaC,GACnBliE,EAAM2lC,OAAOu8B,GAEjB,OAAO,GAEXtD,EAAQp1C,oBAAoB,QAASs6C,GACrClF,EAAQt1C,iBAAiB,QAASw6C,GAClClF,EAAQt1C,iBAAiB,cAAc,SAAUsE,GAC7C,IAAI7lB,EAAO/H,EAAMgjE,YAAYp1C,EAAG3lB,QAChCjI,EAAMm+D,WAAW8F,gBAAiB,EAC9BlM,GACA/3D,EAAMiiE,aAAal6D,MAG3B62D,EAAQt1C,iBAAiB,cAAc,SAAUsE,GAC7C,IAAI7lB,EAAO/H,EAAMgjE,YAAYp1C,EAAG3lB,QAChCjI,EAAMm+D,WAAW8F,gBAAiB,EAClC7gD,YAAW,WACFpjB,EAAMm+D,WAAW8F,gBACdlM,GAAuBhwD,GAAQ/H,EAAM6+D,aAAe92D,EAAKq6D,UACzDpiE,EAAMkhE,eAAen5D,KAG9B,QAGPvJ,KAAKkgE,sBACLlgE,KAAKkgE,qBAAqBlgE,KAAKigE,OAAQG,MAInDZ,EAAUxgE,UAAU0mE,sBAAwB,SAAU1mD,GAClDhf,KAAKy/D,iBAAkB,EACPz/D,KAAKijE,UACX33C,UAAY,GACtB,IAAIq6C,EAAiB3mD,EAAO/d,MAAM,KAC9B2kE,EAAkBD,EAAe/jE,KAAI,SAAUikE,GAAW,OAAOA,EAAQhgE,QAAQ,MAAO,OACxF0W,EAAQvc,KAAK8lE,YAAY9lE,KAAKuc,MAAOopD,GACzC3lE,KAAKwjE,cAAgB,GACrB,IAAK,IAAIpmE,EAAI,EAAGA,EAAImf,EAAMrb,OAAQ9D,IAC9B4C,KAAK+lE,qBAAqBxpD,EAAMnf,GAAIwoE,EAAiB,IAG7DpG,EAAUxgE,UAAUgnE,cAAgB,SAAU1rD,EAAM2rD,GAChD,OAAI3rD,IAAQ2rD,GACDA,EAAO72D,KAAKkL,IAM3BklD,EAAUxgE,UAAU8mE,YAAc,SAAUvpD,EAAOopD,GAK/C,IAJA,IAAIO,EAAc,GACdlnD,EAAS2mD,EAAezkE,OAAS,EAAIykE,EAAe,GAAK,GACzDQ,EAAqBR,EAAezkE,OAAS,EAAIykE,EAAe/jD,MAAM,GAAK+jD,EAC3ES,EAAepnD,EAAS,IAAId,OAAOc,EAAOnZ,QAAQ,MAAO,OAAQ,KAAO,KACnEzI,EAAI,EAAGA,EAAImf,EAAMrb,OAAQ9D,IAAK,CACnC,IAAImM,EAAOgT,EAAMnf,GACjB,GAAImM,EAAKgT,MAAO,CACZ,IAAI8pD,EAAY,IAAU78D,OAAO,GAAID,GACjC+8D,EAAmBtmE,KAAKgmE,cAAcz8D,EAAK+Q,KAAM8rD,GAEjDT,EAAezkE,OAAS,EAEpBolE,GAAoBX,EAAezkE,OAAS,EAC5CmlE,EAAU9pD,MAAQ,IAAUnT,gBAAgBG,EAAKgT,OAGjD8pD,EAAU9pD,MAAQvc,KAAK8lE,YAAYv8D,EAAKgT,MAAO4pD,GAKnDE,EAAU9pD,MADL+pD,EACatmE,KAAK8lE,YAAYv8D,EAAKgT,MAAO4pD,GAI7B,GAElBE,EAAU9pD,MAAMrb,OAAS,GACzBglE,EAAYngE,KAAKsgE,QAIjBrmE,KAAKgmE,cAAcz8D,EAAK+Q,KAAM8rD,IAC9BF,EAAYngE,KAAKwD,GAI7B,OAAO28D,GAEX1G,EAAUxgE,UAAU+mE,qBAAuB,SAAUx8D,EAAMg9D,EAAa1pC,GACpE,IAAIr7B,EAAQxB,KACRijE,EAAYjjE,KAAKijE,UACjBuD,EAAkB3pC,EAAQ0pC,EAAYrlE,OAASqlE,EAAY1pC,GAAS0pC,EAAYA,EAAYrlE,OAAS,GACrGogE,EAActhE,KAAK2/D,WAAWtrD,QAAQitD,YACtC/H,EAAsBv5D,KAAK2/D,WAAWtrD,QAAQklD,oBAC9CuH,EAAc9gE,KAAK2/D,WAAW/5C,MAAMg7C,OAAOG,MAAQ,QAEnDK,GADkBphE,KAAK2/D,WAAW/5C,MAAMg7C,OAAOK,OAChCjhE,KAAK2/D,WAAW/5C,MAAMs7C,UAAUG,UAAY,QAC3DqD,EAAqB1kE,KAAK2/D,WAAWgF,wBACzC,GAAKp7D,GAASA,EAAK+Q,KAAnB,CAEA,GAAIoqD,EAAoB,CACpB,IAAKA,EAAmBn7D,GACpB,OACJ,GAAIA,EAAKgT,OAASvc,KAAKokE,uBAAuB76D,EAAKgT,MAAOmoD,GACtD,OAERn7D,EAAKlJ,KAAO,SAAU8N,GAClB,OAAOnO,KAAKmO,SAEc,IAAlB5E,EAAa,WACrBA,EAAKukB,UAAW,GAEhBvkB,EAAKukB,UAAiC,MAArB9tB,KAAKsgE,eACtBtgE,KAAKsgE,aAAe/2D,GAExB,IAAI62D,EAAUvzD,SAASyY,cAAc,OAuBrC,GAtBA,YAAM86C,GACDj2C,SAASnqB,KAAKozB,UAAY,YAC1BjJ,SAAS,IAAa4nC,qBAC3BqO,EAAQx6C,MAAMw8C,WAAqB,GAARvlC,EAAa,KACpCtzB,EAAKukB,WAAawzC,GAClBlB,EAAQ91C,UAAU3L,IAAI3e,KAAKozB,UAAY,aAGvCpzB,KAAKggE,iBAAmBhgE,KAAKigE,SAC7BG,EAAQp1D,GAAK,QAAUhL,KAAKigE,OAAS,IAAM12D,EAAKyB,IAEpDi4D,EAAUx9C,YAAY26C,GACtBA,EAAkB,SAAI72D,EACtB62D,EAAmB,UAAIpgE,KACvBuJ,EAAK62D,QAAUA,EACXpgE,KAAK2/D,WAAWtrD,QAAQotD,mBACxBrB,EAAQx6C,MAAMy7C,SAAWD,EACzBhB,EAAQx6C,MAAMg/C,MAAQ9D,EACtBV,EAAQx6C,MAAMi/C,YAAc,OAC5BzE,EAAQx6C,MAAMk/C,aAAe,MAC7B1E,EAAQx6C,MAAM6M,OAAS,WAEV,OAAblpB,EAAK+Q,KACL8lD,EAAQ36C,YAAY5Y,SAASyY,cAAc,WAE1C,CACD,GAAIg8C,EAAa,CACb,IAAIyD,EAAKl4D,SAASyY,cAAc,SAChCy/C,EAAGzmD,KAAO,WACVymD,EAAG/5D,GAAK,KAAOzB,EAAKyB,GACpB+5D,EAAGhI,QAAU/8D,KAAKgkE,eAAez6D,GACjCw7D,EAAGC,eAAiBhlE,KAAKgkE,eAAez6D,GACxC62D,EAAQ36C,YAAYs/C,GACpBx7D,EAAKw6D,aAAegB,EAChB/kE,KAAK2/D,WAAWtrD,QAAQotD,mBACxBsD,EAAGn/C,MAAMq/C,OAAS,eAClBF,EAAGn/C,MAAMs/C,cAAgB,OAGjC,IAAIC,EAAWt4D,SAASyY,cAAc,QAGtC,GAFA6/C,EAAS75C,UAAYtrB,KAAKymE,cAAcl9D,EAAK+Q,KAAMksD,GACnDpG,EAAQ36C,YAAY0/C,GAChB57D,EAAKgT,OAAShT,EAAKgT,MAAMrb,OAAS,EAClCk/D,EAAQ91C,UAAU3L,IAAI3e,KAAKozB,UAAY,mCAEtC,CACDpzB,KAAKwjE,cAAcz9D,KAAKwD,GACxB,IAAI+7D,EAAmB,SAAUthD,GAC7B,GAAIs9C,EACA,GAAK/3D,EAAKgT,OAASyH,EAAMva,QAAUF,EAAKw6D,aAOpCviE,EAAMiiE,aAAal6D,OAP+B,CAClD,IAAIg8D,EAAe/jE,EAAMwiE,eAAez6D,GACxC/H,EAAMyiE,gBAAgB16D,GAAOg8D,GAC7Bh8D,EAAKw6D,aAAahH,SAAWwI,EAC7B/jE,EAAMm+D,WAAW6F,yBAOrBhkE,EAAMiiE,aAAal6D,GACnB/H,EAAM2lC,OAAO59B,GAEjB,OAAO,GAEX62D,EAAQp1C,oBAAoB,QAASs6C,GACrClF,EAAQt1C,iBAAiB,QAASw6C,GAClClF,EAAQt1C,iBAAiB,cAAc,SAAUsE,GAE7C5tB,EAAMm+D,WAAW8F,gBAAiB,EAC9BlM,GACA/3D,EAAMiiE,aAAal6D,MAG3B62D,EAAQt1C,iBAAiB,cAAc,SAAUsE,GAC7C5tB,EAAMm+D,WAAW8F,gBAAiB,EAClC7gD,YAAW,WACFpjB,EAAMm+D,WAAW8F,gBACdlM,GAAuBhwD,GAAQ/H,EAAM6+D,aAAe92D,EAAKq6D,UACzDpiE,EAAMkhE,eAAen5D,KAG9B,SAIf,GAAIA,EAAKgT,MACL,IAAK,IAAInf,EAAI,EAAGA,EAAImM,EAAKgT,MAAMrb,OAAQ9D,IACnC4C,KAAK+lE,qBAAqBx8D,EAAKgT,MAAMnf,GAAImpE,EAAa1pC,EAAQ,GAGlE78B,KAAKkgE,sBACLlgE,KAAKkgE,qBAAqBlgE,KAAKigE,OAAQG,KAG/CZ,EAAUxgE,UAAUynE,cAAgB,SAAUzgC,EAAS1rB,GACnD,GAAIA,GAAQA,EAAKpZ,OAAS,EAAG,CACzB,IAAIwlE,EAAYpsD,EAAKlM,cACjBu4D,EAAe3gC,EAAQ53B,cAI3B,GADiBu4D,EAAar7D,QAAQo7D,IACpB,EAAG,CAIjB,IAHA,IAAI/zC,EAAM,EACNt0B,EAAQ2nC,EACR4gC,EAAa,KACJ,CACT,IAAI/6D,EAAQ86D,EAAar7D,QAAQo7D,EAAW/zC,GAQ5C,GAPI9mB,GAAS,GACT+6D,EAAW7gE,KAAK8F,GAChB8mB,EAAM9mB,EAAQyO,EAAKpZ,QAGnByxB,IAEAA,GAAOt0B,EAAM6C,OAAS,EACtB,MAGR,GAAI0lE,EAAW1lE,OAAS,EAAG,CACvB8kC,EAAU,GACV,IAAK,IAAI5oC,EAAI,EAAGA,EAAIwpE,EAAW1lE,OAAQ9D,IACzB,IAANA,IACA4oC,GAAW3nC,EAAMoc,UAAU,EAAGmsD,EAAWxpE,KAE7C4oC,GA1BO,6CA0BmB3nC,EAAMoc,UAAUmsD,EAAWxpE,GAAIwpE,EAAWxpE,GAAKkd,EAAKpZ,QAzBvE,UA0BH9D,EAAIwpE,EAAW1lE,OAAS,EACxB8kC,GAAW3nC,EAAMoc,UAAUmsD,EAAWxpE,GAAKkd,EAAKpZ,OAAQ0lE,EAAWxpE,EAAI,IAGvE4oC,GAAW3nC,EAAMoc,UAAUmsD,EAAWxpE,GAAKkd,EAAKpZ,UAMpE,OAAO8kC,GAEXw5B,EAAUxgE,UAAU2jE,YAAc,SAAU3jD,GACnCA,GAAW,IAAa0yC,gBAIzB1yC,EAASA,GAAU,GACnBhf,KAAK0lE,sBAAsB1mD,EAAO5Q,gBAJlCpO,KAAKykE,4BAObjF,EAAUxgE,UAAUykE,aAAe,SAAUC,EAAUX,QAC9B,IAAjBA,IAA2BA,GAAe,GACvB,MAAnB/iE,KAAKqgE,YACLrgE,KAAK0iE,eAAe1iE,KAAKqgE,YAE7BrgE,KAAKqgE,WAAaqD,EAClB,IAAIvwC,EAAauwC,EAAStD,QAE1B,GADAjtC,EAAW7I,UAAU3L,IAAI,UACrB3e,KAAK2/D,WAAWtrD,QAAQotD,iBAAkB,CACxBzhE,KAAK2/D,WAAW/5C,MAAMg7C,OAAOC,KAC7B7gE,KAAK2/D,WAAW/5C,MAAMg7C,OAAOG,KAD/C,IAEI8F,EAAkB7mE,KAAK2/D,WAAW/5C,MAAMg7C,OAAOK,OAC/C6F,EAAkB9mE,KAAK2/D,WAAW/5C,MAAMg7C,OAAOmG,QAAU,GAC7C/mE,KAAK2/D,WAAW/5C,MAAMohD,UAEjB,KADDhnE,KAAK2/D,WAAW/5C,MAAMqhD,eAAiB,KAEvD9zC,EAAWvN,MAAMshD,gBAAkB,GACnC/zC,EAAWvN,MAAMg/C,MAAQ,KAGzBzxC,EAAWvN,MAAMshD,gBAAkBL,EACnC1zC,EAAWvN,MAAMg/C,MAAQkC,GAG7BpD,EAASnnD,QAAUvc,KAAKy/D,iBAAmBsD,GAC3C/iE,KAAK2jE,aAAaD,IAG1BlE,EAAUxgE,UAAU0jE,eAAiB,SAAUgB,GAC3C,GAAKA,EAAL,CAEA,IAAIvwC,EAAauwC,EAAStD,QAE1B,GADAjtC,EAAW7I,UAAUE,OAAO,UACxBxqB,KAAK2/D,WAAWtrD,QAAQotD,iBAAkB,CAC1C,IAAId,EAAc3gE,KAAK2/D,WAAW/5C,MAAMg7C,OAAOC,KAC3CC,EAAc9gE,KAAK2/D,WAAW/5C,MAAMg7C,OAAOG,KAE9B,KADD/gE,KAAK2/D,WAAW/5C,MAAMohD,WAAa,KAE/C7zC,EAAWvN,MAAMshD,gBAAkB,GACnC/zC,EAAWvN,MAAMg/C,MAAQ,KAGzBzxC,EAAWvN,MAAMshD,gBAAkBvG,EACnCxtC,EAAWvN,MAAMg/C,MAAQ9D,GAG7B4C,EAASE,UACTF,EAASE,SAAS95C,OAEtB9pB,KAAKqgE,WAAa,OAEtBb,EAAUxgE,UAAU2kE,aAAe,SAAUD,GACzC,IAAKA,EAASE,SAAU,CACpB,IAAIuD,EAAU,GACVnnE,KAAKigE,SACLkH,EAAUnnE,KAAKigE,OAAS,IAAMyD,EAAS14D,IAE3C04D,EAASE,SAAW,IAAIpE,EAAU,CAC9BE,aAAc1/D,KAAK0/D,aACnBE,KAAM5/D,KAAK2/D,WACX5pD,OAAQ/V,KACRsxB,UAAWtxB,KAAKgpB,cAChBzM,MAAOmnD,EAASnnD,MAChBujD,WAAY9/D,KAAK8/D,WAAa,EAC9BE,gBAAiBhgE,KAAKggE,gBACtBC,OAAQkH,EACRjH,qBAAsBlgE,KAAKkgE,uBAGnC,IAAIvtC,EAAM,YAAsB+wC,EAAStD,SACrCgH,EAAS,cACTC,EAAU,cAEVC,EAAY30C,EAAI1N,EAAImiD,EAAOhgD,KAC3BmgD,EAAaF,EAAQ16D,MAAQ26D,EAAY5D,EAAStD,QAAQh6C,YAC9DuM,EAAI1N,GAAKy+C,EAAStD,QAAQoH,aAAaphD,YACvCuM,EAAInL,GAAK,EACTk8C,EAASE,SAAS6D,OAAO90C,EAAI1N,EAAG0N,EAAInL,GAAG,GAAM,GAC7Ck8C,EAASE,SAAS7D,SAASn6C,MAAMjZ,MAAQ,GACzC+2D,EAASE,SAAS7D,SAASn6C,MAAMgC,MAAQ,GACpC2/C,GAAc7D,EAASE,SAAS7D,SAAS35C,aAAiBmhD,GAAcD,EACrEC,EAAa7D,EAASE,SAAS7D,SAAS35C,cACxCs9C,EAASE,SAAS7D,SAASn6C,MAAMgC,OAASw/C,EAAOhgD,KAAO,OAIxDkgD,EAAY5D,EAASE,SAAS7D,SAAS35C,YACvCs9C,EAASE,SAAS7D,SAASn6C,MAAMwB,KAAOggD,EAAOhgD,KAAO,EAAI,KAG1Ds8C,EAASE,SAAS7D,SAASn6C,MAAMwB,KAAO,GAE5Cs8C,EAASE,SAAS7D,SAASn6C,MAAMgC,MAAQ,cAAkBjb,MAAQgmB,EAAI1N,EAAIy+C,EAAStD,QAAQh6C,YAAc,EAAI,MAElHs9C,EAASE,SAAS7D,SAASn6C,MAAM8hD,WAAa,UAC9ChE,EAASE,SAASxkC,SAEtBogC,EAAUxgE,UAAU2oE,aAAe,SAAU1gD,GACzC,IAAIogD,EAAU,cACVO,EAAc3gD,EAAM,cAAeA,IAAMjnB,KAAK+/D,SAAS15C,aACvDpK,EAAMgL,EAOV,OANI2gD,EAAcP,EAAQzgD,OAAS,IAC/B3K,GAAO2rD,EAAcP,EAAQzgD,OAAS,GAC5B,cAAeK,MACrBhL,EAAM,cAAegL,IAAM,IAG5BhL,GAEXujD,EAAUxgE,UAAUyoE,OAAS,SAAUxiD,EAAGuC,EAAGmgD,EAAcxzB,GACvD,GAAKn0C,KAAKuc,MAAV,CAGAvc,KAAK6nE,eAEL7nE,KAAK8jE,eAAe9jE,KAAKuc,OACzBvc,KAAK2iE,cACL,IAAImF,EAAa9nE,KAAK+/D,SAASn6C,MAC3BuuB,IACAn0C,KAAK+/D,SAASn6C,MAAM8hD,WAAa,UAErCI,EAAWjiD,QAAU,QACrBiiD,EAAW1gD,KAAOnC,EAAI,KACtB6iD,EAAW7gD,IAAMO,EAAI,KACrBxnB,KAAKijE,UAAUr9C,MAAMjZ,MAAQ,OAC7B3M,KAAKijE,UAAUr9C,MAAMgB,OAAS,OAE1B+gD,IACAngD,EAAIxnB,KAAK2nE,aAAangD,GACtBsgD,EAAW7gD,IAAMO,EAAI,MAGzB,IAAIugD,EAAe/nE,KAAK2/D,WAAWoI,aACnC,GAAIA,EAAe,GAAK/nE,KAAKijE,UAAU78C,YAAc2hD,EACjD,IAAK,IAAI3qE,EAAI,EAAGA,EAAI4C,KAAKuc,MAAMrb,OAAQ9D,IACnC4C,KAAKuc,MAAMnf,GAAGgjE,QAAQx6C,MAAMjZ,MAAQo7D,EAAe,KAG3D,IAAIC,EAAehoE,KAAK2/D,WAAWqI,aACnC,GAAIA,EAAe,GAAKhoE,KAAKijE,UAAU78C,YAAc4hD,EACjD,IAAS5qE,EAAI,EAAGA,EAAI4C,KAAKuc,MAAMrb,OAAQ9D,IACnC4C,KAAKuc,MAAMnf,GAAGgjE,QAAQx6C,MAAMjZ,MAAQq7D,EAAe,KACnDhoE,KAAKuc,MAAMnf,GAAGgjE,QAAQx6C,MAAMu9C,UAAY,SAGhD,IAEI8E,EAFU,cAEUrhD,QAAUY,EAAI,cAAeP,KAAO,GAa5D,GAZIjnB,KAAK2/D,WAAWsI,UAAY,GAAKA,EAAYjoE,KAAK2/D,WAAWsI,YAC7DA,EAAYjoE,KAAK2/D,WAAWsI,WAEV,MAAlBjoE,KAAKmgE,WAA+C,MAA1BngE,KAAKmgE,UAAUC,UACzC6H,GAAajoE,KAAKmgE,UAAUC,QAAQ/5C,aAAe,GAEjC,MAAlBrmB,KAAKgjE,YACLiF,GAAajoE,KAAKgjE,UAAU38C,cAEX,MAAjBrmB,KAAKujE,WACL0E,GAAajoE,KAAKujE,SAASl9C,cAE3BrmB,KAAK+/D,SAAS15C,aAAe4hD,EAAW,CACxC,IAAIC,EAAYD,EACZC,EAAY,KACZA,EAAY,IAEhBloE,KAAKijE,UAAUr9C,MAAMgB,OAASshD,EAAY,UAG1CloE,KAAKijE,UAAUr9C,MAAMgB,OAAS,OAElC5mB,KAAKqgE,WAAa,OAEtBb,EAAUxgE,UAAUogC,MAAQ,WACxB,IAAI59B,EAAQxB,KACZgN,OAAO4X,YAAW,WACdpjB,EAAMyhE,UAAU7jC,QACO,MAAnB59B,EAAMohE,YACFphE,EAAMm+D,WAAWtrD,QAAQ8zD,oBACzB3mE,EAAMohE,UAAUxjC,QAEpB59B,EAAMohE,UAAUvkE,MAAQ,MAE7B,MAEPmhE,EAAUxgE,UAAU8qB,KAAO,YACC,OAApB9pB,KAAKqgE,YACDrgE,KAAKqgE,WAAWuD,UAChB5jE,KAAKqgE,WAAWuD,SAAS95C,OAG7B9pB,KAAK+/D,YACY//D,KAAK+/D,SAASn6C,MACpBC,QAAU,OACjB7lB,KAAKugE,cACLvgE,KAAKgpB,cAAc2I,YAAY3xB,KAAK+/D,UACpC//D,KAAKugE,aAAc,KAI/Bf,EAAUxgE,UAAU6oE,aAAe,WAC1B7nE,KAAKugE,cACNvgE,KAAKgpB,cAAcvD,YAAYzlB,KAAK+/D,UACpC,YAAM//D,KAAK+/D,UACN51C,SAASnqB,KAAKozB,UAAY,aAC1BjJ,SAAS,IAAa4nC,qBAC3B/xD,KAAKugE,aAAc,IAG3Bf,EAAUxgE,UAAUmoC,OAAS,SAAUu8B,GACnC,GAAgB,MAAZA,IACKA,EAASnnD,MAAO,CACjBvc,KAAK2/D,WAAW2C,WAChB,IAAI6B,EAAgB,GAChBT,GAAY1jE,KAAKmgE,WACjBngE,KAAKkkE,YAAYlkE,KAAKuc,MAAO4nD,GAEjCnkE,KAAK2/D,WAAWyI,WAAW1E,EAAUS,KAIjD3E,EAAUxgE,UAAUwrB,OAAS,WAEzB,IAAK,IAAIptB,EAAI,EAAGA,EAAI4C,KAAKuc,MAAMrb,OAAQ9D,IAAK,CACxC,IAAImM,EAAOvJ,KAAKuc,MAAMnf,GAClBmM,EAAKq6D,UACLr6D,EAAKq6D,SAASp5C,SAGtB,GAAIxqB,KAAK+/D,SAAU,CACf//D,KAAK+/D,SAASz0C,UAAY,GAC1B,IAAI4pC,EAAal1D,KAAK+/D,SAAS7K,WACb,MAAdA,GACAA,EAAWvjC,YAAY3xB,KAAK+/D,UAGpC//D,KAAK+/D,SAAW,MAEpBP,EAAUxgE,UAAU2wD,OAAS,SAAU0Y,GACnCroE,KAAKwqB,SAELxqB,KAAKuc,MAAQ8rD,EACbroE,KAAKqgE,WAAa,KAClBrgE,KAAKsgE,aAAe,KACpBtgE,KAAKmgE,UAAUC,QAAU,KACzBpgE,KAAKugE,aAAc,EACnBvgE,KAAKwgE,UACLxgE,KAAKygE,iBAETjB,EAAUxgE,UAAUwmE,kBAAoB,WACpC,IAAK,IAAIpoE,EAAI,EAAGA,EAAI4C,KAAKuc,MAAMrb,OAAQ9D,IAAK,CACxC,IAAImM,EAAOvJ,KAAKuc,MAAMnf,GAClBmM,EAAKw6D,eACLx6D,EAAKw6D,aAAahH,QAAU/8D,KAAKgkE,eAAez6D,IAEhDA,EAAKq6D,UACLr6D,EAAKq6D,SAAS4B,sBAI1BhG,EAAUxgE,UAAUspE,aAAe,WAC/B,IAAK,IAAIlrE,EAAI,EAAGA,EAAI4C,KAAKuc,MAAMrb,OAAQ9D,IAAK,CACxC,IAAImM,EAAOvJ,KAAKuc,MAAMnf,GAClBmM,EAAK62D,UACD72D,EAAK4qC,OACL5qC,EAAK62D,QAAQx6C,MAAMC,QAAU,OAG7Btc,EAAK62D,QAAQx6C,MAAMC,QAAU,SAGjCtc,EAAKq6D,UACLr6D,EAAKq6D,SAAS0E,iBAI1B9I,EAAUxgE,UAAUupE,SAAW,SAAUC,GAErC,IADA,IAAIh9B,EAAMg9B,EAAap6D,cACdhR,EAAI,EAAGA,EAAI4C,KAAKuc,MAAMrb,OAAQ9D,IAAK,CACxC,IAAImM,EAAOvJ,KAAKuc,MAAMnf,GACtB,GAA4C,GAAxCmM,EAAK+Q,KAAKlM,cAAc9C,QAAQkgC,GAChC,OAAOjiC,EAGf,OAAO,MAEJi2D,EAr9BmB,GAu9B1B,EAA2B,WAC3B,SAASiJ,EAAUp0D,GACf,IAAI7S,EAAQxB,KACZA,KAAKylE,gBAAiB,EACtBzlE,KAAK0oE,kBAAmB,EACxB1oE,KAAK2oE,iBAAkB,EACvB3oE,KAAK4oE,KAAO,KACZ5oE,KAAK6oE,QAAS,EACd7oE,KAAK8oE,aAAe,KACpB9oE,KAAKqU,QAAU,CACXkI,MAAO,GACP2lD,QAAS,CACL/6B,OAAQ,IAAK1gC,QAAQ,eACrB47B,OAAQ,IAAK57B,QAAQ,iBAEzBi+D,mBAAoB,KACpBjD,kBAAkB,EAClBH,aAAa,EACbyH,cAAc,EACdzP,mBAAoB,GACpBC,qBAAqB,EACrBjoC,UAAWzkB,SAASD,KACpB+0D,OAAQ,IACR3B,iBAAiB,EACjBE,qBAAsB,MAEtB7rD,GACA,IAAUlQ,WAAWnE,KAAKqU,QAASA,GAEvCrU,KAAKigE,OAASwI,EAAUO,aACxBhpE,KAAKipE,cACLjpE,KAAKkpE,UAAY,IAAI,EAAU,CAC3BtJ,KAAM5/D,KACNuc,MAAOvc,KAAKqU,QAAQkI,MACpBujD,WAAY,EACZxuC,UAAWtxB,KAAKqU,QAAQid,UACxB0uC,gBAAiBhgE,KAAKqU,QAAQ2rD,gBAC9BC,OAAQjgE,KAAKqU,QAAQrJ,GACrBk1D,qBAAsBlgE,KAAKqU,QAAQ6rD,qBACnCR,aAAc1/D,KAAKqU,QAAQqrD,eAE/B1/D,KAAKkpE,UAAUnJ,SAASz1C,UAAU3L,IAAI3e,KAAKozB,UAAY,cACvDpzB,KAAKkpE,UAAUnJ,SAASn6C,MAAM+7C,OAAS,GAAK3hE,KAAKqU,QAAQstD,OACzD3hE,KAAKmpE,iBAAmB,SAAU38C,GACf,IAAXA,EAAE62C,QACF7hE,EAAM8gE,WACN91C,EAAE48C,6BAGVppE,KAAKqlC,uBAAyB,SAAU7Y,GACpC,IAAKhrB,EAAMqnE,OACP,OAAO,EAIX,IAHA,IAAI7kD,EAAQhX,OAAOgX,OAASwI,EACxB3uB,EAAImmB,EAAMshB,YAActhB,EAAMva,OAC9B4/D,GAAY,EACTxrE,GAAG,CACN,GAAIA,EAAE2tB,SAAsC,OAA3B3tB,EAAE2tB,QAAQpd,eAEnBvQ,EAAEyrE,WACEzrE,EAAEyrE,UAAU3J,YAAcn+D,EAAO,CACjC6nE,GAAY,EACZ,MAIZxrE,EAAIA,EAAEq3D,YAAcr3D,EAAEmrB,cAK1B,OAHIqgD,GACA7nE,EAAM8gE,YAEH,GAEXtiE,KAAKy5B,SA0KT,OAxKA37B,OAAOC,eAAe0qE,EAAUzpE,UAAW,YAAa,CACpDf,IAAK,WACD,MAAO,aAEXD,YAAY,EACZ0gB,cAAc,IAElB+pD,EAAUzpE,UAAU+f,SAAW,WAC3B,OAAO/e,KAAKkpE,UAAUnqD,YAE1B0pD,EAAUzpE,UAAUiqE,YAAc,WAC9BjpE,KAAK4lB,MAAQ,GACb5lB,KAAK4lB,MAAMg7C,OAAS,CAAEc,OAAQ,UAAW6H,OAAQ,UAAW1I,KAAM,QAASE,KAAM,QAASE,OAAQ,UAAW8F,OAAQ,SACrH/mE,KAAK4lB,MAAMs7C,UAAY,CAAEG,SAAU,QACnCrhE,KAAK+nE,aAAe,EACpB/nE,KAAKgoE,aAAe,EACpBhoE,KAAKioE,UAAY,EACjBjoE,KAAK2hE,OAAS,GAAK3hE,KAAKqU,QAAQstD,OAChC3hE,KAAKwpE,gBAAkB,GACvBxpE,KAAK0G,KAAO,GACZ1G,KAAK6oE,QAAS,GAElBJ,EAAUzpE,UAAUy6B,OAAS,aAE7BgvC,EAAUzpE,UAAUyqE,oBAAsB,SAAUltD,GAChD,GAAKA,EAEL,IAAK,IAAInf,EAAI,EAAGA,EAAImf,EAAMrb,OAAQ9D,IAC9B4C,KAAK0pE,mBAAmBntD,EAAMnf,KAGtCqrE,EAAUzpE,UAAU0qE,mBAAqB,SAAUngE,GAE3CA,EAAKq6D,UAAYr6D,EAAKq6D,SAASjE,YAAc3/D,OAE7CuJ,EAAKq6D,WACLr6D,EAAKq6D,SAASp5C,SACdjhB,EAAKq6D,SAAW,MAEhBr6D,EAAK62D,UACL72D,EAAK62D,QAAU,MAEf72D,EAAKgT,OACLvc,KAAKypE,oBAAoBlgE,EAAKgT,SAGtCksD,EAAUzpE,UAAU2qE,iBAAmB,SAAUptD,EAAOqtD,GAEpD,IADA,IAAIjN,EAAcpgD,EAAQA,EAAMrb,OAAS,EAChC9D,EAAI,EAAGA,EAAIu/D,EAAav/D,IAAK,CAClC,IAAImM,EAAOgT,EAAMnf,GACbmM,EAAKgT,MACLvc,KAAK2pE,iBAAiBpgE,EAAKgT,MAAOqtD,GAGlCrgE,EAAKukB,SAAW87C,EAAYt+D,QAAQ/B,EAAKyB,KAAO,IAI5Dy9D,EAAUzpE,UAAUskE,aAAe,WAC/B,OAAOtjE,KAAKkpE,WAEhBT,EAAUzpE,UAAU2lE,sBAAwB,WACxC,OAAO3kE,KAAK0kE,oBAEhB+D,EAAUzpE,UAAU6qE,SAAW,SAAUx1D,GACrCrU,KAAK8oE,aAAez0D,EAAQ6tB,QAAUr1B,SAASi9D,cAAgBz1D,EAAQ6tB,OAAS,KAChFliC,KAAKypE,oBAAoBzpE,KAAKqU,QAAQkI,OACtCvc,KAAK+pE,qBAAuB11D,EAAQ01D,sBAAwB,KAC5D/pE,KAAKgqE,mBAAqB31D,EAAQ21D,oBAAsB,KACxDhqE,KAAK0kE,mBAAqBrwD,EAAQqwD,oBAAsB,KACpDrwD,EAAQkI,QACRvc,KAAKqU,QAAQkI,MAAQlI,EAAQkI,MAC7Bvc,KAAKkpE,UAAUxI,SAASrsD,EAAQkI,QAEhClI,EAAQ41D,qBACRjqE,KAAKqU,QAAQ41D,mBAAqB51D,EAAQ41D,oBAE9C,IAAIL,EAAcv1D,EAAQu1D,aAAe,KAWzC,GAVIA,EAC2B,iBAAhBA,IACPA,EAAcA,EAAY3oE,MAAM,MAIpC2oE,EAAc,GAElB5pE,KAAK6oE,QAAS,EACd7oE,KAAK2pE,iBAAiB3pE,KAAKqU,QAAQkI,MAAOqtD,GACtC,IAAalY,eACb1xD,KAAKkpE,UAAUzB,OAAO,EAAG,GAAG,GAAM,GAClCznE,KAAKkpE,UAAUnJ,SAASn6C,MAAMqB,IAAM,MACpCjnB,KAAKkpE,UAAUnJ,SAASn6C,MAAMiC,OAAS,MACvC7nB,KAAKkpE,UAAUnJ,SAASn6C,MAAMgC,MAAQ,MACtC5nB,KAAKkpE,UAAUnJ,SAASn6C,MAAM6B,SAAW,QACzCznB,KAAKkpE,UAAUnJ,SAASn6C,MAAMy7C,SAAW,WAExC,CACD,IAAIn/B,EAAS7tB,EAAQ6tB,QAAUr1B,SAASK,gBACpCg9D,EAAS,YAAsBhoC,GAC/BioC,EAAejoC,EAAO7b,aACtB+jD,EAAcloC,EAAO7b,aACrBsM,EAAM,CACN1N,EAAGilD,EAAOjlD,EACVuC,EAAG0iD,EAAO1iD,EAAI2iD,EAAe,GAE7BE,EAAW,cACXhD,EAAU,cAEVC,EAAY30C,EAAI1N,EAAImlD,EAAcC,EAASjjD,KAC3CmgD,EAAaF,EAAQ16D,MAAQ26D,EAAY8C,EAC7Cz3C,EAAI1N,GAAK,EACTjlB,KAAKkpE,UAAUzB,OAAO90C,EAAI1N,EAAG0N,EAAInL,GAAG,GAAM,GAC1CxnB,KAAKkpE,UAAUnJ,SAASn6C,MAAMjZ,MAAQ,GACtC3M,KAAKkpE,UAAUnJ,SAASn6C,MAAMgC,MAAQ,GACjC2/C,GAAcvnE,KAAKkpE,UAAUnJ,SAAS35C,aAAiBmhD,GAAcD,EAElEC,EAAavnE,KAAKkpE,UAAUnJ,SAAS35C,cACrCpmB,KAAKkpE,UAAUnJ,SAASn6C,MAAMgC,OAASyiD,EAASjjD,KAAO,OAKvDkgD,EAAYtnE,KAAKkpE,UAAUnJ,SAAS35C,YACpCpmB,KAAKkpE,UAAUnJ,SAASn6C,MAAMwB,KAAOijD,EAASjjD,KAAO,EAAI,KAGzDpnB,KAAKkpE,UAAUnJ,SAASn6C,MAAMwB,KAAO,GAEzCpnB,KAAKkpE,UAAUnJ,SAASn6C,MAAMgC,MAAQ,cAAkBjb,MAAQgmB,EAAI1N,EAAImlD,EAAc,MAE1FpqE,KAAKkpE,UAAUnJ,SAASn6C,MAAMy7C,SAAW,OAE7CrhE,KAAKkpE,UAAUnJ,SAASn6C,MAAM8hD,WAAa,UAC3C1nE,KAAKkpE,UAAU9pC,QACfvyB,SAASie,iBAAiB,QAAS9qB,KAAKmpE,kBACxCt8D,SAASie,iBAAiB,YAAa9qB,KAAKqlC,wBAAwB,IAExEojC,EAAUzpE,UAAUsjE,SAAW,WAC3Bz1D,SAASme,oBAAoB,YAAahrB,KAAKqlC,wBAAwB,GACvEx4B,SAASme,oBAAoB,QAAShrB,KAAKmpE,kBAC3CnpE,KAAKkpE,UAAUp/C,OACX9pB,KAAK8oE,cACL9oE,KAAK8oE,aAAa1pC,QAElBp/B,KAAKgqE,oBACLhqE,KAAKgqE,sBAGbvB,EAAUzpE,UAAUopE,WAAa,SAAU1E,EAAUS,GAC7CnkE,KAAK+pE,sBACL/pE,KAAK+pE,qBAAqBrG,EAAUS,IAG5CsE,EAAUzpE,UAAUsrE,eAAiB,SAAU1K,GAC3CA,EAAKj2C,gBAAgB,SACrB,IAAI6V,EAAKogC,EAAKxiC,iBAAiB,MAAM7zB,KAAK,IAEvB,OADFi2B,IAAMA,EAAG5Z,QAEtB4Z,EAAGjW,aAAa,QAAS,KAGjCk/C,EAAUzpE,UAAUspE,aAAe,WAC/BtoE,KAAKkpE,UAAUZ,gBAEnBG,EAAUzpE,UAAUwmE,kBAAoB,WACpCxlE,KAAKkpE,UAAU1D,qBAEnBiD,EAAUO,WAAa,EAChBP,EAlPmB,GC59B1B8B,EAAqC,WACrC,SAASA,IACLvqE,KAAK8nC,UAAY,GACjB9nC,KAAK2yB,IAAM,EACX3yB,KAAKmoC,MAAQ,OACbnoC,KAAKgoC,UAAY,GAqDrB,OAnDAuiC,EAAoBvrE,UAAUgN,MAAQ,SAAU7M,GAC5Ca,KAAK8nC,UAAY3oC,EACjBa,KAAK2yB,IAAM,EACX3yB,KAAKgoC,UAAY,IAErBuiC,EAAoBvrE,UAAUipC,WAAa,WACvC,KAAOjoC,KAAK2yB,IAAM3yB,KAAK8nC,UAAU5mC,QAA8C,MAApClB,KAAK8nC,UAAUjb,OAAO7sB,KAAK2yB,MAClE3yB,KAAK2yB,OAEb43C,EAAoBvrE,UAAUspC,SAAW,WACrC,OAAOtoC,KAAKmoC,OAEhBoiC,EAAoBvrE,UAAUwrE,aAAe,WACzC,OAAOxqE,KAAKgoC,WAEhBuiC,EAAoBvrE,UAAU2kC,KAAO,WAEjC,GADA3jC,KAAKioC,aACDjoC,KAAK2yB,KAAO3yB,KAAK8nC,UAAU5mC,OAC3B,OAAO,EACX,IAAIgnC,EAAO,EACX,GAAwC,MAApCloC,KAAK8nC,UAAUjb,OAAO7sB,KAAK2yB,KAAc,CAEzC,IADAuV,EAAOloC,KAAK8nC,UAAUx8B,QAAQ,IAAKtL,KAAK2yB,MAC7B,EACP,OAAO,EACX3yB,KAAKgoC,UAAYhoC,KAAK8nC,UAAUrtB,UAAUza,KAAK2yB,IAAKuV,EAAO,GACnB,IAApCloC,KAAKgoC,UAAU18B,QAAQ,UAAsD,IAApCtL,KAAKgoC,UAAU18B,QAAQ,WAChEtL,KAAKmoC,MAAQ,cAEjBnoC,KAAK2yB,IAAMuV,EAAO,OAEjB,GAAwC,MAApCloC,KAAK8nC,UAAUjb,OAAO7sB,KAAK2yB,MAAgB3yB,KAAK2yB,IAAM3yB,KAAK8nC,UAAU5mC,OAAS,GAA6C,MAAxClB,KAAK8nC,UAAUjb,OAAO7sB,KAAK2yB,IAAM,GACzH3yB,KAAK2yB,KAAO,EACZuV,EAAOloC,KAAK8nC,UAAUx8B,QAAQ,KAAMtL,KAAK2yB,KACzC3yB,KAAKmoC,MAAQ,WACbnoC,KAAKgoC,UAAYhoC,KAAK8nC,UAAUrtB,UAAUza,KAAK2yB,IAAKuV,GACpDloC,KAAK2yB,IAAMuV,EAAO,MAEjB,CACDloC,KAAKmoC,MAAQ,OACb,IAAIC,EAAQpoC,KAAK8nC,UAAUx8B,QAAQ,IAAKtL,KAAK2yB,KACzCyV,EAAQ,IACRA,EAAQpoC,KAAK8nC,UAAU5mC,QAC3B,IAAImnC,EAAQroC,KAAK8nC,UAAUx8B,QAAQ,KAAMtL,KAAK2yB,KAC1C0V,EAAQ,IACRA,EAAQroC,KAAK8nC,UAAU5mC,QAC3BgnC,EAAO97B,KAAKE,IAAI87B,EAAOC,GACvBroC,KAAKgoC,UAAYhoC,KAAK8nC,UAAUrtB,UAAUza,KAAK2yB,IAAKuV,GAAMlnC,OAC1DhB,KAAK2yB,IAAMuV,EAEf,OAAO,GAEJqiC,EA1D6B,IFQxC,SAAWtQ,GACPA,EAAaA,EAAqB,OAAI,GAAK,SAC3CA,EAAaA,EAAqB,OAAI,GAAK,SAC3CA,EAAaA,EAAqB,OAAI,GAAK,SAC3CA,EAAaA,EAA0B,YAAI,GAAK,cAChDA,EAAaA,EAAyB,WAAI,GAAK,aAC/CA,EAAaA,EAA0B,YAAI,GAAK,cAChDA,EAAaA,EAAsB,QAAI,GAAK,UAC5CA,EAAaA,EAAqB,OAAI,GAAK,SAC3CA,EAAaA,EAAuB,SAAI,GAAK,WAC7CA,EAAaA,EAAyB,WAAI,GAAK,aAC/CA,EAAaA,EAAmB,KAAI,IAAM,OAC1CA,EAAaA,EAAmB,KAAI,IAAM,OAZ9C,CAaGA,IAAiBA,EAAe,KACnC,IGnBWwQ,EHmBP,EAAkC,WAClC,SAASC,EAAiBtQ,EAAOx3C,EAAQ8T,GACrC12B,KAAK2qE,aAAe,KACpB3qE,KAAK4qE,WAAa,KAClB5qE,KAAK6qE,kBAAmB,EACxB7qE,KAAK8qE,oBAAqB,EAC1B9qE,KAAKo6D,MAAQA,EACbp6D,KAAK4iB,OAASA,EACd5iB,KAAKqlB,QAAUqR,EAipBnB,OA/oBA54B,OAAOC,eAAe2sE,EAAiB1rE,UAAW,YAAa,CAC3Df,IAAK,WACD,MAAO,WAEXD,YAAY,EACZ0gB,cAAc,IAElBgsD,EAAiB1rE,UAAUy6B,OAAS,WAChC,IAAIj4B,EAAQxB,KACZA,KAAK+qE,SAAW/qE,KAAKm/B,eACjBn/B,KAAKgrE,mBAAmB1/D,QAAQ,YAAc,GAAKtL,KAAK4iB,OAAOwU,UAC/Dp3B,KAAKirE,cAAgBjrE,KAAKkrE,mBAAmBlrE,KAAK4iB,OAAO4wB,SACrDxzC,KAAK4iB,OAAO4wB,UAAY,IAAc3jB,OACtC7vB,KAAKirE,cAAcrlD,MAAMC,QAAU,UAG3C,IAAIsD,EAAU,YAAM,OA6FpB,OA5FAA,EAAQ9oB,KAAK,KAAML,KAAK4iB,OAAO5X,IAC3BhL,KAAKqlB,SACLrlB,KAAKqlB,QAAQ6vC,WACRiW,aAAahiD,EAAQ2C,QAAS9rB,KAAKqlB,SAE5CrlB,KAAKqlB,QAAU8D,EAAQ2C,QACnB9rB,KAAKo6D,MAAM/lD,QAAQ0iB,gBAAkB,IAAa26B,gBAClD,IAAc1hC,sBAAsB,CAChC3K,QAASrlB,KAAKqlB,QACd0L,MAAO,iBACP1wB,KAAM,CAAEuiB,OAAQ5iB,KAAK4iB,QACrB8N,gBAAiB,WACblvB,EAAM4pE,eAEVx6C,SAAU,SAAUjC,GAChBA,EAAUrD,UAAY,GACtB,IAAIgQ,EAAYzuB,SAASyY,cAAc,QACvCgW,EAAUlQ,UAAY5pB,EAAMohB,OAAO5M,QACnC2Y,EAAUrE,UAAU3L,IAAI,sBACxBgQ,EAAUlJ,YAAY6V,IAE1BrK,YAAa,SAAU7B,GACnB5tB,EAAM6jB,QAAQO,MAAMC,QAAU,OAC9BuJ,EAAGP,WAAa,IAAWC,OAE/B4C,UAAW,SAAUtC,GACZA,EAAG/uB,KAAKovB,sBACTjuB,EAAM6jB,QAAQO,MAAMwC,eAAe,cAK/CpoB,KAAK+X,cACL/X,KAAKqrE,qBAETrrE,KAAKsrE,mBACLniD,EACKgB,SAASnqB,KAAKurE,mBACdphD,SAAS,IAAa4nC,qBACtB1oC,gBAAgBrpB,KAAKwrE,kBAErBviD,SAAS,OAAO,SAAUE,GAAW,OAAOA,EAC5CgB,SAAS,IAAc,sBAAuB3oB,EAAM4xB,UAAY,sBAAuB5xB,EAAM4xB,UAAY,cAAe5xB,EAAM4xB,UAAY,2BAC1I/J,gBAAgB7nB,EAAMypE,kBAEtB5hD,gBAAgBrpB,KAAKyrE,0BACkB,IAAxCzrE,KAAKo6D,MAAM/lD,QAAQq3D,kBAA+B,IAAaha,gBAC/DvoC,EACKE,gBAAgBrpB,KAAK2rE,sBAE9BxiD,EAEKF,SAAS,OAAO,SAAUE,GAC3BA,EACKgB,SAAS,IAAc,uBAAwB3oB,EAAM4xB,UAAY,iBACjEjJ,SAAS,IAAa4nC,qBAEvBvwD,EAAMwpE,mBAAmB1/D,QAAQ,WAAa,IAAM9J,EAAMohB,OAAO+wB,cACjExqB,EAAQE,gBAAgB7nB,EAAMoqE,uBAI9BpqE,EAAMwpE,mBAAmB1/D,QAAQ,SAAW,GAAK9J,EAAMohB,OAAOwU,SAC9DjO,EAAQE,gBAAgB7nB,EAAMqqE,0BAI9BrqE,EAAMwpE,mBAAmB1/D,QAAQ,WAAa,IAAM9J,EAAMohB,OAAO+wB,cACjExqB,EAAQE,gBAAgB7nB,EAAMsqE,sBAI9BtqE,EAAMwpE,mBAAmB1/D,QAAQ,SAAW,IAAM9J,EAAMohB,OAAO+wB,cAC/DxqB,EAAQE,gBAAgB7nB,EAAMuqE,uBAKjC,IAAara,gBAEdvoC,EACKwB,GAAG,aAAc3qB,KAAKgsE,aAAaptE,KAAKoB,OACxC2qB,GAAG,aAAc3qB,KAAKisE,aAAartE,KAAKoB,QAG7CA,KAAKo6D,MAAM/lD,QAAQ2kD,oBAAsB,IAAatH,iBACtDvoC,EACKwB,GAAG,QAAS3qB,KAAKksE,aAAattE,KAAKoB,OAExCA,KAAKo6D,MAAM/lD,QAAQ83D,mBACnBnsE,KAAKosE,cAEFpsE,KAAKqlB,SAEhBqlD,EAAiB1rE,UAAUktE,aAAe,SAAU98C,GAOhD,OANAA,EAAGgB,kBACHpwB,KAAKo6D,MAAMiS,mBAAmBrsE,KAAK4iB,QACnC5iB,KAAKssE,0BACA,IAAa5a,gBACd1xD,KAAKqlB,QAAQ8H,cAAc,YAAmB,gBAE3C,GAEXu9C,EAAiB1rE,UAAUutE,kBAAoB,WAC3CvsE,KAAK4iB,OAAOwxB,oBAEhBs2B,EAAiB1rE,UAAUk6B,QAAU,WACjCl5B,KAAKy5B,UAETixC,EAAiB1rE,UAAUmgC,aAAe,WAEtC,OADYn/B,KAAKo6D,MAAM5Z,aAAapO,WACvBx2B,iBAAiB5b,KAAK4iB,OAAOxK,KAAK/Z,QAEnDqsE,EAAiB1rE,UAAU2sE,mBAAqB,WAC5C,IAAInqE,EAAQxB,KACPA,KAAK4iB,OAAO5M,SAAkC,IAAvBhW,KAAK4iB,OAAO5M,UACpChW,KAAK4iB,OAAO5M,QAAUhW,KAAKwsE,2BAE/B,IAAIrjD,EAAU,YAAM,OACfgB,SAASnqB,KAAKozB,UAAY,cAAepzB,KAAKozB,UAAY,mBAC1DjJ,SAAS,IAAa4nC,qBAmE3B,OAlEI/xD,KAAK+X,aACLoR,EACKF,SAAS,KAAK,SAAUE,GAAW,OAAOA,EAC1C5R,KAAK,OAAQ,sBACbiS,MAAMhoB,EAAMohB,OAAO5M,SACnBsE,KAAK9Y,EAAMohB,OAAO5M,SAClB2U,GAAG,SAAS,SAAUyE,GACvBA,EAAGgB,kBACH,IAAI/K,EAAU+J,EAAG3lB,OACbgjE,EAAUpnD,EAAQ2D,cAAcke,cAAc,SAQlD,OAPIulC,IACApnD,EAAQO,MAAMC,QAAU,OACxB4mD,EAAQ7mD,MAAMwC,eAAe,WAC7BqkD,EAAQ7mD,MAAM8mD,SAAW,GAAKrnD,EAAQlY,YACtCs/D,EAAQrtC,QACR59B,EAAM6jB,QAAQkE,aAAa,IAAcwG,mBAAoB,MAE1D,QAGN9G,SAAS,SAAS,SAAUE,GAAW,OAAOA,EAC9CW,OACAzrB,MAAMmD,EAAMohB,OAAO5M,SACnB2U,GAAG,gBAAgB,SAAUyE,GAC9B,IAAIu9C,GAAa,EACbC,GAAO,EAeX,GAdIx9C,aAAcy9C,cAEK,KAAfz9C,EAAGrC,QACH4/C,GAAa,EAGO,KAAfv9C,EAAGrC,UACR4/C,GAAa,EACbC,GAAO,GAGNx9C,aAAc09C,aACnBH,GAAa,GAEbA,EAAY,CACZ,IAAIF,EAAUr9C,EAAG3lB,OACbsjE,EAAMN,EAAQzjD,cAAcke,cAAc,KAC1C6lC,IACAA,EAAInnD,MAAMwC,eAAe,WACzBqkD,EAAQ7mD,MAAMC,QAAU,QAExB+mD,GAAQprE,EAAMohB,OAAO5M,UAAYy2D,EAAQpuE,OACzCmD,EAAMohB,OAAO5M,QAAUy2D,EAAQpuE,MAC/BmD,EAAM+qE,sBAGNE,EAAQpuE,MAAQmD,EAAMohB,OAAO5M,QAC7B,YAAU+2D,IAEdvrE,EAAM6jB,QAAQsE,gBAAgB,IAAcoG,oBAEhD,OAAO,QAIX5G,EAAQF,SAAS,QAAQ,SAAU7iB,GAC/BA,EAAEkU,KAAK9Y,EAAMohB,OAAO5M,SACfwT,MAAMhoB,EAAMohB,OAAO5M,YAGzBmT,EAAQ2C,SAEnB4+C,EAAiB1rE,UAAUksE,mBAAqB,SAAU13B,GACtD,IAEIw5B,EAFAxrE,EAAQxB,KACRitE,EAAqB,IAAc,qBAEvC,OAAQz5B,GACJ,KAAK,IAAcib,UACfue,EAA8BC,EAAqB,OACnD,MACJ,KAAK,IAAcC,WACfF,EAA8BC,EAAqB,QACnD,MACJ,QACID,EAA8BC,EAAqB,QAG3D,OAAKjtE,KAAK+X,aASH,YAAM,OACRoS,SAAS8iD,EAAoB,IAAc,UAAWD,GACtD3sE,KAAK,iBAAkB,IACvBmpB,MAAM,IAAK/iB,QAAQ,kBACnB8Q,KAAK,WAAY,KACjBoT,GAAG,SAAS,SAAUyE,GACvBA,EAAGgB,kBACH5uB,EAAMspE,oBAAqB,GAChBtpE,EAAM2rE,UAAW3rE,EAAM44D,MAAMgT,UAAmC5rE,EAAM44D,MAAMiT,UAClFxD,SAAS,CACV3nC,OAAQ1gC,EAAMypE,cACdrB,YAAapoE,EAAMohB,OAAOkxB,WAAa,CAAC,YAAc,KACtDi2B,qBAAsB,SAAU1pE,EAAMkc,GAClC,IAAIi4B,EACJ,OAAQn0C,EAAK2K,IACT,IAAK,WACDwpC,EAASylB,EAAaqT,OACtB,MACJ,IAAK,UACD94B,EAASylB,EAAasT,QACtB,MACJ,IAAK,WACD/4B,EAASylB,EAAauT,SACtB,MACJ,IAAK,SACDh5B,EAASylB,EAAawT,OACtB,MACJ,IAAK,aACDj5B,EAASylB,EAAayT,WACtB,MACJ,IAAK,OACDl5B,EAASylB,EAAa0T,YACtB,MACJ,IAAK,YACDn5B,EAASylB,EAAa2T,WACtB,MACJ,IAAK,aACDp5B,EAASylB,EAAa4T,YAG9BrsE,EAAMssE,kBAAkBt5B,EAAQ,OAEpCw1B,mBAAoB,WAChBxoE,EAAMspE,oBAAqB,EACtBtpE,EAAMqpE,kBACPrpE,EAAMusE,yBAKjBpjD,GAAG,YAAY,SAAUqjD,GAA0B,IAAfA,EAAIjhD,SACzCihD,EAAIvkE,OAAOg5C,WAEV32B,QA7DG0nB,IAAY,IAAcib,WACvBjb,IAAY,IAAc05B,WACtB,YAAM,OACR/iD,SAAS8iD,EAAoB,IAAc,UAAWD,GACtDxjD,MAAM,IAAK/iB,QAAQ,kBACnBqlB,QACF,MAyDf4+C,EAAiB1rE,UAAUwsE,eAAiB,WACxC,IAAIhqE,EAAQxB,KACZ,OAAIA,KAAKo6D,MAAM/lD,QAAQ2mD,iBAAmBh7D,KAAK4iB,OAAO+wB,aAC3C,YAAM,OACRnqB,MAAM,IAAK/iB,QAAQ,oBACnB8Q,KAAK,WAAY,KACjB4S,SAASnqB,KAAKozB,UAAY,eAAiBpzB,KAAKozB,UAAY,oBAC5DjJ,SAAenqB,KAAK4iB,OAAOwU,QAAU,UAAY,IACjDzM,GAAG,SAAS,WAGb,OAFAnpB,EAAMohB,OAAOwU,SAAW51B,EAAMohB,OAAOwU,QACrC51B,EAAMohB,OAAOwxB,oBACN,KAENzpB,GAAG,YAAY,SAAUqjD,GAAW,CAAC,GAAI,IAAItW,SAASsW,EAAIjhD,UAC3DihD,EAAIvkE,OAAOg5C,WAEV32B,QAGE,MAGf4+C,EAAiB1rE,UAAU8sE,mBAAqB,WAC5C,IAAItqE,EAAQxB,KACZ,OAAO,YAAM,OACRmqB,SAAS,IAAc,sBAAuBnqB,KAAKozB,UAAY,sBAAuBpzB,KAAKozB,UAAY,6BACvG/yB,KAAK,iBAAkB,IACvB4oB,SAAS,OAAO,SAAU7iB,GAAK,OAAOA,EACtC+jB,SAAS,IAAc,UAAW,IAAc,iBAAkB,IAAc,wBAAyB,sBACzGX,MAAM,IAAK/iB,QAAQ,cACnB8Q,KAAK,WAAY,KACjBoT,GAAG,SAAS,SAAUyE,GAAM,OAAO5tB,EAAMssE,kBAAkB7T,EAAaplD,OAAQua,MAChFzE,GAAG,YAAY,SAAUqjD,GAA0B,IAAfA,EAAIjhD,SACzCihD,EAAIvkE,OAAOg5C,cAEV32B,SAET4+C,EAAiB1rE,UAAU+sE,iBAAmB,WAC1C,IAAIvqE,EAAQxB,KACZ,OAAO,YAAM,OACRmqB,SAAS,IAAc,sBAAuBnqB,KAAKozB,UAAY,sBAAuBpzB,KAAKozB,UAAY,2BACvG/yB,KAAK,iBAAkB,IACvB4oB,SAAS,OAAO,SAAU7iB,GAAK,OAAOA,EACtC+jB,SAAS,IAAc,UAAW,IAAc,iBAAkB,IAAc,sBAAuB,sBACvGX,MAAM,IAAK/iB,QAAQ,eACnB8Q,KAAK,WAAY,KACjBoT,GAAG,SAAS,SAAUqjD,GAAO,OAAOxsE,EAAMssE,kBAAkB7T,EAAagU,KAAMD,MAC/ErjD,GAAG,YAAY,SAAUqjD,GAA0B,IAAfA,EAAIjhD,SACzCihD,EAAIvkE,OAAOg5C,cAEV32B,SAET4+C,EAAiB1rE,UAAUwtE,wBAA0B,WACjD,OAAOxsE,KAAKkuE,oBAAoBluE,KAAK+qE,WAEzCL,EAAiB1rE,UAAUkvE,oBAAsB,SAAU32D,GACvD,OAAOvX,KAAKmuE,oBAAoB52D,EAAMvX,KAAKo6D,MAAM/lD,QAAQ+5D,qBAE7D1D,EAAiB1rE,UAAUmvE,oBAAsB,SAAU52D,EAAMvP,GAG7D,OAFAA,EAASA,GAAUhI,KAAKo6D,MAAM/lD,QAAQ6kD,kBAC1Bl5D,KAAKo6D,MAAM5Z,aAAapO,WACvBr0B,iBAAiBxG,EAAMvP,IAExC0iE,EAAiB1rE,UAAUusE,gBAAkB,WACzC,IAAIppE,EAAS,GAMb,OALAA,GAAUnC,KAAK4iB,OAAOwU,QAAU,GAAK,IAAMp3B,KAAKozB,UAAY,YACxDpzB,KAAK4iB,OAAOwU,UACZj1B,GAAUnC,KAAK4iB,OAAO+wB,aAAe,IAAM3zC,KAAKozB,UAAY,YAAc,IAE9EjxB,GAAUnC,KAAK4iB,OAAOkxB,WAAa,IAAM9zC,KAAKozB,UAAY,UAAY,IAG1Es3C,EAAiB1rE,UAAU6sE,uBAAyB,WAChD,IAAIrqE,EAAQxB,KACZ,OAAQA,KAAK+X,eAAwD,IAAxC/X,KAAKo6D,MAAM/lD,QAAQ4kD,iBAC1C,YAAM,OACH9uC,SAAS,IAAc,sBAAuBnqB,KAAKozB,UAAY,sBAAuBpzB,KAAKozB,UAAY,0BAA2BpzB,KAAKozB,UAAY,kBACnJ/yB,KAAK,iBAAkB,IACvB4oB,SAAS,OAAO,SAAU7iB,GAAK,OAAOA,EACtC+jB,SAAS,IAAc,UAAW,IAAc,iBAAkB,IAAc,uBAChFX,MAAM,IAAK/iB,QAAQ,iBACnB8Q,KAAK,WAAY,KACjBoT,GAAG,SAAS,SAAUyE,GACvBA,EAAGgB,kBACH5uB,EAAMspE,oBAAqB,EAC3BtpE,EAAM6sE,kBAAkBj/C,MAEvBzE,GAAG,YAAY,SAAUqjD,GAA0B,IAAfA,EAAIjhD,SACzCihD,EAAIvkE,OAAOg5C,cAEV32B,QACH,MAEV4+C,EAAiB1rE,UAAU4sE,oBAAsB,WAC7C,IAAIpqE,EAAQxB,KACZ,OAAO,YAAM,OACRmqB,SAAS,IAAc,sBAAuBnqB,KAAKozB,UAAY,sBAAuBpzB,KAAKozB,UAAY,4BAA6BpzB,KAAKozB,UAAY,kBACrJ/yB,KAAK,iBAAkB,IACvB4oB,SAAS,OAAO,SAAU7iB,GAAK,OAAOA,EACtC+jB,SAAS,IAAc,UAAW,IAAc,iBAAkB,IAAc,yBAChFX,MAAM,IAAK/iB,QAAQ,oBACnB0jB,SAAS3oB,EAAMohB,OAAOwU,QAAU,UAAY,IAC5C7f,KAAK,WAAY,KACjBoT,GAAG,SAAS,SAAUqjD,GAAO,OAAOxsE,EAAMssE,kBAAkB7T,EAAaqU,OAAQN,MACjFrjD,GAAG,YAAY,SAAUqjD,GAA0B,IAAfA,EAAIjhD,SACzCihD,EAAIvkE,OAAOg5C,cACN32B,SAEb4+C,EAAiB1rE,UAAU+Y,WAAa,WACpC,OAAO/X,KAAK4iB,OAAOwU,UAAYp3B,KAAK4iB,OAAO+wB,cAE/C+2B,EAAiB1rE,UAAUmuE,OAAS,WAChC,OAAOntE,KAAKo6D,MACP5Z,aAAapO,WACbr2B,kBAAkB/b,KAAK4iB,OAAOxK,KAAK/Z,MAAO,iBAEnDqsE,EAAiB1rE,UAAUgtE,aAAe,SAAUx/C,GAIhD,OAHAxsB,KAAK6qE,kBAAmB,EACxB7qE,KAAKuuE,mBACL/hD,EAAE4D,mBACK,GAEXs6C,EAAiB1rE,UAAUitE,aAAe,SAAUz/C,GAIhD,OAHAxsB,KAAK6qE,kBAAmB,EACxB7qE,KAAK+tE,mBACLvhD,EAAE4D,mBACK,GAEXs6C,EAAiB1rE,UAAUwvE,eAAiB,WACxC,OAAOxuE,KAAKqlB,QAAQiF,UAAUib,SAAS,WAE3CmlC,EAAiB1rE,UAAUosE,YAAc,WACrC,YAAMprE,KAAKqlB,SAAShlB,KAAK,eAAgB,OAE7CqqE,EAAiB1rE,UAAUotE,YAAc,WACrC,YAAMpsE,KAAKqlB,SAAShlB,KAAK,eAAgB,KAE7CqqE,EAAiB1rE,UAAUstE,wBAA0B,YAC7CtsE,KAAKo6D,MAAM/lD,QAAQ83D,oBACjBnsE,KAAKo6D,MAAM/lD,QAAQ2kD,oBAAsB,IAAatH,iBACjD1xD,KAAKwuE,mBACZxuE,KAAKosE,eAGb1B,EAAiB1rE,UAAUuvE,iBAAmB,WAC1CvuE,KAAKosE,eAET1B,EAAiB1rE,UAAU+uE,iBAAmB,WACrC/tE,KAAK8qE,qBAA+D,IAAzC9qE,KAAKo6D,MAAM/lD,QAAQ83D,mBAAgCnsE,KAAKwuE,kBAA6D,GAAzCxuE,KAAKo6D,MAAM/lD,QAAQ2kD,oBAC3Hh5D,KAAKorE,eAGbV,EAAiB1rE,UAAUqsE,mBAAqB,WAO5C,IANA,IAKIz6B,EALAr0B,EAAQ,GACRkyD,EAAQzuE,KAAKo6D,MAAM5Z,aAAapO,WAAWjB,mBAC3Cu9B,GAAc,EACdnlE,EAAO,KACPyS,EAAYhc,KAAKm/B,eAEZt+B,EAAK,EAAG8tE,EAAUF,EAAO5tE,EAAK8tE,EAAQztE,OAAQL,IAAM,CACzD,IAAIgwC,EAAO89B,EAAQ9tE,GACnB,GAAKgwC,EAAL,CAEA,IAAI+9B,EAAY/9B,EAAK5G,aAAa3+B,QAAQ0Q,EAAUjU,WAAa,EAC7D/H,KAAK4iB,OAAOxK,KAAKy4B,OAASA,EAAK7lC,IAAO4jE,IACtCF,GAAc,GAEdE,IACAh+B,EAAc5wC,KAAKo6D,MAAM5Z,aAAapO,WACjC3B,uBAAuBI,EAAK7lC,IACjCzB,EAAO,CACHyB,GAAI6lC,EAAK7lC,GACTsP,KAAMs2B,GAEVr0B,EAAMxW,KAAKwD,KAGdmlE,IACD1uE,KAAK4iB,OAAOxK,KAAKy4B,KAAOt0B,EAAM,GAAGvR,IAGlBhL,KAAKo6D,MACPyU,gCACbtlE,EAAO,CACHyB,GAAI,mBACJsP,KAAM,OAEViC,EAAMxW,KAAKwD,GAEXA,EAAO,CACHyB,GAAI,YACJsP,KAHJs2B,EAAc,IAAKnqC,QAAQ,qBAK3B8V,EAAMxW,KAAKwD,IAEf,IAAI02D,EAASjgE,KAAK4iB,OAAO5X,GACrBi1D,IACAA,GAAU,kBAEd,IAAI5G,EAAc,CACd98C,MAAOA,EACPvR,GAAIi1D,EACJsC,sBAAsB,EACtBvC,iBAAiB,GAErBhgE,KAAK2qE,aAAe,IAAI,EAAUtR,IAEtCqR,EAAiB1rE,UAAUgsE,iBAAmB,WAC1C,OAAOhrE,KAAKo6D,MAAM/lD,QAAQ6tD,SAAWj4D,MAAMC,QAAQlK,KAAKo6D,MAAM/lD,QAAQ6tD,SAAWliE,KAAKo6D,MAAM/lD,QAAQ6tD,QAAU,CAAC,SAAU,SAAU,OAAQ,YAE/IwI,EAAiB1rE,UAAU8uE,kBAAoB,SAAUt5B,EAAQw5B,GAC7D,IAAIxsE,EAAQxB,KACZ,OAAQw0C,GACJ,KAAKylB,EAAaplD,OACd,IAAIi6D,EAAW9uE,KAAK4iB,OAAOyvB,WAC3By8B,EAASpyB,aAAa18C,KAAK4iB,OAAQ5iB,KAAKo6D,OACxC0U,EAAShxB,wBAAwB,IAAkBjpC,OAAQ7U,KAAK4iB,QAChE,MACJ,KAAKq3C,EAAaqU,OACdtuE,KAAK4iB,OAAOwU,SAAWp3B,KAAK4iB,OAAOwU,QACnCp3B,KAAKusE,oBACL,MACJ,KAAKtS,EAAaqT,OACdttE,KAAK4iB,OAAOmxB,WAAW/zC,KAAK4iB,OAAOkxB,YACnC9zC,KAAKusE,oBACL,MACJ,KAAKtS,EAAasT,QACdvtE,KAAKo6D,MAAM3d,WAAWz8C,KAAK4iB,OAAQ,WACnC,MACJ,KAAKq3C,EAAayT,WACd1tE,KAAKo6D,MAAM3d,WAAWz8C,KAAK4iB,OAAQ,cACnC,MACJ,KAAKq3C,EAAawT,OACdztE,KAAKo6D,MAAM3d,WAAWz8C,KAAK4iB,OAAQ,UACnC,MACJ,KAAKq3C,EAAauT,SACdxtE,KAAKo6D,MAAM3d,WAAWz8C,KAAK4iB,OAAQ,YACnC,MACJ,KAAKq3C,EAAa2T,WACd5tE,KAAK4iB,OAAO4wB,QAAU,IAAcib,UACpCzuD,KAAK4iB,OAAOwxB,mBACZ,MACJ,KAAK6lB,EAAa4T,YACd7tE,KAAK4iB,OAAO4wB,QAAU,IAAc05B,WACpCltE,KAAK4iB,OAAOwxB,mBACZ,MACJ,KAAK6lB,EAAa0T,YACd3tE,KAAK4iB,OAAO4wB,QAAU,IAAc3jB,KACpC7vB,KAAK4iB,OAAOwxB,mBACZ,MACJ,KAAK6lB,EAAagU,KACd,IAAIc,EAAU/uE,KAAK4qE,WACnB5qE,KAAK8qE,oBAAqB,EAC1BiE,EAAQlF,SAAS,CACb3nC,OAAQ8rC,EAAMA,EAAIvkE,OAAS,KAC3BmgE,YAAa5pE,KAAKgvE,6BAClBjF,qBAAsB,SAAUxgE,GAC5B,IAAIirC,EAASjrC,EAAKyB,GAClB,OAAQzB,EAAKyB,IACT,IAAK,SACDwpC,EAASylB,EAAaqU,OACtB,MACJ,IAAK,SACD95B,EAASylB,EAAaplD,OACtB,MACJ,IAAK,SACD2/B,EAASylB,EAAaqT,OACtB,MACJ,IAAK,UACD94B,EAASylB,EAAasT,QACtB,MACJ,IAAK,aACD/4B,EAASylB,EAAayT,WACtB,MACJ,IAAK,SACDl5B,EAASylB,EAAawT,OACtB,MACJ,IAAK,WACDj5B,EAASylB,EAAauT,SACtB,MACJ,IAAK,OACDh5B,EAASylB,EAAa0T,YACtB,MACJ,IAAK,YAGL,IAAK,aACDn5B,EAASylB,EAAa2T,WAG9BpsE,EAAMssE,kBAAkBt5B,EAAQw5B,IAEpCtJ,mBAAoB,SAAUn7D,GAE1B,OADa/H,EAAMohB,OAAOwU,SAAuB,YAAZ7tB,EAAKyB,IAAgC,WAAZzB,EAAKyB,IAA+B,WAAZzB,EAAKyB,IAG/Fg/D,mBAAoB,WAChBxoE,EAAMspE,oBAAqB,EACtBtpE,EAAMqpE,kBACPrpE,EAAMusE,sBAGlB,MACJ,QACI/tE,KAAKivE,4BAA4Bz6B,EAAQw5B,GAIjD,OADAA,GAAOA,EAAI59C,mBACJ,GAEXs6C,EAAiB1rE,UAAUssE,iBAAmB,WAC1C,IAAKtrE,KAAK4qE,WAAY,CAClB,IAAI3K,EAASjgE,KAAK4iB,OAAO5X,GACrBi1D,IACAA,GAAU,eAEd,IAAIiP,EAAS,GACbA,EAAOnpE,KAAK,CACRiF,GAAI,SACJsP,KAAM,IAAK7T,QAAQ,gBAEnBzG,KAAKo6D,MAAM/lD,QAAQ86D,oBACnBD,EAAOnpE,KAAK,CACRiF,GAAI,SACJsP,KAAM,IAAK7T,QAAQ,qBAG3ByoE,EAAOnpE,KAAK,CACRiF,GAAI,SACJsP,KAAM,IAAK7T,QAAQ,eAEvB,IAAI8V,EAAQ,GACZA,EAAMxW,KAAK,CACPiF,GAAI,UACJsP,KAAM,IACNiC,MAAO2yD,IAEX,IAAIE,EAAYpvE,KAAKo6D,MAAM/lD,QAAQg7D,aAAervE,KAAKo6D,MAAMkV,kBAAkBpyD,OAAOld,KAAKo6D,MAAMmV,mBAC7FvvE,KAAKo6D,MAAMmV,kBACfhzD,EAAMxW,KAAK,CACPiF,GAAI,UACJsP,KAAM,IAAK7T,QAAQ,gBACnB8V,MAAO6yD,IAEX,IAAII,EAAQxvE,KAAKyvE,0BACbD,GAASvlE,MAAMC,QAAQslE,KACvBjzD,EAAQA,EAAMW,OAAOsyD,IAEzB,IAAInW,EAAc,CACd98C,MAAOA,EACPvR,GAAIi1D,EACJsC,sBAAsB,EACtBvC,iBAAiB,EACjBN,cAAc,GAElB1/D,KAAK4qE,WAAa,IAAI,EAAUvR,KAGxCqR,EAAiB1rE,UAAUgwE,2BAA6B,WACpD,IAAIU,EAAc,GASlB,OARI1vE,KAAK4iB,OAAOwU,SACZs4C,EAAY3pE,KAAK,UAGjB/F,KAAK4iB,OAAOkxB,YACZ47B,EAAY3pE,KAAK,UAGd2pE,GAEJhF,EAzpB0B,GItBjC,EAAwC,WACxC,IAAIh4D,EAAgB,SAAUhV,EAAG0I,GAI7B,OAHAsM,EAAgB5U,OAAOyV,gBAClB,CAAEC,UAAW,cAAgBvJ,OAAS,SAAUvM,EAAG0I,GAAK1I,EAAE8V,UAAYpN,IACvE,SAAU1I,EAAG0I,GAAK,IAAK,IAAIlH,KAAKkH,EAAOA,EAAEnH,eAAeC,KAAIxB,EAAEwB,GAAKkH,EAAElH,MACpDxB,EAAG0I,IAE5B,OAAO,SAAU1I,EAAG0I,GAEhB,SAASqN,IAAOzT,KAAK0T,YAAchW,EADnCgV,EAAchV,EAAG0I,GAEjB1I,EAAEsB,UAAkB,OAANoH,EAAatI,OAAOY,OAAO0H,IAAMqN,EAAGzU,UAAYoH,EAAEpH,UAAW,IAAIyU,IAV3C,GAkBxC,EAAwC,SAAUK,GAElD,SAAS67D,IACL,OAAkB,OAAX77D,GAAmBA,EAAOF,MAAM5T,KAAM2G,YAAc3G,KAgK/D,OAlKA,EAAU2vE,EAAwB77D,GAIlC67D,EAAuB3wE,UAAUusE,gBAAkB,WAC/C,OAAOz3D,EAAO9U,UAAUusE,gBAAgBhuE,KAAKyC,MAAQ,IAAMA,KAAKozB,UAAY,QAAUpzB,KAAKozB,UAAY,uBAE3Gu8C,EAAuB3wE,UAAUysE,sBAAwB,WACrD,IAAIjqE,EAAQxB,KACZ,OAAO,YAAM,OACRmqB,SAASnqB,KAAKozB,UAAY,eAC1BjJ,SAAS,IAAa4nC,qBACtB9oC,SAAS,OAAO,SAAUE,GAAW,OAAOA,EAC5CgB,SAAS3oB,EAAM4xB,UAAY,cAAe5xB,EAAM4xB,UAAY,gBAC5DjJ,SAAS,IAAa4nC,qBACtB1oC,gBAAgB7nB,EAAMouE,2BACtB9jD,SAET6jD,EAAuB3wE,UAAU4wE,qBAAuB,WACpD,IAAIpuE,EAAQxB,KACR++D,EAAc/+D,KAAKmuE,oBAAoBnuE,KAAK+qE,UAChD,OAAI/qE,KAAK+X,aACE,YAAM,KACRR,KAAK,OAAQ,sBACbiS,MAAMu1C,GACNzkD,KAAKykD,GACLp0C,GAAG,SAAS,SAAUyE,GAQvB,OAPAA,EAAGgB,kBAEH5uB,EAAM44D,MAAMyV,iBAAiB,CACzB3tC,OAAQ9S,EAAG3lB,OACXmgE,YAAa,KACbG,qBAAsBvoE,EAAMsuE,mCAAmClxE,KAAK4C,MAEjE,KAENsqB,QAEF,YAAM,QACRxR,KAAKykD,GACLv1C,MAAMu1C,GACNjzC,SAET6jD,EAAuB3wE,UAAU8wE,mCAAqC,SAAUzvE,EAAMkJ,GAClF,IAAIwmE,EAAS1vE,EAAK2K,GAKlB,OAHAhL,KAAK4iB,OAAOxK,KAAK2H,SAASgwD,GAAQ,GAClC/vE,KAAK4iB,OAAO5M,QAAU,GACtBhW,KAAKusE,qBACE,GAEXoD,EAAuB3wE,UAAUmuE,OAAS,WACtC,IAAIz9B,EAAM1vC,KAAK4iB,OAAOxK,KAAK1R,KAAK,GAChC,OAAIgpC,GACY1vC,KAAKo6D,MAAM5Z,aAAapO,WACvBr2B,kBAAkB2zB,EAAIrxC,MAAO,iBAMlDsxE,EAAuB3wE,UAAUqvE,kBAAoB,SAAUj/C,GAC3D,IAAI5tB,EAAQxB,KACZA,KAAK8qE,oBAAqB,EAC1B9qE,KAAK2qE,aAAad,SAAS,CACvB3nC,OAAQ9S,EAAG3lB,OACXmgE,YAAa,KACbG,qBAAsB,SAAU1pE,EAAMkc,GAElC,OADA/a,EAAMytE,4BAA4B5uE,EAAK2K,GAAI,OACpC,GAEXg/D,mBAAoB,WAChBxoE,EAAMspE,oBAAqB,EACtBtpE,EAAMqpE,kBACPrpE,EAAM6jB,QAAQ8H,cAAc,YAAmB,mBAK/DwiD,EAAuB3wE,UAAUgxE,sBAAwB,WACrD,IAAIxuE,EAAQxB,KACAA,KAAK4iB,OAAOyvB,WAClB+J,iBAAiBp8C,KAAK4iB,OAAQ,IAAQu2B,WAC5C,IAAInwB,EAAgBhpB,KAAKqlB,QAAQ2D,cACjCpE,YAAW,WAEP,IAAIqrD,EAAajnD,EAAcke,cAAc,gBAAkB1lC,EAAMohB,OAAO5X,GAAK,mBAAqBxJ,EAAM4xB,UAAY,8BAAgC5xB,EAAM4xB,UAAY,oBACtK68C,GACAA,EAAWxtB,UAChB,KACHziD,KAAKusE,qBAEToD,EAAuB3wE,UAAUkxE,iBAAmB,SAAUx/B,GAC9C1wC,KAAK4iB,OAAOyvB,WAClB+J,iBAAiBp8C,KAAK4iB,OAAQ,IAAQo2B,kBAAmB,CAAEtI,OAAQA,IACzE1wC,KAAKusE,qBAEToD,EAAuB3wE,UAAUiwE,4BAA8B,SAAUz6B,EAAQw5B,GAO7E,MANe,cAAXx5B,EACAx0C,KAAKgwE,wBAGLhwE,KAAKkwE,iBAAiB17B,IAEnB,GAEXm7B,EAAuB3wE,UAAUywE,wBAA0B,WAQvD,IAPA,IAMI7+B,EANAr0B,EAAQ,GACRkyD,EAAQzuE,KAAKo6D,MAAM5Z,aAAapO,WAAWjB,mBAC3Cy9B,GAAY,EACZF,GAAc,EACdnlE,EAAO,KACPyS,EAAYhc,KAAKm/B,eAEZj0B,EAAM,EAAGA,EAAMujE,EAAMvtE,OAAQgK,IAC7BujE,EAAMvjE,KAEX0jE,GAAY,EACU,QAAlBH,EAAMvjE,GAAKF,IAAkC,QAAlByjE,EAAMvjE,GAAKF,GACtC4jE,EAAY,CAAC,IAAS95C,QAAS,IAASjsB,KAAM,IAASK,SAAU,IAASD,MAAO,IAASF,MACtF,IAASC,MAAO,IAASF,MAAMwC,QAAQ0Q,EAAUjU,WAAa,EAE3C,QAAlB0mE,EAAMvjE,GAAKF,IAAkC,QAAlByjE,EAAMvjE,GAAKF,KAC3C4jE,EAAY,CAAC,IAAS95C,QAAS,IAASyZ,IAAK,IAAS1lC,KAAM,IAASK,SAAU,IAAS9D,KAAM,IAAS1F,SAAU,IAASwI,KACtH,IAASe,MAAO,IAASF,MAAO,IAASC,MAAO,IAASF,MAAMwC,QAAQ0Q,EAAUjU,WAAa,GAElG/H,KAAK4iB,OAAOxK,KAAKy4B,OAAS49B,EAAMvjE,GAAKF,IAAO4jE,IAC5CF,GAAc,GAEdE,IACAh+B,EAAc5wC,KAAKo6D,MAAM5Z,aAAapO,WAAW3B,uBAAuBg+B,EAAMvjE,GAAKF,IACnFzB,EAAO,CACHyB,GAAIyjE,EAAMvjE,GAAKF,GACfsP,KAAMs2B,GAEVr0B,EAAMxW,KAAKwD,KAqBnB,OAlBKmlE,IACD1uE,KAAK4iB,OAAOxK,KAAKy4B,KAAOt0B,EAAM,GAAGvR,IAGlBhL,KAAKo6D,MACPyU,gCACbtlE,EAAO,CACHyB,GAAI,mBACJsP,KAAM,OAEViC,EAAMxW,KAAKwD,GAEXA,EAAO,CACHyB,GAAI,YACJsP,KAHJs2B,EAAc,IAAKnqC,QAAQ,qBAK3B8V,EAAMxW,KAAKwD,IAER,CAAC,CACAyB,GAAI,UACJsP,KAAM,IAAK7T,QAAQ,gBACnB8V,MAAOA,KAGZozD,EAnKgC,CAoKzC,GCtLE,EAAwC,WACxC,IAAIj9D,EAAgB,SAAUhV,EAAG0I,GAI7B,OAHAsM,EAAgB5U,OAAOyV,gBAClB,CAAEC,UAAW,cAAgBvJ,OAAS,SAAUvM,EAAG0I,GAAK1I,EAAE8V,UAAYpN,IACvE,SAAU1I,EAAG0I,GAAK,IAAK,IAAIlH,KAAKkH,EAAOA,EAAEnH,eAAeC,KAAIxB,EAAEwB,GAAKkH,EAAElH,MACpDxB,EAAG0I,IAE5B,OAAO,SAAU1I,EAAG0I,GAEhB,SAASqN,IAAOzT,KAAK0T,YAAchW,EADnCgV,EAAchV,EAAG0I,GAEjB1I,EAAEsB,UAAkB,OAANoH,EAAatI,OAAOY,OAAO0H,IAAMqN,EAAGzU,UAAYoH,EAAEpH,UAAW,IAAIyU,IAV3C,GAoBxC,EAA0C,SAAUK,GAEpD,SAASq8D,IACL,IAAI3uE,EAAmB,OAAXsS,GAAmBA,EAAOF,MAAM5T,KAAM2G,YAAc3G,KAEhE,OADAwB,EAAM4uE,oBAAsB,IAAI7F,EACzB/oE,EAsJX,OA1JA,EAAU2uE,EAA0Br8D,GAMpCq8D,EAAyBnxE,UAAUusE,gBAAkB,WACjD,OAAOz3D,EAAO9U,UAAUusE,gBAAgBhuE,KAAKyC,MAAQ,IAAMA,KAAKozB,UAAY,QAAUpzB,KAAKozB,UAAY,oBAE3G+8C,EAAyBnxE,UAAUmgC,aAAe,WAC9C,OAAOn/B,KAAKo6D,MACP5Z,aACApO,WACAx2B,iBAAiB5b,KAAK4iB,OAAOxK,KAAK1R,KAAK,GAAGrI,QAEnD8xE,EAAyBnxE,UAAUwtE,wBAA0B,WACzD,OAAOxsE,KAAKkuE,oBAAoBluE,KAAK+qE,UAAY,IAC3C/qE,KAAKo6D,MAAM5Z,aAAapO,WAAW3B,uBAAuBzwC,KAAK4iB,OAAOxK,KAAKy4B,OAErFs/B,EAAyBnxE,UAAUysE,sBAAwB,WACvD,IAAIjqE,EAAQxB,KACRqW,EAAQrW,KAAKo6D,MAAM5Z,aAAapO,WAChCi+B,EAAmB,YAAM,OACxBlmD,SAASnqB,KAAKozB,UAAY,cAAepzB,KAAKozB,UAAY,oBAC1DjJ,SAAS,IAAa4nC,qBACvB/pD,EAASqO,EAAMy6B,sBAAsB9wC,KAAK4iB,OAAOxK,KAAKy4B,MAC1D,GAAK7oC,GAAqB,KAAXA,EAAf,CAEA,IAAIsoE,EAAYtwE,KAAKuwE,mBAAmBvoE,GACxC,GAAyB,IAArBsoE,EAAUpvE,OAAd,CA6DA,IA3DA,IAAIqI,EAAO,KACP0B,EAAYqlE,EAAUpvE,OACtBuiC,EAAU,SAAUv4B,GAEpB,GAAkB,KADlB3B,EAAO+mE,EAAUplE,IACRoT,KACL,GAAIs+C,EAAO7kD,aAAc,CACrB,IAAIy4D,EAAiB,YAAM,KACtBj5D,KAAK,OAAQ,sBACb+C,KAAK/Q,EAAK+Q,MACVqQ,GAAG,SAAS,SAAUyE,GACvBA,EAAGgB,kBACH5uB,EAAMmpE,aAAad,SAAS,CACxB3nC,OAAQsuC,EAAe1kD,QACvB89C,YAAa,KACbG,qBAAsB,SAAU1pE,EAAMkc,GAClB,cAAZlc,EAAK2K,GACLxJ,EAAMwuE,yBAGNxuE,EAAMohB,OAAOxK,KAAKy4B,KAAOxwC,EAAK2K,GAC9BxJ,EAAMohB,OAAO5M,QAAU,GACvBxU,EAAM+qE,2BAKtB8D,EACKpnD,SAAS,OAAO,SAAUE,GAAW,OAAOA,EAC5CgB,SAAS3oB,EAAM4xB,UAAY,cAAe5xB,EAAM4xB,UAAY,oBAC5DjJ,SAAS,IAAa4nC,qBACtB1oC,gBAAgBmnD,EAAe1kD,iBAGpCukD,EACKpnD,SAAS,OAAO,SAAU7iB,GAAK,OAAOA,EACtC+jB,SAAS3oB,EAAM4xB,UAAY,cAAe5xB,EAAM4xB,UAAY,oBAC5DjJ,SAAS,IAAa4nC,qBACtB9oC,SAAS,QAAQ,SAAU7iB,GAAK,OAAOA,EACvCkU,KAAK/Q,EAAK+Q,MACVkP,MAAMjgB,EAAK+Q,iBAGD,IAAd/Q,EAAK+U,KACV+xD,EACKpnD,SAAS,OAAO,SAAUE,GAAW,OAAOA,EAC5CgB,SAAS3oB,EAAM4xB,UAAY,cAAe5xB,EAAM4xB,UAAY,gBAC5DjJ,SAAS,IAAa4nC,qBACtB1oC,gBAAgB7nB,EAAMouE,2BAER,IAAdrmE,EAAK+U,MACV+xD,EACKpnD,SAAS,QAAQ,SAAUE,GAAW,OAAOA,EAC7CgB,SAAS3oB,EAAM4xB,UAAY,eAC3BjJ,SAAS,IAAa4nC,qBACtBz3C,KAAK/Q,EAAK+Q,MACVkP,MAAMjgB,EAAK+Q,UAGpBsiD,EAAS58D,KACJkL,EAAM,EAAGA,EAAMD,EAAWC,IAC/Bu4B,EAAQv4B,GAEZ,OAAOmlE,EAAiBvkD,WAE5BqkD,EAAyBnxE,UAAU6sE,uBAAyB,WACxD,IAAI4E,EAAS38D,EAAO9U,UAAU6sE,uBAAuBtuE,KAAKyC,MAK1D,OAJIywE,IACAA,EAAOn2C,kBAAkBhQ,UAAU3L,IAAI,cACvC8xD,EAAOn2C,kBAAkB/Q,aAAa,QAAS,IAAK9iB,QAAQ,oBAEzDgqE,GAEXN,EAAyBnxE,UAAU8wE,mCAAqC,SAAUzvE,EAAMkJ,GACpF,IAAIwmE,EAAS1vE,EAAK2K,GAKlB,OAHAhL,KAAK4iB,OAAOxK,KAAK1R,KAAK,GAAGqZ,SAASgwD,GAAQ,GAC1C/vE,KAAK4iB,OAAO5M,QAAU,GACtBhW,KAAKusE,qBACE,GAEX4D,EAAyBnxE,UAAU0xE,mBAAqB,WACxC1wE,KAAK4iB,OAAOyvB,WAClB+J,iBAAiBp8C,KAAK4iB,OAAQ,IAAQ+sB,iBAC5C3vC,KAAKusE,qBAET4D,EAAyBnxE,UAAUuxE,mBAAqB,SAAUvoE,GAC9D,IAAKA,EACD,MAAO,GACX,IAAI7F,EAAS,GACTwuE,EAAS3wE,KAAKowE,oBAElB,IADAO,EAAO3kE,MAAMhE,GACN2oE,EAAOhtC,QAAQ,CAClB,IAAIwE,EAAQwoC,EAAOroC,WACfN,EAAY2oC,EAAOnG,eACT,aAAVriC,EACAhmC,EAAO4D,KAAK,CAAEuY,KAAM,EAAGhE,KAAM0tB,IAEd,eAAVG,EACLhmC,EAAO4D,KAAK,CAAEuY,KAAM,IAEL,SAAV6pB,GACLhmC,EAAO4D,KAAK,CAAEuY,KAAM,EAAGhE,KAAM0tB,IAGrC,OAAO7lC,GAEXguE,EAAyBnxE,UAAUqvE,kBAAoB,SAAUj/C,GAC7DpvB,KAAK0wE,sBAETP,EAAyBnxE,UAAUiwE,4BAA8B,SAAUz6B,EAAQw5B,GAE/E,OADAhuE,KAAK0wE,sBACE,GAEXP,EAAyBnxE,UAAUywE,wBAA0B,WACzD,MAAO,CAAC,CACAzkE,GAAI,UACJsP,KAAM,IAAK7T,QAAQ,gBACnB8V,MAAO,CAAC,CACAvR,GAAI,OACJsP,KAAM,IAAK7T,QAAQ,sBAIhC0pE,EA3JkC,CA4J3C,GChLE,EAAwC,WACxC,IAAIz9D,EAAgB,SAAUhV,EAAG0I,GAI7B,OAHAsM,EAAgB5U,OAAOyV,gBAClB,CAAEC,UAAW,cAAgBvJ,OAAS,SAAUvM,EAAG0I,GAAK1I,EAAE8V,UAAYpN,IACvE,SAAU1I,EAAG0I,GAAK,IAAK,IAAIlH,KAAKkH,EAAOA,EAAEnH,eAAeC,KAAIxB,EAAEwB,GAAKkH,EAAElH,MACpDxB,EAAG0I,IAE5B,OAAO,SAAU1I,EAAG0I,GAEhB,SAASqN,IAAOzT,KAAK0T,YAAchW,EADnCgV,EAAchV,EAAG0I,GAEjB1I,EAAEsB,UAAkB,OAANoH,EAAatI,OAAOY,OAAO0H,IAAMqN,EAAGzU,UAAYoH,EAAEpH,UAAW,IAAIyU,IAV3C,GAkBxC,EAA2C,SAAUK,GAErD,SAAS88D,IACL,OAAkB,OAAX98D,GAAmBA,EAAOF,MAAM5T,KAAM2G,YAAc3G,KA2H/D,OA7HA,EAAU4wE,EAA2B98D,GAIrC88D,EAA0B5xE,UAAUusE,gBAAkB,WAClD,OAAOvrE,KAAKozB,UAAY,QAAUpzB,KAAKozB,UAAY,sBAAwBtf,EAAO9U,UAAUusE,gBAAgBhuE,KAAKyC,OAErH4wE,EAA0B5xE,UAAU6sE,uBAAyB,WACzD,IAAI4E,EAAS38D,EAAO9U,UAAU6sE,uBAAuBtuE,KAAKyC,MAK1D,OAJIywE,IACAA,EAAOn2C,kBAAkBhQ,UAAU3L,IAAI,cACvC8xD,EAAOn2C,kBAAkB/Q,aAAa,QAAS,IAAK9iB,QAAQ,oBAEzDgqE,GAEXG,EAA0B5xE,UAAUysE,sBAAwB,WACxD,IAAIjqE,EAAQxB,KACPA,KAAK4iB,OAAO5M,SAAkC,IAAvBhW,KAAK4iB,OAAO5M,UACpChW,KAAK4iB,OAAO5M,QAAUhW,KAAKwsE,2BAE/B,IAAIqE,EAAY,YAAM,OACjB1mD,SAASnqB,KAAKozB,UAAY,eAC1BjJ,SAAS,IAAa4nC,qBACtBjmC,QACD3C,EAAU,YAAM,MAAO0nD,GACtB1mD,SAASnqB,KAAKozB,UAAY,cAAepzB,KAAKozB,UAAY,gBAC1DjJ,SAAS,IAAa4nC,qBA+D3B,OA9DI/xD,KAAK+X,aACLoR,EACKF,SAAS,KAAK,SAAU7iB,GAAK,OAAOA,EACpCmR,KAAK,OAAQ,sBACbiS,MAAMhoB,EAAMohB,OAAO5M,SACnBsE,KAAK9Y,EAAMohB,OAAO5M,SAClB2U,GAAG,oBAAoB,SAAUyE,GAClCA,EAAGgB,kBACH,IAAI/K,EAAU+J,EAAG3lB,OACbgjE,EAAUpnD,EAAQ2D,cAAcke,cAAc,SAC9CulC,IACApnD,EAAQO,MAAMC,QAAU,OACxB4mD,EAAQ7mD,MAAMwC,eAAe,WAC7BqkD,EAAQ7mD,MAAMjZ,MAAQ,OACtB8/D,EAAQrtC,eAIXnW,SAAS,SAAS,SAAU7iB,GAAK,OAAOA,EACxC0jB,OACAzrB,MAAMmD,EAAMohB,OAAOxK,KAAKkyB,KACxB3f,GAAG,gBAAgB,SAAUyE,GAC9B,IAAIu9C,GAAa,EACbC,GAAO,EAeX,GAdIx9C,aAAcy9C,cAEK,KAAfz9C,EAAGrC,QACH4/C,GAAa,EAGO,KAAfv9C,EAAGrC,UACR4/C,GAAa,EACbC,GAAO,GAGNx9C,aAAc09C,aACnBH,GAAa,GAEbA,EAAY,CACZ,IAAIF,EAAUr9C,EAAG3lB,OACbsjE,EAAMN,EAAQzjD,cAAcke,cAAc,KAC1C6lC,IACAA,EAAInnD,MAAMwC,eAAe,WACzBqkD,EAAQ7mD,MAAMC,QAAU,QAExB+mD,GAAQprE,EAAMohB,OAAOxK,KAAKkyB,MAAQmiC,EAAQpuE,OAC1CmD,EAAMohB,OAAOxK,KAAKkyB,IAAMmiC,EAAQpuE,MAChCmD,EAAM+qE,qBAGNE,EAAQpuE,MAAQmD,EAAMohB,OAAOxK,KAAKkyB,WAM9CnhB,EACKF,SAAS,QAAQ,SAAU7iB,GAC5BA,EAAEkU,KAAK9Y,EAAMohB,OAAO5M,SACfwT,MAAMhoB,EAAMohB,OAAO5M,YAGzB66D,GAEXD,EAA0B5xE,UAAU0xE,mBAAqB,WACzC1wE,KAAK4iB,OAAOyvB,WAClB+J,iBAAiBp8C,KAAK4iB,OAAQ,IAAQ+sB,iBAC5C3vC,KAAKusE,qBAETqE,EAA0B5xE,UAAUwtE,wBAA0B,WAC1D,MAAO,qBAEXoE,EAA0B5xE,UAAU8xE,gBAAkB,WAClD,OAAO9wE,KAAK4iB,OAAOxK,KAAKkyB,KAE5BsmC,EAA0B5xE,UAAUmuE,OAAS,WACzC,OAAO,GAEXyD,EAA0B5xE,UAAUqvE,kBAAoB,SAAUj/C,GAC9DpvB,KAAK0wE,sBAETE,EAA0B5xE,UAAUiwE,4BAA8B,SAAUz6B,EAAQw5B,GAEhF,OADAhuE,KAAK0wE,sBACE,GAEXE,EAA0B5xE,UAAUqsE,mBAAqB,aAGzDuF,EAA0B5xE,UAAUywE,wBAA0B,WAC1D,MAAO,CAAC,CACAzkE,GAAI,UACJsP,KAAM,IAAK7T,QAAQ,gBACnB8V,MAAO,CAAC,CACAvR,GAAI,OACJsP,KAAM,IAAK7T,QAAQ,sBAIhCmqE,EA9HmC,CA+H5C,GCjJE,EAAwC,WACxC,IAAIl+D,EAAgB,SAAUhV,EAAG0I,GAI7B,OAHAsM,EAAgB5U,OAAOyV,gBAClB,CAAEC,UAAW,cAAgBvJ,OAAS,SAAUvM,EAAG0I,GAAK1I,EAAE8V,UAAYpN,IACvE,SAAU1I,EAAG0I,GAAK,IAAK,IAAIlH,KAAKkH,EAAOA,EAAEnH,eAAeC,KAAIxB,EAAEwB,GAAKkH,EAAElH,MACpDxB,EAAG0I,IAE5B,OAAO,SAAU1I,EAAG0I,GAEhB,SAASqN,IAAOzT,KAAK0T,YAAchW,EADnCgV,EAAchV,EAAG0I,GAEjB1I,EAAEsB,UAAkB,OAANoH,EAAatI,OAAOY,OAAO0H,IAAMqN,EAAGzU,UAAYoH,EAAEpH,UAAW,IAAIyU,IAV3C,GAuBxC,EAA8B,SAAUK,GAExC,SAASi9D,EAAar6C,GAClB,IAAIl1B,EAAQsS,EAAOvW,KAAKyC,KAAM02B,IAAS12B,KAuCvC,OAtCAwB,EAAM6S,QAAU,CACZktD,YAAY,EACZyP,aAAc,KACdC,YAAY,EACZC,YAAY,EACZxF,kBAAkB,EAClBzS,kBAAkB,EAClBkY,iBAAiB,EACjBC,wBAAwB,EACxB/B,cAAc,EACdnW,kBAAmB,kBACnBkV,mBAAoB,KACpBlM,QAAS,KACTiK,mBAAmB,EACnBnT,oBAAoB,EACpBqY,mBAAoB,GACpBt6C,eAAe,EACfsiC,YAAa,CACTC,mBAAoB,GACpB6O,oBAAoB,EACpB5O,qBAAqB,EACrBwP,cAAc,EACd7I,qBAAsB,MAE1BjjD,cAAe,EACfD,cAAc,EACds0D,uBAAwB,KACxBC,qBAAsB,EACtBpC,oBAAoB,GAExB3tE,EAAMq2B,YAAc,YAAM,OACrB1N,SAAS3oB,EAAM4xB,UAAY,qBAC3B/J,gBAAgB,YAAM,OACtByC,SACAA,QACLtqB,EAAMo2B,cAAgB,EACtBp2B,EAAMk1B,KAAKpM,UAAU3L,IAAInd,EAAM4xB,UAAY,UAC3C5xB,EAAM8tD,MAAQ,IAAYpe,MACnB1vC,EA6mBX,OAtpBA,EAAUuvE,EAAcj9D,GA2CxBhW,OAAOC,eAAegzE,EAAa/xE,UAAW,YAAa,CACvDf,IAAK,WACD,MAAO,WAEXD,YAAY,EACZ0gB,cAAc,IAElBqyD,EAAa/xE,UAAUosD,cAAgB,WACnC,MAAO,gBAEX2lB,EAAa/xE,UAAUi5B,KAAO,SAAUknB,EAAS9qC,GAC7C,IAAI7S,EAAQxB,KACZ8T,EAAO9U,UAAUi5B,KAAK16B,KAAKyC,KAAMm/C,EAAS9qC,GAC1CrU,KAAKq6D,WAAWhmD,GAChB,IAAIgC,EAAQ8oC,EAAQ/M,WACpBpyC,KAAKwxE,sBACLxxE,KAAKyxE,sBACL,IAAc5/C,oBAAoB7xB,KAAK02B,MACnC12B,KAAKqU,QAAQ0iB,eACb,IAAcnF,sBAAsB,CAChCvM,QAASrlB,KAAK02B,KACdnF,OAAQ,CAAC,aAAc,kBACvBsB,YAAa,SAAUvB,EAAWlC,GAE9B,GADA5tB,EAAMk1B,KAAKpM,UAAU3L,IAAI,IAAc,cACjB,mBAAlByQ,EAAG7lB,KAAKwnB,MACRvvB,EAAMw3B,gBAAgB5J,EAAGL,MAAOK,EAAGJ,WAElC,CACD,IAAInT,EAASuT,EAAG/uB,KAAKwb,OAChBxF,EAAM0F,kBAAkBF,EAAQ,iBACjCuT,EAAGP,WAAa,IAAW2D,QAE/BpD,EAAGT,UAAUrE,UAAU3L,IAAI,wBAGnC2T,WAAY,SAAUhB,EAAWlC,GAC7B,IAAIvT,EAASuT,EAAG/uB,KAAKwb,QACC,mBAAlBuT,EAAG7lB,KAAKwnB,OACR1a,EAAM0F,kBAAkBF,EAAQ,iBAChCra,EAAMw3B,gBAAgB5J,EAAGL,MAAOK,EAAGJ,QAG3CyC,YAAa,SAAUH,EAAWlC,GACR,mBAAlBA,EAAG7lB,KAAKwnB,MACR3B,EAAGP,WAAa,IAAW2D,QAG3BpD,EAAGT,UAAUrE,UAAUE,OAAO,sBAC9B4E,EAAGT,UAAU/I,MAAMwC,eAAe,UAEtC5mB,EAAMk1B,KAAKpM,UAAUE,OAAO,IAAc,cAC1ChpB,EAAMy3B,mBAEVzH,OAAQ,SAAUF,EAAWlC,GACzB,GAAqB,kBAAjBA,EAAG7lB,KAAKwnB,MAA2B,CACnC,IAEIllB,EAFQrK,EAAMg/C,aAAanO,WACX/Y,aACAhuB,QAAQ8jB,EAAG/uB,KAAKuiB,QACpCphB,EAAMkwE,eAAe7lE,EAAOrK,EAAMo2B,kBAEjC,CACD,IAAI/b,EAASuT,EAAG/uB,KAAKwb,OACrBra,EAAMmwE,aAAa91D,EAAQra,EAAMo2B,mBAMrDm5C,EAAa/xE,UAAU4yE,mBAAqB,WACxC,IAAIpwE,EAAQxB,KACR6xE,EAAc,EAClB,GAAI7xE,KAAKqU,QAAQ68D,WAAY,CACzB,IAAIY,EAAgB,YAAM,MAAO9xE,KAAK02B,MACjC5M,OACAK,SAASnqB,KAAKozB,UAAY,WAC1BjJ,SAAS,IAAa4nC,qBACtB9oC,SAAS,OAAO,SAAUE,GAAW,OAAOA,EAC5CgB,SAAS3oB,EAAM4xB,UAAY,sBAC3B9Y,KAAK,IAAK7T,QAAQ,yBACe,IAAlCzG,KAAKqU,QAAQq3D,kBACboG,EACK7oD,SAAS,OAAO,SAAUE,GAAW,OAAOA,EAC5CgB,SAAS3oB,EAAM4xB,UAAY,iBAC3B9Y,KAAK,IAAK7T,QAAQ,mBAE3BzG,KAAK+xE,cAAgBD,EAAchmD,QACnC+lD,GAAe7xE,KAAK+xE,cAAc1rD,aAEtCrmB,KAAKgyE,aACD,YAAM,MAAOhyE,KAAK02B,MACbvM,SAASnqB,KAAKozB,UAAY,YAC1BjJ,SAAS,IAAa4nC,qBACtBjmC,QACL9rB,KAAKqU,QAAQ48D,aACbjxE,KAAKiyE,cACD,YAAM,MAAOjyE,KAAK02B,MACbvM,SAAS,IAAc,UAAWnqB,KAAKozB,UAAY,UAAW,IAAc,iBAC5EjJ,SAAS,IAAa4nC,qBACtB9oC,SAAS,KAAK,SAAUE,GAAW,OAAOA,EAC1C5R,KAAK,OAAQ,sBACb+C,KAAK,IAAK7T,QAAQ,wBAClBkkB,GAAG,SAAS,SAAU6B,GACvBA,EAAEQ,iBACFxrB,EAAMquE,iBAAiB,CACnB3tC,OAAQ1V,EAAE/iB,OACVmgE,YAAa,KACbG,qBAAsB,SAAU1pE,EAAMkc,GAClC,IAAIwzD,EAAS1vE,EAAK2K,GAElB,OADAxJ,EAAMmwE,aAAa5B,IACZ,WAIdjkD,QACT+lD,GAAe7xE,KAAKiyE,cAAc5rD,cAEtCrmB,KAAKgyE,aAAapsD,MAAMqiD,UAAYjoE,KAAK02B,KAAKrQ,aAAewrD,EAAc,GAAK,MAEpFd,EAAa/xE,UAAUuwD,YAAc,WACjC,IAAc19B,oBAAoB7xB,KAAK02B,MACvC12B,KAAKwxE,sBACLxxE,KAAK02B,KAAKpL,UAAY,IAE1BylD,EAAa/xE,UAAUyyE,oBAAsB,WACzC,IAAIjwE,EAAQxB,KACRyuC,EAAQzuC,KAAKqyC,WACjBryC,KAAKkyE,qBAAuBzjC,EAAM+P,oBAAmB,SAAUx6B,GAE3D,IAAIy3C,EAAQz3C,EAAM3jB,KAClB,GAAKo7D,IAAUA,EAAMpnB,MAAQ,IAAgBE,SAAWknB,EAAMpnB,MAAQ,IAAgB1L,KAAtF,CAGA,IAAIwpC,EAAgBtlE,SAASi9D,cACzBsI,EAAgB5wE,EAAMk1B,KAAK6O,SAAS4sC,IAAkBA,GAAiBtlE,SAASD,KACpF,OAAQ6uD,EAAMjnB,QACV,KAAK,IAAkBC,OACnB,IAAIh1B,EAAUg8C,EAAM/mB,QAChB29B,EAAiB,SAAUzvD,GAC3B,IAAI0vD,EAAQ9wE,EAAMwwE,aAAa9qC,cAAc,gBAAkBtkB,EAAO5X,GAAK,MAC3E,GAAIsnE,EAAO,CACP,IAAI1hD,EAAWpvB,EAAM+wE,kBAAkB3vD,EAAQ0vD,GAC/C,GAAI1hD,EAAU,CACV,IAAI4hD,EAAQ5hD,EAAS6I,SACrB,GAAI24C,EAAe,CACf,IAAIK,EAAYD,EAAMtrC,cAAc,MAAQsrC,EAAMtrC,cAAc,uBAC5DurC,GACAA,EAAUrzC,YAM1Bn1B,MAAMC,QAAQuV,GACdA,EAAQkD,SAAQ,SAAU9D,GAAO,OAAOwzD,EAAexzD,MAGvDwzD,EAAe5yD,GAEnBje,EAAMkxE,yBACN,MAEJ,KAAK,IAAkB1V,IACfv9C,EAAUg8C,EAAM/mB,QAApB,IACIi+B,EAAc,SAAU/vD,GACxB,IAAI/W,EAAQ4iC,EAAMnV,aAAahuB,QAAQsX,GACnC4vD,EAAQhxE,EAAMoxE,iBAAiBhwD,EAAQ/W,GACvCumE,GACAI,EAAMtrC,cAAc,KAAK9H,SAG7Bn1B,MAAMC,QAAQuV,GACdA,EAAQkD,SAAQ,SAAU9D,GAAO,OAAO8zD,EAAY9zD,MAGpD8zD,EAAYlzD,GAEhBje,EAAMkxE,yBACN,MAEJ,KAAK,IAAkB79D,OACf4K,EAAUg8C,EAAM/mB,QAApB,IACIm+B,EAAiB,SAAUjwD,GAC3B,IAAI0vD,EAAQ9wE,EAAMwwE,aAAa9qC,cAAc,gBAAkBtkB,EAAO5X,GAAK,MAC3E,GAAIsnE,EAAO,CACP,IAAI3uC,EAAO2uC,EAAMxd,YACbx4B,EAAOg2C,EAAMQ,gBAEjB,GADAtxE,EAAMwwE,aAAargD,YAAY2gD,GAC3BF,EAAe,CACf,IAAIW,EAAYpvC,GAAQrH,GAAQ96B,EAAMywE,cAClCQ,EAAYM,EAAU7rC,cAAc,MAAQ6rC,EAAU7rC,cAAc,uBACpEurC,GACAA,EAAUrzC,WAK1B59B,EAAMkxE,yBACFzoE,MAAMC,QAAQuV,GACdA,EAAQkD,SAAQ,SAAU9D,GAAO,OAAOg0D,EAAeh0D,MAGvDg0D,EAAepzD,GAEnB,MAEJ,QACIje,EAAM03B,gBAKtB63C,EAAa/xE,UAAUwyE,oBAAsB,WACrCxxE,KAAKkyE,sBACOlyE,KAAKqyC,WACXoM,sBAAsBz+C,KAAKkyE,uBAGzCnB,EAAa/xE,UAAUqzC,SAAW,WAC9B,OAAOryC,KAAKwgD,aAAanO,YAE7B0+B,EAAa/xE,UAAUg6B,gBAAkB,SAAUjK,EAAOC,GAGtD,IAFA,IAAIgkD,EAAWhzE,KAAKgyE,aAAa50C,iBAAiB,WAAap9B,KAAKozB,UAAY,SAC5E3S,EAAO,GACFrjB,EAAI,EAAGA,EAAI41E,EAAS9xE,OAAQ9D,IAAK,CACtC,IAAI2iC,EAAUizC,EAAS51E,GACO,SAA1B2iC,EAAQna,MAAMC,SAElBpF,EAAK1a,KAAKg6B,GAEd,GAAoB,IAAhBtf,EAAKvf,OAGL,OAFAlB,KAAK43B,aAAe,OACpB53B,KAAKgyE,aAAavsD,YAAYzlB,KAAK63B,aAGvC,IAAImI,EAAa,YAAsBhgC,KAAK63B,aAC5C,KAAI7I,GAASgR,EAAWxY,GAAKwH,GAASgR,EAAWxY,EAAIxnB,KAAK63B,YAAYxR,cAAtE,CAGA,IAAI+T,EAAW3Z,EAAK,GAChBwyD,EAAY74C,EAAS/T,aACrB6sD,EAAS,YAAsB94C,GAC/B6F,EAAmBjR,EAAQkkD,EAAO1rD,EAAIyrD,EAAY,EAAK7mE,KAAK6b,OAAO+G,EAAQkkD,EAAO1rD,EAAIyrD,EAAY,GAAKA,GAAa,EACpHhzC,EAAkBxf,EAAKvf,SACvB++B,EAAkBxf,EAAKvf,QAEvB++B,GAAmBjgC,KAAK43B,eACxB53B,KAAK43B,aAAeqI,EAChBjgC,KAAK43B,aAAenX,EAAKvf,OACzBlB,KAAKgyE,aAAa5xC,aAAapgC,KAAK63B,YAAapX,EAAKzgB,KAAK43B,eAG3D53B,KAAKgyE,aAAavsD,YAAYzlB,KAAK63B,aAEvC73B,KAAK63B,YAAYs7C,eAAe,CAAEnX,MAAO,SAAUoX,SAAU,cAGrErC,EAAa/xE,UAAUi6B,gBAAkB,WACrC,IAAIz3B,EAAQxB,KACZA,KAAK43B,cAAgB,EACrBhT,YAAW,WACHpjB,EAAMq2B,YAAY7O,eAClBxnB,EAAMq2B,YAAY7O,cAAc2I,YAAYnwB,EAAMq2B,eAEvD,KAEPk5C,EAAa/xE,UAAUq7D,WAAa,SAAUhmD,GAC1C,IAAUlQ,WAAWnE,KAAKqU,QAASA,GAC/B,IAAaq9C,iBACb1xD,KAAKqU,QAAQ6tD,QAAU,CAAC,QACxBliE,KAAKqU,QAAQ68D,YAAa,IAGlCH,EAAa/xE,UAAUowD,mBAAqB,aAE5C2hB,EAAa/xE,UAAUqwD,iBAAmB,aAE1C0hB,EAAa/xE,UAAUmwD,YAAc,WACjCnvD,KAAKmd,QACLnd,KAAKy5B,UAETs3C,EAAa/xE,UAAUme,MAAQ,WAC3Bnd,KAAK02B,KAAKpL,UAAY,IAE1BylD,EAAa/xE,UAAUy6B,OAAS,WAC5B,IACIz5B,KAAK4xE,qBACL5xE,KAAKqzE,qBACLrzE,KAAKszE,oBACLtzE,KAAK0yE,yBACL,YAAM1yE,KAAK02B,MACNnM,YAAY,KACZJ,SAAS,IAAa4nC,qBAG3B,IAFA,IACItyC,EADQzf,KAAKm/C,QAAQ9M,WACL/Y,aACXz4B,EAAK,EAAGkuC,EAAYtvB,EAAS5e,EAAKkuC,EAAU7tC,OAAQL,IAAM,CAC/D,IAAI+hB,EAASmsB,EAAUluC,GACvBb,KAAKgyE,aAAavsD,YAAYzlB,KAAKuzE,aAAa3wD,KAGxD,MAAO4J,GACHxsB,KAAKm/C,QAAQkN,WAAW,CACpB7X,OAAQ,yBACRl6B,KAAMkS,EAAExY,YAIpB+8D,EAAa/xE,UAAU0zE,uBAAyB,WAC5C,GAAI1yE,KAAK+xE,cAAe,CACpB,IACItyD,EADQzf,KAAKm/C,QAAQ9M,WACL/Y,aACpBt5B,KAAK+xE,cAAcnsD,MAAMC,QAAWpG,EAAc,OAAI,GAAK,SAGnEsxD,EAAa/xE,UAAUu0E,aAAe,SAAU3wD,GAC5C,IAAIgO,EAAW5wB,KAAKuyE,kBAAkB3vD,GACtC,OAAIgO,EACOA,EAAS6I,SACb,MAEXs3C,EAAa/xE,UAAUqtE,mBAAqB,SAAUzpD,GAClD,IAAIgK,EACA4mD,EACA5wD,IACAgK,EAAK5sB,KAAKgyE,aAAa9qC,cAAc,eAAiBtkB,EAAO5X,GAAK,QAE9DwoE,EAAW5mD,EAAGtC,UAAUib,SAAS,WAKzC,IADA,IAAI9kB,EAAOzgB,KAAKgyE,aAAa50C,iBAAiB,IAAMp9B,KAAKozB,UAAY,QAC5Dh2B,EAAI,EAAGA,EAAIqjB,EAAKvf,OAAQ9D,IAAK,CAClC,IAAIujB,EAAMF,EAAKrjB,GACf,YAAMujB,GACD4J,YAAY,UACZvqB,KAAKqU,QAAQ83D,mBACd,YAAMxrD,GACDtgB,KAAK,eAAgB,MAG9BusB,IAAO4mD,GACP,YAAM5mD,GACDzC,SAAS,UACT9pB,KAAK,eAAgB,KAGlC0wE,EAAa/xE,UAAU2yE,aAAe,SAAU91D,EAAQhQ,GACpD,IA6BI4nE,EAAU50D,EA7BVrd,EAAQxB,KACRqW,EAAQrW,KAAKwgD,aAAapO,WAC1B3D,EAAQzuC,KAAKwgD,aAAanO,WAC1BqhC,EAAoB,SAAU3D,GAC9B,IAAI/zD,EAAY3F,EAAMuF,iBAAiBm0D,GACvC,IAAK/zD,EACD,OAAO,KAEX,IAAKA,EAAU6vB,YAAa,CACxB,IAAI7vB,EAAU7D,WAQV,OAAO,KALP,GAFA43D,EAAS/zD,EAAU7D,aACnB6D,EAAY3F,EAAMuF,iBAAiBm0D,MAChB/zD,EAAU6vB,YACzB,OAAO,KAMnB,IAAIjpB,EAAS6rB,EAAM0L,eAQnB,OAPAv3B,EAAO5M,QAAUxU,EAAMgrE,wBAAwBxwD,GAC/C4G,EAAO4wB,QAAU,IAAc3jB,KAC/BjN,EAAO6wB,WAAa,EACpB7wB,EAAOxK,KAAK2B,IAAM,IAAQ41B,gBAE1B/sB,EAAOxK,KAAK2H,SAASgwD,GAAQ,GAC7BntD,EAAO7B,OAAO7D,OAAOlB,EAAU+E,QACxB6B,GAGX,GAAI3Y,MAAMC,QAAQ2R,GAAS,CACvB43D,EAAW,GACX,IAAK,IAAIr2E,EAAI,EAAGA,EAAIye,EAAO3a,OAAQ9D,KAC/ByhB,EAAM60D,EAAkB73D,EAAOze,MAE3Bq2E,EAAS1tE,KAAK8Y,QAKtB40D,EAAWC,EAAkB73D,GAEjC,OADA7b,KAAK47C,UAAU63B,EAAU5nE,GAClB4nE,GAEX1C,EAAa/xE,UAAU48C,UAAY,SAAUh5B,EAAQ/W,GACjD,IAAI4iC,EAAQzuC,KAAKwgD,aAAanO,WACzB5D,MAID7rB,EADA3Y,MAAMC,QAAQ0Y,GACL5iB,KAAK2zE,kBAAkB/wD,GAEvB5iB,KAAK4zE,YAAYhxD,KACd3Y,MAAMC,QAAQ0Y,IAA4B,GAAjBA,EAAO1hB,SAGhDutC,EAAM0N,aAAav5B,EAAQ/W,EAAO4yD,MAClChwB,EAAMqP,wBAAwB,IAAkBkf,IAAKp6C,MAGzDmuD,EAAa/xE,UAAU4zE,iBAAmB,SAAUhwD,EAAQ/W,GACxD,IAAI4U,EAAOzgB,KAAKgyE,aAAa50C,iBAAiB,WAAap9B,KAAKozB,UAAY,SACxEygD,EAAc7zE,KAAKuzE,aAAa3wD,GAiBpC,OAhBInC,EAAKvf,OAAS,GACV2K,EAAQ4U,EAAKvf,OACblB,KAAKgyE,aAAa5xC,aAAayzC,EAAapzD,EAAK5U,KAQrD7L,KAAKgyE,aAAavsD,YAAYouD,GAC9B7zE,KAAK8zE,kBAEL9zE,KAAKqU,QAAQi9D,wBACbtxE,KAAKqU,QAAQi9D,uBAAuBuC,GAEjCA,GAEX9C,EAAa/xE,UAAU80E,eAAiB,WACpC9zE,KAAKgyE,aAAa7qD,UAAYnnB,KAAKgyE,aAAa+B,aAAe/zE,KAAKgyE,aAAanrD,cAErFkqD,EAAa/xE,UAAU20E,kBAAoB,SAAUv3C,GAGjD,IAFA,IAAW7wB,EAAM6wB,EAAKl7B,OAClBiB,EAAS,GACJu7D,EAAM,EAAGA,EAAMnyD,EAAKmyD,IACrB19D,KAAK4zE,YAAYx3C,EAAKshC,KACtBv7D,EAAO4D,KAAKq2B,EAAKshC,IAEzB,OAAOv7D,GAEX4uE,EAAa/xE,UAAU40E,YAAc,SAAU/0D,GAC3C,IAAK7e,KAAKqU,QAAQ88D,gBAGd,IAFA,IACI1xD,EADQzf,KAAKwgD,aAAanO,WACV/Y,aACXl8B,EAAI,EAAGA,EAAIqiB,EAAQve,OAAQ9D,IAChC,IAAKyhB,EAAIzG,KAAK2B,MAAQ,IAAQ41B,iBAAmBlwB,EAAQriB,GAAGgb,KAAK2B,MAAQ,IAAQ41B,iBAC1E9wB,EAAIzG,KAAK2B,MAAQ,IAAQw4B,uBAAyB9yB,EAAQriB,GAAGgb,KAAK2B,MAAQ,IAAQw4B,wBAClF1zB,EAAIzG,KAAK/Z,QAAUohB,EAAQriB,GAAGgb,KAAK/Z,MACtC,OAAO,KAInB,OAAOwgB,GAEXkyD,EAAa/xE,UAAUwtE,wBAA0B,SAAUj1D,GACvD,IAAIvP,EAAShI,KAAKqU,QAAQ+5D,oBAAsBpuE,KAAKqU,QAAQ6kD,kBAE7D,OADYl5D,KAAKwgD,aAAapO,WACjBr0B,iBAAiBxG,EAAMvP,IAExC+oE,EAAa/xE,UAAUg1E,gBAAkB,WACrC,OAAOh0E,KAAKgyE,cAEhBjB,EAAa/xE,UAAUuzE,kBAAoB,SAAU3vD,EAAQ8T,GACzD,OAAQ9T,EAAOxK,KAAK2B,KAChB,KAAK,IAAQi/B,kBACT,OAAO,IAAI,EAAyBh5C,KAAM4iB,EAAQ8T,GACtD,KAAK,IAAQyiB,UACT,OAAO,IAAI,EAA0Bn5C,KAAM4iB,EAAQ8T,GACvD,KAAK,IAAQiZ,gBACb,KAAK,IAAQ4C,sBACT,OAAO,IAAI,EAAuBvyC,KAAM4iB,EAAQ8T,GAExD,OAAO,MAEXq6C,EAAa/xE,UAAU6vE,4BAA8B,WAEjD,OADY7uE,KAAKqyC,WACJuG,QAAU54C,KAAKqU,QAAQ+8D,wBAExCL,EAAa/xE,UAAUq0E,mBAAqB,WACxC,IAAIh9D,EAAQrW,KAAKwgD,aAAapO,WAC9B,IAAK/7B,GAASA,EAAMiF,UAChB,OAAO,KACX,IAAI2kD,EAASjgE,KAAK02B,KAAK1rB,GACnBi1D,IACAA,GAAU,iBAEd,IACI5rD,EAAU,CACVrJ,GAAIi1D,EACJ1jD,MAHelG,EAAMkH,gBAAgB,CAAEwwB,QAAQ,EAAOC,QAAQ,EAAMC,QAAQ,EAAOhxB,cAAejd,KAAKqU,QAAQ4I,cAAeD,aAAchd,KAAKqU,QAAQ2I,eAIzJ+rD,aAAc/oE,KAAKqU,QAAQ+kD,yBAC3B4G,gBAAiBhgE,KAAKqU,QAAQ2rD,iBAElC,IAAUx2D,OAAO6K,EAASrU,KAAKqU,QAAQglD,aACvCr5D,KAAKi0E,aAAe,IAAI,EAAU5/D,IAEtC08D,EAAa/xE,UAAUswE,gBAAkB,WACrC,MAAO,CACH,CAAEtkE,GAAI,OAAQsP,KAAM,IAAK7T,QAAQ,iBACjC,CAAEuE,GAAI,YAAasP,KAAM,IAAK7T,QAAQ,iBACtC,CAAEuE,GAAI,aAAcsP,KAAM,IAAK7T,QAAQ,kBACvC,CAAEuE,GAAI,MAAOsP,KAAM,SAG3By2D,EAAa/xE,UAAUuwE,gBAAkB,WACrC,MAAO,CACH,CAAEvkE,GAAI,UAAWsP,KAAM,IAAK7T,QAAQ,mBACpC,CAAEuE,GAAI,SAAUsP,KAAM,IAAK7T,QAAQ,kBACnC,CAAEuE,GAAI,WAAYsP,KAAM,IAAK7T,QAAQ,kBACrC,CAAEuE,GAAI,aAAcsP,KAAM,IAAK7T,QAAQ,oBAG/CsqE,EAAa/xE,UAAUk1E,eAAiB,WACpC,IAAI79D,EAAQrW,KAAKwgD,aAAapO,WAC9B,IAAK/7B,GAASA,EAAMiF,UAChB,OAAO,KACX,IAAI2kD,EAASjgE,KAAK02B,KAAK1rB,GACnBi1D,IACAA,GAAU,aAEd,IACI5G,EAAc,CACdruD,GAAIi1D,EACJ,MAHQjgE,KAAKsvE,kBAAkBpyD,OAAOld,KAAKqtE,SAAStuD,YAIpDihD,gBAAiBhgE,KAAKqU,QAAQ2rD,gBAC9BN,cAAc,GAElB,IAAUl2D,OAAO6vD,EAAar5D,KAAKqU,QAAQglD,aAC3CA,EAAYkJ,sBAAuB,EACnCviE,KAAKotE,SAAW,IAAI,EAAU/T,IAElC0X,EAAa/xE,UAAUm1E,eAAiB,WACpC,IAAI99D,EAAQrW,KAAKwgD,aAAapO,WAC9B,IAAK/7B,GAASA,EAAMiF,UAChB,OAAO,KACX,IAAI2kD,EAASjgE,KAAK02B,KAAK1rB,GACnBi1D,IACAA,GAAU,aAEd,IAAI1jD,EAAQ,IAAUnT,gBAAgBpJ,KAAKuvE,mBACvCvvE,KAAKqU,QAAQ86D,qBACb5yD,EAAMxW,KAAK,CAAEiF,GAAI,MAAOsP,KAAM,QAC9BiC,EAAMxW,KAAK,CAAEiF,GAAI,WAAYsP,KAAM,IAAK7T,QAAQ,sBAEpD,IAAI4yD,EAAc,CACd,MAAS98C,EACTvR,GAAIi1D,EACJD,gBAAiBhgE,KAAKqU,QAAQ2rD,gBAC9BN,cAAc,GAElB,IAAUl2D,OAAO6vD,EAAar5D,KAAKqU,QAAQglD,aAC3Cr5D,KAAKqtE,SAAW,IAAI,EAAUhU,GAC9BA,EAAYkJ,sBAAuB,GAEvCwO,EAAa/xE,UAAU6wE,iBAAmB,SAAUxW,GAChDr5D,KAAKi0E,aAAapK,SAASxQ,IAE/B0X,EAAa/xE,UAAUy9C,WAAa,SAAU75B,EAAQwxD,GAClD,IACI30D,EADQzf,KAAKwgD,aAAanO,WACV/Y,aAChBztB,EAAQ4T,EAAQnU,QAAQsX,GAC5B,GAAI/W,GAAS,EACT,OAAQuoE,GACJ,IAAK,UACD,GAAa,GAATvoE,EACA,OAEJ7L,KAAK0xE,eAAe7lE,EAAO,GAC3B,MACJ,IAAK,SACD,GAAa,GAATA,EACA,OAEJ7L,KAAK0xE,eAAe7lE,EAAOA,EAAQ,GACnC,MACJ,IAAK,WACD,GAAIA,GAAS4T,EAAQve,OAAS,EAC1B,OAEJlB,KAAK0xE,eAAe7lE,EAAOA,EAAQ,GACnC,MACJ,IAAK,aACD,GAAIA,GAAS4T,EAAQve,OAAS,EAC1B,OAEJlB,KAAK0xE,eAAe7lE,EAAO4T,EAAQve,OAAS,KAM5D6vE,EAAa/xE,UAAU0yE,eAAiB,SAAUjmE,EAAQC,GACtD,IAAI+iC,EAAQzuC,KAAKwgD,aAAanO,WAC9B,GAAK5D,EAAL,CAEA,IAAIhuB,EAAOzgB,KAAKgyE,aAAa50C,iBAAiB,WAAap9B,KAAKozB,UAAY,SACxEihD,EAAY5zD,EAAKhV,GACP,GAAVC,EACA1L,KAAKgyE,aAAa5xC,aAAai0C,EAAWr0E,KAAKgyE,aAAa,IAEvDtmE,EAAS,GAAKA,EAAS+U,EAAKvf,OAAS,EACtCuK,EAASC,EACT1L,KAAKgyE,aAAa5xC,aAAai0C,EAAW5zD,EAAK/U,EAAS,IAGxD1L,KAAKgyE,aAAa5xC,aAAai0C,EAAW5zD,EAAK/U,IAInD1L,KAAKgyE,aAAavsD,YAAY4uD,GAElC5lC,EAAMgO,WAAWhxC,EAAQC,GACzB+iC,EAAMqP,4BAEVizB,EAAa/xE,UAAUs0E,kBAAoB,WACvCtzE,KAAKm0E,iBACDn0E,KAAKqU,QAAQg7D,cACbrvE,KAAKk0E,kBAGNnD,EAvpBsB,CAwpB/B,KCzqBE,EAAkC,WAClC,SAASuD,EAAiBla,EAAOx3C,EAAQ8T,GACrC12B,KAAK2qE,aAAe,KACpB3qE,KAAK6qE,kBAAmB,EACxB7qE,KAAK8qE,oBAAqB,EAC1B9qE,KAAKu0E,YAAa,EAClBv0E,KAAKw0E,IAAMpa,EACXp6D,KAAK4iB,OAASA,EACd5iB,KAAKqlB,QAAUqR,EA2cnB,OAzcA54B,OAAOC,eAAeu2E,EAAiBt1E,UAAW,YAAa,CAC3Df,IAAK,WACD,MAAO,WAEXD,YAAY,EACZ0gB,cAAc,IAElB41D,EAAiBt1E,UAAUy6B,OAAS,WAChC,IAAIj4B,EAAQxB,KACZA,KAAK+qE,SAAW/qE,KAAKm/B,eACrB,IAAIhW,EAAU,YAAM,OAgDpB,OA/CAA,EAAQ9oB,KAAK,KAAML,KAAK4iB,OAAO5X,IAC3BhL,KAAKqlB,SAELrlB,KAAKqlB,QAAQ6vC,WACRiW,aAAahiD,EAAQ2C,QAAS9rB,KAAKqlB,SAE5CrlB,KAAKqlB,QAAU8D,EAAQ2C,QACnB9rB,KAAKw0E,IAAIngE,QAAQ0iB,eACjB,IAAc/G,sBAAsB,CAChC3K,QAASrlB,KAAKqlB,QACd0L,MAAO,iBACPL,gBAAiB,WAAc,OAAOlvB,EAAM6jB,QAAQ8H,cAAc,YAAmB,gBACrF8D,YAAa,SAAU7B,GACnB5tB,EAAM4pE,cACN5pE,EAAM6jB,QAAQO,MAAMC,QAAU,OAC9BuJ,EAAGP,WAAa,IAAWC,OAE/B4C,UAAW,SAAUtC,GACZA,EAAG/uB,KAAKovB,sBACTjuB,EAAM6jB,QAAQsE,gBAAgB,UAGtCtpB,KAAM,CAAEuiB,OAAQ5iB,KAAK4iB,UAGxB5iB,KAAK4iB,OAAO+wB,cACb3zC,KAAKqrE,qBAETliD,EACKgB,SAASnqB,KAAKurE,mBACdphD,SAAS,IAAa4nC,qBAEtB1oC,gBAAgBrpB,KAAK2rE,sBACrBtiD,gBAAgBrpB,KAAKy0E,sBACrB,IAAa/iB,gBACdvoC,EACKE,gBAAgBrpB,KAAK00E,sBAG9BvrD,EACKwB,GAAG,aAAc3qB,KAAKgsE,aAAaptE,KAAKoB,OACxC2qB,GAAG,aAAc3qB,KAAKisE,aAAartE,KAAKoB,QAEzCA,KAAKw0E,IAAIngE,QAAQ2kD,oBAAsB,IAAatH,iBACpDvoC,EACKwB,GAAG,mBAAoB3qB,KAAKksE,aAAattE,KAAKoB,OAEhDA,KAAKqlB,SAEhBivD,EAAiBt1E,UAAUutE,kBAAoB,WAC3CvsE,KAAK4iB,OAAOwxB,oBAEhBkgC,EAAiBt1E,UAAUk6B,QAAU,WACjCl5B,KAAKy5B,UAET66C,EAAiBt1E,UAAUmgC,aAAe,WAEtC,OADYn/B,KAAKw0E,IAAIh0B,aAAapO,WACrBx2B,iBAAiB5b,KAAK4iB,OAAOxK,KAAK/Z,QAEnDi2E,EAAiBt1E,UAAU+Y,WAAa,WACpC,OAAO/X,KAAK4iB,OAAOwU,UAAYp3B,KAAK4iB,OAAO+wB,cAE/C2gC,EAAiBt1E,UAAU01E,mBAAqB,WAC5C,OAAO,YAAM,MAAO10E,KAAKqlB,SACpB8E,SAAS,IAAc,uBAAwBnqB,KAAKozB,UAAY,iBAEhE/J,gBAAgBrpB,KAAK20E,uBACrBtrD,gBAAgBrpB,KAAK6rE,0BACrBxiD,gBAAgBrpB,KAAK8rE,sBACrBhgD,SAETwoD,EAAiBt1E,UAAU41E,yBAA2B,WAOlD,OANc,YAAM,MAAO50E,KAAKqlB,SAC3B8E,SAAS,IAAc,+BACvBd,gBAAgBrpB,KAAK20E,uBACrBtrD,gBAAgBrpB,KAAK6rE,0BACrBxiD,gBAAgBrpB,KAAK8rE,sBACrBziD,gBAAgBrpB,KAAK60E,6BACX/oD,SAEnBwoD,EAAiBt1E,UAAU61E,0BAA4B,WACnD,OAAO,YAAM,OAAO/oD,SAExBwoD,EAAiBt1E,UAAU2sE,mBAAqB,WAC5C,IAAInqE,EAAQxB,KAIZ,GAHKA,KAAK4iB,OAAO5M,SAAkC,IAAvBhW,KAAK4iB,OAAO5M,UACpChW,KAAK4iB,OAAO5M,QAAUhW,KAAK80E,sBAE1B90E,KAAK+X,aACN,OAAO,YAAM,OACRoS,SAASnqB,KAAKozB,UAAY,cAAepzB,KAAKozB,UAAY,mBAC1DjJ,SAAS,IAAa4nC,qBACtB9oC,SAAS,OAAO,SAAU7iB,GAAK,OAAOA,EACtCojB,MAAMhoB,EAAMohB,OAAO5M,SACnBsE,KAAK9Y,EAAMohB,OAAO5M,SAClBuB,KAAK,WAAY,QACjBuU,QAET,IAMIipD,GAAY,EAmBhB,OAlBA,YAAM/0E,KAAKqlB,SAASsF,GAAG,uBAAuB,SAAUyE,GACpD,GAAIA,aAAcZ,aAAehtB,EAAM+yE,WAEnC,OATC/yE,EAAM+yE,aACP/yE,EAAM+yE,YAAa,EACnB3vD,YAAW,WAAcpjB,EAAM+yE,YAAa,IAAU,OAO/C,EAEXnlD,EAAGgB,kBACH2kD,EAAYvzE,EAAM6jB,QAAQ6hB,cAAc,MAAQr6B,SAASi9D,cACzD,IAAI2C,EAAUjrE,EAAM6jB,QAAQ6hB,cAAc,IAAM1lC,EAAM4xB,UAAY,yBAC9D25C,EAAMvrE,EAAM6jB,QAAQ6hB,cAAc,IAAM1lC,EAAM4xB,UAAY,qBAQ9D,OAPIq5C,IACAA,EAAQ7mD,MAAMjZ,MAAQnL,EAAM6jB,QAAQlY,YAAc,KAClD4/D,EAAInnD,MAAMC,QAAU,OACpB4mD,EAAQ7mD,MAAMwC,eAAe,WAC7BqkD,EAAQrtC,QACR59B,EAAM6jB,QAAQkE,aAAa,IAAcwG,mBAAoB,MAE1D,KAEJ,YAAM,OACR5F,SAASnqB,KAAKozB,UAAY,cAAepzB,KAAKozB,UAAY,mBAC1DjJ,SAAS,IAAa4nC,qBACtB9oC,SAAS,KAAK,SAAUE,GAAW,OAAOA,EAC1C5R,KAAK,OAAQ,sBACbiS,MAAMhoB,EAAMohB,OAAO5M,SACnBsE,KAAK9Y,EAAMohB,OAAO5M,SAClB2U,GAAG,WAAW,SAAU6B,GACzB,IAAIwhD,EAAMxhD,EAEV,IADmBwhD,EAAIgH,SAAWhH,EAAIiH,WAA4B,IAAfjH,EAAIjhD,SAAgC,IAAfihD,EAAIjhD,UACzDvrB,EAAMgtE,iBAAkB,CACvC,IAAI0G,EAAaroE,SAAS4Z,YAAY,eAItC,OAHAyuD,EAAWxuD,UAAU,YAAY,GAAM,GACvCllB,EAAM6jB,QAAQ8H,cAAc+nD,GAC5BlH,EAAI59C,mBACG,EAEX,OAAO,QAENnH,SAAS,SAAS,SAAUE,GAAW,OAAOA,EAC9CW,OACAzrB,MAAMmD,EAAMohB,OAAO5M,SACnB2U,GAAG,gBAAgB,SAAUyE,GAC9B,IAAIu9C,GAAa,EACbC,GAAO,EAeX,GAdIx9C,aAAcy9C,cAEK,KAAfz9C,EAAGrC,QACH4/C,GAAa,EAGO,KAAfv9C,EAAGrC,UACR4/C,GAAa,EACbC,GAAO,GAGNx9C,aAAc09C,aACnBH,GAAa,GAEbA,EAAY,CACZ,IAAIF,EAAUr9C,EAAG3lB,OACbsjE,EAAMN,EAAQzjD,cAAcke,cAAc,KAC1C6lC,IACAA,EAAInnD,MAAMwC,eAAe,WACzBqkD,EAAQ7mD,MAAMC,QAAU,QAExB+mD,GAAQprE,EAAMohB,OAAO5M,UAAYy2D,EAAQpuE,OACzCmD,EAAMohB,OAAO5M,QAAUy2D,EAAQpuE,MAC/BmD,EAAM+qE,qBAGNE,EAAQpuE,MAAQmD,EAAMohB,OAAO5M,QAEjCxU,EAAM6jB,QAAQsE,gBAAgB,IAAcoG,oBACxCglD,GACAvzE,EAAM6jB,QAAQ6hB,cAAc,KAAK9H,eAIxCtT,SAETwoD,EAAiBt1E,UAAUy1E,mBAAqB,WAC5C,IAAIjzE,EAAQxB,KACRitE,EAAqB,IAAc,qBACnCD,EAA8BC,EAClC,OAAQjtE,KAAK4iB,OAAO4wB,SAChB,KAAK,IAAcib,UACfue,EAA8BC,EAAqB,OACnD,MACJ,KAAK,IAAcC,WACfF,EAA8BC,EAAqB,QAG3D,OAAIjtE,KAAK4iB,OAAO4wB,SAAW,IAAc3jB,KAC9B,KAGA,YAAM,OACR1F,SAASnqB,KAAKozB,UAAY,cAAepzB,KAAKozB,UAAY,0BAC1DjJ,SAAS,IAAa4nC,qBACtB9oC,SAAS,OAAO,SAAUE,GAAW,OAAOA,EAC5CgB,SAAS3oB,EAAM4xB,UAAY,eAAgB45C,GAC3CxjD,MAAM,IAAK/iB,QAAQ,qBACnBqlB,SAGbwoD,EAAiBt1E,UAAUm2E,0BAA4B,SAAU/lD,EAAI8S,GACjE,IAAI1gC,EAAQxB,KAoCZ,OAnCAovB,EAAGgB,kBACHpwB,KAAK8qE,oBAAqB,GACf9qE,KAAKmtE,UAAWntE,KAAKw0E,IAAIpH,UAAgCptE,KAAKw0E,IAAInH,UACxExD,SAAS,CACV3nC,OAAQA,EACR0nC,YAAa,KACbG,qBAAsB,SAAU1pE,EAAMkc,GAClC,IAAmCta,EAWnC,GAAe,QAAX5B,EAAK2K,IAA2B,aAAX3K,EAAK2K,IAAgC,cAAX3K,EAAK2K,GAAoB,CACxE,IAAIyjC,EAAQjtC,EAAMgzE,IAAIniC,WACtB7wC,EAAMohB,OAAO4wB,QAZF,SADoBvxC,EAaW5B,EAAK2K,IAXpC,IAAc6kB,KAET,aAAP5tB,EACE,IAAcwsD,UAET,cAAPxsD,EACE,IAAcirE,gBADpB,EAOL1rE,EAAMohB,OAAO6wB,UAAYhF,EAAMkN,mBAAmBn6C,EAAMohB,QACxDphB,EAAM+qE,yBAGN/qE,EAAMgzE,IAAI/3B,WAAWj7C,EAAMohB,OAAQviB,EAAK2K,KAGhDg/D,mBAAoB,WAChBxoE,EAAMspE,oBAAqB,EACtBtpE,EAAMqpE,kBACPrpE,EAAMusE,uBAIX,GAEXuG,EAAiBt1E,UAAU21E,oBAAsB,WAC7C,IAAInzE,EAAQxB,KACZ,IAAKA,KAAK+X,aACN,OAAO,KAEX,IAAIoR,EAAU,YAAM,OACfgB,SAAS,IAAc,iBAAkB,IAAc,qBAAsB,IAAc,2BAC3FX,MAAM,IAAK/iB,QAAQ,kBACnB8Q,KAAK,WAAY,KACjBoT,GAAG,oBAAoB,SAAUyE,GAAM,OAAO5tB,EAAM2zE,0BAA0B/lD,EAAIjG,EAAQ2C,YAC1FnB,GAAG,YAAY,SAAUqjD,GAA0B,IAAfA,EAAIjhD,SACzCihD,EAAIvkE,OAAOg5C,WAEf,OAAOt5B,EAAQ2C,SAEnBwoD,EAAiBt1E,UAAUo2E,yBAA2B,SAAUhmD,GAC5DA,EAAGgB,kBACH,IAAIqe,EAAQzuC,KAAKw0E,IAAIniC,WAGrB,OAFA5D,EAAMiO,aAAa18C,KAAK4iB,OAAQ5iB,KAAKw0E,KACrC/lC,EAAMqP,wBAAwB,IAAkBjpC,OAAQ7U,KAAK4iB,SACtD,GAEX0xD,EAAiBt1E,UAAU8sE,mBAAqB,WAC5C,IAAItqE,EAAQxB,KACZ,OAAIA,KAAK4iB,OAAO+wB,aACL,KAEJ,YAAM,OACRxpB,SAAS,IAAc,iBAAkB,IAAc,yBACvDX,MAAM,IAAK/iB,QAAQ,cACnB8Q,KAAK,WAAY,KACjBoT,GAAG,oBAAoB,SAAUyE,GAAM,OAAO5tB,EAAM4zE,yBAAyBhmD,MAC7EzE,GAAG,YAAY,SAAUqjD,GAA0B,IAAfA,EAAIjhD,SACzCihD,EAAIvkE,OAAOg5C,WAEV32B,SAETwoD,EAAiBt1E,UAAU81E,kBAAoB,WAC3C,OAAO90E,KAAKkuE,oBAAoBluE,KAAK+qE,WAEzCuJ,EAAiBt1E,UAAUkvE,oBAAsB,SAAU32D,GACvD,IAAIvP,EAAShI,KAAKw0E,IAAIngE,QAAQ+5D,oBAAsBpuE,KAAKw0E,IAAIngE,QAAQ6kD,kBAErE,OADYl5D,KAAKw0E,IAAIh0B,aAAapO,WACrBr0B,iBAAiBxG,EAAMvP,IAExCssE,EAAiBt1E,UAAUusE,gBAAkB,WACzC,IAAIppE,EAAS,GAKb,OAJAA,GAAUnC,KAAK4iB,OAAOwU,QAAU,GAAK,IAAMp3B,KAAKozB,UAAY,YACxDpzB,KAAK4iB,OAAOwU,UACZj1B,GAAUnC,KAAK4iB,OAAO+wB,aAAe,IAAM3zC,KAAKozB,UAAY,YAAc,IAEvEjxB,GAEXmyE,EAAiBt1E,UAAUq2E,uBAAyB,SAAUjmD,GAI1D,OAHAA,EAAGgB,kBACHpwB,KAAK8qE,oBAAqB,EAC1B9qE,KAAKquE,kBAAkBj/C,IAChB,GAEXklD,EAAiBt1E,UAAU6sE,uBAAyB,WAChD,IAAIrqE,EAAQxB,KACZ,OAAKA,KAAK+X,aAGH,YAAM,OACRoS,SAAS,IAAc,iBAAkB,IAAc,uBACvDX,MAAM,IAAK/iB,QAAQ,iBACnB8Q,KAAK,WAAY,KACjBoT,GAAG,oBAAoB,SAAUyE,GAAM,OAAO5tB,EAAM6zE,uBAAuBjmD,MAC3EzE,GAAG,YAAY,SAAUqjD,GAA0B,IAAfA,EAAIjhD,SACzCihD,EAAIvkE,OAAOg5C,WAEV32B,QAVM,MAYfwoD,EAAiBt1E,UAAUmuE,OAAS,WAChC,OAAOntE,KAAKw0E,IACPh0B,aAAapO,WACbr2B,kBAAkB/b,KAAK4iB,OAAOxK,KAAK/Z,MAAO,iBAEnDi2E,EAAiBt1E,UAAUktE,aAAe,SAAU98C,GAChDpvB,KAAKw0E,IAAInI,mBAAmBrsE,KAAK4iB,QACjC5iB,KAAKssE,2BAKTgI,EAAiBt1E,UAAUgtE,aAAe,SAAUx/C,GAChD,IAAI,IAAaklC,eAKjB,OAHA1xD,KAAK6qE,kBAAmB,EACxB7qE,KAAKuuE,mBACL/hD,EAAE4D,mBACK,GAEXkkD,EAAiBt1E,UAAUitE,aAAe,SAAUz/C,GAChD,IAAI,IAAaklC,eAKjB,OAHA1xD,KAAK6qE,kBAAmB,EACxB7qE,KAAK+tE,mBACLvhD,EAAE4D,mBACK,GAEXkkD,EAAiBt1E,UAAUwvE,eAAiB,WACxC,OAAOxuE,KAAKqlB,QAAQiF,UAAUib,SAAS,WAE3C+uC,EAAiBt1E,UAAUosE,YAAc,WACjC,IAAa1Z,eACT1xD,KAAKs1E,qBACLt1E,KAAKs1E,sBAIT,YAAMt1E,KAAKqlB,SAAShlB,KAAK,eAAgB,OAGjDi0E,EAAiBt1E,UAAUotE,YAAc,WACjC,IAAa1a,eACT1xD,KAAKu1E,qBACLv1E,KAAKu1E,sBAIT,YAAMv1E,KAAKqlB,SAAShlB,KAAK,eAAgB,KAGjDi0E,EAAiBt1E,UAAUstE,wBAA0B,WAC7CtsE,KAAKw0E,IAAIngE,QAAQ83D,oBACZnsE,KAAKw0E,IAAIngE,QAAQ2kD,oBAAsB,IAAatH,iBAClD1xD,KAAKwuE,iBACZxuE,KAAKosE,cAGLpsE,KAAKorE,eAGbkJ,EAAiBt1E,UAAUuvE,iBAAmB,WAC1CvuE,KAAKosE,eAETkI,EAAiBt1E,UAAU+uE,iBAAmB,WACA,GAAtC/tE,KAAKw0E,IAAIngE,QAAQ83D,mBAA+BnsE,KAAKwuE,kBAA2D,GAAvCxuE,KAAKw0E,IAAIngE,QAAQ2kD,oBAC1Fh5D,KAAKorE,eAGbkJ,EAAiBt1E,UAAUqsE,mBAAqB,WAO5C,IANA,IAKIz6B,EALAr0B,EAAQ,GACRkyD,EAAQzuE,KAAKw0E,IAAIh0B,aAAapO,WAAWjB,mBACzCu9B,GAAc,EACdnlE,EAAO,KACPyS,EAAYhc,KAAKm/B,eAEZt+B,EAAK,EAAG8tE,EAAUF,EAAO5tE,EAAK8tE,EAAQztE,OAAQL,IAAM,CACzD,IAAIgwC,EAAO89B,EAAQ9tE,GACnB,GAAKgwC,EAAL,CAEA,IAAI+9B,EAAY/9B,EAAK5G,aAAa3+B,QAAQ0Q,EAAUjU,WAAa,EAC7D/H,KAAK4iB,OAAOxK,KAAKy4B,OAASA,EAAK7lC,IAAO4jE,IACtCF,GAAc,GAEdE,IACAh+B,EAAc5wC,KAAKw0E,IAAIh0B,aAAapO,WAC/B3B,uBAAuBI,EAAK7lC,IACjCzB,EAAO,CACHyB,GAAI6lC,EAAK7lC,GACTsP,KAAMs2B,GAEVr0B,EAAMxW,KAAKwD,KAGdmlE,IACD1uE,KAAK4iB,OAAOxK,KAAKy4B,KAAOt0B,EAAM,GAAGvR,IAGlBhL,KAAKw0E,IACP3F,gCACbtlE,EAAO,CACHyB,GAAI,mBACJsP,KAAM,OAEViC,EAAMxW,KAAKwD,GAEXA,EAAO,CACHyB,GAAI,YACJsP,KAHJs2B,EAAc,IAAKnqC,QAAQ,qBAK3B8V,EAAMxW,KAAKwD,IAEf,IAAI02D,EAASjgE,KAAKqlB,QAAQra,GACtBi1D,IACAA,GAAU,kBAEd,IAAI5G,EAAc,CACd98C,MAAOA,EACPvR,GAAIi1D,EACJsC,sBAAsB,EACtBvC,iBAAiB,GAErBhgE,KAAK2qE,aAAe,IAAI,EAAUtR,IAE/Bib,EAnd0B,GCNjC,EAAwC,WACxC,IAAI5hE,EAAgB,SAAUhV,EAAG0I,GAI7B,OAHAsM,EAAgB5U,OAAOyV,gBAClB,CAAEC,UAAW,cAAgBvJ,OAAS,SAAUvM,EAAG0I,GAAK1I,EAAE8V,UAAYpN,IACvE,SAAU1I,EAAG0I,GAAK,IAAK,IAAIlH,KAAKkH,EAAOA,EAAEnH,eAAeC,KAAIxB,EAAEwB,GAAKkH,EAAElH,MACpDxB,EAAG0I,IAE5B,OAAO,SAAU1I,EAAG0I,GAEhB,SAASqN,IAAOzT,KAAK0T,YAAchW,EADnCgV,EAAchV,EAAG0I,GAEjB1I,EAAEsB,UAAkB,OAANoH,EAAatI,OAAOY,OAAO0H,IAAMqN,EAAGzU,UAAYoH,EAAEpH,UAAW,IAAIyU,IAV3C,GAgBxC,EAAwC,SAAUK,GAElD,SAAS0hE,IACL,OAAkB,OAAX1hE,GAAmBA,EAAOF,MAAM5T,KAAM2G,YAAc3G,KAuD/D,OAzDA,EAAUw1E,EAAwB1hE,GAIlC0hE,EAAuBx2E,UAAUusE,gBAAkB,WAC/C,OAAOz3D,EAAO9U,UAAUusE,gBAAgBhuE,KAAKyC,MAAQ,IAAMA,KAAKozB,UAAY,QAAUpzB,KAAKozB,UAAY,uBAE3GoiD,EAAuBx2E,UAAU8wE,mCAAqC,SAAUzvE,EAAMkJ,GAClF,IAAIwmE,EAAS1vE,EAAK2K,GAElBhL,KAAK4iB,OAAOxK,KAAK2H,SAASgwD,GAAQ,GAClC/vE,KAAK4iB,OAAO5M,QAAU,GACtBhW,KAAKk5B,UACLl5B,KAAKusE,qBAETiJ,EAAuBx2E,UAAUmuE,OAAS,WACtC,IAAIz9B,EAAM1vC,KAAK4iB,OAAOxK,KAAK1R,KAAK,GAChC,OAAIgpC,GACY1vC,KAAKw0E,IAAIh0B,aAAapO,WACrBr2B,kBAAkB2zB,EAAIrxC,MAAO,iBAMlDm3E,EAAuBx2E,UAAUgxE,sBAAwB,WACzChwE,KAAK4iB,OAAOyvB,WAClB+J,iBAAiBp8C,KAAK4iB,OAAQ,IAAQu2B,WAC5Cn5C,KAAKusE,qBAETiJ,EAAuBx2E,UAAUkxE,iBAAmB,SAAUx/B,GAC9C1wC,KAAK4iB,OAAOyvB,WAClB+J,iBAAiBp8C,KAAK4iB,OAAQ,IAAQo2B,kBAAmB,CAAEtI,OAAQA,IACzE1wC,KAAKusE,qBAETiJ,EAAuBx2E,UAAUqvE,kBAAoB,SAAUj/C,GAC3D,IAAI5tB,EAAQxB,KACZA,KAAK2qE,aAAad,SAAS,CACvB3nC,OAAQ9S,EAAG3lB,OACXmgE,YAAa,KACbG,qBAAsB,SAAU1pE,EAAMkc,GAOlC,MANe,aAAXlc,EAAK2K,GACLxJ,EAAMwuE,wBAGNxuE,EAAM0uE,iBAAiB7vE,EAAK2K,KAEzB,GAEXg/D,mBAAoB,WAChBxoE,EAAMspE,oBAAqB,EACtBtpE,EAAMqpE,kBACPrpE,EAAM6jB,QAAQ8H,cAAc,YAAmB,mBAKxDqoD,EA1DgC,CA2DzC,GC3EE,EAAwC,WACxC,IAAI9iE,EAAgB,SAAUhV,EAAG0I,GAI7B,OAHAsM,EAAgB5U,OAAOyV,gBAClB,CAAEC,UAAW,cAAgBvJ,OAAS,SAAUvM,EAAG0I,GAAK1I,EAAE8V,UAAYpN,IACvE,SAAU1I,EAAG0I,GAAK,IAAK,IAAIlH,KAAKkH,EAAOA,EAAEnH,eAAeC,KAAIxB,EAAEwB,GAAKkH,EAAElH,MACpDxB,EAAG0I,IAE5B,OAAO,SAAU1I,EAAG0I,GAEhB,SAASqN,IAAOzT,KAAK0T,YAAchW,EADnCgV,EAAchV,EAAG0I,GAEjB1I,EAAEsB,UAAkB,OAANoH,EAAatI,OAAOY,OAAO0H,IAAMqN,EAAGzU,UAAYoH,EAAEpH,UAAW,IAAIyU,IAV3C,GAgBxC,EAA0C,SAAUK,GAEpD,SAAS2hE,IACL,OAAkB,OAAX3hE,GAAmBA,EAAOF,MAAM5T,KAAM2G,YAAc3G,KAsC/D,OAxCA,EAAUy1E,EAA0B3hE,GAIpC2hE,EAAyBz2E,UAAUusE,gBAAkB,WACjD,OAAOz3D,EAAO9U,UAAUusE,gBAAgBhuE,KAAKyC,MAAQ,IAAMA,KAAKozB,UAAY,QAAUpzB,KAAKozB,UAAY,oBAE3GqiD,EAAyBz2E,UAAUmgC,aAAe,WAC9C,OAAOn/B,KAAKw0E,IACPh0B,aACApO,WACAx2B,iBAAiB5b,KAAK4iB,OAAOxK,KAAK1R,KAAK,GAAGrI,QAEnDo3E,EAAyBz2E,UAAU81E,kBAAoB,WACnD,OAAO90E,KAAKkuE,oBAAoBluE,KAAK+qE,UAAY,IAC3C/qE,KAAKw0E,IAAIh0B,aAAapO,WAAW3B,uBAAuBzwC,KAAK4iB,OAAOxK,KAAKy4B,OAEnF4kC,EAAyBz2E,UAAU6sE,uBAAyB,WACxD,IAAI4E,EAAS38D,EAAO9U,UAAU6sE,uBAAuBtuE,KAAKyC,MAK1D,OAJIywE,IACAA,EAAOnmD,UAAU3L,IAAI,cACrB8xD,EAAOjnD,MAAQ,IAAK/iB,QAAQ,mBAEzBgqE,GAEXgF,EAAyBz2E,UAAU8wE,mCAAqC,SAAUzvE,EAAMkJ,GACpF,IAAIwmE,EAAS1vE,EAAK2K,GAElBhL,KAAK4iB,OAAOxK,KAAK1R,KAAK,GAAGqZ,SAASgwD,GAAQ,GAC1C/vE,KAAK4iB,OAAO5M,QAAU,GACtBhW,KAAKusE,qBAETkJ,EAAyBz2E,UAAU0xE,mBAAqB,WACxC1wE,KAAK4iB,OAAOyvB,WAClB+J,iBAAiBp8C,KAAK4iB,OAAQ,IAAQ+sB,iBAC5C3vC,KAAKusE,qBAETkJ,EAAyBz2E,UAAUqvE,kBAAoB,SAAUj/C,GAC7DpvB,KAAK0wE,sBAEF+E,EAzCkC,CA0C3C,GC1DE,EAAwC,WACxC,IAAI/iE,EAAgB,SAAUhV,EAAG0I,GAI7B,OAHAsM,EAAgB5U,OAAOyV,gBAClB,CAAEC,UAAW,cAAgBvJ,OAAS,SAAUvM,EAAG0I,GAAK1I,EAAE8V,UAAYpN,IACvE,SAAU1I,EAAG0I,GAAK,IAAK,IAAIlH,KAAKkH,EAAOA,EAAEnH,eAAeC,KAAIxB,EAAEwB,GAAKkH,EAAElH,MACpDxB,EAAG0I,IAE5B,OAAO,SAAU1I,EAAG0I,GAEhB,SAASqN,IAAOzT,KAAK0T,YAAchW,EADnCgV,EAAchV,EAAG0I,GAEjB1I,EAAEsB,UAAkB,OAANoH,EAAatI,OAAOY,OAAO0H,IAAMqN,EAAGzU,UAAYoH,EAAEpH,UAAW,IAAIyU,IAV3C,GAsBxC,EAA4B,SAAUK,GAEtC,SAAS4hE,EAAWh/C,EAAMi/C,GACtB,IAAIn0E,EAAQsS,EAAOvW,KAAKyC,KAAM02B,IAAS12B,KAkDvC,OAjDAwB,EAAM6S,QAAU,CACZktD,YAAY,EACZyP,aAAc,KACdC,YAAY,EACZC,YAAY,EACZxF,kBAAkB,EAClBzS,kBAAkB,EAClBkY,iBAAiB,EACjBC,wBAAwB,EACxB/B,cAAc,EACdnW,kBAAmB,kBACnBkV,mBAAoB,KACpBjC,mBAAmB,EACnBnT,oBAAoB,EACpBqY,mBAAoB,GACpBt6C,eAAe,EACfsiC,YAAa,CACTC,mBAAoB,GACpB6O,oBAAoB,EACpB5O,qBAAqB,EACrBwP,cAAc,EACd7I,qBAAsB,MAE1BjjD,cAAe,EACfD,cAAc,EACds0D,uBAAwB,KACxBC,qBAAsB,GAE1B/vE,EAAMq2B,YAAc,YAAM,OACrB1N,SAAS,0BAA2B,qBAAsB,IAAc,cACxE2B,QACLtqB,EAAMo2B,cAAgB,EACtBp2B,EAAMo0E,aAAe,CACjB,CAAE5qE,GAAI,OAAQsP,KAAM,IAAK7T,QAAQ,iBACjC,CAAEuE,GAAI,YAAasP,KAAM,IAAK7T,QAAQ,iBACtC,CAAEuE,GAAI,aAAcsP,KAAM,IAAK7T,QAAQ,kBACvC,CAAEuE,GAAI,MAAOsP,KAAM,QAEvB9Y,EAAMq0E,aAAe,CACjB,CAAE7qE,GAAI,UAAWsP,KAAM,IAAK7T,QAAQ,mBACpC,CAAEuE,GAAI,SAAUsP,KAAM,IAAK7T,QAAQ,kBACnC,CAAEuE,GAAI,WAAYsP,KAAM,IAAK7T,QAAQ,kBACrC,CAAEuE,GAAI,aAAcsP,KAAM,IAAK7T,QAAQ,mBAE3C,YAAMjF,EAAMk1B,MACPvM,SAAS3oB,EAAM4xB,UAAY,UAC3BjJ,SAAS,IAAa4nC,qBAC3BvwD,EAAM8tD,MAAQ,IAAYpe,MAC1B1vC,EAAMm0E,YAAcA,EACbn0E,EAinBX,OArqBA,EAAUk0E,EAAY5hE,GAsDtBhW,OAAOC,eAAe23E,EAAW12E,UAAW,YAAa,CACrDf,IAAK,WACD,MAAO,WAEXD,YAAY,EACZ0gB,cAAc,IAElBg3D,EAAW12E,UAAUosD,cAAgB,WACjC,MAAO,gBAEXsqB,EAAW12E,UAAUi5B,KAAO,SAAUknB,EAAS9qC,GAC3C,IAAI7S,EAAQxB,KACZ8T,EAAO9U,UAAUi5B,KAAK16B,KAAKyC,KAAMm/C,EAAS9qC,GAC1CrU,KAAKq6D,WAAWhmD,GAChBrU,KAAKwxE,sBACLxxE,KAAKyxE,sBACL,IAAc5/C,oBAAoB7xB,KAAK02B,MACnC12B,KAAKqU,QAAQ0iB,eACb,IAAcnF,sBAAsB,CAChCvM,QAASrlB,KAAK02B,KACdnF,OAAQ,CAAC,kBACTsB,YAAa,SAAUvB,EAAWlC,GAC9B5tB,EAAMw3B,gBAAgB5J,EAAGL,MAAOK,EAAGJ,QAEvCsD,WAAY,SAAUhB,EAAWlC,GAC7B5tB,EAAMw3B,gBAAgB5J,EAAGL,MAAOK,EAAGJ,QAEvCyC,YAAa,SAAUH,EAAWlC,GAC9BA,EAAGP,WAAa,IAAW2D,OAC3BhxB,EAAMy3B,mBAEVzH,OAAQ,SAAUF,EAAWlC,GACzB,IAEIvjB,EAFQrK,EAAMg/C,aAAanO,WACX/Y,aACAhuB,QAAQ8jB,EAAG/uB,KAAKuiB,QACpCphB,EAAMkwE,eAAe7lE,EAAOrK,EAAMo2B,kBAKlD89C,EAAW12E,UAAUyyE,oBAAsB,WACvC,IAAIjwE,EAAQxB,KACRyuC,EAAQzuC,KAAKqyC,WACjBryC,KAAKkyE,qBAAuBzjC,EAAM+P,oBAAmB,SAAUx6B,GAE3D,IAAIy3C,EAAQz3C,EAAM3jB,KAClB,GAAKo7D,IAAUA,EAAMpnB,MAAQ,IAAgBE,SAAWknB,EAAMpnB,MAAQ,IAAgB1L,KAAtF,CAGA,IAAIwpC,EAAgBtlE,SAASi9D,cACzBsI,EAAgB5wE,EAAMk1B,KAAK6O,SAAS4sC,IAAkBA,GAAiBtlE,SAASD,KACpF,OAAQ6uD,EAAMjnB,QACV,KAAK,IAAkBC,OACnB,IAAIh1B,EAAUg8C,EAAM/mB,QAChB29B,EAAiB,SAAUzvD,GAC3B,IAAI0vD,EAAQ9wE,EAAMwwE,aAAa9qC,cAAc,gBAAkBtkB,EAAO5X,GAAK,MAC3E,GAAIsnE,EAAO,CACP,IAAIE,EAAQhxE,EAAM+xE,aAAa3wD,EAAQ0vD,GACvC,GAAIF,EAAe,CACf,IAAIK,EAAYD,EAAMtrC,cAAc,KAChCurC,GACAA,EAAUrzC,WAKtBn1B,MAAMC,QAAQuV,GACdA,EAAQkD,SAAQ,SAAU9D,GAAO,OAAOwzD,EAAexzD,MAGvDwzD,EAAe5yD,GAEnB,MAEJ,KAAK,IAAkBu9C,IACfv9C,EAAUg8C,EAAM/mB,QAApB,IACIi+B,EAAc,SAAU/vD,GACxB,IAAI/W,EAAQ4iC,EAAMnV,aAAahuB,QAAQsX,GACvCphB,EAAMoxE,iBAAiBhwD,EAAQ/W,IAE/B5B,MAAMC,QAAQuV,GACdA,EAAQkD,SAAQ,SAAU9D,GAAO,OAAO8zD,EAAY9zD,MAGpD8zD,EAAYlzD,GAEhB,MAEJ,KAAK,IAAkB5K,OACf4K,EAAUg8C,EAAM/mB,QAApB,IACIm+B,EAAiB,SAAUjwD,GAC3B,IAAI0vD,EAAQ9wE,EAAMwwE,aAAa9qC,cAAc,gBAAkBtkB,EAAO5X,GAAK,MAC3E,GAAIsnE,EAAO,CACP,IAAI3uC,EAAO2uC,EAAMxd,YACbx4B,EAAOg2C,EAAMQ,gBAEjB,GADAtxE,EAAMwwE,aAAargD,YAAY2gD,GAC3BF,EAAe,CACf,IACIK,GADY9uC,GAAQrH,GAAQ96B,EAAMs0E,cACZ5uC,cAAc,KACpCurC,GACAA,EAAUrzC,WAKtBn1B,MAAMC,QAAQuV,GACdA,EAAQkD,SAAQ,SAAU9D,GAAO,OAAOg0D,EAAeh0D,MAGvDg0D,EAAepzD,GAEnB,MAEJ,QACIje,EAAM03B,gBAKtBw8C,EAAW12E,UAAUqzC,SAAW,WAC5B,OAAOryC,KAAK21E,YACN31E,KAAK21E,YACL31E,KAAKwgD,aAAanO,YAE5BqjC,EAAW12E,UAAUuwD,YAAc,WAC/B,IAAc19B,oBAAoB7xB,KAAK02B,MACvC12B,KAAKwxE,sBACLxxE,KAAK02B,KAAKpL,UAAY,IAE1BoqD,EAAW12E,UAAUwyE,oBAAsB,WACnCxxE,KAAKkyE,sBACOlyE,KAAKqyC,WACXoM,sBAAsBz+C,KAAKkyE,uBAGzCwD,EAAW12E,UAAUq7D,WAAa,SAAUhmD,GACxC,IAAUlQ,WAAWnE,KAAKqU,QAASA,IAEvCqhE,EAAW12E,UAAUg6B,gBAAkB,SAAUjK,EAAOC,GAGpD,IAFA,IAAI+mD,EAAW/1E,KAAKgyE,aAAa50C,iBAAiB,WAAap9B,KAAKozB,UAAY,SAC5E4iD,EAAc,GACT54E,EAAI,EAAGA,EAAI24E,EAAS70E,OAAQ9D,IACC,SAA9B24E,EAAS34E,GAAGwoB,MAAMC,SAClBmwD,EAAYjwE,KAAKgwE,EAAS34E,IAGlC,GAA2B,IAAvB44E,EAAY90E,OAAhB,CAIA,IAAI8+B,EAAa,YAAsBhgC,KAAK63B,aAC5C,KAAI9I,GAASiR,EAAW/a,GAAK8J,GAASiR,EAAW/a,EAAIjlB,KAAK63B,YAAYzR,aAC/D4I,GAASgR,EAAWxY,GAAKwH,GAASgR,EAAWxY,EAAIxnB,KAAK63B,YAAYxR,cADzE,CAIA,IAAI4Z,EAAkBjgC,KAAK43B,aAC3B,IAASx6B,EAAI,EAAGA,EAAI44E,EAAY90E,OAAQ9D,IAAK,CACzC,IAAI64E,EAAUD,EAAY54E,GACtB81E,EAAS,YAAsB+C,GAC/BC,EAAWD,EAAQ7vD,YACnB+vD,EAAYF,EAAQ5vD,aACpB+vD,EAAe,GAAMF,EAEzB,GAAInnD,GAASmkD,EAAOjuD,EAAImxD,GAAgBrnD,GAASmkD,EAAOjuD,EAAIixD,EAAWE,GAChEpnD,GAASkkD,EAAO1rD,EAFH,GAEwBwH,GAASkkD,EAAO1rD,EAAI2uD,EAF5C,EAEuE,CAEnFl2C,EADAlR,EAAQiR,EAAW/a,EACD7nB,EAAI,EAEJA,EACtB,QAGJ6iC,GAAmBjgC,KAAK43B,cAAgB53B,KAAK63B,YAAY7O,iBACzDhpB,KAAK43B,aAAeqI,EAChBjgC,KAAK43B,cAAgB,GACrB53B,KAAKgyE,aAAa5xC,aAAapgC,KAAK63B,YAAam+C,EAAY,IAE7Dh2E,KAAK43B,aAAeo+C,EAAY90E,OAChClB,KAAKgyE,aAAa5xC,aAAapgC,KAAK63B,YAAam+C,EAAYh2E,KAAK43B,eAGlE53B,KAAKgyE,aAAavsD,YAAYzlB,KAAK63B,oBAlCvC73B,KAAK43B,aAAe,GAsC5B89C,EAAW12E,UAAUi6B,gBAAkB,WACnCj5B,KAAK43B,cAAgB,EACjB53B,KAAK63B,YAAY7O,eACjBhpB,KAAK63B,YAAY7O,cAAc2I,YAAY3xB,KAAK63B,cAGxD69C,EAAW12E,UAAUowD,mBAAqB,aAE1CsmB,EAAW12E,UAAUqwD,iBAAmB,aAExCqmB,EAAW12E,UAAUmwD,YAAc,WAC/BnvD,KAAKmd,QACLnd,KAAKy5B,UAETi8C,EAAW12E,UAAUme,MAAQ,WAMzBnd,KAAK02B,KAAKpL,UAAY,IAE1BoqD,EAAW12E,UAAUq3E,mBAAqB,WACtC,IAAI70E,EAAQxB,KACZ,YAAMA,KAAK81E,cACN3rD,SAAS,IAAc,UAAWnqB,KAAKozB,UAAY,UAAW,IAAc,iBAC5EjJ,SAAS,IAAa4nC,qBACtBvoC,MAAM,IAAK/iB,QAAQ,wBACnBwiB,SAAS,KAAK,SAAUE,GAAW,OAAOA,EAC1C5R,KAAK,OAAQ,sBACboT,GAAG,SAAS,SAAU6B,GACvBA,EAAEQ,iBACFxrB,EAAMquE,iBAAiB,CACnB3tC,OAAQ1V,EAAE/iB,OACVmgE,YAAa,KACbG,qBAAsB,SAAU1pE,EAAMkc,GAClC,IAAIwzD,EAAS1vE,EAAK2K,GAElB,OADAxJ,EAAMmwE,aAAa5B,IACZ,WAIf,IAAare,gBACb,YAAM1xD,KAAKgyE,cACN3oD,gBAAgBrpB,KAAK81E,eAGlCJ,EAAW12E,UAAUy6B,OAAS,WAC1B,IAAIj4B,EAAQxB,KACZA,KAAKqzE,qBACDrzE,KAAKqU,QAAQg7D,cACbrvE,KAAKk0E,iBAETl0E,KAAKm0E,iBACLn0E,KAAKgyE,aACD,YAAM,OACD7nD,SAASnqB,KAAKozB,UAAY,YAC1BjJ,SAAS,IAAa4nC,qBACtBjmC,QACL9rB,KAAKqU,QAAQ48D,aACbjxE,KAAK81E,aACD,YAAM,OACDhqD,QACL,IAAa4lC,eACb,YAAM1xD,KAAKgyE,cACN3oD,gBAAgBrpB,KAAK81E,cAG1B,YAAM91E,KAAK02B,MACNrN,gBAAgBrpB,KAAK81E,cAE9B91E,KAAKq2E,sBAET,YAAMr2E,KAAK02B,MACNrN,gBAAgBrpB,KAAKgyE,cACrB3oD,gBAAgBrpB,KAAKs2E,kCACdt2E,KAAKqyC,WACG/Y,aACZ3W,SAAQ,SAAUC,EAAQ/W,GAC9B,IAAI6qB,EAAOl1B,EAAM+xE,aAAa3wD,GAC9BphB,EAAMwwE,aAAavsD,YAAYiR,OAGvCg/C,EAAW12E,UAAUs3E,+BAAiC,WAClD,IAAI90E,EAAQxB,KA6CZ,OA5CAA,KAAKu2E,8BAAgC,YAAM,KAAKzqD,QAChD9rB,KAAKw2E,yBAA2B,YAAM,OACjCrsD,SAASnqB,KAAKozB,UAAY,wBAC1BjJ,SAAS,IAAa4nC,qBACtB1oC,gBAAgBrpB,KAAKu2E,+BACrBzsD,OACAgC,QACL9rB,KAAKy2E,0BAA4B,YAAM,MAAOz2E,KAAKw2E,0BAC9CrsD,SAASnqB,KAAKozB,UAAY,iBAAkBpzB,KAAKozB,UAAY,2BAC7DtH,QACL,YAAM9rB,KAAKy2E,2BACN9rD,GAAG,oBAAoB,SAAUyE,GAKlC,OAJAA,EAAGgB,kBACH5uB,EAAMk1E,sBAAsBvB,0BAA0B53E,KAAKiE,EAAMk1E,sBAAuBtnD,EAAI5tB,EAAMi1E,2BAClGj1E,EAAM6qE,mBAAmB,MACzB7qE,EAAMm1E,2BACC,KAEX32E,KAAK42E,uBAAyB,YAAM,MAAO52E,KAAKw2E,0BAC3CrsD,SAASnqB,KAAKozB,UAAY,iBAAkBpzB,KAAKozB,UAAY,uBAC7DzI,GAAG,oBAAoB,SAAUyE,GAKlC,OAJAA,EAAGgB,kBACH5uB,EAAMk1E,sBAAsBrB,uBAAuB93E,KAAKiE,EAAMk1E,sBAAuBtnD,GACrF5tB,EAAM6qE,mBAAmB,MACzB7qE,EAAMm1E,2BACC,KAEN7qD,QACL9rB,KAAK62E,yBAA2B,YAAM,MAAO72E,KAAKw2E,0BAC7CrsD,SAASnqB,KAAKozB,UAAY,iBAAkBpzB,KAAKozB,UAAY,yBAC7DzI,GAAG,oBAAoB,SAAUyE,GAKlC,OAJAA,EAAGgB,kBACH5uB,EAAMk1E,sBAAsBtB,yBAAyB73E,KAAKiE,EAAMk1E,sBAAuBtnD,GACvF5tB,EAAM6qE,mBAAmB,MACzB7qE,EAAMm1E,2BACC,KAEN7qD,QACL,YAAM,MAAO9rB,KAAKw2E,0BACbrsD,SAASnqB,KAAKozB,UAAY,8BAC1BzI,GAAG,oBAAoB,WACxBnpB,EAAM6qE,mBAAmB,MACzB7qE,EAAMm1E,6BAEH32E,KAAKw2E,0BAEhBd,EAAW12E,UAAU83E,wBAA0B,SAAUl0D,EAAQm0D,EAAgBC,GAC7Eh3E,KAAKi3E,oBAAsBr0D,EAC3B5iB,KAAK02E,sBAAwBK,EAE7B,IAAIG,EAAOF,EAAcrvD,wBACrBV,EAAM+vD,EAAcG,UACpB/vD,EAAO4vD,EAAcI,WACzB,YAAMp3E,KAAKu2E,+BACNvsD,SAAS,QAAS5C,EAAO8vD,EAAKvqE,MAAQ,GAAGtF,WAAa,MACvD6vE,EAAKjwD,IAAM,IACX,YAAMjnB,KAAKw2E,0BACNjsD,YAAY,cACZP,SAAS,OAAQ/C,EAAMiwD,EAAKtwD,QAAQvf,WAAa,MAGtD,YAAMrH,KAAKw2E,0BACNrsD,SAAS,cACTH,SAAS,OAAQ/C,EAAMiwD,EAAKtwD,QAAQvf,WAAa,MAGtDub,EAAOwU,UAAYxU,EAAO+wB,cAC1B,YAAM3zC,KAAKy2E,2BAA2B7sD,OACtC,YAAM5pB,KAAK42E,wBAAwBhtD,SAGnC,YAAM5pB,KAAKy2E,2BAA2B3sD,OACtC,YAAM9pB,KAAK42E,wBAAwB9sD,QAGnClH,EAAO+wB,aACP,YAAM3zC,KAAKw2E,0BAA0B1sD,OAGrC,YAAM9pB,KAAKw2E,0BAA0B5sD,QAG7C8rD,EAAW12E,UAAU23E,wBAA0B,WAC3C,YAAM32E,KAAKw2E,0BAA0B1sD,QAEzC4rD,EAAW12E,UAAUu0E,aAAe,SAAU3wD,EAAQy0D,GAClD,IAAI71E,EAAQxB,KACR4wB,EAAW5wB,KAAKuyE,kBAAkB3vD,EAAQy0D,GAC9C,GAAIzmD,EAAU,CACV,IAAI0mD,EAAe1mD,EAAS6I,SAO5B,OANA7I,EAAS2kD,oBAAsB,WAC3B/zE,EAAMs1E,wBAAwBl0D,EAAQgO,EAAU0mD,IAEpD1mD,EAAS0kD,oBAAsB,WAC3B9zE,EAAMm1E,2BAEHW,EAEX,OAAO,MAEX5B,EAAW12E,UAAUuzE,kBAAoB,SAAU3vD,EAAQ8T,GACvD,OAAQ9T,EAAOxK,KAAK2B,KAChB,KAAK,IAAQi/B,kBACT,OAAO,IAAI,EAAyBh5C,KAAM4iB,EAAQ8T,GACtD,KAAK,IAAQyiB,UAEb,KAAK,IAAQxJ,gBACb,KAAK,IAAQ4C,sBACT,OAAO,IAAI,EAAuBvyC,KAAM4iB,EAAQ8T,GAExD,OAAO,MAEXg/C,EAAW12E,UAAU2yE,aAAe,SAAU91D,EAAQhQ,GAClD,IAAIrK,EAAQxB,KACRqW,EAAQrW,KAAKwgD,aAAapO,WAC1B3D,EAAQzuC,KAAKqyC,WACbqhC,EAAoB,SAAU3D,GAC9B,IAAI/zD,EAAY3F,EAAMuF,iBAAiBm0D,GACvC,IAAK/zD,EACD,OAAO,KAEX,IAAKA,EAAU6vB,YAAa,CACxB,IAAI7vB,EAAU7D,WAQV,OAAO,KALP,GAFA43D,EAAS/zD,EAAU7D,aACnB6D,EAAY3F,EAAMuF,iBAAiBm0D,MAChB/zD,EAAU6vB,YACzB,OAAO,KAMnB,IAAIjpB,EAAS6rB,EAAM0L,eAQnB,OAPAv3B,EAAO5M,QAAUxU,EAAMgrE,wBAAwBxwD,GAC/C4G,EAAO4wB,QAAU,IAAc3jB,KAC/BjN,EAAO6wB,WAAa,EACpB7wB,EAAOxK,KAAK2B,IAAM,IAAQ41B,gBAE1B/sB,EAAOxK,KAAK2H,SAASgwD,GAAQ,GAC7BntD,EAAO7B,OAAO7D,OAAOlB,EAAU+E,QACxB6B,GAEX,GAAK5iB,KAAKqyC,WAAV,CAGA,IAAIohC,EAAU50D,EACd,GAAI5U,MAAMC,QAAQ2R,GAAS,CACvB43D,EAAW,GACX,IAAK,IAAIr2E,EAAI,EAAGA,EAAIye,EAAO3a,OAAQ9D,KAC/ByhB,EAAM60D,EAAkB73D,EAAOze,MAE3Bq2E,EAAS1tE,KAAK8Y,QAKtB40D,EAAWC,EAAkB73D,GAEjC,OADA7b,KAAK47C,UAAU63B,EAAU5nE,GAClB4nE,IAEXiC,EAAW12E,UAAUqtE,mBAAqB,SAAUzpD,GAChD,IAAIgK,EACA4mD,EACA5wD,IACAgK,EAAK5sB,KAAKgyE,aAAa9qC,cAAc,eAAiBtkB,EAAO5X,GAAK,QAE9DwoE,EAAW5mD,EAAGtC,UAAUib,SAAS,WAKzC,IADA,IAAI9kB,EAAOzgB,KAAKgyE,aAAa50C,iBAAiB,IAAMp9B,KAAKozB,UAAY,QAC5Dh2B,EAAI,EAAGA,EAAIqjB,EAAKvf,OAAQ9D,IAAK,CAClC,IAAIujB,EAAMF,EAAKrjB,GACf,YAAMujB,GACD4J,YAAY,UACZlqB,KAAK,eAAgB,MAE1BusB,IAAO4mD,GACP,YAAM5mD,GACDzC,SAAS,UACT9pB,KAAK,eAAgB,KAGlCq1E,EAAW12E,UAAU48C,UAAY,SAAUh5B,EAAQ/W,GAC/C,IAAI4iC,EAAQzuC,KAAKqyC,WACZ5D,MAID7rB,EADA3Y,MAAMC,QAAQ0Y,GACL5iB,KAAK2zE,kBAAkB/wD,GAEvB5iB,KAAK4zE,YAAYhxD,KACd3Y,MAAMC,QAAQ0Y,IAA4B,GAAjBA,EAAO1hB,SAGhDutC,EAAM0N,aAAav5B,EAAQ/W,EAAO4yD,MAClChwB,EAAM2F,iBAAiB,CACnBC,KAAM,IAAgBE,QACtBC,OAAQ,IAAkBwoB,IAC1BtoB,QAAS9xB,OAIjB8yD,EAAW12E,UAAU4zE,iBAAmB,SAAUhwD,EAAQ/W,GACtD,IAAI4U,EAAOzgB,KAAKgyE,aAAa50C,iBAAiB,WAAap9B,KAAKozB,UAAY,SACxEygD,EAAc7zE,KAAKuzE,aAAa3wD,GAChCnC,EAAKvf,OAAS,GACV2K,EAAQ4U,EAAKvf,OAAS,EACtBlB,KAAKgyE,aAAa5xC,aAAayzC,EAAapzD,EAAK5U,IAOrD7L,KAAKgyE,aAAavsD,YAAYouD,GAE9B7zE,KAAKqU,QAAQi9D,wBACbtxE,KAAKqU,QAAQi9D,uBAAuBuC,IAG5C6B,EAAW12E,UAAU20E,kBAAoB,SAAUv3C,GAG/C,IAFA,IAAW7wB,EAAM6wB,EAAKl7B,OAClBiB,EAAS,GACJu7D,EAAM,EAAGA,EAAMnyD,EAAKmyD,IACrB19D,KAAK4zE,YAAYx3C,EAAKshC,KACtBv7D,EAAO4D,KAAKq2B,EAAKshC,IAEzB,OAAOv7D,GAEXuzE,EAAW12E,UAAU40E,YAAc,SAAU/0D,GACzC,IAAK7e,KAAKqU,QAAQ88D,gBAId,IAHA,IACI1xD,EADQzf,KAAKqyC,WACG/Y,aAChBi+C,EAAUniE,KAAKC,UAAUwJ,EAAIzG,MACxBhb,EAAI,EAAGA,EAAIqiB,EAAQve,OAAQ9D,IAAK,CAErC,GADegY,KAAKC,UAAUoK,EAAQriB,GAAGgb,QACxBm/D,EACb,OAAO,KAInB,OAAO14D,GAEX62D,EAAW12E,UAAUwtE,wBAA0B,SAAUj1D,GACrD,IAAIvP,EAAShI,KAAKqU,QAAQ+5D,oBAAsBpuE,KAAKqU,QAAQ6kD,kBAE7D,OADYl5D,KAAKwgD,aAAapO,WACjBr0B,iBAAiBxG,EAAMvP,IAExC0tE,EAAW12E,UAAUg1E,gBAAkB,WACnC,OAAOh0E,KAAKgyE,cAEhB0D,EAAW12E,UAAU6wE,iBAAmB,SAAUxW,GAC9Cr5D,KAAKi0E,aAAapK,SAASxQ,IAE/Bqc,EAAW12E,UAAUq0E,mBAAqB,WACtC,IAAIh9D,EAAQrW,KAAKwgD,aAAapO,WAC9B,IAAK/7B,GAASA,EAAMiF,UAChB,OAAO,KACX,IAAI2kD,EAASjgE,KAAK02B,KAAK1rB,GACnBi1D,IACAA,GAAU,iBAEd,IACI5rD,EAAU,CAAEkI,MADGlG,EAAMkH,gBAAgB,CAAEwwB,QAAQ,EAAOC,QAAQ,EAAMC,QAAQ,EAAOhxB,cAAejd,KAAKqU,QAAQ4I,cAAeD,aAAchd,KAAKqU,QAAQ2I,eACxH+rD,aAAc/oE,KAAKqU,QAAQ+kD,yBAA0BpuD,GAAIi1D,EAAQD,gBAAiBhgE,KAAKqU,QAAQ2rD,iBACpI,IAAUx2D,OAAO6K,EAASrU,KAAKqU,QAAQglD,aACvCr5D,KAAKi0E,aAAe,IAAI,EAAU5/D,IAEtCqhE,EAAW12E,UAAUk1E,eAAiB,WAClC,IAAI79D,EAAQrW,KAAKwgD,aAAapO,WAC9B,IAAK/7B,GAASA,EAAMiF,UAChB,OAAO,KACX,IAAI2kD,EAASjgE,KAAK02B,KAAK1rB,GACnBi1D,IACAA,GAAU,aAEd,IACI5G,EAAc,CAAE,MADRr5D,KAAK41E,aAAa14D,OAAOld,KAAK61E,cACN7qE,GAAIi1D,EAAQD,gBAAiBhgE,KAAKqU,QAAQ2rD,iBAC9E,IAAUx2D,OAAO6vD,EAAar5D,KAAKqU,QAAQglD,aAC3CA,EAAYkJ,sBAAuB,EACnCviE,KAAKotE,SAAW,IAAI,EAAU/T,IAElCqc,EAAW12E,UAAUm1E,eAAiB,WAClC,IAAI99D,EAAQrW,KAAKwgD,aAAapO,WAC9B,IAAK/7B,GAASA,EAAMiF,UAChB,OAAO,KACX,IAAI2kD,EAASjgE,KAAK02B,KAAK1rB,GACnBi1D,IACAA,GAAU,aAEd,IACI5G,EAAc,CAAE,MADRr5D,KAAK61E,aACmB7qE,GAAIi1D,EAAQD,gBAAiBhgE,KAAKqU,QAAQ2rD,iBAC9E,IAAUx2D,OAAO6vD,EAAar5D,KAAKqU,QAAQglD,aAC3Cr5D,KAAKqtE,SAAW,IAAI,EAAUhU,GAC9BA,EAAYkJ,sBAAuB,GAEvCmT,EAAW12E,UAAUy9C,WAAa,SAAU75B,EAAQwxD,GAChD,IACI30D,EADQzf,KAAKqyC,WACG/Y,aAChBztB,EAAQ4T,EAAQnU,QAAQsX,GAC5B,GAAI/W,GAAS,EACT,OAAQuoE,GACJ,IAAK,UACD,GAAa,GAATvoE,EACA,OAEJ7L,KAAK0xE,eAAe7lE,EAAO,GAC3B,MACJ,IAAK,SACD,GAAa,GAATA,EACA,OAEJ7L,KAAK0xE,eAAe7lE,EAAOA,EAAQ,GACnC,MACJ,IAAK,WACD,GAAIA,GAAS4T,EAAQve,OAAS,EAC1B,OAEJlB,KAAK0xE,eAAe7lE,EAAOA,EAAQ,GACnC,MACJ,IAAK,aACD,GAAIA,GAAS4T,EAAQve,OAAS,EAC1B,OAEJlB,KAAK0xE,eAAe7lE,EAAO4T,EAAQve,OAAS,KAM5Dw0E,EAAW12E,UAAU0yE,eAAiB,SAAUjmE,EAAQC,GACpD,IAAI+iC,EAAQzuC,KAAKqyC,WACjB,GAAK5D,EAAL,CAEA,IAAIhuB,EAAOzgB,KAAKgyE,aAAa50C,iBAAiB,WAAap9B,KAAKozB,UAAY,SACxEihD,EAAY5zD,EAAKhV,GACjBC,GAAU,EACV1L,KAAKgyE,aAAa5xC,aAAai0C,EAAWr0E,KAAKgyE,aAAa,IAEvDtmE,EAAS+U,EAAKvf,OACnBlB,KAAKgyE,aAAa5xC,aAAai0C,EAAW5zD,EAAK/U,IAG/C1L,KAAKgyE,aAAavsD,YAAY4uD,GAElC5lC,EAAMgO,WAAWhxC,EAAQC,GACzB+iC,EAAMqP,wBAAwB,IAAkBnV,OAEpD+sC,EAAW12E,UAAU6vE,4BAA8B,WAE/C,OADY7uE,KAAKqyC,WACJuG,QAAU54C,KAAKqU,QAAQ+8D,wBAExCsE,EAAW8B,cAAgB,EACpB9B,EAtqBoB,CAuqB7B,KCxrBE,EAAkC,WAClC,SAAS+B,EAAiBjD,EAAK5xD,EAAQ8T,GACnC12B,KAAK2qE,aAAe,KACpB3qE,KAAK6qE,kBAAmB,EACxB7qE,KAAK8qE,oBAAqB,EAC1B9qE,KAAKw0E,IAAMA,EACXx0E,KAAK4iB,OAASA,EACd5iB,KAAKqlB,QAAUqR,EAoJnB,OAlJA54B,OAAOC,eAAe05E,EAAiBz4E,UAAW,YAAa,CAC3Df,IAAK,WACD,MAAO,WAEXD,YAAY,EACZ0gB,cAAc,IAElB+4D,EAAiBz4E,UAAUy6B,OAAS,WAChCz5B,KAAK+qE,SAAW/qE,KAAKm/B,eACrB,IAAIhW,EAAU,YAAM,OAgBpB,OAfAA,EAAQ9oB,KAAK,KAAML,KAAK4iB,OAAO5X,IAC3BhL,KAAKqlB,SAELrlB,KAAKqlB,QAAQ6vC,WACRiW,aAAahiD,EAAQ2C,QAAS9rB,KAAKqlB,SAE5CrlB,KAAKqlB,QAAU8D,EAAQ2C,QACvB3C,EACKgB,SAASnqB,KAAKurE,mBACdphD,SAAS,IAAa4nC,qBACtB1oC,gBAAgBrpB,KAAK2rE,sBACtB3rE,KAAK+X,cACLoR,EACKE,gBAAgBrpB,KAAK20E,uBAEvB30E,KAAKqlB,SAEhBoyD,EAAiBz4E,UAAUutE,kBAAoB,WAC3CvsE,KAAK4iB,OAAOwxB,oBAEhBqjC,EAAiBz4E,UAAUk6B,QAAU,WACjCl5B,KAAKy5B,UAETg+C,EAAiBz4E,UAAUmgC,aAAe,WAEtC,OADYn/B,KAAKw0E,IAAIh0B,aAAapO,WACrBx2B,iBAAiB5b,KAAK4iB,OAAOxK,KAAK/Z,QAEnDo5E,EAAiBz4E,UAAU+Y,WAAa,WACpC,OAAO/X,KAAK4iB,OAAOwU,UAAYp3B,KAAK4iB,OAAO+wB,cAE/C8jC,EAAiBz4E,UAAU2sE,mBAAqB,WAC5C,IAAInqE,EAAQxB,KACPA,KAAK4iB,OAAO5M,SAAkC,IAAvBhW,KAAK4iB,OAAO5M,UACpChW,KAAK4iB,OAAO5M,QAAUhW,KAAK80E,qBAY/B,IAAIx6D,EAAOta,KAAK4iB,OAAO5M,QAIvB,OAHKhW,KAAK+X,eACNuC,GAZJ,SAAkBo9D,GACd,OAAQA,GACJ,KAAK,IAAcjpB,UACf,MAAO,KACX,KAAK,IAAcye,WACf,MAAO,KACX,QACI,MAAO,IAKPyK,CAAS33E,KAAK4iB,OAAO4wB,UAE1B,YAAM,OACRrpB,SAASnqB,KAAKozB,UAAY,cAAepzB,KAAKozB,UAAY,mBAC1DjJ,SAAS,IAAa4nC,qBACtB9oC,SAAS,OAAO,SAAU7iB,GAAK,OAAOA,EACtCojB,MAAMhoB,EAAMohB,OAAO5M,SACnBsE,KAAKA,MACLwR,SAET2rD,EAAiBz4E,UAAU21E,oBAAsB,WAC7C,IAAInzE,EAAQxB,KACRitE,EAAqB,IAAc,qBACnCD,EAA8BC,EAClC,OAAQjtE,KAAK4iB,OAAO4wB,SAChB,KAAK,IAAc3jB,KACfm9C,EAA8BC,EAAqB,QACnD,MACJ,KAAK,IAAcxe,UACfue,EAA8BC,EAAqB,OACnD,MACJ,KAAK,IAAcC,WACfF,EAA8BC,EAAqB,QAG3D,IAAI9jD,EAAU,YAAM,OACfgB,SAASnqB,KAAKozB,UAAY,cAAepzB,KAAKozB,UAAY,0BAC1DjJ,SAAS,IAAa4nC,qBACtB9oC,SAAS,OAAO,SAAUE,GAAW,OAAOA,EAC5CgB,SAAS3oB,EAAM4xB,UAAY,eAAgB45C,GAC3CxjD,MAAM,IAAK/iB,QAAQ,qBACnBkkB,GAAG,oBAAoB,SAAUyE,GAAM,OAAO5tB,EAAM2zE,0BAA0B/lD,EAAIjG,EAAQ2C,YAC/F,OAAO3C,EAAQ2C,SAEnB2rD,EAAiBz4E,UAAUm2E,0BAA4B,SAAU/lD,EAAI8S,GACjE,IAAI1gC,EAAQxB,KAoCZ,OAnCAovB,EAAGgB,kBACHpwB,KAAK8qE,oBAAqB,EACf9qE,KAAKw0E,IAAIpH,SACfvD,SAAS,CACV3nC,OAAQA,EACR0nC,YAAa,KACbG,qBAAsB,SAAU1pE,EAAMkc,GAClC,IAAmCta,EAWnC,GAAe,QAAX5B,EAAK2K,IAA2B,aAAX3K,EAAK2K,IAAgC,cAAX3K,EAAK2K,GAAoB,CACxE,IAAIyjC,EAAQjtC,EAAMgzE,IAAIh0B,aAAanO,WAC/B7wC,EAAMohB,OAAOgxB,gBAA6B,QAAXvzC,EAAK2K,IACpCyjC,EAAMiO,aAAal7C,EAAMohB,OAAQphB,EAAMgzE,KACvC/lC,EAAMqP,wBAAwB,IAAkBjpC,OAAQrT,EAAMohB,QAAQ,KAGtEphB,EAAMohB,OAAO4wB,QAjBN,SADoBvxC,EAkBe5B,EAAK2K,IAhBxC,IAAc6kB,KAET,aAAP5tB,EACE,IAAcwsD,UAET,cAAPxsD,EACE,IAAcirE,gBADpB,EAYD1rE,EAAMohB,OAAO6wB,UAAYhF,EAAMkN,mBAAmBn6C,EAAMohB,QACxDphB,EAAM+qE,uBAIlBvC,mBAAoB,WAChBxoE,EAAMspE,oBAAqB,MAG5B,GAEX2M,EAAiBz4E,UAAU81E,kBAAoB,WAC3C,OAAO90E,KAAKkuE,oBAAoBluE,KAAK+qE,WAEzC0M,EAAiBz4E,UAAUkvE,oBAAsB,SAAU32D,GACvD,IAAIvP,EAAShI,KAAKw0E,IAAIngE,QAAQ+5D,oBAAsBpuE,KAAKw0E,IAAIngE,QAAQ6kD,kBAErE,OADYl5D,KAAKw0E,IAAIh0B,aAAapO,WACrBr0B,iBAAiBxG,EAAMvP,IAExCyvE,EAAiBz4E,UAAUusE,gBAAkB,WACzC,OAAOvrE,KAAKozB,UAAY,QAAUpzB,KAAKozB,UAAY,uBAEvDqkD,EAAiBz4E,UAAUmuE,OAAS,WAChC,OAAOntE,KAAKw0E,IACPh0B,aAAapO,WACbr2B,kBAAkB/b,KAAK4iB,OAAOxK,KAAK/Z,MAAO,iBAE5Co5E,EA3J0B,GCLjC,EAAwC,WACxC,IAAI/kE,EAAgB,SAAUhV,EAAG0I,GAI7B,OAHAsM,EAAgB5U,OAAOyV,gBAClB,CAAEC,UAAW,cAAgBvJ,OAAS,SAAUvM,EAAG0I,GAAK1I,EAAE8V,UAAYpN,IACvE,SAAU1I,EAAG0I,GAAK,IAAK,IAAIlH,KAAKkH,EAAOA,EAAEnH,eAAeC,KAAIxB,EAAEwB,GAAKkH,EAAElH,MACpDxB,EAAG0I,IAE5B,OAAO,SAAU1I,EAAG0I,GAEhB,SAASqN,IAAOzT,KAAK0T,YAAchW,EADnCgV,EAAchV,EAAG0I,GAEjB1I,EAAEsB,UAAkB,OAANoH,EAAatI,OAAOY,OAAO0H,IAAMqN,EAAGzU,UAAYoH,EAAEpH,UAAW,IAAIyU,IAV3C,GAoBxC,EAA4B,SAAUK,GAEtC,SAAS8jE,EAAWlhD,GAChB,IAAIl1B,EAAQsS,EAAOvW,KAAKyC,KAAM02B,IAAS12B,KAsBvC,OArBAwB,EAAM6S,QAAU,CACZ48D,YAAY,EACZ/X,kBAAmB,kBACnBkV,mBAAoB,KACpB/U,YAAa,CACTC,mBAAoB,GACpB6O,oBAAoB,EACpB5O,qBAAqB,EACrBwP,cAAc,EACd7I,qBAAsB,OAG9B1+D,EAAMo0E,aAAe,CACjB,CAAE5qE,GAAI,OAAQsP,KAAM,IAAK7T,QAAQ,iBACjC,CAAEuE,GAAI,YAAasP,KAAM,IAAK7T,QAAQ,iBACtC,CAAEuE,GAAI,aAAcsP,KAAM,IAAK7T,QAAQ,mBAE3C,YAAMjF,EAAMk1B,MACPvM,SAAS3oB,EAAM4xB,UAAY,UAC3BjJ,SAAS,IAAa4nC,qBAC3BvwD,EAAM8tD,MAAQ,IAAYpe,MACnB1vC,EAwRX,OAhTA,EAAUo2E,EAAY9jE,GA0BtBhW,OAAOC,eAAe65E,EAAW54E,UAAW,YAAa,CACrDf,IAAK,WACD,MAAO,WAEXD,YAAY,EACZ0gB,cAAc,IAElBk5D,EAAW54E,UAAUosD,cAAgB,WACjC,MAAO,cAEXwsB,EAAW54E,UAAUi5B,KAAO,SAAUknB,EAAS9qC,GAC3CP,EAAO9U,UAAUi5B,KAAK16B,KAAKyC,KAAMm/C,EAAS9qC,GAC1CrU,KAAKq6D,WAAWhmD,GAChBrU,KAAKuvD,cACLvvD,KAAKyxE,uBAETmG,EAAW54E,UAAUq7D,WAAa,SAAUhmD,GACxC,IAAUlQ,WAAWnE,KAAKqU,QAASA,IAEvCujE,EAAW54E,UAAUyyE,oBAAsB,WACvC,IAAIjwE,EAAQxB,KACRyuC,EAAQzuC,KAAKqyC,WACjBryC,KAAKkyE,qBAAuBzjC,EAAM+P,oBAAmB,SAAUx6B,GAE3D,IAAIy3C,EAAQz3C,EAAM3jB,KAClB,GAAKo7D,IAAUA,EAAMpnB,MAAQ,IAAgBC,gBACtCmnB,EAAMpnB,MAAQ,IAAgBE,SAAWknB,EAAMpnB,MAAQ,IAAgB1L,KAG9E,OAAQ8yB,EAAMjnB,QACV,KAAK,IAAkBC,OACnB,IAAIh1B,EAAUg8C,EAAM/mB,QAChB29B,EAAiB,SAAUzvD,GAC3B,IAAI0vD,EAAQ9wE,EAAMwwE,aAAa9qC,cAAc,gBAAkBtkB,EAAO5X,GAAK,MACvEsnE,GACA9wE,EAAM+xE,aAAa3wD,EAAQ0vD,IAG/BroE,MAAMC,QAAQuV,GACdA,EAAQkD,SAAQ,SAAU9D,GAAO,OAAOwzD,EAAexzD,MAGvDwzD,EAAe5yD,GAEnB,MAEJ,KAAK,IAAkBu9C,IACfv9C,EAAUg8C,EAAM/mB,QAApB,IACIi+B,EAAc,SAAU/vD,GACxBphB,EAAMoxE,iBAAiBhwD,IAEvB3Y,MAAMC,QAAQuV,GACdA,EAAQkD,SAAQ,SAAU9D,GAAO,OAAO8zD,EAAY9zD,MAGpD8zD,EAAYlzD,GAEhB,MAEJ,KAAK,IAAkB5K,OACf4K,EAAUg8C,EAAM/mB,QAApB,IACIm+B,EAAiB,SAAUjwD,GAC3B,IAAI0vD,EAAQ9wE,EAAMwwE,aAAa9qC,cAAc,gBAAkBtkB,EAAO5X,GAAK,MACvEsnE,GACA9wE,EAAMwwE,aAAargD,YAAY2gD,IAEnCroE,MAAMC,QAAQuV,GACdA,EAAQkD,SAAQ,SAAU9D,GAAO,OAAOg0D,EAAeh0D,MAGvDg0D,EAAepzD,GAEnB,MAEJ,QACIje,EAAM03B,eAKtB0+C,EAAW54E,UAAUwyE,oBAAsB,WACnCxxE,KAAKkyE,sBACOlyE,KAAKwgD,aAAanO,WACxBoM,sBAAsBz+C,KAAKkyE,uBAGzC0F,EAAW54E,UAAUqzC,SAAW,WAC5B,OAAOryC,KAAKwgD,aAAanO,YAE7BulC,EAAW54E,UAAUuwD,YAAc,WAC/BvvD,KAAKwxE,sBACLxxE,KAAKmd,SAETy6D,EAAW54E,UAAUmwD,YAAc,WAC/BnvD,KAAKmd,QACLnd,KAAKy5B,UAETm+C,EAAW54E,UAAUq3E,mBAAqB,WACtC,IAAI70E,EAAQxB,KACZ,YAAMA,KAAK81E,cACN3rD,SAAS,IAAc,UAAWnqB,KAAKozB,UAAY,UAAW,IAAc,iBAC5EjJ,SAAS,IAAa4nC,qBACtBvoC,MAAM,IAAK/iB,QAAQ,wBACnBwiB,SAAS,KAAK,SAAUE,GAAW,OAAOA,EAC1C5R,KAAK,OAAQ,sBACboT,GAAG,SAAS,SAAU6B,GACvBA,EAAEQ,iBACFxrB,EAAMquE,iBAAiB,CACnB3tC,OAAQ1V,EAAE/iB,OACVmgE,YAAa,KACbG,qBAAsB,SAAU1pE,EAAMkc,GAClC,IAAIwzD,EAAS1vE,EAAK2K,GAElB,OADAxJ,EAAMmwE,aAAa5B,IACZ,WAIf,IAAare,gBACb,YAAM1xD,KAAKgyE,cACN3oD,gBAAgBrpB,KAAK81E,eAGlC8B,EAAW54E,UAAU6wE,iBAAmB,SAAUxW,GAC9Cr5D,KAAKi0E,aAAapK,SAASxQ,IAE/Bue,EAAW54E,UAAUq0E,mBAAqB,WACtC,IAAIh9D,EAAQrW,KAAKwgD,aAAapO,WAC9B,IAAK/7B,GAASA,EAAMiF,UAChB,OAAO,KACX,IAAI2kD,EAASjgE,KAAK02B,KAAK1rB,GACnBi1D,IACAA,GAAU,iBAEd,IACI5rD,EAAU,CAAEkI,MADGlG,EAAMkH,gBAAgB,CAAEwwB,QAAQ,EAAOC,QAAQ,EAAOC,QAAQ,IAE7E86B,aAAc/oE,KAAKqU,QAAQ+kD,yBAA0BpuD,GAAIi1D,EAAQD,gBAAiBhgE,KAAKqU,QAAQ2rD,iBACnGhgE,KAAKi0E,aAAe,IAAI,EAAU5/D,IAEtCujE,EAAW54E,UAAUk1E,eAAiB,WAClC,IAAI79D,EAAQrW,KAAKwgD,aAAapO,WAC9B,IAAK/7B,GAASA,EAAMiF,UAChB,OAAO,KACX,IAAI2kD,EAASjgE,KAAK02B,KAAK1rB,GACnBi1D,IACAA,GAAU,aAEd,IACI5G,EAAc,CAAE,MADRr5D,KAAK41E,aACmB5qE,GAAIi1D,EACxC,sBAAmC,GACnCjgE,KAAKotE,SAAW,IAAI,EAAU/T,IAElCue,EAAW54E,UAAUy6B,OAAS,WAC1B,IAAIj4B,EAAQxB,KACZA,KAAKqzE,qBACLrzE,KAAKk0E,iBACLl0E,KAAKgyE,aACD,YAAM,OACD7nD,SAASnqB,KAAKozB,UAAY,YAC1BjJ,SAAS,IAAa4nC,qBACtBjmC,QACL9rB,KAAKqU,QAAQ48D,aACbjxE,KAAK81E,aACD,YAAM,OACDhqD,QACL,IAAa4lC,eACb,YAAM1xD,KAAKgyE,cACN3oD,gBAAgBrpB,KAAK81E,cAG1B,YAAM91E,KAAK02B,MACNrN,gBAAgBrpB,KAAK81E,cAE9B91E,KAAKq2E,sBAET,YAAMr2E,KAAK02B,MACNrN,gBAAgBrpB,KAAKgyE,cAC1B,IAAIvjC,EAAQzuC,KAAKm/C,QAAQ9M,WACX5D,EAAMnV,aAAapc,OAAOuxB,EAAM6M,wBACtC34B,SAAQ,SAAUC,EAAQ/W,GAC9B,IAAI6qB,EAAOl1B,EAAM+xE,aAAa3wD,GAC9BphB,EAAMwwE,aAAavsD,YAAYiR,OAGvCkhD,EAAW54E,UAAU2yE,aAAe,SAAU91D,GAC1C,IAAIra,EAAQxB,KACRqW,EAAQrW,KAAKwgD,aAAapO,WAC1B3D,EAAQzuC,KAAKwgD,aAAanO,WA2B9B,GAAKryC,KAAKwgD,aAAanO,WAGvB,OAAOryC,KAAK47C,UA7BY,SAAUm0B,GAC9B,IAAI/zD,EAAY3F,EAAMuF,iBAAiBm0D,GACvC,IAAK/zD,EACD,OAAO,KAEX,IAAKA,EAAU8vB,aAAc,CACzB,IAAI9vB,EAAU7D,WAQV,OAAO,KALP,GAFA43D,EAAS/zD,EAAU7D,aACnB6D,EAAY3F,EAAMuF,iBAAiBm0D,MAChB/zD,EAAU8vB,aACzB,OAAO,KAMnB,IAAIlpB,EAAS6rB,EAAM0L,cAAa,GAQhC,OAPAv3B,EAAO5M,QAAUxU,EAAMgrE,wBAAwBxwD,GAC/C4G,EAAO4wB,QAAU,IAAcib,UAC/B7rC,EAAO6wB,UAAYjyC,EAAM6wC,WAAWsJ,mBAAmB/4B,GACvDA,EAAOxK,KAAK2B,IAAM,IAAQ41B,gBAE1B/sB,EAAOxK,KAAK2H,SAASgwD,GAAQ,GAC7BntD,EAAO7B,OAAO7D,OAAOlB,EAAU+E,QACxB6B,EAKW8wD,CAAkB73D,KAE5C+7D,EAAW54E,UAAUwtE,wBAA0B,SAAUj1D,GACrD,IAAIvP,EAAShI,KAAKqU,QAAQ+5D,oBAAsBpuE,KAAKqU,QAAQ6kD,kBAE7D,OADYl5D,KAAKwgD,aAAapO,WACjBr0B,iBAAiBxG,EAAMvP,IAExC4vE,EAAW54E,UAAU48C,UAAY,SAAUh5B,GACvC,IAAI6rB,EAAQzuC,KAAKwgD,aAAanO,WAC9B,GAAK5D,IAGL7rB,EAAS5iB,KAAK4zE,YAAYhxD,IAgB1B,OAZAA,EAAS6rB,EAAMmN,UAAU,CACrB5lC,QAAS4M,EAAO5M,QAChB+lC,YAAan5B,EAAOxK,KAAK/Z,MACzBm1C,QAAS5wB,EAAO4wB,QAChBC,UAAW7wB,EAAO6wB,UAClBJ,YAAY,IAEhB5E,EAAM2F,iBAAiB,CACnBC,KAAM,IAAgBC,eACtBE,OAAQ,IAAkBwoB,IAC1BtoB,QAAS9xB,IAENA,GAEXg1D,EAAW54E,UAAU40E,YAAc,SAAU/0D,GAKzC,IAJA,IAAI4vB,EAAQzuC,KAAKwgD,aAAanO,WAC1B5yB,EAAUgvB,EAAMnV,aACfpc,OAAOuxB,EAAM6M,wBACdi8B,EAAUniE,KAAKC,UAAUwJ,EAAIzG,KAAKs6B,cAC7Bt1C,EAAI,EAAGA,EAAIqiB,EAAQve,OAAQ9D,IAAK,CAErC,GADegY,KAAKC,UAAUoK,EAAQriB,GAAGgb,KAAKs6B,gBAC7B6kC,EACb,OAAO,KAGf,OAAO14D,GAEX+4D,EAAW54E,UAAUu0E,aAAe,SAAU3wD,EAAQy0D,GAClD,IAAIzmD,EAAW,IAAI,EAAiB5wB,KAAM4iB,EAAQy0D,GAClD,OAAIzmD,EACiBA,EAAS6I,SAGvB,MAGXm+C,EAAW54E,UAAU4zE,iBAAmB,SAAUhwD,GAC9C,IAAIixD,EAAc7zE,KAAKuzE,aAAa3wD,GACpC5iB,KAAKgyE,aAAavsD,YAAYouD,GAC1B7zE,KAAKqU,QAAQi9D,wBACbtxE,KAAKqU,QAAQi9D,uBAAuBuC,IAG5C+D,EAAW54E,UAAUme,MAAQ,WACzBnd,KAAK02B,KAAKpL,UAAY,IAEnBssD,EAjToB,CAkT7B,MVlUF,SAAWnN,GACPA,EAAeA,EAAqB,KAAI,GAAK,OAC7CA,EAAeA,EAAsB,MAAI,GAAK,QAC9CA,EAAeA,EAA0B,UAAI,GAAK,YAClDA,EAAeA,EAAyB,SAAI,GAAK,WACjDA,EAAeA,EAAyB,SAAI,GAAK,WACjDA,EAAeA,EAAwB,QAAI,IAAM,UACjDA,EAAeA,EAAoB,IAAI,KAAO,MAC9CA,EAAeA,EAA2B,YAAK,GAAK,aACpDA,EAAeA,EAA0B,WAAK,IAAM,YACpDA,EAAeA,EAAmC,mBAAI,GAAK,qBAV/D,CAWGA,IAAmBA,EAAiB,KWbvC,ICkBWoN,EDlBP,EAA8B,WAC9B,SAASC,EAAa1d,EAAO9/C,EAAMoc,GAC/B12B,KAAKo6D,MAAQA,EACbp6D,KAAKsa,KAAOA,EACZta,KAAKqlB,QAAUqR,GAAQ,YAAM,OAAO5K,QA2BxC,OAzBAhuB,OAAOC,eAAe+5E,EAAa94E,UAAW,YAAa,CACvDf,IAAK,WACD,MAAO,WAEXD,YAAY,EACZ0gB,cAAc,IAElBo5D,EAAa94E,UAAUk6B,QAAU,WAC7Bl5B,KAAKy5B,UAETq+C,EAAa94E,UAAUy6B,OAAS,WAC5B,IAAIj4B,EAAQxB,KASZ,OARA,YAAMA,KAAKqlB,SACNgG,KAAK,IACLlB,SAASnqB,KAAKurE,mBACdphD,SAAS,IAAa4nC,qBACtB9oC,SAAS,QAAQ,SAAUE,GAAW,OAAOA,EAC7C7O,KAAK9Y,EAAM8Y,MACXkP,MAAMhoB,EAAM8Y,SACZwR,QACE9rB,KAAKqlB,SAEhByyD,EAAa94E,UAAUusE,gBAAkB,WACrC,OAAOvrE,KAAKozB,UAAY,gBAErB0kD,EA/BsB,GCF7B,EAAwC,WACxC,IAAIplE,EAAgB,SAAUhV,EAAG0I,GAI7B,OAHAsM,EAAgB5U,OAAOyV,gBAClB,CAAEC,UAAW,cAAgBvJ,OAAS,SAAUvM,EAAG0I,GAAK1I,EAAE8V,UAAYpN,IACvE,SAAU1I,EAAG0I,GAAK,IAAK,IAAIlH,KAAKkH,EAAOA,EAAEnH,eAAeC,KAAIxB,EAAEwB,GAAKkH,EAAElH,MACpDxB,EAAG0I,IAE5B,OAAO,SAAU1I,EAAG0I,GAEhB,SAASqN,IAAOzT,KAAK0T,YAAchW,EADnCgV,EAAchV,EAAG0I,GAEjB1I,EAAEsB,UAAkB,OAANoH,EAAatI,OAAOY,OAAO0H,IAAMqN,EAAGzU,UAAYoH,EAAEpH,UAAW,IAAIyU,IAV3C,IAqB5C,SAAWokE,GACPA,EAAgBA,EAA8B,aAAI,GAAK,eACvDA,EAAgBA,EAA0B,SAAI,GAAK,WACnDA,EAAgBA,EAAwB,OAAI,GAAK,SACjDA,EAAgBA,EAAwB,OAAI,GAAK,SACjDA,EAAgBA,EAAsB,KAAI,GAAK,OAC/CA,EAAgBA,EAA+B,cAAI,GAAK,gBACxDA,EAAgBA,EAAwB,OAAI,GAAK,SAPrD,CAQGA,IAAoBA,EAAkB,KACzC,IAAI,EAAmC,WACnC,SAASE,EAAkB3d,EAAO/qB,EAAW3Y,GACzC12B,KAAKo6D,MAAQA,EACbp6D,KAAKqvC,UAAYA,EACjBrvC,KAAKqlB,QAAUqR,GAAQ,YAAM,OAAO5K,QAmCxC,OAjCAhuB,OAAOC,eAAeg6E,EAAkB/4E,UAAW,YAAa,CAC5Df,IAAK,WACD,MAAO,WAEXD,YAAY,EACZ0gB,cAAc,IAElBq5D,EAAkB/4E,UAAUk6B,QAAU,WAClCl5B,KAAKy5B,UAETs+C,EAAkB/4E,UAAUme,MAAQ,WAC5Bnd,KAAKqlB,UACLrlB,KAAKqlB,QAAQG,UAAY,GACzBxlB,KAAKqlB,QAAQsE,gBAAgB,WAC7B3pB,KAAKqlB,QAAQsE,gBAAgB,SAC7B,YAAM3pB,KAAKqlB,SACNgG,KAAK,MAKlB0sD,EAAkB/4E,UAAUy6B,OAAS,SAAUu+C,GAO3C,OANAh4E,KAAKmd,QAELnd,KAAKi4E,WAAWD,GACZh4E,KAAKo6D,MAAM/lD,QAAQ6jE,qBACnBl4E,KAAKo6D,MAAM/lD,QAAQ6jE,oBAAoBl4E,KAAKqvC,UAAWrvC,KAAKqlB,SAEzDrlB,KAAKqlB,SAEhB0yD,EAAkB/4E,UAAU+Y,WAAa,WACrC,OAAO/X,KAAKqvC,UAAUjY,UAAYp3B,KAAKqvC,UAAUsE,cAE9CokC,EAvC2B,GA0ClC,EAAyC,SAAUjkE,GAEnD,SAASqkE,IACL,OAAkB,OAAXrkE,GAAmBA,EAAOF,MAAM5T,KAAM2G,YAAc3G,KA4a/D,OA9aA,EAAUm4E,EAAyBrkE,GAInCqkE,EAAwBn5E,UAAUusE,gBAAkB,WAChD,IAAIppE,EAASnC,KAAKozB,UAAY,QAAUpzB,KAAKozB,UAAY,iBAGzD,GAFAjxB,GAAUnC,KAAKqvC,UAAUoG,WAAa,IAAMz1C,KAAKozB,UAAY,oBAAsB,GACnFjxB,GAAUnC,KAAKqvC,UAAUkG,kBAAoB,IAAMv1C,KAAKozB,UAAY,2BAA6B,IAC5F,IAAas+B,eAAgB,CAC9B,IAAI70B,EAAQ78B,KAAKqvC,UAAUiG,WACvBzY,EAAQ,IACR16B,GAAU,IAAMnC,KAAKozB,UAAY,UAAYyJ,GAMrD,OAJA16B,GAAUnC,KAAKqvC,UAAUjY,QAAU,GAAK,IAAMp3B,KAAKozB,UAAY,YAC3DpzB,KAAKqvC,UAAUjY,UACfj1B,GAAUnC,KAAKqvC,UAAUsE,aAAe,IAAM3zC,KAAKozB,UAAY,YAAc,IAE1EjxB,GAEXg2E,EAAwBn5E,UAAUi5E,WAAa,SAAUD,GACrD,IAAIx2E,EAAQxB,KAERgpC,EADQhpC,KAAKo6D,MAAM5Z,aAAapO,WACf7B,gBAAgBvwC,KAAKqvC,UAAUiH,iBAChDg6B,EAAY,IAAQvnC,oBAAoBC,GACxCz/B,EAAO,KACP0B,EAAYqlE,EAAUpvE,OACtBioB,EAAU,YAAM,OAChBnpB,KAAKqlB,SAAWrlB,KAAKqlB,QAAQ6vC,YAC7Bl1D,KAAKqlB,QAAQ6vC,WACRiW,aAAahiD,EAAQ2C,QAAS9rB,KAAKqlB,SAE5CrlB,KAAKqlB,QAAU8D,EAAQ2C,QACvB3C,EACKgB,SAASnqB,KAAKurE,mBACdphD,SAAS,IAAa4nC,qBACtB1xD,KAAK,KAAML,KAAKqvC,UAAUrkC,IAC1B3K,KAAK,UAAW,IAChBgpB,gBAAgBrpB,KAAKwrE,kBACrBniD,gBAAgBrpB,KAAKo4E,qBA2B1B,IA1BA,IAAIC,EAAYL,EACZv0C,EAAU,SAAUv4B,GAEpB,GAAkB,cADlB3B,EAAO+mE,EAAUplE,IACRoT,KAAqB,CAC1B,IAAIsS,EAAWgsC,EAAOxC,MAAMke,oBAAoB1b,EAAOvtB,UAAW9lC,EAAK+Q,MACnEsW,GACAzH,EAAQE,gBAAgBuH,EAAS6I,eAGpC,GAAkB,eAAdlwB,EAAK+U,KAAuB,CACjC,IAAIi6D,EAAWF,GAAc9uE,EAAKsC,MAAQ,EACtC2sE,EAAiB5b,EAAOxC,MAAMqe,sBAAsB7b,EAAOvtB,UAAUE,YAAYhmC,EAAKsC,QAC1F,GAAI2sE,EAAgB,CAChB,IAAI5rD,EAAK4rD,EAAe/+C,OAAO8+C,GAC/BpvD,EAAQE,gBAAgBuD,GACxBhI,YAAW,WACP4zD,EAAeE,gBAChB,KAEPL,EAAYA,IAAcE,MAEP,SAAdhvE,EAAK+U,MACV6K,EAAQE,gBAAgB,IAAI,EAAauzC,EAAOxC,MAAO7wD,EAAK+Q,MAAMmf,WAGtEmjC,EAAS58D,KACJkL,EAAM,EAAGA,EAAMD,EAAWC,IAC/Bu4B,EAAQv4B,IAERlL,KAAKo6D,MAAM/lD,QAAQskE,uBAAyB,IAAajnB,iBACzDvoC,EAAQwB,GAAG,SAAS,SAAUyE,GAO1B,OANAA,EAAGgB,kBACH5uB,EAAM44D,MAAMwe,sBAAsBp3E,EAAM6tC,WACxC7tC,EAAM8qE,0BACD,IAAa5a,gBACdlwD,EAAM6jB,QAAQ8H,cAAc,YAAmB,gBAE5C,KAGfhE,EACKE,gBAAgBrpB,KAAK00E,sBACrB,IAAahjB,gBACdvoC,EACKwB,GAAG,cAAc,SAAU3G,GAI5B,OAHAxiB,EAAMqpE,kBAAmB,EACzBrpE,EAAM+sE,mBACNvqD,EAAMoM,mBACC,KAENzF,GAAG,cAAc,SAAU3G,GAM5B,OALAxiB,EAAMqpE,kBAAmB,GACpBrpE,EAAMspE,oBAAsB,YAAMtpE,EAAMq3E,cAAc1yD,aACvD3kB,EAAMusE,mBAEV/pD,EAAMoM,mBACC,MAInB+nD,EAAwBn5E,UAAU85E,0BAA4B,SAAUz6E,GACpE2B,KAAKqvC,UAAUmG,iBAAiBn3C,GAChC2B,KAAKqvC,UAAU+E,oBAEnB+jC,EAAwBn5E,UAAU+5E,mBAAqB,SAAU16E,GAC7D2B,KAAKqvC,UAAUqG,UAAUr3C,GACzB2B,KAAKqvC,UAAU+E,oBAEnB+jC,EAAwBn5E,UAAUg6E,iBAAmB,WACjD,OAAOh5E,KAAKo6D,MAAM4e,oBAEtBb,EAAwBn5E,UAAUo5E,kBAAoB,WAClD,IAAIriE,EAAS/V,KAAKqvC,UAAU8C,YAC5B,IAAKp8B,EACD,OAAO,KACX,IAAIkjE,EAAoG,GAA1E,IAAU9tE,kBAAkB4K,EAAOq5B,gBAAiBpvC,KAAKqvC,UAAUrkC,IACjG,GAAIhL,KAAKo6D,MAAM/lD,QAAQ6kE,mBAAqBD,EAAyB,CACjE,IAAIE,EAAc,IAAQrwC,cAAc9oC,KAAKqvC,UAAU8C,YAAY4C,UAC/DqkC,EAAiB,IAAK3yE,QAAQ,OAAS0yE,GAC3C,OAAO,YAAM,QACR7+D,KAAK8+D,GACL5vD,MAAM4vD,GACNjvD,SAASnqB,KAAKozB,UAAY,gBAAkBpzB,KAAKozB,UAAY,yBAC7DtH,QAET,OAAO,MAEXqsD,EAAwBn5E,UAAUwsE,eAAiB,WAC/C,IAAIhqE,EAAQxB,KACZ,OAAIA,KAAKo6D,MAAM/lD,QAAQ2mD,iBAAmBh7D,KAAKqvC,UAAUsE,aAC9C,YAAM,OACRnqB,MAAM,IAAK/iB,QAAQ,oBACnB8Q,KAAK,WAAY,KACjB4S,SAASnqB,KAAKozB,UAAY,gBAAkBpzB,KAAKozB,UAAY,uBAC7DjJ,SAAenqB,KAAKqvC,UAAUjY,QAAU,UAAY,IACpDzM,GAAG,SAAS,WAGb,OAFAnpB,EAAM6tC,UAAUjY,SAAW51B,EAAM6tC,UAAUjY,QAC3C51B,EAAM6tC,UAAU+E,oBACT,KAENzpB,GAAG,YAAY,SAAUqjD,GAAW,CAAC,GAAI,IAAItW,SAASsW,EAAIjhD,UAC3DihD,EAAIvkE,OAAOg5C,WAEV32B,QAGE,MAGfqsD,EAAwBn5E,UAAUq6E,kBAAoB,WAClD,OAAOr5E,KAAKqlB,QAAQiF,UAAUib,SAAS,WAE3C4yC,EAAwBn5E,UAAUosE,YAAc,WAC5C,YAAMprE,KAAKqlB,SAAShlB,KAAK,eAAgB,OAE7C83E,EAAwBn5E,UAAUotE,YAAc,WAC5C,YAAMpsE,KAAKqlB,SAAShlB,KAAK,eAAgB,KAE7C83E,EAAwBn5E,UAAUstE,wBAA0B,YACpDtsE,KAAKo6D,MAAM/lD,QAAQilE,+BACft5E,KAAKo6D,MAAM/lD,QAAQskE,uBAAyB34E,KAAKq5E,sBACrDr5E,KAAKosE,eAGb+L,EAAwBn5E,UAAUuvE,iBAAmB,WACjDvuE,KAAKosE,eAET+L,EAAwBn5E,UAAU+uE,iBAAmB,WAC5C/tE,KAAKo6D,MAAM/lD,QAAQilE,+BACft5E,KAAKq5E,sBAAuBr5E,KAAKo6D,MAAM/lD,QAAQskE,uBACpD34E,KAAKorE,eAGb+M,EAAwBn5E,UAAUu6E,qBAAuB,SAAU/kC,EAAQw5B,GACvE,IAAIxsE,EAAQxB,KACZ,OAAQw0C,GACJ,KAAKqjC,EAAgB2B,aACjB,IAAKx5E,KAAKqvC,UAAUC,UAChB,OACJ,IAAImqC,EAAUz5E,KAAKo6D,MAAMsf,kBACrBD,GACAA,EAAQ5P,SAAS,CACb3nC,OAAQ8rC,EAAIvkE,OACZsgE,qBAAsB,SAAUxgE,GAC5B,IAAIklC,EAAQjtC,EAAM44D,MAAM/nB,WACpBsnC,EAAQ,CACR5jE,OAAQvU,EAAM6tC,UACd0M,YAAaxyC,EAAKyB,IAElBmqC,EAAO1G,EAAMqO,mBAAmB68B,GAIpC,OAHIxkC,GACA1G,EAAMsP,2BAA2B,IAAkBif,IAAK7nB,IAErD,KAInB,MACJ,KAAK0iC,EAAgB+B,SACjB,IAAK55E,KAAKqvC,UAAUC,UAChB,OACJ,IAAIb,EAAQzuC,KAAKo6D,MAAM/nB,WACnBsnC,EAAQ,CACR5jE,OAAQ/V,KAAKqvC,WAEbigB,EAAQtvD,KAAKo6D,MAAM/nB,WAAWsK,kBAAkBg9B,GAChDrqB,GACA7gB,EAAMsP,2BAA2B,IAAkBif,IAAK1N,GAE5D,MACJ,KAAKuoB,EAAgBvJ,OACjBtuE,KAAKqvC,UAAUjY,SAAWp3B,KAAKqvC,UAAUjY,QACzCp3B,KAAKqvC,UAAU+E,mBACf,MACJ,KAAKyjC,EAAgBhjE,OACjB,IAAIglE,EAAW75E,KAAKqvC,UAAU8C,YAC9B,IAAK0nC,EACD,OACJ,IAAI5kC,EAAa4kC,EAASzqC,gBACtBlkC,EAAM+pC,EAAW3pC,QAAQtL,KAAKqvC,WAC9BnkC,GAAO,IACP+pC,EAAWtpC,OAAOT,EAAK,GACvBlL,KAAKqvC,UAAUgD,WAAW0L,2BAA2B,IAAkBlpC,OAAQ7U,KAAKqvC,YAExF,MACJ,KAAKwoC,EAAgB5J,KACjB,IAAI6L,EAAW95E,KAAKg5E,mBACpBh5E,KAAK8qE,oBAAqB,EAC1BgP,EAASjQ,SAAS,CACd3nC,OAAQ8rC,EAAIvkE,OACZmgE,YAAa5pE,KAAK+5E,gCAClBhQ,qBAAsB,SAAUxgE,GAC5B,IAAIirC,EACJ,OAAQjrC,EAAKyB,IACT,IAAK,SACDwpC,EAASqjC,EAAgBvJ,OACzB,MACJ,IAAK,SACD95B,EAASqjC,EAAgBhjE,OACzB,MACJ,IAAK,QACD2/B,EAASqjC,EAAgBmC,cACzB,MACJ,IAAK,SACDxlC,EAASqjC,EAAgBoC,OACzB,MACJ,IAAK,eACDzlC,EAASqjC,EAAgB2B,aACzB,MACJ,IAAK,WACDhlC,EAASqjC,EAAgB+B,SAGjCp4E,EAAM+3E,qBAAqB/kC,EAAQw5B,IAEvCtJ,mBAAoB,SAAUn7D,GAC1B,IAAIpH,EAASX,EAAM6tC,UAAUjY,SAAuB,WAAZ7tB,EAAKyB,IAA+B,WAAZzB,EAAKyB,GACrE,GAAgB,WAAZzB,EAAKyB,GAAiB,CACtB,IAAIkvE,EAAW14E,EAAM6tC,UAAU8C,YAC/BhwC,EAASA,GAAU+3E,GAAYA,EAAS9iD,YAEvB,WAAZ7tB,EAAKyB,GACV7I,EAASA,IAAYX,EAAM44D,MAAM/lD,QAAQ8lE,cAAgB1P,EAAe2P,WAAa3P,EAAe2P,QAEnF,aAAZ7wE,EAAKyB,IAAiC,iBAAZzB,EAAKyB,KACpC7I,EAASA,IAAYX,EAAM44D,MAAM/lD,QAAQ8lE,cAAgB1P,EAAe4P,YAAc5P,EAAe4P,UAEzG,OAAOl4E,GAEX6nE,mBAAoB,WAChBxoE,EAAMspE,oBAAqB,EACtBtpE,EAAMqpE,kBACPrpE,EAAMusE,sBAGlB,MACJ,KAAK8J,EAAgBmC,cACjBh6E,KAAKqvC,UAAUmG,kBAAkBx1C,KAAKqvC,UAAUkG,mBAChDv1C,KAAKqvC,UAAU+E,mBACf,MACJ,KAAKyjC,EAAgBoC,OACjBj6E,KAAKqvC,UAAUqG,WAAW11C,KAAKqvC,UAAUoG,YACzCz1C,KAAKqvC,UAAU+E,mBAIvB,OADA45B,EAAI59C,mBACG,GAEX+nD,EAAwBn5E,UAAU+6E,8BAAgC,WAC9D,IAAIrK,EAAc,GAalB,OAZI1vE,KAAKqvC,UAAUjY,SACfs4C,EAAY3pE,KAAK,UAGjB/F,KAAKqvC,UAAUkG,mBACfm6B,EAAY3pE,KAAK,SAGjB/F,KAAKqvC,UAAUoG,YACfi6B,EAAY3pE,KAAK,UAGd2pE,GAEXyI,EAAwBn5E,UAAU01E,mBAAqB,WACnD,IAAIlzE,EAAQxB,KACRs6E,EAAqB,SAAUtM,GAC/B,YAAMA,EAAIvkE,QACL0gB,SAAS3oB,EAAM4xB,UAAY,6BAEhCmnD,EAAqB,SAAUvM,GAC/B,YAAMA,EAAIvkE,QACL8gB,YAAY/oB,EAAM4xB,UAAY,6BAEnCjK,EAAU,YAAM,OACfgB,SAASnqB,KAAKozB,UAAY,2BAC1BjJ,SAAS,IAAa4nC,qBAE3B,GADA/xD,KAAK64E,aAAe1vD,EAAQ2C,QACxB9rB,KAAKqvC,UAAUsE,aACf,OAAO3zC,KAAK64E,aAEhB,IAAI2B,EAAgBx6E,KAAKgrE,mBAyGzB,OAxGIwP,EAAclvE,QAAQ,iBAAmB,GAAKtL,KAAKqvC,UAAUjY,UACxDp3B,KAAKo6D,MAAM/lD,QAAQ8lE,cAAgB1P,EAAe4P,WAAa5P,EAAe4P,UACnFlxD,EAAQF,SAAS,OAAO,SAAU7iB,GAC9BA,EAAE+jB,SAAS3oB,EAAM4xB,UAAY,uBACxB/yB,KAAK,iBAAkB,IACvB4oB,SAAS,OAAO,SAAU7iB,GAC3BA,EAAE+jB,SAAS3oB,EAAM4xB,UAAY,qBAAuB5xB,EAAM4xB,UAAY,kCACjE7b,KAAK,WAAY,KACjBlX,KAAK,SAAU,IACfmpB,MAAM,IAAK/iB,QAAQ,oBACnBkkB,GAAG,SAAS,SAAUqjD,GAAO,OAAOxsE,EAAM+3E,qBAAqB1B,EAAgB2B,aAAcxL,MAC7FrjD,GAAG,YAAY,SAAUqjD,GAA0B,IAAfA,EAAIjhD,SACzCihD,EAAIvkE,OAAOg5C,WAEV93B,GAAG,aAAc2vD,GACjB3vD,GAAG,aAAc4vD,UAKZC,EAAclvE,QAAQ,aAAe,GAAKkvE,EAAclvE,QAAQ,iBAAmB,IAClFtL,KAAKqvC,UAAUjY,UAC7Bp3B,KAAKo6D,MAAM/lD,QAAQ8lE,cAAgB1P,EAAe4P,WAAa5P,EAAe4P,UACnFlxD,EAAQF,SAAS,OAAO,SAAU7iB,GAC9BA,EAAE+jB,SAAS3oB,EAAM4xB,UAAY,uBACxB/yB,KAAK,iBAAkB,IACvB4oB,SAAS,OAAO,SAAU7iB,GAC3BA,EAAE+jB,SAAS3oB,EAAM4xB,UAAY,qBAAuB5xB,EAAM4xB,UAAY,kCACjE7b,KAAK,WAAY,KACjBlX,KAAK,SAAU,IACfmpB,MAAM,IAAK/iB,QAAQ,oBACnBkkB,GAAG,SAAS,SAAUqjD,GAAO,OAAOxsE,EAAM+3E,qBAAqB1B,EAAgB+B,SAAU5L,MACzFrjD,GAAG,YAAY,SAAUqjD,GAA0B,IAAfA,EAAIjhD,SACzCihD,EAAIvkE,OAAOg5C,WAEV93B,GAAG,aAAc2vD,GACjB3vD,GAAG,aAAc4vD,SAK9Bv6E,KAAKgrE,mBAAmB1/D,QAAQ,WAAa,GAAKtL,KAAKqvC,UAAU8C,aAAenyC,KAAKqvC,UAAU8C,YAAY/a,SAC3GjO,EAAQF,SAAS,OAAO,SAAU7iB,GAC9BA,EAAE+jB,SAAS3oB,EAAM4xB,UAAY,uBACxB/yB,KAAK,iBAAkB,IACvB4oB,SAAS,OAAO,SAAU7iB,GAC3BA,EAAE+jB,SAAS3oB,EAAM4xB,UAAY,qBAAuB5xB,EAAM4xB,UAAY,4BACjE7b,KAAK,WAAY,KACjBlX,KAAK,SAAU,IACfmpB,MAAM,IAAK/iB,QAAQ,oBACnB0jB,SAAS3oB,EAAM6tC,UAAUjY,QAAU,UAAY,IAC/CzM,GAAG,SAAS,SAAUqjD,GAAO,OAAOxsE,EAAM+3E,qBAAqB1B,EAAgBvJ,OAAQN,MACvFrjD,GAAG,YAAY,SAAUqjD,GAA0B,IAAfA,EAAIjhD,SACzCihD,EAAIvkE,OAAOg5C,WAEV93B,GAAG,aAAc2vD,GACjB3vD,GAAG,aAAc4vD,SAK9Bv6E,KAAKgrE,mBAAmB1/D,QAAQ,WAAa,GAAKtL,KAAKqvC,UAAU8C,cAC5DnyC,KAAKo6D,MAAM/lD,QAAQ8lE,cAAgB1P,EAAe2P,UAAY3P,EAAe2P,SAClFjxD,EAAQF,SAAS,OAAO,SAAU7iB,GAC9BA,EAAE+jB,SAAS3oB,EAAM4xB,UAAY,uBACxB/yB,KAAK,iBAAkB,IACvB4oB,SAAS,OAAO,SAAU7iB,GAC3BA,EAAE+jB,SAAS3oB,EAAM4xB,UAAY,qBAAuB5xB,EAAM4xB,UAAY,4BACjE7b,KAAK,WAAY,KACjBlX,KAAK,SAAU,IACfmpB,MAAM,IAAK/iB,QAAQ,cACnBkkB,GAAG,SAAS,SAAUqjD,GAAO,OAAOxsE,EAAM+3E,qBAAqB1B,EAAgBhjE,OAAQm5D,MACvFrjD,GAAG,YAAY,SAAUqjD,GAA0B,IAAfA,EAAIjhD,SACzCihD,EAAIvkE,OAAOg5C,WAEV93B,GAAG,aAAc2vD,GACjB3vD,GAAG,aAAc4vD,SAK9Bv6E,KAAKgrE,mBAAmB1/D,QAAQ,SAAW,GAC3C6d,EAAQF,SAAS,OAAO,SAAU7iB,GAC9BA,EAAE+jB,SAAS3oB,EAAM4xB,UAAY,uBACxB/yB,KAAK,iBAAkB,IACvB4oB,SAAS,OAAO,SAAU7iB,GAC3BA,EAAE+jB,SAAS3oB,EAAM4xB,UAAY,qBAAuB5xB,EAAM4xB,UAAY,0BACjE7b,KAAK,WAAY,KACjBlX,KAAK,SAAU,IACfmpB,MAAM,IAAK/iB,QAAQ,eACnBkkB,GAAG,SAAS,SAAUqjD,GAAO,OAAOxsE,EAAM+3E,qBAAqB1B,EAAgB5J,KAAMD,MACrF,IAAatc,gBACdtrD,EACKukB,GAAG,YAAY,SAAUqjD,GAA0B,IAAfA,EAAIjhD,SACzCihD,EAAIvkE,OAAOg5C,WAEV93B,GAAG,aAAc2vD,GACjB3vD,GAAG,aAAc4vD,SAMtCv6E,KAAKssE,0BACEtsE,KAAK64E,cAEhBV,EAAwBn5E,UAAUgsE,iBAAmB,WACjD,OAAOhrE,KAAKo6D,MAAM/lD,QAAQ6tD,SAAWliE,KAAKo6D,MAAM/lD,QAAQ6tD,QAAQ7yB,WAAaplC,MAAMC,QAAQlK,KAAKo6D,MAAM/lD,QAAQ6tD,QAAQ7yB,WAAarvC,KAAKo6D,MAAM/lD,QAAQ6tD,QAAQ7yB,UAAY,CAAC,SAAU,WAElL8oC,EA/aiC,CAgb1C,GCxfE,EAAwC,WACxC,IAAIzlE,EAAgB,SAAUhV,EAAG0I,GAI7B,OAHAsM,EAAgB5U,OAAOyV,gBAClB,CAAEC,UAAW,cAAgBvJ,OAAS,SAAUvM,EAAG0I,GAAK1I,EAAE8V,UAAYpN,IACvE,SAAU1I,EAAG0I,GAAK,IAAK,IAAIlH,KAAKkH,EAAOA,EAAEnH,eAAeC,KAAIxB,EAAEwB,GAAKkH,EAAElH,MACpDxB,EAAG0I,IAE5B,OAAO,SAAU1I,EAAG0I,GAEhB,SAASqN,IAAOzT,KAAK0T,YAAchW,EADnCgV,EAAchV,EAAG0I,GAEjB1I,EAAEsB,UAAkB,OAANoH,EAAatI,OAAOY,OAAO0H,IAAMqN,EAAGzU,UAAYoH,EAAEpH,UAAW,IAAIyU,IAV3C,GAcxCgnE,EAA2C,SAAU3mE,GAErD,SAAS2mE,EAA0B1kE,GAC/B,IAAIvU,EAAQsS,EAAOvW,KAAKyC,KAAM,IAAK+V,IAAW/V,KAO9C,OANAwB,EAAM+V,KAAK,OAAQ,sBACnB/V,EAAMmpB,GAAG,SAAS,SAAUyE,GAGxB,OAFAA,EAAGpC,iBACHxrB,EAAMk5E,UACC,KAEJl5E,EAyBX,OAlCA,EAAUi5E,EAA2B3mE,GAWrC2mE,EAA0Bz7E,UAAU27E,UAAY,SAAUA,GAEtD,OADA36E,KAAK46E,WAAaD,EACX36E,MAEXy6E,EAA0Bz7E,UAAU67E,eAAiB,SAAUA,GAE3D,OADA76E,KAAK86E,gBAAkBD,EAChB76E,MAEXy6E,EAA0Bz7E,UAAU07E,OAAS,WACzC,IAAIl5E,EAAQxB,KACR4/D,EAAO5/D,KAAK46E,WAAa56E,KAAK46E,aAAe,KAC7Chb,GACAA,EAAKiK,SAAS,CACV3nC,OAAQliC,KAAKqlB,QACb0kD,qBAAsB,SAAUxgE,GAI5B,OAHI/H,EAAMs5E,iBACNt5E,EAAMs5E,gBAAgBvxE,EAAKyB,KAExB,MAKhByvE,EAnCmC,CAoC5C,KAEK,SAASM,EAAShlE,GACrB,OAAO,IAAI0kE,EAA0B1kE,GCrDzC,ICAWilE,EDAP,EAAwC,WACxC,IAAItoE,EAAgB,SAAUhV,EAAG0I,GAI7B,OAHAsM,EAAgB5U,OAAOyV,gBAClB,CAAEC,UAAW,cAAgBvJ,OAAS,SAAUvM,EAAG0I,GAAK1I,EAAE8V,UAAYpN,IACvE,SAAU1I,EAAG0I,GAAK,IAAK,IAAIlH,KAAKkH,EAAOA,EAAEnH,eAAeC,KAAIxB,EAAEwB,GAAKkH,EAAElH,MACpDxB,EAAG0I,IAE5B,OAAO,SAAU1I,EAAG0I,GAEhB,SAASqN,IAAOzT,KAAK0T,YAAchW,EADnCgV,EAAchV,EAAG0I,GAEjB1I,EAAEsB,UAAkB,OAANoH,EAAatI,OAAOY,OAAO0H,IAAMqN,EAAGzU,UAAYoH,EAAEpH,UAAW,IAAIyU,IAV3C,GAoBxC,EAAwC,SAAUK,GAElD,SAASmnE,EAAuB7gB,EAAO/qB,EAAW3Y,GAC9C,IAAIl1B,EAAQsS,EAAOvW,KAAKyC,KAAMo6D,EAAO/qB,EAAW3Y,IAAS12B,KAEzD,OADAwB,EAAM05E,QAAU7rC,EAAU8C,YACnB3wC,EA4CX,OAhDA,EAAUy5E,EAAwBnnE,GAMlCmnE,EAAuBj8E,UAAUusE,gBAAkB,WAC/C,IAAIppE,EAASnC,KAAKozB,UAAY,SAI9B,OAHIpzB,KAAKk7E,SACL/4E,GAAU,IAAMnC,KAAKozB,UAAY,eAE9BjxB,GAEX84E,EAAuBj8E,UAAUi5E,WAAa,SAAUD,GACpD,YAAMh4E,KAAKqlB,SACN8E,SAASnqB,KAAKurE,mBACdphD,SAAS,IAAa4nC,qBACtB1oC,gBAAgBrpB,KAAKm7E,kBACrB9xD,gBAAgBrpB,KAAKo7E,iBAAiBpD,IACtC33E,KAAK,KAAML,KAAKqvC,UAAUrkC,IAC1B3K,KAAK,QAAS,KAEvB46E,EAAuBj8E,UAAUm8E,eAAiB,WAC9C,OAAIn7E,KAAKk7E,SAAWl7E,KAAKo6D,MAAM/lD,QAAQgnE,YAC5B,KAGA,IAAI,EAA0Br7E,KAAKo6D,MAAOp6D,KAAKqvC,WAAW5V,UAGzEwhD,EAAuBj8E,UAAUo8E,iBAAmB,SAAUpD,GAC1D,IAAIx2E,EAAQxB,KACRmpB,EAAU,YAAM,OAcpB,OAbAA,EACKgB,SAASnqB,KAAKozB,UAAY,eAC1BjJ,SAAS,GAAK,IAAa4nC,qBAC3B1xD,KAAK,aAAc,IACpBL,KAAKk7E,QACL/xD,EAAQgB,SAASnqB,KAAKozB,UAAY,oBAEtCpzB,KAAKqvC,UAAUD,gBAAgBzsB,SAAQ,SAAU0sB,EAAWxjC,EAAOd,GAC/D,IAAI6lB,EAAWpvB,EAAM44D,MAAMkhB,qBAAqBjsC,GAC5Cze,GACAzH,EAAQE,gBAAgBuH,EAAS6I,OAAOu+C,GAAcnsE,GAASd,EAAM7J,OAAS,OAG/EioB,EAAQ2C,SAEZmvD,EAjDgC,CAkDzC,GAEE,EAA2C,SAAUnnE,GAErD,SAASynE,EAA0BnhB,EAAO/qB,EAAW3Y,GACjD,IAAIl1B,EAAQsS,EAAOvW,KAAKyC,KAAMo6D,EAAO/qB,EAAW3Y,IAAS12B,KAEzD,OADAwB,EAAM05E,QAAU15E,EAAM6tC,UAAU8C,YACzB3wC,EAqJX,OAzJA,EAAU+5E,EAA2BznE,GAMrCynE,EAA0Bv8E,UAAUgsE,iBAAmB,WACnD,OAAOhrE,KAAKo6D,MAAM/lD,QAAQ6tD,SAAWliE,KAAKo6D,MAAM/lD,QAAQ6tD,QAAQ5S,OAASrlD,MAAMC,QAAQlK,KAAKo6D,MAAM/lD,QAAQ6tD,QAAQ5S,OAAStvD,KAAKo6D,MAAM/lD,QAAQ6tD,QAAQ5S,MAAQ,CAAC,eAAgB,WAAY,SAAU,WAEzMisB,EAA0Bv8E,UAAUusE,gBAAkB,WAClD,IAAIppE,EACJ,GAAInC,KAAKk7E,OACL/4E,EAASnC,KAAKozB,UAAY,QAAUpzB,KAAKozB,UAAY,cAAgBpzB,KAAKozB,UAAY,sBAErF,CACDjxB,EAASnC,KAAKozB,UAAY,QAAUpzB,KAAKozB,UAAY,aACrD,IAAIyJ,EAAQ78B,KAAKqvC,UAAUiG,WACvBzY,EAAQ,IACR16B,GAAU,IAAMnC,KAAKozB,UAAY,UAAYyJ,GACjD16B,GAAUnC,KAAKqvC,UAAUjY,QAAU,GAAK,IAAMp3B,KAAKozB,UAAY,YAC3DpzB,KAAKqvC,UAAUjY,UACfj1B,GAAUnC,KAAKqvC,UAAUsE,aAAe,IAAM3zC,KAAKozB,UAAY,YAAc,IAGrF,OAAOjxB,GAEXo5E,EAA0Bv8E,UAAUi5E,WAAa,SAAUD,GACvD,IAAIx2E,EAAQxB,KACRmpB,EAAU,YAAMnpB,KAAKqlB,SACpB8E,SAASnqB,KAAKurE,mBACdphD,SAAS,IAAa4nC,qBACtB1xD,KAAK,YAAa,IAClBgpB,gBAAgBrpB,KAAKwrE,kBACrBniD,gBAAgBrpB,KAAKo4E,qBACtBv7C,EAAQ78B,KAAKqvC,UAAUiG,WACvBzY,EAAQ,GACR1T,EAAQgB,SAASnqB,KAAKozB,UAAY,UAAYyJ,GAClD78B,KAAKw7E,mBAAmBryD,EAASnpB,KAAKy7E,iBAClCz7E,KAAKo6D,MAAM/lD,QAAQskE,uBACnBxvD,EAAQwB,GAAG,SAAS,SAAUyE,GAC1B5tB,EAAM44D,MAAMwe,sBAAsBp3E,EAAM6tC,WACxC7tC,EAAM8qE,0BACD,IAAa5a,gBACdvoC,EAAQ2C,QAAQqB,cAAc,YAAmB,kBAI7DhE,EACKE,gBAAgBrpB,KAAK00E,sBACrB,IAAahjB,gBACdvoC,EACKwB,GAAG,cAAc,SAAU3G,GAI5B,OAHAxiB,EAAMqpE,kBAAmB,EACzBrpE,EAAM+sE,mBACNvqD,EAAMoM,mBACC,KAENzF,GAAG,cAAc,SAAU3G,GAM5B,OALAxiB,EAAMqpE,kBAAmB,GACpBrpE,EAAMspE,oBAAsB,YAAMtpE,EAAMq3E,cAAc1yD,aACvD3kB,EAAMusE,mBAEV/pD,EAAMoM,mBACC,MAInBmrD,EAA0Bv8E,UAAUy8E,cAAgB,WAChD,IAAIt5E,EAeJ,OAdInC,KAAKk7E,SAAW,IAAaxpB,gBAC7BvvD,EAAS,IAAKsE,QAAQ,8BAGlBtE,EAAS,IAAKsE,QAAQ,uBAI1BtE,EAAS,IAAKsE,QAAQ,0BAGlBtE,EAAS,IAAKsE,QAAQ,mBAGvBtE,GAEXo5E,EAA0Bv8E,UAAUw8E,mBAAqB,SAAUryD,EAASuyD,GACxE,IAAIl6E,EAAQxB,KACR2yB,EAAM+oD,EAAWpwE,QAAQ,QAC7B,GAAIqnB,EAAM,EAENxJ,EAAQuC,QAAQ,IAAKjlB,QAAQ,iCAC7B0iB,EAAQgB,SAASnqB,KAAKozB,UAAY,cAEjC,CACGT,EAAM,GACNxJ,EAAQF,SAAS,QAAQ,SAAU7iB,GAC/BA,EAAE+jB,SAAS3oB,EAAM4xB,UAAY,cACxB1H,QAAQgwD,EAAWjhE,UAAU,EAAGkY,OAG7C,IAAIwmD,EAAc,IAAQrwC,cAAc9oC,KAAKqvC,UAAU0F,UACnD4mC,EAAY,IAAU7wE,aAAa,IAAS++B,sBAAuBsvC,GAClEwC,IACDA,EAAY,IAAS9xC,sBAAsB,IAE3C7pC,KAAK+X,aACLgjE,EAAS5xD,EAAQ2C,SACZ6uD,WAAU,WAAc,OAAOn5E,EAAMo6E,qBACrCf,gBAAe,SAAU7vE,GAC1BxJ,EAAM6tC,UAAU0F,SAAW,IAAQrM,cAAc19B,GACjDxJ,EAAM6tC,UAAU+E,sBAEf1oB,QAAQ,IAAKjlB,QAAQk1E,EAAUh9E,MAC/B6qB,MAAM,IAAK/iB,QAAQk1E,EAAUh9E,MAC7BwrB,SAASnqB,KAAKozB,UAAY,cAG/BjK,EAAQF,SAAS,QAAQ,SAAU7iB,GAC/BA,EAAEkU,KAAK,IAAK7T,QAAQk1E,EAAUh9E,MACzB6qB,MAAM,IAAK/iB,QAAQk1E,EAAUh9E,MAC7BwrB,SAAS3oB,EAAM4xB,UAAY,iBAGxCjK,EAAQF,SAAS,QAAQ,SAAU7iB,GAC/BA,EAAE+jB,SAAS3oB,EAAM4xB,UAAY,cACxB1H,QAAQgwD,EAAWjhE,UAAUkY,EAAM,SAIpD4oD,EAA0Bv8E,UAAUg6E,iBAAmB,WACnD,OAAOh5E,KAAKo6D,MAAMyhB,sBAAoD,MAA9B77E,KAAKqvC,UAAU8C,cAE3DopC,EAA0Bv8E,UAAU48E,gBAAkB,WAClD,OAAO57E,KAAKo6D,MAAMwhB,mBAEtBL,EAA0Bv8E,UAAUo5E,kBAAoB,WACpD,OAAOp4E,KAAKk7E,OAAS,KAAOpnE,EAAO9U,UAAUo5E,kBAAkB76E,KAAKyC,OAExEu7E,EAA0Bv8E,UAAUwsE,eAAiB,WACjD,OAAOxrE,KAAKk7E,OAAS,KAAOpnE,EAAO9U,UAAUwsE,eAAejuE,KAAKyC,OAErEu7E,EAA0Bv8E,UAAU+uE,iBAAmB,WAC9C/tE,KAAKo6D,MAAM/lD,QAAQolD,2BACfz5D,KAAKq5E,sBAAuBr5E,KAAKo6D,MAAM/lD,QAAQskE,uBACpD34E,KAAKorE,eAGbmQ,EAA0Bv8E,UAAUstE,wBAA0B,YACtDtsE,KAAKo6D,MAAM/lD,QAAQolD,2BACfz5D,KAAKo6D,MAAM/lD,QAAQskE,uBAAyB34E,KAAKq5E,sBACrDr5E,KAAKosE,eAGNmP,EA1JmC,CA2J5C,GEjOE,EAAqC,WACrC,SAASO,EAAoBplD,GACzB12B,KAAKqlB,QAAUqR,GAAQ,YAAM,OAAO5K,QAwDxC,OAtDAgwD,EAAoB98E,UAAUk6B,QAAU,WACpCl5B,KAAKy5B,UAETqiD,EAAoB98E,UAAUy6B,OAAS,SAAUsiD,GAC7C,IAAIv6E,EAAQxB,KAcZ,YAbmB,IAAf+7E,IAAyBA,GAAa,GAC1C/7E,KAAKg8E,aAAeh8E,KAAKi8E,qBACzB,YAAMj8E,KAAKqlB,SACNgG,KAAK,IACLlB,SAASnqB,KAAKurE,mBACdphD,SAAS,IAAa4nC,qBACtB1oC,gBAAgBrpB,KAAKg8E,cACtBh8E,KAAK+X,eACL/X,KAAKk8E,eACDH,GACAn3D,YAAW,WAAc,OAAOpjB,EAAM26E,eAAiB,KAGxDn8E,KAAKqlB,SAEhBy2D,EAAoB98E,UAAU+Y,WAAa,WACvC,OAAO,GAEX+jE,EAAoB98E,UAAUi9E,mBAAqB,WAC/C,IAAIz6E,EAAQxB,KACRo8E,EAAgBp8E,KAAKq8E,eACzB,OAAIr8E,KAAK+X,aACE,YAAM,KACRR,KAAK,OAAQ,sBACbiS,MAAM4yD,GACN9hE,KAAK8hE,GACLzxD,GAAG,SAAS,SAAUyE,GAGvB,OAFAA,EAAGpC,iBACHxrB,EAAM26E,cACC,KAENrwD,QAGE,YAAM,QACRtC,MAAM4yD,GACN9hE,KAAK8hE,GACLtwD,SAGbgwD,EAAoB98E,UAAUusE,gBAAkB,WAC5C,MAAO,IAEXuQ,EAAoB98E,UAAUq9E,aAAe,WACzC,OAAOr8E,KAAKs8E,gBAEhBR,EAAoB98E,UAAUs9E,aAAe,WACzC,MAAO,WAEJR,EA1D6B,GCFpC,EAAwC,WACxC,IAAIppE,EAAgB,SAAUhV,EAAG0I,GAI7B,OAHAsM,EAAgB5U,OAAOyV,gBAClB,CAAEC,UAAW,cAAgBvJ,OAAS,SAAUvM,EAAG0I,GAAK1I,EAAE8V,UAAYpN,IACvE,SAAU1I,EAAG0I,GAAK,IAAK,IAAIlH,KAAKkH,EAAOA,EAAEnH,eAAeC,KAAIxB,EAAEwB,GAAKkH,EAAElH,MACpDxB,EAAG0I,IAE5B,OAAO,SAAU1I,EAAG0I,GAEhB,SAASqN,IAAOzT,KAAK0T,YAAchW,EADnCgV,EAAchV,EAAG0I,GAEjB1I,EAAEsB,UAAkB,OAANoH,EAAatI,OAAOY,OAAO0H,IAAMqN,EAAGzU,UAAYoH,EAAEpH,UAAW,IAAIyU,IAV3C,GAgBxC,EAAoC,SAAUK,GAE9C,SAASyoE,EAAmBniB,EAAOoiB,EAAYC,EAAa/lD,GACxD,IAAIl1B,EAAQsS,EAAOvW,KAAKyC,KAAM02B,IAAS12B,KAIvC,OAHAwB,EAAM44D,MAAQA,EACd54D,EAAMg7E,WAAaA,EACnBh7E,EAAMi7E,YAAcA,EACbj7E,EA+DX,OArEA,EAAU+6E,EAAoBzoE,GAQ9BhW,OAAOC,eAAew+E,EAAmBv9E,UAAW,YAAa,CAC7Df,IAAK,WACD,MAAO,WAEXD,YAAY,EACZ0gB,cAAc,IAElB69D,EAAmBv9E,UAAUy6B,OAAS,SAAUsiD,GAM5C,YALmB,IAAfA,IAAyBA,GAAa,GAC1CjoE,EAAO9U,UAAUy6B,OAAOl8B,KAAKyC,KAAM+7E,GAC/B/7E,KAAKo6D,MAAM/lD,QAAQqoE,sBACnB18E,KAAKo6D,MAAM/lD,QAAQqoE,qBAAqB18E,KAAKw8E,WAAYx8E,KAAKqlB,SAE3DrlB,KAAKqlB,SAEhBk3D,EAAmBv9E,UAAUwhD,WAAa,WACtC,OAAOxgD,KAAKo6D,MAAM5Z,cAEtB+7B,EAAmBv9E,UAAU20C,WAAa,WACtC,IAAI59B,EAAS/V,KAAKw8E,WAAWrqC,YAC7B,OAAQp8B,EAAOqhB,SAAWrhB,EAAO49B,cAErC4oC,EAAmBv9E,UAAU+Y,WAAa,WACtC,OAAQ/X,KAAK2zC,cAEjB4oC,EAAmBv9E,UAAUusE,gBAAkB,WAC3C,OAAOvrE,KAAKozB,UAAY,gBAAkBpzB,KAAKozB,UAAY,iBAE/DmpD,EAAmBv9E,UAAUq9E,aAAe,WAIxC,OAHcr8E,KAAKw8E,WAAWlhE,UAExBtb,KAAKs8E,eADLt8E,KAAKw8E,WAAWn+E,OAI1Bk+E,EAAmBv9E,UAAUs9E,aAAe,WACxC,OAAOt8E,KAAKo6D,MAAM/lD,QAAQsoE,gBAAkB,IAAKl2E,QAAQ,wBAE7D81E,EAAmBv9E,UAAU+gB,SAAW,SAAU1hB,EAAOw0C,GACrD7yC,KAAKw8E,WAAWz8D,SAAS1hB,GACpBw0C,GACD7yC,KAAKw8E,WAAWrqC,YAAYiC,iBAAiB,IAAcwoC,QAGnEL,EAAmBv9E,UAAU4gB,SAAW,WACpC,OAAO5f,KAAKw8E,WAAWn+E,OAE3Bk+E,EAAmBv9E,UAAU69E,cAAgB,SAAUx+E,GACnD,MAAO,CAAE0nD,SAAS,EAAM1nD,MAAOA,IAEnCk+E,EAAmBv9E,UAAU89E,oBAAsB,SAAU9oE,EAASvK,GAClEzJ,KAAKwgD,aAAa6L,WAAW,CACzB7X,OAAQ,gBACR,KAAQxgC,KAGhBuoE,EAAmBv9E,UAAU+9E,aAAe,WACxC,IAAIx5D,EAAIvjB,KAAK4f,WACb,OAAQ,MAAO,IAAsC2D,GAEzDg5D,EAAmBv9E,UAAU05E,YAAc,aAEpC6D,EAtE4B,CAuErC,GCvFE,EAAwC,WACxC,IAAI7pE,EAAgB,SAAUhV,EAAG0I,GAI7B,OAHAsM,EAAgB5U,OAAOyV,gBAClB,CAAEC,UAAW,cAAgBvJ,OAAS,SAAUvM,EAAG0I,GAAK1I,EAAE8V,UAAYpN,IACvE,SAAU1I,EAAG0I,GAAK,IAAK,IAAIlH,KAAKkH,EAAOA,EAAEnH,eAAeC,KAAIxB,EAAEwB,GAAKkH,EAAElH,MACpDxB,EAAG0I,IAE5B,OAAO,SAAU1I,EAAG0I,GAEhB,SAASqN,IAAOzT,KAAK0T,YAAchW,EADnCgV,EAAchV,EAAG0I,GAEjB1I,EAAEsB,UAAkB,OAANoH,EAAatI,OAAOY,OAAO0H,IAAMqN,EAAGzU,UAAYoH,EAAEpH,UAAW,IAAIyU,IAV3C,GAoBxC,EAAyC,SAAUK,GAEnD,SAASkpE,IACL,OAAkB,OAAXlpE,GAAmBA,EAAOF,MAAM5T,KAAM2G,YAAc3G,KAsI/D,OAxIA,EAAUg9E,EAAyBlpE,GAInCkpE,EAAwBh+E,UAAUk9E,aAAe,WAC7C,IAAI16E,EAAQxB,KACZA,KAAKi9E,aAAe,YAAM,SACrBnzD,OACAK,SAASnqB,KAAKozB,UAAY,eAC1B9U,KAAK,QACLqM,GAAG,QAAQ,SAAUyE,GACtB,GAAI5tB,EAAMy7E,aAAa92D,cAAgB3kB,EAAM07E,gBAAiB,CAC1D,IAAIC,EAAmB37E,EAAMq7E,cAAcr7E,EAAM47E,aAAa/+E,OAY9D,OAXI8+E,EAAiBp3B,SACjBvkD,EAAMue,SAASve,EAAM47E,aAAa/+E,OAClCmD,EAAM67E,gBAGN77E,EAAM07E,iBAAkB,EACxB17E,EAAM47E,aAAah+C,QACnBxa,YAAW,WAAcpjB,EAAM07E,iBAAkB,IAAU,KAC3D17E,EAAMs7E,oBAAoBK,EAAiBnpE,QAASob,EAAG3lB,SAE3D2lB,EAAGgB,mBACI,MAGVzF,GAAG,WAAW,SAAUyE,GACzB,OAAmB,KAAfA,EAAGrC,SACHvrB,EAAM67E,cACNjuD,EAAGgB,mBACI,GAEa,KAAfhB,EAAGrC,SACJvrB,EAAMy7E,aAAa92D,aACnB3kB,EAAM07E,iBAAkB,EACD17E,EAAMq7E,cAAcr7E,EAAM47E,aAAa/+E,OACzC0nD,SACjBvkD,EAAMue,SAASve,EAAM47E,aAAa/+E,OAClCmD,EAAM67E,cACN77E,EAAM07E,iBAAkB,IAGxB17E,EAAM47E,aAAah+C,QACnBxa,YAAW,WAAcpjB,EAAM07E,iBAAkB,IAAU,MAE/D9tD,EAAGgB,mBACI,QAdV,KAkBTpwB,KAAKo9E,aAAep9E,KAAKi9E,aAAanxD,QACtC,YAAM9rB,KAAKqlB,SACNgE,gBAAgBrpB,KAAKo9E,eAE9BJ,EAAwBh+E,UAAUm9E,WAAa,WAE3C,IAAK,IAAazqB,eAAgB,CAC9B,IAAItqC,EAAOpnB,KAAKqlB,QAAQ+xD,WACpBzqE,EAAQ3M,KAAKqlB,QAAQe,YAHb,IAGuCpmB,KAAKqlB,QAAQe,YAHpD,IAIRk3D,EAAWt9E,KAAKqlB,QAAQ2D,cAAc7b,YAAcia,EAAO,GAC/DpnB,KAAKi9E,aACApzD,YAAY,QACZA,YAAY,SACbyzD,EARQ,IASRt9E,KAAKi9E,aACAjzD,SAAS,QAAS,QAClBA,SAAS,QAASuzD,SAElBD,EAAW3wE,EAChB3M,KAAKi9E,aACAjzD,SAAS,OAAQ5C,EAAO,MACxB4C,SAAS,QAASszD,EAAW,MAGlCt9E,KAAKi9E,aACAjzD,SAAS,OAAQ5C,EAAO,MACxB4C,SAAS,QAASrd,EAAQ,MAGvC,YAAM3M,KAAKg8E,cAAclyD,OACzB9pB,KAAKi9E,aACA5+E,MAAM2B,KAAK4f,YACXgK,OACL5pB,KAAKo9E,aAAah+C,SAEtB49C,EAAwBh+E,UAAUq+E,YAAc,WAC5Cr9E,KAAKi9E,aAAanzD,OAClB,YAAM9pB,KAAKg8E,cAAcpyD,OACzB5pB,KAAKg8E,aAAa58C,SAEtB49C,EAAwBh+E,UAAU69E,cAAgB,SAAUW,GACxDx9E,KAAKi9E,aAAa1yD,YAAY,gBAC9B,IAAIpoB,EAAS,CACT4jD,SAAS,EACT1nD,MAAOm/E,GAQX,OANIx9E,KAAKw8E,WAAWnkE,MAAQ,IAAS1Y,KACjCK,KAAKy9E,kBAAkBD,EAAYr7E,GAGnCnC,KAAK09E,oBAAoBF,EAAYr7E,GAElCA,GAEX66E,EAAwBh+E,UAAUy+E,kBAAoB,SAAUD,EAAYr7E,GAExE,IADA,IACStB,EAAK,EAAG88E,EADCH,EAAWv8E,MAAM,WACWJ,EAAK88E,EAAcz8E,OAAQL,IAAM,CAC3E,IAAIyM,EAAMqwE,EAAc98E,GAExB,GADAb,KAAK09E,oBAAoBpwE,EAAKnL,IACzBA,EAAO4jD,QACR,SAIZi3B,EAAwBh+E,UAAU0+E,oBAAsB,SAAUF,EAAYr7E,GAC1E,GAAI,IAAUoL,cAAcvN,KAAKw8E,WAAWz0E,UAAW,CACnD,IAAI0xC,GAAa+jC,EACb7vE,MAAM8rC,KACNt3C,EAAO4jD,SAAU,EACjB5jD,EAAO6R,QAAU,IAAMwpE,EAAa,KAAO,IAAK/2E,QAAQ,iBAExD,IAAUgH,UAAUzN,KAAKw8E,WAAWz0E,WAAa0xC,GAAapqC,SAASmuE,EAAY,MACnFr7E,EAAO4jD,SAAU,EACjB5jD,EAAO6R,QAAU,IAAMwpE,EAAa,KAAO,IAAK/2E,QAAQ,0BAIpEu2E,EAAwBh+E,UAAU89E,oBAAsB,SAAU9oE,EAASvK,GACvEqK,EAAO9U,UAAU89E,oBAAoBv/E,KAAKyC,KAAMgU,EAASvK,GACzDzJ,KAAKi9E,aAAa9yD,SAAS,iBAE/B6yD,EAAwBh+E,UAAU+Y,WAAa,WAC3C,OAAOjE,EAAO9U,UAAU+Y,WAAWxa,KAAKyC,QAC/BA,KAAKo6D,MAAM/lD,QAAQ8lE,cAAgB1P,EAAemS,SAAWnS,EAAemS,OAElFI,EAzIiC,CA0I1C,GC9JE,EAAwC,WACxC,IAAItqE,EAAgB,SAAUhV,EAAG0I,GAI7B,OAHAsM,EAAgB5U,OAAOyV,gBAClB,CAAEC,UAAW,cAAgBvJ,OAAS,SAAUvM,EAAG0I,GAAK1I,EAAE8V,UAAYpN,IACvE,SAAU1I,EAAG0I,GAAK,IAAK,IAAIlH,KAAKkH,EAAOA,EAAEnH,eAAeC,KAAIxB,EAAEwB,GAAKkH,EAAElH,MACpDxB,EAAG0I,IAE5B,OAAO,SAAU1I,EAAG0I,GAEhB,SAASqN,IAAOzT,KAAK0T,YAAchW,EADnCgV,EAAchV,EAAG0I,GAEjB1I,EAAEsB,UAAkB,OAANoH,EAAatI,OAAOY,OAAO0H,IAAMqN,EAAGzU,UAAYoH,EAAEpH,UAAW,IAAIyU,IAV3C,GAoBxC,EAAwC,SAAUK,GAElD,SAAS8pE,IACL,IAAIp8E,EAAmB,OAAXsS,GAAmBA,EAAOF,MAAM5T,KAAM2G,YAAc3G,KAGhE,OAFAwB,EAAMq8E,cAAgB,GACtBr8E,EAAMs8E,eAAgB,EACft8E,EAuLX,OA5LA,EAAUo8E,EAAwB9pE,GAOlC8pE,EAAuB5+E,UAAU+Y,WAAa,WAC1C,OAAQ/X,KAAK2zC,eACJ3zC,KAAKo6D,MAAM/lD,QAAQ8lE,cAAgB1P,EAAemS,SAAWnS,EAAemS,OAEzFgB,EAAuB5+E,UAAU+gB,SAAW,SAAU1hB,EAAOw0C,QAC1C,IAAXA,IAAqBA,GAAS,GAClC,IAAIxV,EAAWr9B,KAAK+9E,eAAe1/E,GACnC,GAAIA,IAAU2B,KAAKw8E,WAAWn+E,MAAO,CACjC,IAAIic,EAAOta,KAAKqa,aAAahc,GAC7B2B,KAAKw8E,WAAW1pC,WAAWzV,EAAU/iB,GAChCu4B,GACD7yC,KAAKw8E,WAAWrqC,YAAYiC,iBAAiB,IAAcwoC,OAGnE,OAAO,GAEXgB,EAAuB5+E,UAAUqb,aAAe,SAAUhc,GACtD,IAAI8D,EAAS,GACb,GAAI8H,MAAMC,QAAQ7L,GACd,IAAK,IAAIwC,EAAK,EAAGqQ,EAAKlR,KAAK69E,cAAeh9E,EAAKqQ,EAAGhQ,OAAQL,IAAM,CAC5D,IAAI0I,EAAO2H,EAAGrQ,GACVxC,EAAMiN,QAAQ/B,EAAKyB,KAAO,IAC1B7I,GAAUoH,EAAK+Q,KAAO,UAK9B,IAAK,IAAIC,EAAK,EAAGC,EAAKxa,KAAK69E,cAAetjE,EAAKC,EAAGtZ,OAAQqZ,IAAM,EACxDhR,EAAOiR,EAAGD,IACLvP,KAAO3M,IACZ8D,GAAUoH,EAAK+Q,KAAO,KAOlC,OAHInY,IACAA,EAASA,EAAOsY,UAAU,EAAGtY,EAAOjB,OAAS,IAE1CiB,GAEXy7E,EAAuB5+E,UAAUs9E,aAAe,WAC5C,OAAOt8E,KAAKo6D,MAAM/lD,QAAQ2pE,eAAiB,IAAKv3E,QAAQ,sBAE5Dm3E,EAAuB5+E,UAAUi/E,YAAc,WAC3C,OAAOj+E,KAAKy8E,YAAY9+E,MAE5BigF,EAAuB5+E,UAAUk9E,aAAe,WAC5C,IAAI16E,EAAQxB,KACZA,KAAKk+E,mBAAkB,WACnB18E,EAAM28E,sBAGdP,EAAuB5+E,UAAUq9E,aAAe,WAC5C,OAAKr8E,KAAKw8E,WAAWlhE,UAIVtb,KAAKs8E,eAHLt8E,KAAKw8E,WAAW/1E,WAM/Bm3E,EAAuB5+E,UAAUo/E,WAAa,aAG9CR,EAAuB5+E,UAAUq/E,WAAa,aAG9CT,EAAuB5+E,UAAUm9E,WAAa,WAC1C,IAAI36E,EAAQxB,KACRA,KAAK4/D,KACL5/D,KAAK4/D,KAAKiK,SAAS,CACf3nC,OAAQliC,KAAKg8E,aACbpS,YAAa5pE,KAAKs+E,mBAClBvU,qBAAsB,SAAUxgE,EAAM46D,GAClC,GAAK3iE,EAAMo+D,KAAKvrD,QAAQitD,aAGnB,GAAI6C,EAAe,CAGpB,IAFA,IAAIyF,EAAc,GACd2U,EAAYpa,EAAcjjE,OACrB9D,EAAI,EAAGA,EAAImhF,EAAWnhF,IAC3BwsE,EAAY7jE,KAAKo+D,EAAc/mE,GAAG4N,IACtCxJ,EAAMue,SAAS6pD,SAPfpoE,EAAMue,SAASxW,EAAKyB,IASxB,OAAO,MAKfhL,KAAK89E,eAAgB,EACrB99E,KAAKo+E,eAGbR,EAAuB5+E,UAAUq+E,YAAc,WAC3Cr9E,KAAK4/D,KAAK0C,YAEdsb,EAAuB5+E,UAAUm/E,gBAAkB,WAC/C,IAAIK,GAAc,EACdx+E,KAAKw8E,aACLgC,EAAcx+E,KAAKw8E,WAAWnkE,OAAS,IAAS1Y,MAEpD,IAAI65D,EAAax5D,KAAKo6D,MAClB/lD,EAAU,CACVkI,MAAOvc,KAAK69E,cACZvc,YAAakd,EACbltD,UAAWkoC,EAAaA,EAAWnlD,QAAQoqE,cAAgB,KAC3D/e,cAAc,GAEdlG,GACA,IAAUr1D,WAAWkQ,EAASmlD,EAAWnlD,QAAQglD,aAGjDG,GAAcA,EAAWnlD,QAAQktD,aACjCltD,EAAQstD,OAASnI,EAAWnlD,QAAQqqE,aAAe,KAEvD,IAAIze,EAASjgE,KAAKqlB,QAAQra,GACtBi1D,IACA5rD,EAAQrJ,GAAKi1D,EAAS,eAEtBzG,IACAnlD,EAAQ2rD,gBAAkBxG,EAAWnlD,QAAQ2rD,iBAGjD3rD,EAAQ6tD,QAAU,CACd/6B,OAAQ,IAAK1gC,QAAQ,eACrB47B,OAAQ,IAAK57B,QAAQ,iBAEzBzG,KAAK4/D,KAAO,IAAI,EAAUvrD,IAE9BupE,EAAuB5+E,UAAUs/E,iBAAmB,WAChD,GAAIt+E,KAAKw8E,WAAWnkE,OAAS,IAAS1Y,KAClC,MAAO,CAACK,KAAKw8E,WAAWn+E,OAIxB,IAAI4d,EAAMjc,KAAKw8E,WAAWn+E,MAAMmU,MAAM,mCACtC,OAAOyJ,EACDA,EAAIra,KAAI,SAAUuE,GAChB,MAAmB,KAAfA,EAAE0mB,OAAO,IAAuC,KAA1B1mB,EAAE0mB,OAAO1mB,EAAEjF,OAAS,IAC1CiF,EAAIA,EAAEsU,UAAU,EAAGtU,EAAEjF,OAAS,IACrB2E,QAAQ,MAAO,KAGjBM,KAGb,IAGdy3E,EAAuB5+E,UAAU++E,eAAiB,SAAU1gD,GACxD,OAAIpzB,MAAMC,QAAQmzB,GACPA,EAASz7B,KAAI,SAAUuE,GAC1B,OAAIA,EAAEmF,QAAQ,MAAQ,EAEX,KADPnF,EAAIA,EAAEN,QAAQ,KAAM,MACH,IAGVM,KAEZ7E,KAAK,KAGD+7B,GAGfugD,EAAuB5+E,UAAUk/E,kBAAoB,SAAUS,GAC3D3+E,KAAK69E,cAAgB79E,KAAKy8E,YAAYl0E,OAClCo2E,GACAA,KAGRf,EAAuB5+E,UAAU4/E,iBAAmB,WAChD,GAAK5+E,KAAK69E,cAGV,IADA,IAAIgB,EAAU7+E,KAAK69E,cAAc38E,OACxB9D,EAAI,EAAGA,EAAIyhF,EAASzhF,IAAK,CAC9B,IAAImM,EAAOvJ,KAAK69E,cAAczgF,GAC9B,GAAImM,EAAKkgC,UAAW,CAChBzpC,KAAK+f,SAASxW,EAAKyB,IAAI,GACvB,SAIL4yE,EA7LgC,CA8LzC,GAEE,GAA8C,SAAU9pE,GAExD,SAASgrE,IACL,IAAIt9E,EAAmB,OAAXsS,GAAmBA,EAAOF,MAAM5T,KAAM2G,YAAc3G,KAGhE,OAFAwB,EAAMu9E,WAAY,EAClBv9E,EAAMw9E,YAAc,KACbx9E,EA8DX,OAnEA,EAAUs9E,EAA8BhrE,GAOxCgrE,EAA6B9/E,UAAUk9E,aAAe,WAClD,IAAI16E,EAAQxB,KACRA,KAAK++E,YAET/+E,KAAK++E,WAAY,EACjB/+E,KAAKk+E,mBAAkB,WAKnB,GAJA18E,EAAMu9E,WAAY,EACdv9E,EAAMu7E,gBACNv7E,EAAMo9E,oBAELp9E,EAAMg7E,WAAWlhE,WAAa9Z,EAAMg7E,WAAWtqC,gBAAiB,CACjE,IAAI53B,EAAO9Y,EAAM6Y,aAAa7Y,EAAMg7E,WAAWn+E,OAC/CmD,EAAMg7E,WAAW1pC,WAAWtxC,EAAMg7E,WAAWn+E,MAAOic,GACpD9Y,EAAMg7E,WAAWrqC,YAAYiC,mBAEjC5yC,EAAM28E,kBACF38E,EAAMs8E,gBACNt8E,EAAMs8E,eAAgB,EACtBt8E,EAAM68E,aACN78E,EAAM26E,mBAIlB2C,EAA6B9/E,UAAUo/E,WAAa,WAChDp+E,KAAKg8E,aAAap2D,MAAMC,QAAU,OAC7B7lB,KAAKi/E,gBACNj/E,KAAKi/E,cAAgB,YAAM,MAAOj/E,KAAKqlB,SAClC8E,SAASnqB,KAAKozB,UAAY,cAC1BtH,SAET9rB,KAAKi/E,cAAcr5D,MAAMC,QAAU,SAEvCi5D,EAA6B9/E,UAAUq/E,WAAa,WAChDr+E,KAAKi/E,cAAcr5D,MAAMC,QAAU,OACnC7lB,KAAKg8E,aAAaryD,gBAAgB,UAEtCm1D,EAA6B9/E,UAAUk/E,kBAAoB,SAAUS,GACjE,IAAIn9E,EAAQxB,KACRmnD,EAAWnnD,KAAKi+E,cAChBnzB,EAAqB9qD,KAAKo6D,MAAM5Z,aAAauM,wBAC7C,IAASnjB,WAAWud,IACpBnnD,KAAK69E,cAAgB,IAASj0C,WAAWud,GACrCw3B,GACAA,KAGC7zB,GACLA,EAAmB,CACf3D,SAAUA,EACVzrC,SAAU1b,KAAKy8E,YAAYzxE,GAC3Bq8C,aAAcrnD,KAAKy8E,YAAYjyC,YAC/BnsC,MAAO2B,KAAK4f,aACb,SAAUgoC,GACTpmD,EAAMq8E,cAAgBj2B,EAClB+2B,GACAA,QAKTG,EApEsC,CAqE/C,GAEEI,GAA2C,SAAUprE,GAErD,SAASorE,IACL,OAAkB,OAAXprE,GAAmBA,EAAOF,MAAM5T,KAAM2G,YAAc3G,KAuB/D,OAzBA,EAAUk/E,EAA2BprE,GAIrCorE,EAA0BlgF,UAAUk/E,kBAAoB,SAAUS,GAC9D,IAAIn9E,EAAQxB,KACRm/C,EAAUn/C,KAAKo6D,MAAM5Z,aAErBsK,GADS9qD,KAAKy8E,YACOt9B,EAAQ4N,yBAC7BjC,GAQAA,EAPkB,CACd3D,SAAU,MACVzrC,SAAU1b,KAAKy8E,YAAYzxE,GAC3Bq8C,aAAcrnD,KAAKy8E,YAAYjyC,YAC/BnsC,MAAO2B,KAAK4f,aAGgB,SAAUgoC,GACtCpmD,EAAMq8E,cAAgBj2B,EAClB+2B,GACAA,QAKTO,EA1BmC,CA2B5C,ICtTE,GAAwC,WACxC,IAAIxsE,EAAgB,SAAUhV,EAAG0I,GAI7B,OAHAsM,EAAgB5U,OAAOyV,gBAClB,CAAEC,UAAW,cAAgBvJ,OAAS,SAAUvM,EAAG0I,GAAK1I,EAAE8V,UAAYpN,IACvE,SAAU1I,EAAG0I,GAAK,IAAK,IAAIlH,KAAKkH,EAAOA,EAAEnH,eAAeC,KAAIxB,EAAEwB,GAAKkH,EAAElH,MACpDxB,EAAG0I,IAE5B,OAAO,SAAU1I,EAAG0I,GAEhB,SAASqN,IAAOzT,KAAK0T,YAAchW,EADnCgV,EAAchV,EAAG0I,GAEjB1I,EAAEsB,UAAkB,OAANoH,EAAatI,OAAOY,OAAO0H,IAAMqN,EAAGzU,UAAYoH,EAAEpH,UAAW,IAAIyU,IAV3C,GAmBxC,GAA6C,SAAUK,GAEvD,SAASqrE,EAA4B/kB,EAAOoiB,EAAYvI,EAAcv9C,GAClE,IAAIl1B,EAAQsS,EAAOvW,KAAKyC,KAAMo6D,EAAOoiB,EAAY,KAAM9lD,IAAS12B,KAEhE,OADAwB,EAAMo+D,KAAOqU,EACNzyE,EA0CX,OA9CA,GAAU29E,EAA6BrrE,GAMvCqrE,EAA4BngF,UAAUk9E,aAAe,aAGrDiD,EAA4BngF,UAAUq9E,aAAe,WACjD,IAAIhmE,EAAQrW,KAAKo6D,MAAM5Z,aAAapO,WAChCv2B,EAAS7b,KAAKw8E,WAAWn+E,MACzB+gF,EAAUvjE,EAASxF,EAAMuF,iBAAiBC,GAAU,KACpDwjE,EAAar/E,KAAKo6D,MAAM/lD,QAAQ6kD,kBACpC,OAAOkmB,EAAU/oE,EAAM0H,iBAAiBqhE,EAASC,GAAcr/E,KAAKs8E,gBAExE6C,EAA4BngF,UAAU+gB,SAAW,SAAU1hB,EAAOw0C,QAC/C,IAAXA,IAAqBA,GAAS,GAClCA,EAASA,GAAUx0C,IAAU2B,KAAKw8E,WAAWn+E,MAC7C,IAAI8D,EAAS2R,EAAO9U,UAAU+gB,SAASxiB,KAAKyC,KAAM3B,GAAO,GAIzD,OAHKw0C,GACD7yC,KAAKw8E,WAAWrqC,YAAYiC,iBAAiB,IAAclI,WAAa,IAAcxB,UAEnFvoC,GAEXg9E,EAA4BngF,UAAU+Y,WAAa,WAC/C,OAAQ/X,KAAK2zC,eACJ3zC,KAAKo6D,MAAM/lD,QAAQ8lE,cAAgB1P,EAAen4B,aAAem4B,EAAen4B,WAE7F6sC,EAA4BngF,UAAUs9E,aAAe,WACjD,OAAOt8E,KAAKo6D,MAAM/lD,QAAQirE,oBAAsB,IAAK74E,QAAQ,sBAEjE04E,EAA4BngF,UAAUusE,gBAAkB,WACpD,OAAOvrE,KAAKozB,UAAY,gBAAkBpzB,KAAKozB,UAAY,gBAE/D+rD,EAA4BngF,UAAU05E,YAAc,WAC5C,IAAahnB,gBAGH1xD,KAAKqlB,QAAQlY,YACZnN,KAAKqlB,QAAQ2D,cAAc7b,YACjB,GACrB,YAAMnN,KAAKqlB,SACN8E,SAASnqB,KAAKozB,UAAY,sBAGhC+rD,EA/CqC,CAgD9C,GCnEE,GAAwC,WACxC,IAAIzsE,EAAgB,SAAUhV,EAAG0I,GAI7B,OAHAsM,EAAgB5U,OAAOyV,gBAClB,CAAEC,UAAW,cAAgBvJ,OAAS,SAAUvM,EAAG0I,GAAK1I,EAAE8V,UAAYpN,IACvE,SAAU1I,EAAG0I,GAAK,IAAK,IAAIlH,KAAKkH,EAAOA,EAAEnH,eAAeC,KAAIxB,EAAEwB,GAAKkH,EAAElH,MACpDxB,EAAG0I,IAE5B,OAAO,SAAU1I,EAAG0I,GAEhB,SAASqN,IAAOzT,KAAK0T,YAAchW,EADnCgV,EAAchV,EAAG0I,GAEjB1I,EAAEsB,UAAkB,OAANoH,EAAatI,OAAOY,OAAO0H,IAAMqN,EAAGzU,UAAYoH,EAAEpH,UAAW,IAAIyU,IAV3C,GAcxC8rE,GAAkC,SAAUzrE,GAE5C,SAASyrE,EAAiB7oD,GACtB,OAAO5iB,EAAOvW,KAAKyC,KAAM02B,IAAS12B,KAoBtC,OAtBA,GAAUu/E,EAAkBzrE,GAI5ByrE,EAAiBvgF,UAAUm9E,WAAa,WACpC,IAAI36E,EAAQxB,KACR4/D,EAAO5/D,KAAKw/E,UACZ5f,GACAA,EAAKiK,SAAS,CACV3nC,OAAQliC,KAAKg8E,aACbjS,qBAAsB,SAAUxgE,GAE5B,OADA/H,EAAM+jE,aAAah8D,EAAKyB,KACjB,MAKvBu0E,EAAiBvgF,UAAUq+E,YAAc,WACrC,IAAIzd,EAAO5/D,KAAKw/E,UACZ5f,GACAA,EAAK0C,YAENid,EAvB0B,CAwBnC,GCtCE,GAAwC,WACxC,IAAI7sE,EAAgB,SAAUhV,EAAG0I,GAI7B,OAHAsM,EAAgB5U,OAAOyV,gBAClB,CAAEC,UAAW,cAAgBvJ,OAAS,SAAUvM,EAAG0I,GAAK1I,EAAE8V,UAAYpN,IACvE,SAAU1I,EAAG0I,GAAK,IAAK,IAAIlH,KAAKkH,EAAOA,EAAEnH,eAAeC,KAAIxB,EAAEwB,GAAKkH,EAAElH,MACpDxB,EAAG0I,IAE5B,OAAO,SAAU1I,EAAG0I,GAEhB,SAASqN,IAAOzT,KAAK0T,YAAchW,EADnCgV,EAAchV,EAAG0I,GAEjB1I,EAAEsB,UAAkB,OAANoH,EAAatI,OAAOY,OAAO0H,IAAMqN,EAAGzU,UAAYoH,EAAEpH,UAAW,IAAIyU,IAV3C,GAmBxC,GAAgC,SAAUK,GAE1C,SAAS2rE,EAAerlB,EAAO6Z,EAAcv9C,GACzC,IAAIl1B,EAAQsS,EAAOvW,KAAKyC,KAAM02B,IAAS12B,KAGvC,OAFAwB,EAAM44D,MAAQA,EACd54D,EAAMo+D,KAAOqU,EACNzyE,EAyDX,OA9DA,GAAUi+E,EAAgB3rE,GAO1BhW,OAAOC,eAAe0hF,EAAezgF,UAAW,YAAa,CACzDf,IAAK,WACD,MAAO,WAEXD,YAAY,EACZ0gB,cAAc,IAElB+gE,EAAezgF,UAAUq9E,aAAe,WACpC,OAAO,IAAK51E,QAAQ,2BAExBg5E,EAAezgF,UAAUusE,gBAAkB,WACvC,OAAO,IAAc,WAAavrE,KAAKozB,UAAY,WAEvDqsD,EAAezgF,UAAU+Y,WAAa,WAClC,OAAOjE,EAAO9U,UAAU+Y,WAAWxa,KAAKyC,QAC/BA,KAAKo6D,MAAM/lD,QAAQ8lE,cAAgB1P,EAAe4P,YAAc5P,EAAe4P,UAE5FoF,EAAezgF,UAAUi9E,mBAAqB,WAC1C,IAAIz6E,EAAQxB,KACRo8E,EAAgBp8E,KAAKq8E,eAiBzB,OAhBIr8E,KAAK+X,aACL/X,KAAKg8E,aAAe,YAAM,KACrBzkE,KAAK,OAAQ,sBACbiS,MAAM4yD,GACN9hE,KAAK8hE,GACLzxD,GAAG,SAAS,SAAUyE,GAGvB,OAFAA,EAAGpC,iBACHxrB,EAAM26E,cACC,KAENrwD,QAGL9rB,KAAKg8E,aAAe,YAAM,OACrBlwD,QAEF9rB,KAAKg8E,cAEhByD,EAAezgF,UAAUk9E,aAAe,aAGxCuD,EAAezgF,UAAUumE,aAAe,SAAUv6D,GAC9C,IAAIyjC,EAAQzuC,KAAKo6D,MAAM/nB,WACnBsnC,EAAQ,CACR5jE,OAAQ04B,EAAMS,mBACd6M,YAAa/wC,GAEbmqC,EAAO1G,EAAMqO,mBAAmB68B,GAChCxkC,GACA1G,EAAMsP,2BAA2B,IAAkBif,IAAK7nB,IAGhEsqC,EAAezgF,UAAUwgF,QAAU,WAC/B,OAAOx/E,KAAK4/D,MAET6f,EA/DwB,CAgEjCF,ICnFE,GAAwC,WACxC,IAAI7sE,EAAgB,SAAUhV,EAAG0I,GAI7B,OAHAsM,EAAgB5U,OAAOyV,gBAClB,CAAEC,UAAW,cAAgBvJ,OAAS,SAAUvM,EAAG0I,GAAK1I,EAAE8V,UAAYpN,IACvE,SAAU1I,EAAG0I,GAAK,IAAK,IAAIlH,KAAKkH,EAAOA,EAAEnH,eAAeC,KAAIxB,EAAEwB,GAAKkH,EAAElH,MACpDxB,EAAG0I,IAE5B,OAAO,SAAU1I,EAAG0I,GAEhB,SAASqN,IAAOzT,KAAK0T,YAAchW,EADnCgV,EAAchV,EAAG0I,GAEjB1I,EAAEsB,UAAkB,OAANoH,EAAatI,OAAOY,OAAO0H,IAAMqN,EAAGzU,UAAYoH,EAAEpH,UAAW,IAAIyU,IAV3C,GAmBxC,GAAkC,SAAUK,GAE5C,SAAS4rE,EAAiBtlB,EAAO/qB,EAAW/0B,EAAMoc,GAC9C,IAAIl1B,EAAQsS,EAAOvW,KAAKyC,KAAM02B,IAAS12B,KAIvC,OAHAwB,EAAM44D,MAAQA,EACd54D,EAAM6tC,UAAYA,EAClB7tC,EAAM46E,cAAgB9hE,EACf9Y,EAgEX,OAtEA,GAAUk+E,EAAkB5rE,GAQ5BhW,OAAOC,eAAe2hF,EAAiB1gF,UAAW,YAAa,CAC3Df,IAAK,WACD,MAAO,WAEXD,YAAY,EACZ0gB,cAAc,IAElBghE,EAAiB1gF,UAAUk9E,aAAe,WACtC,IAAI16E,EAAQxB,KAERqW,EAAQrW,KAAKo6D,MAAM5Z,aAAapO,WAChC3D,EAAQzuC,KAAKo6D,MAAM/nB,WACnB91B,EAAQ,GAKRhF,GADUvX,KAAKqvC,WAAarvC,KAAKqvC,UAAUE,aAAevvC,KAAKqvC,UAAUE,YAAY,GAAMvvC,KAAKqvC,UAAUE,YAAY,GAAGlxC,MAAQ,MACjHgY,EAAMuF,iBAAiB5b,KAAKqvC,UAAUE,YAAY,GAAGlxC,OAAS,KAC9EkZ,GAAQA,EAAK60B,WACb70B,EAAK60B,UAAUzpB,SAAQ,SAAUg9D,GAC7B,IAAI32C,EAAW3yB,EAAMk6B,gBAAgBovC,GACjCC,EARc,SAAU52C,GAChC,OAAOA,EAAS+B,eAAe1yB,MAAQ,IAAS64B,MAO9B2uC,CAAoB72C,IAC7ByF,EAAMmK,QAAUgnC,IAGjB52C,GAAcxnC,EAAM44D,MAAM/lD,QAAQktD,YAAcqe,GAChDrjE,EAAMxW,KAAK,CACPiF,GAAI20E,EACJrlE,KAAM,IAAK7T,QAAQ,YAAak5E,EAAQ,YAAc32C,EAAShzB,aAK/E,IAAI3B,EAAU,CACVkI,MAAOA,EACPwsD,aAAc/oE,KAAKo6D,MAAM/lD,QAAQ+kD,yBACjCpuD,GAAI,IAAUsE,WAAW,QACzB0wD,gBAAiBhgE,KAAKo6D,MAAM/lD,QAAQ2rD,iBAExC,IAAUx2D,OAAO6K,EAASrU,KAAKo6D,MAAM/lD,QAAQglD,aAC7Cr5D,KAAK4/D,KAAO,IAAI,EAAUvrD,IAE9BqrE,EAAiB1gF,UAAUq9E,aAAe,WACtC,OAAOr8E,KAAKo8E,eAEhBsD,EAAiB1gF,UAAUs9E,aAAe,WACtC,OAAOt8E,KAAKo6D,MAAM/lD,QAAQyrE,mBAAqB,IAAKr5E,QAAQ,qBAEhEi5E,EAAiB1gF,UAAUusE,gBAAkB,WACzC,OAAOvrE,KAAKozB,UAAY,gBAAkBpzB,KAAKozB,UAAY,gBAE/DssD,EAAiB1gF,UAAU+Y,WAAa,WACpC,OAAO/X,KAAKqvC,UAAUjY,UAAYp3B,KAAKqvC,UAAUsE,eACxC3zC,KAAKo6D,MAAM/lD,QAAQ8lE,cAAgB1P,EAAe//B,YAAc+/B,EAAe//B,UAE5Fg1C,EAAiB1gF,UAAUumE,aAAe,SAAUv6D,GAChDhL,KAAKqvC,UAAUkH,cAAcvrC,GAC7BhL,KAAKqvC,UAAU+E,iBAAiB,IAAc1J,WAElDg1C,EAAiB1gF,UAAUwgF,QAAU,WACjC,OAAOx/E,KAAK4/D,MAET8f,EAvE0B,CAwEnCH,IC3FE,GAAwC,WACxC,IAAI7sE,EAAgB,SAAUhV,EAAG0I,GAI7B,OAHAsM,EAAgB5U,OAAOyV,gBAClB,CAAEC,UAAW,cAAgBvJ,OAAS,SAAUvM,EAAG0I,GAAK1I,EAAE8V,UAAYpN,IACvE,SAAU1I,EAAG0I,GAAK,IAAK,IAAIlH,KAAKkH,EAAOA,EAAEnH,eAAeC,KAAIxB,EAAEwB,GAAKkH,EAAElH,MACpDxB,EAAG0I,IAE5B,OAAO,SAAU1I,EAAG0I,GAEhB,SAASqN,IAAOzT,KAAK0T,YAAchW,EADnCgV,EAAchV,EAAG0I,GAEjB1I,EAAEsB,UAAkB,OAANoH,EAAatI,OAAOY,OAAO0H,IAAMqN,EAAGzU,UAAYoH,EAAEpH,UAAW,IAAIyU,IAV3C,GAiBxC,GAA4C,SAAUK,GAEtD,SAASisE,IACL,IAAIv+E,EAAmB,OAAXsS,GAAmBA,EAAOF,MAAM5T,KAAM2G,YAAc3G,KAIhE,OAHAwB,EAAMw+E,IAAM,KACZx+E,EAAMy+E,mBAAqB,aAC3Bz+E,EAAM0+E,mBAAqB,QACpB1+E,EA8EX,OApFA,GAAUu+E,EAA4BjsE,GAQtCisE,EAA2B/gF,UAAUk9E,aAAe,aAEpD6D,EAA2B/gF,UAAUm9E,WAAa,WAC9C,IAAI36E,EAAQxB,KACZ,IAAIA,KAAKggF,IAAT,CAEA,IAAIG,EAAgB,CAChBz/C,UAAW1gC,KAAKo6D,MAAM/lD,QAAQqsB,UAC9BY,aAActhC,KAAKw8E,WAAWz0E,WAAa,IAASG,KACpDw5B,eAAgB1hC,KAAKw8E,WAAWz0E,WAAa,IAAS3C,KACtDu8B,sBAAuB3hC,KAAKo6D,MAAM/lD,QAAQstB,sBAC1CH,kBAAmBxhC,KAAKo6D,MAAM/lD,QAAQmtB,kBACtCY,QAAS,SAAUt6B,GACf,IAAIzJ,EAAQmD,EAAM4+E,wBAAwBt4E,GAC1CtG,EAAMue,SAAS1hB,GACfmD,EAAMw+E,IAAM,KACZp7D,YAAW,WAAc,OAAOpjB,EAAMw6E,aAAa58C,UAAY,MAEnEkD,SAAU,WACN9gC,EAAMw6E,aAAa5wD,UAAY5pB,EAAM66E,eACrC76E,EAAMw+E,IAAM,KACZp7D,YAAW,WAAc,OAAOpjB,EAAMw6E,aAAa58C,UAAY,MAEnEmD,kBAAmB,SAAUz6B,GACzB,IAAIzJ,EAAQ,IAAKwJ,cAAcC,EAAUtG,EAAMg7E,WAAWz0E,UAC1DvG,EAAMw6E,aAAa5wD,UAAY/sB,IAGvC2B,KAAKggF,IAAMhgF,KAAKo6D,MAAM/lD,QAAQgsE,uBACxBrgF,KAAKo6D,MAAM/lD,QAAQgsE,uBAAuBF,GAC1C,IAAI,IAAsBA,GAChC,IAAI9pE,EAAQrW,KAAKw8E,WAAWpqC,WACxB/zC,EAAQ2B,KAAKw8E,WAAWn+E,MACxByJ,EAAW,IAAI1C,KAEf0C,EADA9H,KAAKw8E,WAAWz0E,UAAY,IAASG,MAAQmO,EAAMi7B,YAAYjzC,GACpDgY,EAAM+6B,kBAAkB/yC,GAE9B2B,KAAKw8E,WAAWz0E,UAAY,IAASG,MAAQmO,EAAMq7B,YAAYrzC,GACzDgY,EAAMo7B,kBAAkBpzC,GAGxB2B,KAAKsgF,0BAA0BjiF,GAE9C2B,KAAKggF,IAAI9+C,YAAYp5B,GACrB9H,KAAKggF,IAAIp2D,KAAK5pB,KAAKqlB,WAEvB06D,EAA2B/gF,UAAUq+E,YAAc,WAC/Cr9E,KAAKggF,IAAI39C,SACTriC,KAAKggF,IAAM,MAEfD,EAA2B/gF,UAAUq9E,aAAe,WAChD,IAAKr8E,KAAKw8E,WAAWn+E,MACjB,OAAO2B,KAAKs8E,eAChB,IACIj+E,EAAQ2B,KAAKw8E,WAAWn+E,MACxBgY,EAAQrW,KAAKw8E,WAAWpqC,WAC5B,GAAI/7B,IACIA,EAAMi7B,YAAYjzC,IAAUgY,EAAMq7B,YAAYrzC,IAAQ,CACtD,IAAIkiF,EAAYliF,EAAMoc,UAAU,EAAGpc,EAAM6C,OAAS,GAC9C+a,EAAM,IAAKxV,QAAQ85E,GACvB,OAAOtkE,GAPA,aAWf,OADa,IAAKpU,cAAc7H,KAAKsgF,0BAA0BjiF,GAAQ2B,KAAKw8E,WAAWz0E,WAG3Fg4E,EAA2B/gF,UAAU+Y,WAAa,WAC9C,OAAOjE,EAAO9U,UAAU+Y,WAAWxa,KAAKyC,QAC/BA,KAAKo6D,MAAM/lD,QAAQ8lE,cAAgB1P,EAAemS,SAAWnS,EAAemS,OAEzFmD,EAA2B/gF,UAAUshF,0BAA4B,SAAUx4E,GACvE,OAAO,IAAUqI,cAAcrI,EAAU9H,KAAKigF,mBAAqB,IAAMjgF,KAAKkgF,qBAElFH,EAA2B/gF,UAAUohF,wBAA0B,SAAUt4E,GACrE,OAAO,IAAUD,cAAcC,EAAU9H,KAAKigF,mBAAqB,IAAMjgF,KAAKkgF,qBAE3EH,EArFoC,CAsF7C,GCvGE,GAAwC,WACxC,IAAIrtE,EAAgB,SAAUhV,EAAG0I,GAI7B,OAHAsM,EAAgB5U,OAAOyV,gBAClB,CAAEC,UAAW,cAAgBvJ,OAAS,SAAUvM,EAAG0I,GAAK1I,EAAE8V,UAAYpN,IACvE,SAAU1I,EAAG0I,GAAK,IAAK,IAAIlH,KAAKkH,EAAOA,EAAEnH,eAAeC,KAAIxB,EAAEwB,GAAKkH,EAAElH,MACpDxB,EAAG0I,IAE5B,OAAO,SAAU1I,EAAG0I,GAEhB,SAASqN,IAAOzT,KAAK0T,YAAchW,EADnCgV,EAAchV,EAAG0I,GAEjB1I,EAAEsB,UAAkB,OAANoH,EAAatI,OAAOY,OAAO0H,IAAMqN,EAAGzU,UAAYoH,EAAEpH,UAAW,IAAIyU,IAV3C,GAqBxC,GAA4C,SAAUK,GAEtD,SAAS0sE,IACL,OAAkB,OAAX1sE,GAAmBA,EAAOF,MAAM5T,KAAM2G,YAAc3G,KAkN/D,OApNA,GAAUwgF,EAA4B1sE,GAItC0sE,EAA2BxhF,UAAUk9E,aAAe,WAChDl8E,KAAKygF,gBAAkB,YAAM,OACxBt2D,SAAS,aAET2B,QACL9rB,KAAKqzE,qBACLrzE,KAAK0gF,oBACL1gF,KAAK2gF,yBAETH,EAA2BxhF,UAAU+Y,WAAa,WAC9C,OAAOjE,EAAO9U,UAAU+Y,WAAWxa,KAAKyC,QAC/BA,KAAKo6D,MAAM/lD,QAAQ8lE,cAAgB1P,EAAemS,SAAWnS,EAAemS,OAEzF4D,EAA2BxhF,UAAU+gB,SAAW,SAAU1hB,EAAOw0C,GACzDx0C,aAAiB,MACjB2B,KAAKw8E,WAAWhqC,SAAWn0C,EACtBw0C,GACD7yC,KAAKw8E,WAAWrqC,YAAYiC,iBAAiB,IAAcwoC,SAIvE4D,EAA2BxhF,UAAUq0E,mBAAqB,WACtD,IAAIh9D,EAAQrW,KAAKwgD,aAAapO,WAC1BwuC,EAAW5gF,KAAKw8E,WAAWz0E,SAU/B,GATA/H,KAAK6gF,gBAAkBxqE,EAAMmH,2BAA0B,SAAUpB,EAAK7E,GAClE,OAAIA,EACOA,EAAKq0B,iBAAmBr0B,EAAKxP,WAAa64E,EAI1CxkE,EAAIlG,YAAckG,EAAIwvB,oBAGhCv1B,GAASA,EAAMiF,UAChB,OAAO,KACX,IAAI2kD,EAASjgE,KAAKqlB,QAAQ8Z,aAAa,WACnC8gC,IACAA,GAAU,kBAEd,IAAI5rD,EAAU,CACVkI,MAAOvc,KAAK6gF,gBACZ9X,aAAc/oE,KAAKo6D,MAAM/lD,QAAQ+kD,yBACjCpuD,GAAIi1D,EACJ0B,OAAQ3hE,KAAKo6D,MAAM/lD,QAAQqqE,aAAe,IAC1Cnd,YAAY,EACZvB,gBAAiBhgE,KAAKo6D,MAAM/lD,QAAQ2rD,iBAExC,IAAUx2D,OAAO6K,EAASrU,KAAKo6D,MAAM/lD,QAAQglD,aAC7Cr5D,KAAK8gF,gBAAkB,IAAI,EAAUzsE,IAEzCmsE,EAA2BxhF,UAAU0hF,kBAAoB,WACrD,IAAIl/E,EAAQxB,KACZA,KAAK+gF,YAAc,YAAM,MAAO/gF,KAAKygF,iBAChCt2D,SAAS,cACTlB,SAAS,SAAS,SAAU7iB,GAAK,OAAOA,EACxCslB,QAAQ,IAAKjlB,QAAQ,2BACrBwiB,SAAS,KAAK,SAAU7iB,GAAK,OAAO5E,EAAMw1E,cAAgB5wE,EAC1DmR,KAAK,OAAQ,sBACboT,GAAG,SAAS,SAAU6B,GACvBhrB,EAAMs/E,gBAAgBjX,SAAS,CAC3B3nC,OAAQ1gC,EAAMw1E,cACdpN,YAAa,KACbG,qBAAsB,SAAU1pE,EAAMkc,GAClC,IAAIV,EAASxb,EAAK2K,GAElB,OADAxJ,EAAMw/E,qBAAqBnlE,IACpB,QAIdiQ,WACAA,SAET00D,EAA2BxhF,UAAUs9E,aAAe,WAChD,OAAOt8E,KAAKo6D,MAAM/lD,QAAQsoE,gBAAkB,IAAKl2E,QAAQ,qBAE7D+5E,EAA2BxhF,UAAU2hF,sBAAwB,WACzD,IAAIM,EAAW,YAAM,MAAOjhF,KAAKygF,iBAC5Bt2D,SAAS,cACTlB,SAAS,SAAS,SAAU7iB,GAAK,OAAOA,EACxCslB,QAAQ,IAAKjlB,QAAQ,iCACrBqlB,QACL9rB,KAAKkhF,gBACD,YAAM,MAAOD,GACRn1D,QACT,IAAIq1D,EAAOnhF,KAAKqlB,QAAQ8Z,aAAa,WACjCgiD,IACAnhF,KAAKkhF,gBAAgBl2E,GAAKm2E,EAAO,mBAGzCX,EAA2BxhF,UAAUgiF,qBAAuB,SAAUnlE,GAClE,IAAIujE,EAAUp/E,KAAKwgD,aAAapO,WAAWx2B,iBAAiBC,GAC5D,GAAIujE,EAAS,CACT,IAAI5sC,EAAWxyC,KAAKohF,cAChBhlD,EAAOoW,EAASlZ,aAChB1W,OAAS,EACb,GAAIwZ,EAAKl7B,OAAS,GACd0hB,EAASwZ,EAAK,IACPhkB,KAAK2H,SAASlE,GACrB+G,EAAOxK,KAAKrQ,SAAWq3E,EAAQr3E,SAC/B6a,EAAOwxB,uBAEN,EACDxxB,EAAS4vB,EAAS2H,gBACX3G,QAAU,IAAc3jB,KAC/BjN,EAAO6wB,WAAa,EACpB,IAAIr7B,EAAO,IAAI,IAAWwK,GAC1BxK,EAAK2H,SAASlE,GACdzD,EAAK2B,IAAM,IAAQ41B,gBACnBv3B,EAAKC,KAAO,IAASi6B,UACrBl6B,EAAKrQ,SAAWq3E,EAAQr3E,SACxB6a,EAAOxK,KAAOA,EACdgkB,EAAKr2B,KAAK6c,GACV4vB,EAASsL,wBAAwB,IAAkBkf,IAAKp6C,GAE5D5iB,KAAKg3E,cAAc5rD,UAAYprB,KAAK+d,iBAAiBqhE,KAG7DoB,EAA2BxhF,UAAUoiF,YAAc,WAC/C,OAAOphF,KAAKw5D,WAAWnnB,YAE3BmuC,EAA2BxhF,UAAU+e,iBAAmB,SAAU/B,GAC9D,IAAKA,EACD,OAAO,IAAKvV,QAAQ,uBACxB,IAAIuX,EAAW,IAAKvX,QAAQ,aAAcuV,EAAUhR,IAC/CgT,IACDA,EAAWhC,EAAUhG,SACzB,IAAIhO,EAAShI,KAAKo6D,MAAM/lD,QAAQ6kD,kBAChC,IAAKlxD,EACD,OAAOgW,EACX,IAAI7b,EAAS6F,EAAOnC,QAAQ,IAAIqY,OAAO,SAAU,KAAMF,GACnDC,EAAaje,KAAKwgD,aACjBpO,WACA30B,wBAAwBzB,EAAUhR,GAAI,KAC3C,OAAO7I,EAAO0D,QAAQ,IAAIqY,OAAO,WAAY,KAAMD,IAEvDuiE,EAA2BxhF,UAAUm9E,WAAa,WAC9C,IAAI36E,EAAQxB,KAERqhF,GADcrhF,KAAKo6D,MAAM/nB,WACXryC,KAAKo6D,OACnBjb,EAAUn/C,KAAKwgD,aACnBxgD,KAAKkhF,gBAAgB51D,UAAY,GACjC,IAAIknB,EAAW2M,EAAQvR,cACnB5tC,KAAKw8E,WAAWhqC,UAChBA,EAASp8B,aAAapW,KAAKw8E,WAAWhqC,SAASG,cAEnD,IAAI2uC,EAAa,IAAU93E,OAAO,GAAI63E,EAAYhtE,SAClDitE,EAAW/f,YAAa,EACxB+f,EAAWrQ,YAAa,EACxBqQ,EAAW7C,cAAgB5xE,SAASD,KACpC00E,EAAWjoB,YAAYkI,YAAa,EACpC+f,EAAWC,mBAAqB,SAAUC,EAAWC,GACjD,GAAIJ,EAAYhtE,QAAQktE,mBAAoB,CACxC,IAAIG,EAA2BD,GAAe,GAC9CC,EAAyBngB,YAAa,EACtC8f,EAAYhtE,QAAQktE,mBAAmBC,EAAWE,KAG1D1hF,KAAKw5D,WAAa,IAAI,GAAWx5D,KAAKkhF,gBAAiB1uC,GACvDxyC,KAAKw5D,WAAWvhC,KAAKj4B,KAAKo6D,MAAM5Z,aAAc8gC,GAC9C,IAAIzlE,EAAS,KACTugB,EAAOoW,EAASlZ,aAEpB,GAAmB,GAAf8C,EAAKl7B,OAAa,CAClB,IAAImuC,EAAYrvC,KAAKw8E,WAAWrqC,YAChC,GAAI9C,EAAUE,YAAYruC,OAAS,EAAG,CAClC,IAAIg8C,EAAW7N,EAAUE,YAAY,GACrC1zB,EAAUqhC,EAASnjC,KAAO,IAAQ41B,iBAC3BuN,EAAS7kC,MAAQ,IAASi6B,UAAa4K,EAAS7+C,MAAQ,WAInEwd,EAASugB,EAAK,GAAGhkB,KAAK/Z,MAEtBwd,EACA7b,KAAKghF,qBAAqBnlE,GAG1B7b,KAAKg3E,cAAc5rD,UAAY,IAAK3kB,QAAQ,uBAEhDzG,KAAKw5D,WAAWtgC,UAChB,IAAIyoD,EAAa3hF,KAAKkhF,gBAAgBh6C,cAAc,4BAChDy6C,IACAA,EAAW/7D,MAAMg8D,UAAY,SAEb5hF,KAAKo6D,MACpB5Z,aACAS,cACA4gC,mBACStgF,KAAK,CACfioB,MAAO,IAAK/iB,QAAQ,uBACpBmG,KAAM5M,KAAKygF,gBACX9zE,MAAO3M,KAAKo6D,MAAM/lD,QAAQytE,oBAE1B77C,UAAU,EACVE,YAAY,EACZC,SAAU,WACN,IAAI/nC,EAAQmD,EAAMg4D,WAAWnnB,WAE7B,QAAIh0C,EAAMg7C,YAAY,CAAEE,kBAAkB,MACtC/3C,EAAMue,SAAS1hB,IACR,OAMvBmiF,EAA2BxhF,UAAUq+E,YAAc,aAE5CmD,EArNoC,CAsN7C,GC3OE,GAAwC,WACxC,IAAI9tE,EAAgB,SAAUhV,EAAG0I,GAI7B,OAHAsM,EAAgB5U,OAAOyV,gBAClB,CAAEC,UAAW,cAAgBvJ,OAAS,SAAUvM,EAAG0I,GAAK1I,EAAE8V,UAAYpN,IACvE,SAAU1I,EAAG0I,GAAK,IAAK,IAAIlH,KAAKkH,EAAOA,EAAEnH,eAAeC,KAAIxB,EAAEwB,GAAKkH,EAAElH,MACpDxB,EAAG0I,IAE5B,OAAO,SAAU1I,EAAG0I,GAEhB,SAASqN,IAAOzT,KAAK0T,YAAchW,EADnCgV,EAAchV,EAAG0I,GAEjB1I,EAAEsB,UAAkB,OAANoH,EAAatI,OAAOY,OAAO0H,IAAMqN,EAAGzU,UAAYoH,EAAEpH,UAAW,IAAIyU,IAV3C,GAexC,GAAsD,SAAUK,GAEhE,SAASiuE,EAAqC3nB,EAAOoiB,EAAY7gE,EAAQ+a,GACrE,IAAIl1B,EAAQsS,EAAOvW,KAAKyC,KAAMo6D,EAAOoiB,EAAY7gE,EAAQ+a,IAAS12B,KAElE,OADAwB,EAAMg7E,WAAWziE,IAAM,IAAQioE,aACxBxgF,EAgBX,OApBA,GAAUugF,EAAsCjuE,GAMhDiuE,EAAqC/iF,UAAUk/E,kBAAoB,SAAUS,GACzE,IAAIlwC,EAAQzuC,KAAKo6D,MAAM/nB,WAAWkI,iBAE9B0nC,EADSjiF,KAAKw8E,WAAWrqC,YACH5C,YAAY,GAAGxnC,SACzC/H,KAAK69E,cAAgBpvC,EAChBnV,aACAta,QAAO,SAAUH,GAAO,OAAOA,EAAIzG,KAAKrQ,UAAYk6E,KACpDrgF,KAAI,SAAUid,GACf,MAAO,CAAE7T,GAAI6T,EAAI7T,GAAIsP,KAAMuE,EAAI7I,YAE/B2oE,GACAA,KAGDoD,EArB8C,CAsBvD,ICrCE,GAAwC,WACxC,IAAIrvE,EAAgB,SAAUhV,EAAG0I,GAI7B,OAHAsM,EAAgB5U,OAAOyV,gBAClB,CAAEC,UAAW,cAAgBvJ,OAAS,SAAUvM,EAAG0I,GAAK1I,EAAE8V,UAAYpN,IACvE,SAAU1I,EAAG0I,GAAK,IAAK,IAAIlH,KAAKkH,EAAOA,EAAEnH,eAAeC,KAAIxB,EAAEwB,GAAKkH,EAAElH,MACpDxB,EAAG0I,IAE5B,OAAO,SAAU1I,EAAG0I,GAEhB,SAASqN,IAAOzT,KAAK0T,YAAchW,EADnCgV,EAAchV,EAAG0I,GAEjB1I,EAAEsB,UAAkB,OAANoH,EAAatI,OAAOY,OAAO0H,IAAMqN,EAAGzU,UAAYoH,EAAEpH,UAAW,IAAIyU,IAV3C,GAmCxC,GAA4B,SAAUK,GAMtC,SAASouE,EAAWxrD,EAAMi/C,GACtB,IAAIn0E,EAAQsS,EAAOvW,KAAKyC,KAAM02B,IAAS12B,KA8DvC,OA7DAwB,EAAM6S,QAAU,CACZ8lE,cAAe1P,EAAe9hC,IAC9B44B,YAAY,EACZ4gB,gBAAiB,KACjBC,qBAAsB,KACtBb,mBAAoB,KACpB9C,cAAe5xE,SAASD,KACxByuE,aAAa,EACbpK,YAAY,EACZjW,gBAAgB,EAChBqnB,uBAAuB,EACvBC,uBAAuB,EACvBC,eAAe,EACfrgB,QAAS,CACL7yB,UAAW,KACXigB,MAAO,MAEXmK,2BAA2B,EAC3B6f,+BAA+B,EAC/BJ,kBAAkB,EAClBP,uBAAuB,EACvB6J,qBAAqB,EACrB9hD,UAAW,YACXiB,uBAAuB,EACvBH,mBAAmB,EACnB03B,kBAAmB,kBACnBG,YAAa,CACTC,mBAAoB,GACpB6O,oBAAoB,EACpB5O,qBAAqB,EACrB2G,qBAAsB,MAE1BnpC,eAAe,EACf9Z,cAAe,EACfD,cAAc,EACd8kE,oBAAqB,IACrBW,qBAAsB,IACtB/D,aAAc,IACdgE,qBAAsB,CAAC,IAAK,KAC5BC,sBAAsB,EACtBzK,oBAAqB,KACrB0K,uBAAwB,KACxBC,wBAAyB,KACzBC,sBAAuB,KACvBC,mBAAoB,KACpBC,oBAAqB,KACrBC,aAAc,MAElBzhF,EAAMm0E,YAAc,KACpBn0E,EAAMq2B,YAAc,YAAM,OACrB1N,SAAS3oB,EAAM4xB,UAAY,sBAC3B/J,gBAAgB,YAAM,OACtByC,SACAA,QACAtqB,EAAMk1B,KAAKpM,UAAUib,SAAS/jC,EAAM4xB,UAAY,WACjD5xB,EAAMk1B,KAAKpM,UAAU3L,IAAInd,EAAM4xB,UAAY,UAE/C5xB,EAAM8tD,MAAQ,IAAYpe,MACtBykC,IACAn0E,EAAMm0E,YAAcA,GAEjBn0E,EA+hBX,OAnmBA,GAAU0gF,EAAYpuE,GAsEtBhW,OAAOC,eAAemkF,EAAWljF,UAAW,YAAa,CACrDf,IAAK,WACD,MAAO,WAEXD,YAAY,EACZ0gB,cAAc,IAElBwjE,EAAWljF,UAAUosD,cAAgB,WACjC,MAAO,cAOX82B,EAAWljF,UAAUi5B,KAAO,SAAUknB,EAAS9qC,GAC3C,IAAI7S,EAAQxB,KAOZ,GANA8T,EAAO9U,UAAUi5B,KAAK16B,KAAKyC,KAAMm/C,EAAS9qC,GAC1CrU,KAAKq6D,WAAWhmD,GAEhBrU,KAAKwxE,sBACLxxE,KAAKyxE,sBACL,IAAc5/C,oBAAoB7xB,KAAK02B,MACnC12B,KAAKqU,QAAQ0iB,cAAe,CAC5B,IAAImsD,EAAUljF,KAAKwgD,aAAapO,WAChC,IAAcxgB,sBAAsB,CAChCvM,QAASrlB,KAAK02B,KACdnF,OAAQ,CAAC,cACTsB,YAAa,SAAUvB,EAAWlC,GAC9B5tB,EAAMk1B,KAAKpM,UAAU3L,IAAI,IAAc,cACvCyQ,EAAGT,UAAUrE,UAAU3L,IAAI,sBAC3Bnd,EAAMw3B,kBACN,IAAInd,EAASuT,EAAG/uB,KAAKwb,OAChBqnE,EAAQnnE,kBAAkBF,EAAQ,qBACnCuT,EAAGP,WAAa,IAAW2D,SAGnCF,WAAY,SAAUhB,EAAWlC,KAEjCqC,YAAa,SAAUH,EAAWlC,GAC9BA,EAAGT,UAAUrE,UAAUE,OAAO,sBAC9B4E,EAAGT,UAAU/I,MAAMwC,eAAe,SAClC5mB,EAAMk1B,KAAKpM,UAAUE,OAAO,IAAc,cAC1ChpB,EAAM2hF,mBAEV3xD,OAAQ,SAAUF,EAAWlC,GACzB,IAAIqf,EAAQjtC,EAAM6wC,WACdsnC,EAAQ,CACR5jE,OAAQ04B,EAAMS,mBACd6M,YAAa3sB,EAAG/uB,KAAKwb,QAErBs5B,EAAO1G,EAAMqO,mBAAmB68B,GAChCxkC,GACA1G,EAAMsP,2BAA2B,IAAkBif,IAAK7nB,QAM5E+sC,EAAWljF,UAAUuwD,YAAc,WAC/B,IAAc19B,oBAAoB7xB,KAAK02B,MACvC12B,KAAKwxE,sBACLxxE,KAAK02B,KAAKpL,UAAY,IAE1B42D,EAAWljF,UAAU06E,gBAAkB,WACnC,OAAO15E,KAAKi0E,cAEhBiO,EAAWljF,UAAUg6E,iBAAmB,WACpC,OAAOh5E,KAAKojF,eAEhBlB,EAAWljF,UAAU48E,gBAAkB,WACnC,OAAO57E,KAAKqjF,cAEhBnB,EAAWljF,UAAU68E,sBAAwB,SAAUX,GAEnD,YADe,IAAXA,IAAqBA,GAAS,GAC3BA,EAASl7E,KAAKsjF,cAAgBtjF,KAAKujF,WAE9CrB,EAAWljF,UAAUyyE,oBAAsB,WACvC,IAAIjwE,EAAQxB,KACRyuC,EAAQzuC,KAAKqyC,WACjBryC,KAAKkyE,qBAAuBzjC,EAAM+P,oBAAmB,SAAUx6B,GAE3D,IAAIy3C,EAAQz3C,EAAM3jB,KAClB,GAAKo7D,IAAUA,EAAMpnB,MAAQ,IAAgB+B,YAAcqlB,EAAMpnB,MAAQ,IAAgB1L,KAAzF,CAGA,IAAIwpC,EAAgBtlE,SAASi9D,cACzBsI,EAAgB5wE,EAAMk1B,KAAK6O,SAAS4sC,IAAkBA,GAAiBtlE,SAASD,KACpF,OAAQ6uD,EAAMjnB,QACV,KAAK,IAAkBC,OACnB,IAAIqF,EAAQ2hB,EAAM/mB,QACd8uC,EAAoB,SAAUruC,EAAMsuC,GACpC,IAAI72D,EAAKprB,EAAMk1B,KAAKwQ,cAAc,eAAiBiO,EAAKnqC,GAAK,KAC7D,GAAI4hB,EAAI,CACJ62D,EAAWA,IACFhoB,EAAMtlB,SAAW,IAAczL,YAAc,IAAcA,UAC7DyK,EAAK5F,YAAYruC,OAAS,IACzBi0C,EAAK5F,YAAY,GAAG2C,iBAAgD,IAA7BiD,EAAK5F,YAAY,GAAGlxC,OAC9B,MAA7B82C,EAAK5F,YAAY,GAAGlxC,OAC5B,IAAIm1E,EAAW5mD,EAAGtC,UAAUib,SAAS,UACjC3U,EAAWpvB,EAAM85E,qBAAqBnmC,EAAMvoB,GAChD,GAAIgE,EAAU,CACV,IAAI4hD,EAAQ5hD,EAAS6I,OAAOgqD,GAI5B,GAHIjQ,GACAhyE,EAAMo3E,sBAAsBzjC,GAE5Bi9B,IAAkBqR,EAAU,CAC5B,IAAIhR,EAAYD,EAAMtrC,cAAc,MAAQsrC,EAAMtrC,cAAc,6BAC5DurC,GACA,YAAUA,OAM1BiR,EAAaliF,EAAM6S,QAAQsuE,qBAC3B14E,MAAMC,QAAQ4vC,IACdA,EAAMn3B,SAAQ,SAAUwyB,GAAQ,OAAOquC,EAAkBruC,EAAMuuC,MAC/DA,GAAa,GAGbF,EAAkB1pC,EAAO4pC,GAE7B,MAEJ,KAAK,IAAkB1mB,IACfljB,EAAQ2hB,EAAM/mB,QAAlB,IACIivC,EAAiB,SAAUxuC,GAC3B,IAAIvkB,EAAWpvB,EAAM85E,qBAAqBnmC,GAC1C,GAAIvkB,EAAU,CACV,IAAIipD,EAAW1kC,EAAKhD,YAChB8uC,EAAWz/E,EAAMk1B,KAAKwQ,cAAc,eAAiB2yC,EAAS7uE,GAAK,KACvE,GAAIi2E,EAAU,CACV,IAAI2C,EAAmB3C,EAAS4C,UAChC,GAAID,EAAkB,CAClB,IAAIh3D,EAAKgE,EAAS6I,OAAOj4B,EAAM6S,QAAQsuE,sBACvCiB,EAAiBn+D,YAAYmH,GAC7BA,EAAGumD,gBAAe,GACdf,IAAkB5wE,EAAM6S,QAAQsuE,sBAChC/1D,EAAGsa,cAAc,KAAK9H,YAMtCn1B,MAAMC,QAAQ4vC,GACdA,EAAMn3B,SAAQ,SAAUwyB,GAAQ,OAAOwuC,EAAexuC,MAGtDwuC,EAAe7pC,GAEnB,MAEJ,KAAK,IAAkBjlC,OACfilC,EAAQ2hB,EAAM/mB,QAAlB,IACIovC,EAAoB,SAAU3uC,GAC9B,IAAIvoB,EAAKprB,EAAMk1B,KAAKwQ,cAAc,eAAiBiO,EAAKnqC,GAAK,KAC7D,GAAI4hB,EAAI,CACJ,IAAIstD,EAAW14E,EAAMk1B,KAAKwQ,cAAc,eAAiBiO,EAAKhD,YAAYnnC,GAAK,0BAE3E24B,EAAO/W,EAAGkoC,YACVx4B,EAAO1P,EAAGkmD,gBAEd,GADAlmD,EAAG5D,cAAc2I,YAAY/E,GACzBwlD,EAAe,CACf,IAAIW,EAAYpvC,GAAQrH,GAAQ49C,EAC5BzH,EAAYM,EAAU7rC,cAAc,MAAQ6rC,EAAU7rC,cAAc,6BACpEurC,GACAA,EAAUrzC,WAKtBn1B,MAAMC,QAAQ4vC,GACdA,EAAMn3B,SAAQ,SAAUwyB,GAAQ,OAAO2uC,EAAkB3uC,MAGzD2uC,EAAkBhqC,GAEtB,MAEJ,QACIt4C,EAAM03B,gBAKtBgpD,EAAWljF,UAAUwyE,oBAAsB,WACnCxxE,KAAKkyE,sBACOlyE,KAAKqyC,WACXoM,sBAAsBz+C,KAAKkyE,uBAGzCgQ,EAAWljF,UAAUqzC,SAAW,WAC5B,OAAIryC,KAAK21E,YACE31E,KAAK21E,YAET31E,KAAKm/C,QAAQ9M,YAExB6vC,EAAWljF,UAAUmwD,YAAc,WAC/BnvD,KAAKmd,QACLnd,KAAKy5B,UAETyoD,EAAWljF,UAAUq7D,WAAa,SAAUhmD,GACxC,IAAUlQ,WAAWnE,KAAKqU,QAASA,GAE/BrU,KAAKqU,QAAQ0vE,iBACb,IAAK1/E,qBAAqB,CACtBzB,eAAgB5C,KAAKqU,QAAQ0vE,kBAGjC/jF,KAAKqU,QAAQ2vE,uBAGyB,IAA/BhkF,KAAKqU,QAAQ8lE,gBACpBn6E,KAAKqU,QAAQ8lE,cAAgB1P,EAAe9hC,KAE5C,IAAa+oB,iBACb1xD,KAAKqU,QAAQ6tD,QAAUliE,KAAKqU,QAAQ6tD,SAAW,GAC/CliE,KAAKqU,QAAQ6tD,QAAQ7yB,UAAY,CAAC,QAClCrvC,KAAKqU,QAAQ6tD,QAAQ5S,MAAQ,CAAC,UAGtC4yB,EAAWljF,UAAUme,MAAQ,WACzBnd,KAAK02B,KAAKpL,UAAY,IAE1B42D,EAAWljF,UAAUy6B,OAAS,WAC1B,IACIz5B,KAAKi0E,aAAej0E,KAAKqzE,qBACzBrzE,KAAKikF,uBACLjkF,KAAKkkF,qBACLlkF,KAAKmkF,cAAgB,YAAM,MAAOnkF,KAAK02B,MAClC5K,QACL,YAAM9rB,KAAK02B,MACNnM,YAAY,KACZJ,SAAS,IAAa4nC,qBAC3B,IACIn0C,EADQ5d,KAAKqyC,WACAnD,mBACbte,EAAW5wB,KAAKs7E,qBAAqB19D,EAAM5d,KAAKmkF,eAIpD,GAHIvzD,GACAA,EAAS6I,SAETz5B,KAAKqU,QAAQ48D,WAAY,CACzBjxE,KAAKiyE,cAAgB,YAAM,MAAOjyE,KAAK02B,MAClC5K,QACL,IAAIs4D,EAAiBpkF,KAAKqkF,kBAAkBrkF,KAAKiyE,eAC7CmS,GACAA,EAAe3qD,UAG3B,MAAOjN,GACHxsB,KAAKm/C,QAAQkN,WAAW,CACpB7X,OAAQ,uBACRl6B,KAAMkS,EAAExY,QACR62C,YAAar+B,MAIzB01D,EAAWljF,UAAUs8E,qBAAuB,SAAUjsC,EAAW3Y,GAC7D,IAAI9F,EACJ,GAAI5wB,KAAKqU,QAAQuuE,yBACbhyD,EAAW5wB,KAAKqU,QAAQuuE,uBAAuBvzC,EAAW3Y,IAEtD,OAAO9F,EAGf,OAAQye,EAAUt1B,KACd,KAAK,IAAQ+7B,OACT,OAAO,IAAI,EAAwB91C,KAAMqvC,EAAW3Y,GACxD,KAAK,IAAQ2e,MACT,OAAO,IAAI,EAAuBr1C,KAAMqvC,EAAW3Y,GAE3D,OAAO,MAEXwrD,EAAWljF,UAAUy5E,sBAAwB,SAAU+D,EAAY9lD,GAC/D,IAAK8lD,EACD,KAAM,6CAEV,IAKI7gE,EACA5B,EANA1D,EAAQrW,KAAKwgD,aAAapO,WAC1B/C,EAAYmtC,EAAWrqC,YACvBnJ,EAAW3yB,EAAMk6B,gBAAgBlB,EAAUiH,iBAC3Ct6B,EAAY3F,EAAMuF,iBAAiByzB,EAAUE,YAAY,GAAGlxC,OAC5DitC,EAAUj1B,EAAM46B,WAAWj1B,EAAWgtB,EAAUwzC,EAAWp9D,YAY/DrF,GARI4B,EADA2vB,GAAWA,EAAQ3vB,QAAU2vB,EAAQ3vB,OAAO5B,MAAQ,IAAYva,QACvD8rC,EAAQ3vB,OAEZK,GAAaA,EAAUrC,cACnBqC,EAAUrC,cAGV,IAAI,KAEJI,IACb,IAAI6mE,EAAWpE,EAAWz0E,SAI1B,GAHI64E,GAAY,IAASphF,UACrBohF,EAAW5kE,EAAUjU,UAErBy0E,EAAWnkE,OAAS,IAASi6B,UAAW,CACxC,GAA8B,IAA1BkqC,EAAWp9D,WACX,OAAO,IAAI,GAA4Bpf,KAAMw8E,EAAYx8E,KAAKi0E,aAAcv9C,GAG5E,IAAI4tD,EAAgBtkF,KAAKqzE,oBAAmB,SAAUj3D,EAAK7E,GACvD,OAAIA,GACOA,EAAKq0B,iBAAmBr0B,EAAKxP,WAAa64E,KAIzD,OAAO,IAAI,GAA4B5gF,KAAMw8E,EAAY8H,EAAe5tD,GAehF,GAZS8lD,EAAWnkE,OAAS,IAAS64B,MAClCn3B,EAAM,IAAY0yB,SAEb+vC,EAAWnkE,OAAS,IAASgzB,OAC9BtxB,GAAO,IAAYva,SAAYg9E,EAAWz0E,WAAa,IAAS3C,MAC7Do3E,EAAWz0E,WAAa,IAASrI,UAAY88E,EAAWz0E,WAAa,IAASG,OACjF6R,EAAM,IAAYra,UAGjB88E,EAAWnkE,MAAQ,IAAS2pE,eACjCjoE,EAAM,IAAY2yB,oBAElB1sC,KAAKqU,QAAQwuE,wBAAyB,CACtC,IAAIjyD,EAAW5wB,KAAKqU,QAAQwuE,wBAAwB7iF,KAAMw8E,EAAY7gE,EAAQ+a,GAC9E,GAAI9F,EACA,OAAOA,EAGf,OAAQ7W,GACJ,KAAK,IAAYpa,KACb,OAAO,IAAI,EAAuBK,KAAMw8E,EAAY7gE,EAAQ+a,GAChE,KAAK,IAAY8V,QACb,OAAO,IAAI0yC,GAA0Bl/E,KAAMw8E,EAAY7gE,EAAQ+a,GACnE,KAAK,IAAY92B,WACb,OAAO,IAAI,GAA6BI,KAAMw8E,EAAY7gE,EAAQ+a,GACtE,KAAK,IAAYh3B,SACb,OAAO,IAAI,GAA2BM,KAAMw8E,EAAY7gE,EAAQ+a,GACpE,KAAK,IAAY+V,SACb,OAAO,IAAI,GAA2BzsC,KAAMw8E,EAAY7gE,EAAQ+a,GAEpE,KAAK,IAAYgW,mBACb,OAAO,IAAI,GAAqC1sC,KAAMw8E,EAAY7gE,EAAQ+a,GAC9E,QACI,OAAO,IAAI,EAAwB12B,KAAMw8E,EAAY7gE,EAAQ+a,KAGzEwrD,EAAWljF,UAAUs5E,oBAAsB,SAAUjpC,EAAW/0B,EAAMoc,GAClE,IAAI9F,EAGJ,OAFI5wB,KAAKqU,QAAQyuE,wBACblyD,EAAW5wB,KAAKqU,QAAQyuE,sBAAsBzzC,EAAW/0B,EAAMoc,IAC/D9F,GAEG,IAAI,GAAiB5wB,KAAMqvC,EAAW/0B,EAAMoc,IAEvDwrD,EAAWljF,UAAUqlF,kBAAoB,SAAU3tD,GAC/C,IAAI9F,EAGJ,OAFI5wB,KAAKqU,QAAQ2uE,sBACbpyD,EAAW5wB,KAAKqU,QAAQ2uE,oBAAoBtsD,IAC5C9F,GAEG,IAAI,GAAe5wB,KAAMA,KAAKi0E,aAAcv9C,IAEvDwrD,EAAWljF,UAAUq0E,mBAAqB,SAAUl3D,GAChD,IAAI9F,EAAQrW,KAAKwgD,aAAapO,WAC9B,IAAK/7B,GAASA,EAAMiF,UAChB,OAAO,KACX,IAAI2kD,EAASjgE,KAAK02B,KAAK1rB,IAAM,gBAC7Bi1D,GAAU,gBACV,IAOI5rD,EAAU,CACVkI,MARelG,EAAMkH,gBAAgB,CACrCwwB,QAAQ,EACRC,QAAQ,EACRC,QAAQ,EACRhxB,cAAejd,KAAKqU,QAAQ4I,cAC5BD,aAAchd,KAAKqU,QAAQ2I,cAC5Bb,GAGC4sD,aAAc/oE,KAAKqU,QAAQ+kD,yBAC3BpuD,GAAIi1D,EACJD,gBAAiBhgE,KAAKqU,QAAQ2rD,iBAGlC,OADA,IAAUx2D,OAAO6K,EAASrU,KAAKqU,QAAQglD,aAChC,IAAI,EAAUhlD,IAEzB6tE,EAAWljF,UAAU6wE,iBAAmB,SAAUx7D,GAC9CrU,KAAKi0E,aAAapK,SAASx1D,IAE/B6tE,EAAWljF,UAAUilF,qBAAuB,WAGpC,IAAIx1C,EAAQzuC,KAAKqyC,WACb4tB,EAASjgE,KAAK02B,KAAK1rB,IAAM,gBAC7Bi1D,GAAU,iBACV,IAAI1jD,EAAQ,CACR,CACIvR,GAAI,SACJsP,KAAM,IAAK7T,QAAQ,eAEvB,CACIuE,GAAI,SACJsP,KAAM,IAAK7T,QAAQ,eAGvBgoC,EAAMmK,UACF54C,KAAKqU,QAAQguE,uBAAyBriF,KAAKqU,QAAQiuE,wBACnD/lE,EAAMxW,KAAK,CAAEiF,GAAI,YAAasP,KAAM,QAGpCta,KAAKqU,QAAQguE,uBACb9lE,EAAMxW,KAAK,CACPiF,GAAI,QACJsP,KAAM,IAAK7T,QAAQ,0BAIvBzG,KAAKqU,QAAQiuE,uBACb/lE,EAAMxW,KAAK,CACPiF,GAAI,SACJsP,KAAM,IAAK7T,QAAQ,mBAK/B,IAAI4N,EAAU,CAAEkI,MAAOA,EAAOwsD,aAAc/oE,KAAKqU,QAAQ+kD,yBAA0BpuD,GAAIi1D,EAAQD,gBAAiBhgE,KAAKqU,QAAQ2rD,gBAAiB1G,mBAAoB,IAAKoG,cAAc,GACrL,IAAUl2D,OAAO6K,EAASrU,KAAKqU,QAAQglD,aACvCr5D,KAAKojF,cAAgB,IAAI,EAAU/uE,GAI/B4rD,EAASjgE,KAAK02B,KAAK1rB,IAAM,gBAC7Bi1D,GAAU,aAuBN5rD,EAAU,CAAEkI,MAtBZA,EAAQ,CACR,CACIvR,GAAI,SACJsP,KAAM,IAAK7T,QAAQ,eAEvB,CACIuE,GAAI,SACJsP,KAAM,IAAK7T,QAAQ,cAEvB,CACIuE,GAAI,YACJsP,KAAM,OAEV,CACItP,GAAI,eACJsP,KAAM,IAAK7T,QAAQ,oBAEvB,CACIuE,GAAI,WACJsP,KAAM,IAAK7T,QAAQ,qBAGGsiE,aAAc/oE,KAAKqU,QAAQ+kD,yBAA0BpuD,GAAIi1D,EAAQD,gBAAiBhgE,KAAKqU,QAAQ2rD,gBAAiB1G,mBAAoB,IAAKoG,cAAc,GACrL,IAAUl2D,OAAO6K,EAASrU,KAAKqU,QAAQglD,aACvCr5D,KAAKujF,UAAY,IAAI,EAAUlvE,GAI3B4rD,EAASjgE,KAAK02B,KAAK1rB,IAAM,gBAC7Bi1D,GAAU,iBAWN5rD,EAAU,CAAEkI,MAVZA,EAAQ,CACR,CACIvR,GAAI,eACJsP,KAAM,IAAK7T,QAAQ,oBAEvB,CACIuE,GAAI,WACJsP,KAAM,IAAK7T,QAAQ,qBAGGsiE,aAAc/oE,KAAKqU,QAAQ+kD,yBAA0BpuD,GAAIi1D,EAAQD,gBAAiBhgE,KAAKqU,QAAQ2rD,gBAAiB1G,mBAAoB,IAAKoG,cAAc,GACrL,IAAUl2D,OAAO6K,EAASrU,KAAKqU,QAAQglD,aACvCr5D,KAAKsjF,cAAgB,IAAI,EAAUjvE,IAG3C6tE,EAAWljF,UAAUklF,mBAAqB,WACtC,IAAIjkB,EAASjgE,KAAK02B,KAAK1rB,GACnBi1D,IACAA,GAAU,iBAEd,IAOI5rD,EAAU,CAAEkI,MAPD,IAASstB,sBACAjoC,KAAI,SAAU2H,GAClC,MAAO,CACHyB,GAAIzB,EAAKyB,GACTsP,KAAM,IAAK7T,QAAQ8C,EAAK5K,SAGCoqE,aAAc/oE,KAAKqU,QAAQ+kD,yBAA0BpuD,GAAIi1D,EAAQD,gBAAiBhgE,KAAKqU,QAAQ2rD,iBAChI,IAAUx2D,OAAO6K,EAASrU,KAAKqU,QAAQglD,aACvCr5D,KAAKqjF,aAAe,IAAI,EAAUhvE,IAEtC6tE,EAAWljF,UAAU45E,sBAAwB,SAAUvpC,EAAW7qB,GAE9D,IAAIoI,EACA4mD,OAFU,IAAVhvD,IAAoBA,OAAQrf,GAG5BkqC,IACAziB,EAAK5sB,KAAK02B,KAAKwQ,cAAc,eAAiBmI,EAAUrkC,GAAK,gCAAkCqkC,EAAUrkC,GAAK,6BAE1GwoE,EAAW5mD,EAAGtC,UAAUib,SAAS,WAKzC,IADA,IAAI9kB,EAAOzgB,KAAK02B,KAAK0G,iBAAiB,IAAMp9B,KAAKozB,UAAY,QACpDh2B,EAAI,EAAGA,EAAIqjB,EAAKvf,OAAQ9D,IAAK,CAClC,IAAIujB,EAAMF,EAAKrjB,GACXujB,EAAIwP,aAAa,kBACZnwB,KAAKqU,QAAQolD,2BACd,YAAM94C,GACDtgB,KAAK,eAAgB,MAIzBL,KAAKqU,QAAQilE,+BACd,YAAM34D,GACDtgB,KAAK,eAAgB,MAGlC,YAAMsgB,GACD4J,YAAY,UAEjBqC,IAAO4mD,GACP,YAAM5mD,GACDzC,SAAS,UACT9pB,KAAK,eAAgB,KAGlC6hF,EAAWljF,UAAUg6B,gBAAkB,WACnC,IAAI1H,EAAYtxB,KAAK02B,KAAKwQ,cAAc,4BACpC5V,IACAA,EAAU7L,YAAYzlB,KAAK63B,aAC3B73B,KAAK63B,YAAYs7C,eAAe,CAAEnX,MAAO,SAAUoX,SAAU,aAGrE8O,EAAWljF,UAAUmkF,gBAAkB,WAC/BnjF,KAAK63B,YAAY7O,eACjBhpB,KAAK63B,YAAY7O,cAAc2I,YAAY3xB,KAAK63B,cAGjDqqD,EApmBoB,CAqmB7B,KCxoBE,GAAwC,WACxC,IAAIxvE,EAAgB,SAAUhV,EAAG0I,GAI7B,OAHAsM,EAAgB5U,OAAOyV,gBAClB,CAAEC,UAAW,cAAgBvJ,OAAS,SAAUvM,EAAG0I,GAAK1I,EAAE8V,UAAYpN,IACvE,SAAU1I,EAAG0I,GAAK,IAAK,IAAIlH,KAAKkH,EAAOA,EAAEnH,eAAeC,KAAIxB,EAAEwB,GAAKkH,EAAElH,MACpDxB,EAAG0I,IAE5B,OAAO,SAAU1I,EAAG0I,GAEhB,SAASqN,IAAOzT,KAAK0T,YAAchW,EADnCgV,EAAchV,EAAG0I,GAEjB1I,EAAEsB,UAAkB,OAANoH,EAAatI,OAAOY,OAAO0H,IAAMqN,EAAGzU,UAAYoH,EAAEpH,UAAW,IAAIyU,IAV3C,GAmBxC,GAA2B,SAAUK,GAErC,SAASywE,EAAU7tD,GACf,IAAIl1B,EAAQsS,EAAOvW,KAAKyC,KAAM02B,IAAS12B,KAavC,OAZAwB,EAAM6S,QAAU,CACZmwE,cAAc,EACdC,iBAAiB,EACjBC,iBAAiB,EACjBlrB,WAAY,CACRyX,YAAY,EACZjW,gBAAgB,EAChBvB,2BAA2B,IAGnCj4D,EAAMmjF,oBAAsBnjF,EAAMojF,mBAAmBhmF,KAAK4C,GAC1DA,EAAM8tD,MAAQ,IAAYpe,MACnB1vC,EA2NX,OA1OA,GAAU+iF,EAAWzwE,GAiBrBywE,EAAUvlF,UAAUosD,cAAgB,WAChC,MAAO,aAEXttD,OAAOC,eAAewmF,EAAUvlF,UAAW,YAAa,CACpDf,IAAK,WACD,MAAO,WAEXD,YAAY,EACZ0gB,cAAc,IAElB6lE,EAAUvlF,UAAUi5B,KAAO,SAAUknB,EAAS9qC,GAC1CP,EAAO9U,UAAUi5B,KAAK16B,KAAKyC,KAAMm/C,EAAS9qC,GAC1CrU,KAAKq6D,WAAWhmD,GAChBrU,KAAKuvD,cACLvvD,KAAK6kF,UAAY,YAAM,OAClB16D,SAASnqB,KAAKozB,UAAY,eAC1BtH,QACL9rB,KAAKw5D,WAAa,IAAI,GAAWx5D,KAAK6kF,WACtC7kF,KAAKw5D,WAAWvhC,KAAKknB,EAAS9qC,EAAQmlD,YAAc,IACpDx5D,KAAKyxE,uBAET8S,EAAUvlF,UAAUq7D,WAAa,SAAUhmD,GACvC,IAAUlQ,WAAWnE,KAAKqU,QAASA,IAEvCkwE,EAAUvlF,UAAU8lF,cAAgB,SAAU11D,GAC1CpvB,KAAK+kF,eAETR,EAAUvlF,UAAUgmF,cAAgB,SAAU51D,GAC1CpvB,KAAKilF,eAETV,EAAUvlF,UAAUkmF,eAAiB,SAAUnhE,GAC3C,IAAIviB,EAAQxB,KACZ,YAAUA,KAAKmlF,QAAS,KAAK,WACzB3jF,EAAM4jF,eACFrhE,GACAA,QAGZwgE,EAAUvlF,UAAUqmF,eAAiB,WACjC,IAAI7jF,EAAQxB,KACZ,YAAQA,KAAKmlF,QAAS,KAAK,WACvB3jF,EAAM4jF,eACF5jF,EAAM6S,QAAQmwE,cACdhjF,EAAMujF,kBAIlBR,EAAUvlF,UAAU4lF,mBAAqB,SAAUx1D,GAC/CA,EAAGpC,iBACC,YAAMhtB,KAAKmlF,SAASh/D,YACpBnmB,KAAKqlF,iBAGLrlF,KAAKklF,kBAGbX,EAAUvlF,UAAUomF,aAAe,WAC/B,GAAKplF,KAAKslF,kBAAV,CAEA,IAAIhrE,EAAO,GACPm0B,EAAQzuC,KAAKwgD,aAAanO,WAC1B5D,IACAn0B,EAAOm0B,EAAMiQ,qBAEL,IAARpkC,IACAA,EAAO,IAAK7T,QAAQ,uBAExB,YAAMzG,KAAKslF,mBACNhrE,KAAKA,GACL/C,KAAK,QAAS+C,IACdm0B,GAASA,EAAMsM,qBAChB,YAAM/6C,KAAKslF,mBAAmBx7D,OAC9B,YAAM9pB,KAAKulF,mBAAmB37D,OACzB,YAAM5pB,KAAKmlF,SAASh/D,cACrB,YAAMnmB,KAAKwlF,kBAAkB17D,OAC7B9pB,KAAK+xE,cAAcnsD,MAAM6M,OAAS,GAClCzyB,KAAK+xE,cAAc/mD,oBAAoB,QAAShrB,KAAK2kF,wBAIzD3kF,KAAK+xE,cAAcnsD,MAAM6M,OAAS,UAClCzyB,KAAK+xE,cAAc/mD,oBAAoB,QAAShrB,KAAK2kF,qBACrD3kF,KAAK+xE,cAAcjnD,iBAAiB,QAAS9qB,KAAK2kF,qBAClD,YAAM3kF,KAAKslF,mBAAmB17D,OAC9B,YAAM5pB,KAAKulF,mBAAmBz7D,OAC9B,YAAM9pB,KAAKwlF,kBAAkB57D,QAE7B,YAAM5pB,KAAKmlF,SAASh/D,YACpBnmB,KAAKylF,mBAAmBn7D,UAAU3L,IAAI3e,KAAKozB,UAAY,mBAGvDpzB,KAAKylF,mBAAmBn7D,UAAUE,OAAOxqB,KAAKozB,UAAY,mBAE9DpzB,KAAK0lF,eAETnB,EAAUvlF,UAAUy6B,OAAS,WACzB,IAAIj4B,EAAQxB,KACZ,YAAMA,KAAK02B,MACNvM,SAASnqB,KAAKozB,UAAY,cAC1BjJ,SAAS,IAAa4nC,qBACtB9oC,SAAS,OAAO,SAAUE,GAAW,OAAO3nB,EAAMuwE,cAAgB5oD,EAClEgB,SAAS3oB,EAAM4xB,UAAY,WAC3BnK,SAAS,OAAO,SAAUE,GAAW,OAAO3nB,EAAMmkF,kBAAoBx8D,EACtEgB,SAAS3oB,EAAM4xB,UAAY,gBAC3BtH,WACA7C,SAAS,OAAO,SAAUE,GAAW,OAAO3nB,EAAMokF,gBAAkBz8D,EACpEgB,SAAS3oB,EAAM4xB,UAAY,qBAC3BnK,SAAS,OAAO,SAAUE,GAAW,OAAO3nB,EAAM8jF,kBAAoBn8D,EACtEgB,SAAS3oB,EAAM4xB,UAAY,gBAC3BtH,WACA7C,SAAS,OAAO,SAAUE,GAAW,OAAO3nB,EAAM+jF,kBAAoBp8D,EACtEgB,SAAS3oB,EAAM4xB,UAAY,gBAAkB5xB,EAAM4xB,UAAY,gBAC/D9Y,KAAK,IAAK7T,QAAQ,0BAClBqjB,OACAa,GAAG,SAAS,WACbnpB,EAAMg4D,WAAWqW,iBAAiB,CAC9B3tC,OAAQ1gC,EAAM+jF,kBACd3b,YAAa,KACbG,qBAAsB,SAAUxgE,EAAMgT,GAClC,IAAIwzD,EAASxmE,EAAKyB,GAClBxJ,EAAM0jF,gBAAe,WACjB,IAAIz2C,EAAQjtC,EAAMg/C,aAAanO,WAC3BsnC,EAAQ,CACR5jE,OAAQ04B,EAAMS,mBACd6M,YAAag0B,GAEb56B,EAAO1G,EAAMqO,mBAAmB68B,GAChCxkC,GACA1G,EAAMsP,2BAA2B,IAAkBif,IAAK7nB,YAMvErpB,WACAA,WACA7C,SAAS,OAAO,SAAUE,GAAW,OAAO3nB,EAAMgkF,iBAAmBr8D,EACrEgB,SAAS3oB,EAAM4xB,UAAY,sBAC3BnK,SAAS,OAAO,SAAUE,GAAW,OAAO3nB,EAAMikF,mBAAqBt8D,EACvEgB,SAAS3oB,EAAM4xB,UAAY,iBAC3BtH,WACAA,WACAA,WACA7C,SAAS,OAAO,SAAUE,GAAW,OAAO3nB,EAAM2jF,QAAUh8D,EAC5DgB,SAAS3oB,EAAM4xB,UAAY,oBAC3BjJ,SAAS,IAAa4nC,qBACtBjoC,OACAT,gBAAgB7nB,EAAMqjF,WACtB/4D,YACD9rB,KAAKqU,QAAQowE,iBAAmBzkF,KAAKqU,QAAQqwE,mBAC7C1kF,KAAK64E,aAAe,YAAM,MAAO74E,KAAKmlF,SACjCh7D,SAASnqB,KAAKozB,UAAY,iBAC1BjJ,SAAS,IAAa4nC,qBACtBjmC,SAEL9rB,KAAKqU,QAAQowE,iBACb,YAAM,IAAKzkF,KAAK64E,cACXthE,KAAK,OAAQ,sBACb4S,SAASnqB,KAAKozB,UAAY,WAAapzB,KAAKozB,UAAY,iBACxD9Y,KAAK,IAAK7T,QAAQ,gBAClBkkB,GAAG,QAAS3qB,KAAK8kF,cAAclmF,KAAKoB,OAEzCA,KAAKqU,QAAQqwE,iBACb,YAAM,IAAK1kF,KAAK64E,cACXthE,KAAK,OAAQ,sBACb4S,SAASnqB,KAAKozB,UAAY,WAAapzB,KAAKozB,UAAY,iBACxD9Y,KAAK,IAAK7T,QAAQ,aAClBkkB,GAAG,QAAS3qB,KAAKglF,cAAcpmF,KAAKoB,OAE7CgN,OAAO8d,iBAAiB,UAAU,WAC9BtpB,EAAMkkF,gBAEV1lF,KAAKolF,eACLplF,KAAKw5D,WAAWtgC,UAChBtU,YAAW,WAAc,OAAOpjB,EAAMkkF,eAAiB,MAE3DnB,EAAUvlF,UAAUmwD,YAAc,WAC9BnvD,KAAKmd,QACLnd,KAAKy5B,UAET8qD,EAAUvlF,UAAUme,MAAQ,WACxBnd,KAAK02B,KAAKpL,UAAY,IAE1Bi5D,EAAUvlF,UAAU+lF,YAAc,WAC1B/kF,KAAKqU,QAAQwxE,qBACb7lF,KAAKqU,QAAQwxE,uBAGrBtB,EAAUvlF,UAAUimF,YAAc,WAC9B,IAAIx2C,EAAQzuC,KAAKwgD,aAAanO,WAC1B5D,IACAA,EAAMkH,kBACNlH,EAAMsP,2BAA2B,IAAkBpV,OAG3D47C,EAAUvlF,UAAU0mF,WAAa,WAC7B1lF,KAAK4lF,gBAAgBhgE,MAAMjZ,MAAS3M,KAAK02B,KAAKvpB,YAAcnN,KAAK2lF,kBAAkBv/D,aAC5E,YAAMpmB,KAAKwlF,kBAAkBr/D,YAAcnmB,KAAKwlF,iBAAiBp/D,YAAc,GAAM,MAEhGm+D,EAAUvlF,UAAUuwD,YAAc,WAC1BvvD,KAAKw5D,YACLx5D,KAAKw5D,WAAWjgC,UACpBv5B,KAAKwxE,sBACLxxE,KAAK02B,KAAKpL,UAAY,IAE1Bi5D,EAAUvlF,UAAUyyE,oBAAsB,WACtC,IAAIjwE,EAAQxB,KACRyuC,EAAQzuC,KAAKwgD,aAAanO,WAC9BryC,KAAKkyE,qBAAuBzjC,EAAM+P,oBAAmB,SAAUx6B,GAC3DxiB,EAAM4jF,mBAGdb,EAAUvlF,UAAUwyE,oBAAsB,WACtC,IAAI/iC,EAAQzuC,KAAKwgD,aAAanO,WAC1B5D,GACAA,EAAMgQ,sBAAsBz+C,KAAKkyE,uBAElCqS,EA3OmB,CA4O5B,KC/PE,GAAwC,WACxC,IAAI7xE,EAAgB,SAAUhV,EAAG0I,GAI7B,OAHAsM,EAAgB5U,OAAOyV,gBAClB,CAAEC,UAAW,cAAgBvJ,OAAS,SAAUvM,EAAG0I,GAAK1I,EAAE8V,UAAYpN,IACvE,SAAU1I,EAAG0I,GAAK,IAAK,IAAIlH,KAAKkH,EAAOA,EAAEnH,eAAeC,KAAIxB,EAAEwB,GAAKkH,EAAElH,MACpDxB,EAAG0I,IAE5B,OAAO,SAAU1I,EAAG0I,GAEhB,SAASqN,IAAOzT,KAAK0T,YAAchW,EADnCgV,EAAchV,EAAG0I,GAEjB1I,EAAEsB,UAAkB,OAANoH,EAAatI,OAAOY,OAAO0H,IAAMqN,EAAGzU,UAAYoH,EAAEpH,UAAW,IAAIyU,IAV3C,GAiBxC,GAAmC,SAAUK,GAM7C,SAASgyE,EAAkBpvD,GACvB,IAAIl1B,EAAQsS,EAAOvW,KAAKyC,KAAM02B,IAAS12B,KAGvC,OAFAwB,EAAMukF,eAAiBrvD,EACvBl1B,EAAM8tD,MAAQ,IAAYpC,OACnB1rD,EAuCX,OAhDA,GAAUskF,EAAmBhyE,GAW7BgyE,EAAkB9mF,UAAUosD,cAAgB,WACxC,MAAO,eAOX06B,EAAkB9mF,UAAUi5B,KAAO,SAAUknB,EAAS9qC,GAClDP,EAAO9U,UAAUi5B,KAAK16B,KAAKyC,KAAMm/C,EAAS9qC,IAK9CyxE,EAAkB9mF,UAAUmwD,YAAc,WACtCnvD,KAAKmd,QACAnd,KAAKm/C,QAAQuN,eAElB1sD,KAAKy5B,UAKTqsD,EAAkB9mF,UAAUy6B,OAAS,WAC7Bz5B,KAAKm/C,QAAQuN,gBACb1sD,KAAK+lF,eAAez6D,WAAatrB,KAAKm/C,QAAQuN,gBAMtDo5B,EAAkB9mF,UAAUme,MAAQ,WAChCnd,KAAK+lF,eAAez6D,UAAY,IAEpCw6D,EAAkB9mF,UAAUuwD,YAAc,WACtCvvD,KAAKmd,SAEF2oE,EAjD2B,CAkDpC,KCnEE,GAAwC,WACxC,IAAIpzE,EAAgB,SAAUhV,EAAG0I,GAI7B,OAHAsM,EAAgB5U,OAAOyV,gBAClB,CAAEC,UAAW,cAAgBvJ,OAAS,SAAUvM,EAAG0I,GAAK1I,EAAE8V,UAAYpN,IACvE,SAAU1I,EAAG0I,GAAK,IAAK,IAAIlH,KAAKkH,EAAOA,EAAEnH,eAAeC,KAAIxB,EAAEwB,GAAKkH,EAAElH,MACpDxB,EAAG0I,IAE5B,OAAO,SAAU1I,EAAG0I,GAEhB,SAASqN,IAAOzT,KAAK0T,YAAchW,EADnCgV,EAAchV,EAAG0I,GAEjB1I,EAAEsB,UAAkB,OAANoH,EAAatI,OAAOY,OAAO0H,IAAMqN,EAAGzU,UAAYoH,EAAEpH,UAAW,IAAIyU,IAV3C,GAmBxC,GAA4B,SAAUK,GAMtC,SAASkyE,EAAWtvD,GAChB,IAAIl1B,EAAQsS,EAAOvW,KAAKyC,KAAM02B,IAAS12B,KAKvC,OAJAwB,EAAM6S,QAAU,CACZkiB,eAAgB,GAChBC,cAAc,GAEXh1B,EAqJX,OAhKA,GAAUwkF,EAAYlyE,GAatBkyE,EAAWhnF,UAAUosD,cAAgB,WACjC,MAAO,cAOX46B,EAAWhnF,UAAUi5B,KAAO,SAAUknB,EAAS9qC,GAC3CP,EAAO9U,UAAUi5B,KAAK16B,KAAKyC,KAAMm/C,EAAS9qC,GAC1CrU,KAAKq6D,WAAWhmD,IAEpB2xE,EAAWhnF,UAAUq7D,WAAa,SAAUhmD,GACxC,IAAUlQ,WAAWnE,KAAKqU,QAASA,IAKvC2xE,EAAWhnF,UAAUmwD,YAAc,WAC/Br7C,EAAO9U,UAAUmwD,YAAY5xD,KAAKyC,MAClCA,KAAKg+B,uBAETgoD,EAAWhnF,UAAUuwD,YAAc,WAC/BvvD,KAAK02B,KAAKpL,UAAY,IAK1B06D,EAAWhnF,UAAUg/B,oBAAsB,WACvC,IAAIx8B,EAAQxB,KACRimF,EAA2Bp5E,SAASqrB,eAAe,iBACvD,GAAK+tD,EAAL,CAGA,IAAIhnD,EAAY5vB,SAAS42E,EAAyB9mD,aAAa,mBAC3DH,EAAY3vB,SAAS42E,EAAyB9mD,aAAa,mBAC/D,GAAIF,EAAY,EAAG,CACf,IAAIinD,EAAc,SAAU92D,GACxB,IAAI/J,EAAU+J,EAAG3lB,OACjB,GAAI4b,EAAQ8K,aAAa,aAAc,CACnC,IAAIg2D,EAAU92E,SAASgW,EAAQ8Z,aAAa,cAC5C39B,EAAM29C,QAAQ2G,eAAe,CACzB5jC,MAAO,CACHf,KAAMglE,GAEVpgC,QAAS,WACLvkD,EAAM29C,QAAQuM,eAAe,IAAYwB,aAKrD32B,EAAiBv2B,KAAKqU,QAAQkiB,gBAAkB,GAChD8I,EAAiBL,EAAY,EAC7BM,EAAiBD,EAAkBA,EAAiB9I,EAAkB,EACtEgJ,EAAgBD,EAAiB/I,EAAiB,EAClDgJ,EAAgBN,IAChBM,EAAgBN,GAEpB,IAAIO,EAAK3yB,SAASyY,cAAc,MAC5BtlB,KAAKqU,QAAQmiB,aACbgJ,EAAGha,UAAY,aAGfga,EAAGha,UAAY,iBAEfxlB,KAAKqU,QAAQ+xE,mBACb5mD,EAAGha,WAAa,IAAOxlB,KAAKqU,QAAwB,kBAExD,IAAIorB,EAAK5yB,SAASyY,cAAc,MAC5BtlB,KAAKqU,QAAQmiB,eACbiJ,EAAGja,UAAY,aAEnB,IAAIrf,EAAI0G,SAASyY,cAAc,QAK/B,GAJAnf,EAAEojB,aAAa,cAAe,QAC1BvpB,KAAKqU,QAAQmiB,eACbrwB,EAAEqf,UAAY,aAEI,GAAlB8Z,EACAG,EAAGja,WAAa,gBAEf,CACD,GAAIxlB,KAAKqU,QAAQmiB,cACbrwB,EAAI0G,SAASyY,cAAc,MACzBiE,aAAa,OAAQ,sBACvBpjB,EAAEojB,aAAa,YAAa,IAAM+V,EAAiB,IACnDn5B,EAAEqf,UAAY,iBAGVka,EAAO7yB,SAASyY,cAAc,MAC7BiE,aAAa,OAAQ,sBAC1BmW,EAAKnW,aAAa,YAAa,IAAM+V,EAAiB,IACtDn5B,EAAIu5B,EAERv5B,EAAE2kB,iBAAiB,QAASo7D,GAEhC//E,EAAEmlB,UAAY,UACdmU,EAAGha,YAAYtf,GACfq5B,EAAG/Z,YAAYga,GACf,IAAK,IAAIriC,EAAIkiC,EAAgBliC,GAAKmiC,EAAeniC,IAC7CqiC,EAAK5yB,SAASyY,cAAc,MACxBtlB,KAAKqU,QAAQmiB,eACbiJ,EAAGja,UAAY,aAEfpoB,GAAK4hC,IACLS,EAAGja,WAAa,YACpBrf,EAAI0G,SAASyY,cAAc,MACzBiE,aAAa,OAAQ,sBACvBpjB,EAAEmlB,UAAYluB,EAAEiK,WAChBlB,EAAEojB,aAAa,YAAansB,EAAEiK,YAC9BlB,EAAEqf,UAAY,YACdrf,EAAE2kB,iBAAiB,QAASo7D,GAC5BzmD,EAAGha,YAAYtf,GACfq5B,EAAG/Z,YAAYga,GAWnB,GATAA,EAAK5yB,SAASyY,cAAc,MACxBtlB,KAAKqU,QAAQmiB,eACbiJ,EAAGja,UAAY,cAEnBrf,EAAI0G,SAASyY,cAAc,SACzBiE,aAAa,cAAe,QAC1BvpB,KAAKqU,QAAQmiB,eACbrwB,EAAEqf,UAAY,aAEd+Z,GAAiBN,EACjBQ,EAAGja,WAAa,eAEf,CAQG,IAAIka,EAPR,GAAI1/B,KAAKqU,QAAQmiB,cACbrwB,EAAI0G,SAASyY,cAAc,MACzBiE,aAAa,OAAQ,sBACvBpjB,EAAEojB,aAAa,YAAa,IAAMgW,EAAgB,IAClDp5B,EAAEqf,WAAa,kBAGXka,EAAO7yB,SAASyY,cAAc,MAC7BiE,aAAa,OAAQ,sBAC1BmW,EAAKnW,aAAa,YAAa,IAAMgW,EAAgB,IACrDp5B,EAAIu5B,EAERv5B,EAAE2kB,iBAAiB,QAASo7D,GAEhC//E,EAAEmlB,UAAY,UACdmU,EAAGha,YAAYtf,GACfq5B,EAAG/Z,YAAYga,GACfwmD,EAAyBxgE,YAAY+Z,MAGtCwmD,EAjKoB,CAkK7B,ICrLE,GAAwC,WACxC,IAAItzE,EAAgB,SAAUhV,EAAG0I,GAI7B,OAHAsM,EAAgB5U,OAAOyV,gBAClB,CAAEC,UAAW,cAAgBvJ,OAAS,SAAUvM,EAAG0I,GAAK1I,EAAE8V,UAAYpN,IACvE,SAAU1I,EAAG0I,GAAK,IAAK,IAAIlH,KAAKkH,EAAOA,EAAEnH,eAAeC,KAAIxB,EAAEwB,GAAKkH,EAAElH,MACpDxB,EAAG0I,IAE5B,OAAO,SAAU1I,EAAG0I,GAEhB,SAASqN,IAAOzT,KAAK0T,YAAchW,EADnCgV,EAAchV,EAAG0I,GAEjB1I,EAAEsB,UAAkB,OAANoH,EAAatI,OAAOY,OAAO0H,IAAMqN,EAAGzU,UAAYoH,EAAEpH,UAAW,IAAIyU,IAV3C,GAkBxC,GAAsB,SAAUK,GAMhC,SAASuyE,EAAK3vD,GACV,IAAIl1B,EAAQsS,EAAOvW,KAAKyC,KAAM02B,IAAS12B,KAMvC,OALAwB,EAAM6S,QAAU,CACZiyE,yBAAyB,GAE7B9kF,EAAMk1B,KAAOA,EACbl1B,EAAM8tD,MAAQ,IAAYpC,OACnB1rD,EA2CX,OAvDA,GAAU6kF,EAAMvyE,GAchBuyE,EAAKrnF,UAAUosD,cAAgB,WAC3B,MAAO,QAOXi7B,EAAKrnF,UAAUi5B,KAAO,SAAUknB,EAAS9qC,GACrCP,EAAO9U,UAAUi5B,KAAK16B,KAAKyC,KAAMm/C,EAAS9qC,GACtCA,GACA,IAAUlQ,WAAWnE,KAAKqU,QAASA,IAM3CgyE,EAAKrnF,UAAUmwD,YAAc,WACzBnvD,KAAKmd,QACAnd,KAAKm/C,QAAQ8G,aAGlBjmD,KAAKy5B,UAKT4sD,EAAKrnF,UAAUy6B,OAAS,WAChBz5B,KAAKqU,QAAQkyE,sBACbvmF,KAAKqU,QAAQkyE,qBAAqBvmF,KAAKm/C,QAAQ8G,aAEnDjmD,KAAKwmF,uBAETH,EAAKrnF,UAAUwnF,oBAAsB,aAKrCH,EAAKrnF,UAAUme,MAAQ,WACnBnd,KAAK02B,KAAKpL,UAAY,IAEnB+6D,EAxDc,CAyDvB,KC3EE,GAAwC,WACxC,IAAI3zE,EAAgB,SAAUhV,EAAG0I,GAI7B,OAHAsM,EAAgB5U,OAAOyV,gBAClB,CAAEC,UAAW,cAAgBvJ,OAAS,SAAUvM,EAAG0I,GAAK1I,EAAE8V,UAAYpN,IACvE,SAAU1I,EAAG0I,GAAK,IAAK,IAAIlH,KAAKkH,EAAOA,EAAEnH,eAAeC,KAAIxB,EAAEwB,GAAKkH,EAAElH,MACpDxB,EAAG0I,IAE5B,OAAO,SAAU1I,EAAG0I,GAEhB,SAASqN,IAAOzT,KAAK0T,YAAchW,EADnCgV,EAAchV,EAAG0I,GAEjB1I,EAAEsB,UAAkB,OAANoH,EAAatI,OAAOY,OAAO0H,IAAMqN,EAAGzU,UAAYoH,EAAEpH,UAAW,IAAIyU,IAV3C,GAaxCE,GAAsC,WAStC,OARAA,GAAW7V,OAAO0L,QAAU,SAASlL,GACjC,IAAK,IAAIa,EAAG/B,EAAI,EAAGyB,EAAI8H,UAAUzF,OAAQ9D,EAAIyB,EAAGzB,IAE5C,IAAK,IAAI8B,KADTC,EAAIwH,UAAUvJ,GACOU,OAAOkB,UAAUC,eAAe1B,KAAK4B,EAAGD,KACzDZ,EAAEY,GAAKC,EAAED,IAEjB,OAAOZ,IAEKsV,MAAM5T,KAAM2G,YAO5B,GAAgC,SAAUmN,GAM1C,SAAS2yE,EAAe/vD,GACpB,IAAIl1B,EAAQsS,EAAOvW,KAAKyC,KAAM02B,IAAS12B;6CAIvC;OAFAwB,EAAM6S,QAAU,CAAEqyE,aAAa,GAC/BllF,EAAM8tD,MAAQ,IAAYpC,OACnB1rD,EA8LX,OAxMA,GAAUilF,EAAgB3yE,GAY1B2yE,EAAeznF,UAAUosD,cAAgB,WACrC,MAAO,YAOXq7B,EAAeznF,UAAUi5B,KAAO,SAAUknB,EAAS9qC,GAC/C,IAAI7S,EAAQxB,KACZ8T,EAAO9U,UAAUi5B,KAAK16B,KAAKyC,KAAMm/C,EAAS9qC,GAC1C,IAAIsyE,EAAchzE,GAAS,GAAIU,EAAS,CAAEqiB,KAAM12B,KAAK02B,KAAMC,UAAWwoB,EAAQ8G,cAC9EjmD,KAAKqU,QAAU,IAAU7K,OAAOxJ,KAAKqU,QAASA,GAC9CsyE,EAAYpuD,iBAAmB,SAAUnJ,GAAM,OAAO5tB,EAAMolF,sBAAsBx3D,IAClFu3D,EAAYjuD,cAAgB,SAAUtJ,GAAM,OAAO5tB,EAAMqlF,mBAAmBz3D,IACxEpvB,KAAKm/C,QAAQxjB,aACbgrD,EAAY3vD,OAAS2vD,EAAY3vD,QAAU,CACvCC,iBAAiB,EACjBC,WAAY,MAEhByvD,EAAY3vD,OAAOE,WAAal3B,KAAKm/C,QAAQ8B,cACxCgE,mBAAmBjlD,KAAKm/C,UAEjCn/C,KAAKu5B,UACLv5B,KAAKs1B,KAAO,IAAI,IAASqxD,GACrB3mF,KAAKqU,QAAQqyE,aACb1mF,KAAKyxE,uBAGbgV,EAAeznF,UAAUmwD,YAAc,WACnCnvD,KAAKmd,QACLnd,KAAKy5B,UAETgtD,EAAeznF,UAAUy6B,OAAS,WAC9Bz5B,KAAKqzE,qBACLrzE,KAAKs1B,KAAK4D,WAEdutD,EAAeznF,UAAUyyE,oBAAsB,WAC3C,IAAIjwE,EAAQxB,KACRyuC,EAAQzuC,KAAKqyC,WACjBryC,KAAKkyE,qBAAuBzjC,EAAM+P,oBAAmB,SAAUx6B,GAE3D,IAAIy3C,EAAQz3C,EAAM3jB,MACbo7D,GAAUA,EAAMpnB,MAAQ,IAAgBE,SAAWknB,EAAMpnB,MAAQ,IAAgB1L,MAGlF3kB,EAAM3jB,KAAKqJ,QAAUlI,EACrBA,EAAM8zB,KAAK4D,UAGX13B,EAAM03B,eAIlButD,EAAeznF,UAAUuwD,YAAc,WACnCvvD,KAAKwxE,sBACDxxE,KAAKs1B,MACLt1B,KAAKs1B,KAAKiE,UACdv5B,KAAK02B,KAAKpL,UAAY,IAE1Bm7D,EAAeznF,UAAUwyE,oBAAsB,WACvCxxE,KAAKkyE,sBACOlyE,KAAKwgD,aAAanO,WACxBoM,sBAAsBz+C,KAAKkyE,uBAGzCuU,EAAeznF,UAAUq0E,mBAAqB,WAC1C,IAAIh9D,EAAQrW,KAAKwgD,aAAapO,WAC9B,GAAK/7B,IAASA,EAAMiF,UAApB,CAEA,IAAI2kD,EAASjgE,KAAK02B,KAAK1rB,GACnBi1D,IACAA,GAAU,iBAEd,IACI5rD,EAAU,CAAEkI,MADGlG,EAAMkH,gBAAgB,CAAEwwB,QAAQ,EAAOC,QAAQ,EAAMC,QAAQ,IAC3CjjC,GAAIi1D,GACzC,IAAUz2D,OAAO6K,EAASrU,KAAKqU,QAAQglD,aACvCr5D,KAAKi0E,aAAe,IAAI,EAAU5/D,KAEtCoyE,EAAeznF,UAAUozC,SAAW,WAChC,OAAOpyC,KAAKm/C,QAAQ/M,YAExBq0C,EAAeznF,UAAUqzC,SAAW,WAChC,OAAOryC,KAAKm/C,QAAQ9M,YAExBo0C,EAAeznF,UAAUme,MAAQ,WACzBnd,KAAKs1B,MACLt1B,KAAKs1B,KAAKnY,SAElBspE,EAAeznF,UAAU4nF,sBAAwB,SAAUx3D,GACvD,IAAI5tB,EAAQxB,KACZA,KAAKi0E,aAAapK,SAAS,CACvB3nC,OAAQ9S,EAAGR,YAAYnlB,OACvBmgE,YAAa,KACbG,qBAAsB,SAAU1pE,EAAMkc,GAClC,IAAIwzD,EAAS1vE,EAAK2K,GAElB,OADAxJ,EAAMmwE,aAAa5B,IACZ,MAInB0W,EAAeznF,UAAU6nF,mBAAqB,SAAUz3D,GACpD,IAAIqf,EAAQzuC,KAAKqyC,WACblzB,EAAW,IAAUhU,kBAAkBsjC,EAAMnV,aAAclK,EAAGgK,UAC9Dja,GAAY,IACZsvB,EAAMgO,WAAWt9B,EAAUiQ,EAAGlQ,UAC9BuvB,EAAM2F,iBAAiB,CACnBC,KAAM,IAAgBE,QACtBC,OAAQ,IAAkB7L,IAC1Bj/B,OAAQ1J,SAIpBymF,EAAeznF,UAAU2yE,aAAe,SAAU91D,GAC9C,IAAIra,EAAQxB,KACRqW,EAAQrW,KAAKwgD,aAAapO,WAC1B3D,EAAQzuC,KAAKwgD,aAAanO,WA2B9B,GAAKryC,KAAKwgD,aAAanO,WAGvB,OAAOryC,KAAK47C,UA7BY,SAAUm0B,GAC9B,IAAI/zD,EAAY3F,EAAMuF,iBAAiBm0D,GACvC,IAAK/zD,EACD,OAAO,KAEX,IAAKA,EAAU8vB,aAAc,CACzB,IAAI9vB,EAAU7D,WAQV,OAAO,KALP,GAFA43D,EAAS/zD,EAAU7D,aACnB6D,EAAY3F,EAAMuF,iBAAiBm0D,MAChB/zD,EAAU8vB,aACzB,OAAO,KAMnB,IAAIlpB,EAAS6rB,EAAM0L,eAQnB,OAPAv3B,EAAO5M,QAAUxU,EAAMgrE,wBAAwBxwD,GAC/C4G,EAAO4wB,QAAU,IAAc3jB,KAC/BjN,EAAO6wB,WAAa,EACpB7wB,EAAOxK,KAAK2B,IAAM,IAAQ41B,gBAE1B/sB,EAAOxK,KAAK2H,SAASgwD,GAAQ,GAC7BntD,EAAO7B,OAAO7D,OAAOlB,EAAU+E,QACxB6B,EAKW8wD,CAAkB73D,KAE5C4qE,EAAeznF,UAAUwtE,wBAA0B,SAAUj1D,GACzD,IAAIvP,EAAShI,KAAKqU,QAAQ+5D,oBAAsBpuE,KAAKqU,QAAQ6kD,kBAE7D,OADYl5D,KAAKwgD,aAAapO,WACjBr0B,iBAAiBxG,EAAMvP,IAExCy+E,EAAeznF,UAAU48C,UAAY,SAAUh5B,GAC3C,IAAI6rB,EAAQzuC,KAAKwgD,aAAanO,WAC9B,GAAK5D,IAGL7rB,EAAS5iB,KAAK4zE,YAAYhxD,IAgB1B,OAZAA,EAAS6rB,EAAMmN,UAAU,CACrB5lC,QAAS4M,EAAO5M,QAChB+lC,YAAan5B,EAAOxK,KAAK/Z,MACzBm1C,QAAS5wB,EAAO4wB,QAChBC,UAAW7wB,EAAO6wB,YAEtBhF,EAAM2F,iBAAiB,CACnBC,KAAM,IAAgBE,QACtBC,OAAQ,IAAkBwoB,IAC1BtoB,QAAS9xB,EACTlZ,OAAQ1J,OAEL4iB,GAEX6jE,EAAeznF,UAAU40E,YAAc,SAAU/0D,GAI7C,IAHA,IACIY,EADQzf,KAAKwgD,aAAanO,WACV/Y,aAChBi+C,EAAUniE,KAAKC,UAAUwJ,EAAIzG,KAAKs6B,cAC7Bt1C,EAAI,EAAGA,EAAIqiB,EAAQve,OAAQ9D,IAAK,CAErC,GADegY,KAAKC,UAAUoK,EAAQriB,GAAGgb,KAAKs6B,gBAC7B6kC,EACb,OAAO,KAGf,OAAO14D,GAEJ4nE,EAzMwB,CA0MjC,ICvOE,GAAwC,WACxC,IAAI/zE,EAAgB,SAAUhV,EAAG0I,GAI7B,OAHAsM,EAAgB5U,OAAOyV,gBAClB,CAAEC,UAAW,cAAgBvJ,OAAS,SAAUvM,EAAG0I,GAAK1I,EAAE8V,UAAYpN,IACvE,SAAU1I,EAAG0I,GAAK,IAAK,IAAIlH,KAAKkH,EAAOA,EAAEnH,eAAeC,KAAIxB,EAAEwB,GAAKkH,EAAElH,MACpDxB,EAAG0I,IAE5B,OAAO,SAAU1I,EAAG0I,GAEhB,SAASqN,IAAOzT,KAAK0T,YAAchW,EADnCgV,EAAchV,EAAG0I,GAEjB1I,EAAEsB,UAAkB,OAANoH,EAAatI,OAAOY,OAAO0H,IAAMqN,EAAGzU,UAAYoH,EAAEpH,UAAW,IAAIyU,IAV3C,GAkBxC,GAAgC,SAAUK,GAM1C,SAASgzE,EAAepwD,GACpB,IAAIl1B,EAAQsS,EAAOvW,KAAKyC,KAAM02B,IAAS12B,KAOvC,OANAwB,EAAM44D,MAAQ1jC,EACdl1B,EAAM8tD,MAAQ,IAAYlB,UACE,aAAxB5sD,EAAM44D,MAAM5uC,UACZhqB,EAAM44D,MAAM9uC,UAAY,2CACxB9pB,EAAM44D,MAAQ54D,EAAM44D,MAAMlzB,cAAc,QAErC1lC,EAuBX,OApCA,GAAUslF,EAAgBhzE,GAe1BgzE,EAAe9nF,UAAUosD,cAAgB,WACrC,MAAO,kBAKX07B,EAAe9nF,UAAUmwD,YAAc,WACnCnvD,KAAKmd,QACLnd,KAAKy5B,UAETqtD,EAAe9nF,UAAUy6B,OAAS,WAC9Bz5B,KAAKo6D,MAAM4E,YAAch/D,KAAKm/C,QAAQsN,gBAAkBzsD,KAAKm/C,QAAQsN,gBAAkB,GACvF,IAAIs6B,EAAgB/mF,KAAKo6D,MAAM9uC,UAAUzlB,QAAQ,QAAS,UAAUA,QAAQ,MAAO,gBACnF7F,KAAKo6D,MAAM9uC,UAAYy7D,GAE3BD,EAAe9nF,UAAUuwD,YAAc,WACnCvvD,KAAKmd,SAET2pE,EAAe9nF,UAAUme,MAAQ,WAC7Bnd,KAAKo6D,MAAM9uC,UAAY,IAEpBw7D,EArCwB,CAsCjC,KCxDE,GAAwC,WACxC,IAAIp0E,EAAgB,SAAUhV,EAAG0I,GAI7B,OAHAsM,EAAgB5U,OAAOyV,gBAClB,CAAEC,UAAW,cAAgBvJ,OAAS,SAAUvM,EAAG0I,GAAK1I,EAAE8V,UAAYpN,IACvE,SAAU1I,EAAG0I,GAAK,IAAK,IAAIlH,KAAKkH,EAAOA,EAAEnH,eAAeC,KAAIxB,EAAEwB,GAAKkH,EAAElH,MACpDxB,EAAG0I,IAE5B,OAAO,SAAU1I,EAAG0I,GAEhB,SAASqN,IAAOzT,KAAK0T,YAAchW,EADnCgV,EAAchV,EAAG0I,GAEjB1I,EAAEsB,UAAkB,OAANoH,EAAatI,OAAOY,OAAO0H,IAAMqN,EAAGzU,UAAYoH,EAAEpH,UAAW,IAAIyU,IAV3C,GAiBxC,GAA+B,SAAUK,GAMzC,SAASkzE,EAActwD,GACnB,IAAIl1B,EAAQsS,EAAOvW,KAAKyC,KAAM02B,IAAS12B,KAIvC,OAHAwB,EAAM6jB,QAAUqR,EAChBl1B,EAAM6jB,QAAQO,MAAMC,QAAU,OAC9BrkB,EAAM8tD,MAAQ,IAAY3mB,IACnBnnC,EAiBX,OA3BA,GAAUwlF,EAAelzE,GAYzBkzE,EAAchoF,UAAUosD,cAAgB,WACpC,MAAO,oBAKX47B,EAAchoF,UAAUowD,mBAAqB,WACzCpvD,KAAKqlB,QAAQO,MAAMC,QAAU,IAKjCmhE,EAAchoF,UAAUqwD,iBAAmB,WACvCrvD,KAAKqlB,QAAQO,MAAMC,QAAU,QAE1BmhE,EA5BuB,CA6BhC,KC9CE,GAAwC,WACxC,IAAIt0E,EAAgB,SAAUhV,EAAG0I,GAI7B,OAHAsM,EAAgB5U,OAAOyV,gBAClB,CAAEC,UAAW,cAAgBvJ,OAAS,SAAUvM,EAAG0I,GAAK1I,EAAE8V,UAAYpN,IACvE,SAAU1I,EAAG0I,GAAK,IAAK,IAAIlH,KAAKkH,EAAOA,EAAEnH,eAAeC,KAAIxB,EAAEwB,GAAKkH,EAAElH,MACpDxB,EAAG0I,IAE5B,OAAO,SAAU1I,EAAG0I,GAEhB,SAASqN,IAAOzT,KAAK0T,YAAchW,EADnCgV,EAAchV,EAAG0I,GAEjB1I,EAAEsB,UAAkB,OAANoH,EAAatI,OAAOY,OAAO0H,IAAMqN,EAAGzU,UAAYoH,EAAEpH,UAAW,IAAIyU,IAV3C,GAmBxC,GAAuC,SAAUK,GAEjD,SAASmzE,EAAsBvwD,GAC3B,IAAIl1B,EAAQsS,EAAOvW,KAAKyC,KAAM02B,IAAS12B,KAOvC,OANAwB,EAAM0lF,aAAe,WAAc,OAAO1lF,EAAM2lF,cAChD3lF,EAAMu3D,WAAa,KACnBv3D,EAAMg4D,WAAa,KACnBh4D,EAAM4lF,QAAU,KAChB5lF,EAAM4xB,UAAY,IAClB5xB,EAAM8tD,MAAQ,IAAYz/B,KACnBruB,EAwHX,OAjIA,GAAUylF,EAAuBnzE,GAWjCmzE,EAAsBjoF,UAAUosD,cAAgB,WAC5C,MAAO,mBAEX67B,EAAsBjoF,UAAUi5B,KAAO,SAAUknB,EAAS9qC,GACtDP,EAAO9U,UAAUi5B,KAAK16B,KAAKyC,KAAMm/C,EAAS9qC,GAC1CrU,KAAKqU,QAAUA,EACfrU,KAAKk5B,UACLl5B,KAAK02B,KAAK5L,iBAAiB,QAAS9qB,KAAKknF,eAE7CD,EAAsBjoF,UAAUuwD,YAAc,WAC1CvvD,KAAK02B,KAAK1L,oBAAoB,QAAShrB,KAAKknF,eAEhDD,EAAsBjoF,UAAUmoF,WAAa,WACzC,IAAI3lF,EAAQxB,KACRqnF,EAAgBrnF,KAAKm/C,QAAQ8B,cAAc4gC,mBAC3CpzC,EAAQzuC,KAAKm/C,QAAQ9M,WACrBh8B,EAAQrW,KAAKm/C,QAAQ/M,WACrBk1C,EAAa,YAAM,OAClBn9D,SAASnqB,KAAKozB,UAAY,qBAC1B/J,gBAAgBrpB,KAAKunF,yBACrBl+D,gBAAgBrpB,KAAK2gF,yBACrB70D,QACDkY,EAAK3tB,EAAM63B,oBAAoB,CAC/BljC,GAAI,qBACJgL,QAAS,cACThO,OAAQ,kCACR8iC,WAAY,EACZzyB,KAAM,IAAS2pE,aACf/3C,aAAc,CAAC,IAASvhC,OAAQ,IAASqsB,KAAM,IAAS9rB,MAAO,IAASF,MAAO,IAASC,MAAO,IAASF,QAE5Gk7B,EAAG+G,eAAehjC,SAAW,IAASW,OACtCs7B,EAAG+G,eAAe1yB,KAAO,IAAS2pE,aAClC3rE,EAAM8H,oBAAmB,SAAU5G,GAC/B,IAAIiwE,EAAQjwE,EAAK60B,UAAU9gC,QAAQ04B,EAAGh5B,IAClCw8E,EAAQ,GACR,IAAUh8E,cAAc+L,EAAK60B,UAAWo7C,EAAO,KAEpD,MACHxnF,KAAKonF,QAAU,IAAI,IAAM/wE,EAAO,KAAM,CAClCN,OAAQ04B,IAEZ,IAAI2L,EAAMp6C,KAAKm/C,QAAQ9M,WAAWiI,gBAClC,GAAIF,EAAIl5C,OAAQ,CACZ,IAAI8Q,EAAKooC,EAAI,GACbp6C,KAAKonF,QAAQhxE,aAAapE,EAAG2gC,cAEjC00C,EAAc9lF,KAAK,CACfioB,MAAO,oBACP5c,KAAM06E,EACNnhD,YAAY,EACZF,UAAU,EACVQ,WAAY,WACR,IAAIghD,EAAiBH,EAAWnvD,uBAAuB32B,EAAM4xB,UAAY,oBAAoB,GAC7F5xB,EAAMu3D,WAAa,IAAI,EAAW0uB,EAAgBjmF,EAAM4lF,SACxD5lF,EAAMu3D,WAAW9gC,KAAKz2B,EAAM29C,QAAS39C,EAAM6S,QAAQ0kD,YACnD,IAAI2uB,EAAiBJ,EAAWnvD,uBAAuB32B,EAAM4xB,UAAY,oBAAoB,GAC7F5xB,EAAMg4D,WAAa,IAAI,GAAWkuB,EAAgBlmF,EAAM4lF,SACxD5lF,EAAMg4D,WAAWvhC,KAAKz2B,EAAM29C,QAAS39C,EAAM6S,QAAQmlD,YACnDh4D,EAAMu3D,WAAW7/B,UACjB13B,EAAMg4D,WAAWtgC,WAErBkN,SAAU,WACN,OAAO5kC,EAAMmmF,gBAEjBvgD,UAAW,WACP5lC,EAAMomF,oBAIlBX,EAAsBjoF,UAAU2hF,sBAAwB,WACpD,IAAIn/E,EAAQxB,KACZ,OAAO,YAAM,OACRmqB,SAASnqB,KAAKozB,UAAY,qBAC1BnK,SAAS,OAAO,SAAU7iB,GAAK,OAAOA,EACtC+jB,SAAS3oB,EAAM4xB,UAAY,0BAC3BnK,SAAS,OAAO,SAAU7iB,GAAK,OAAOA,EACtC+jB,SAAS3oB,EAAM4xB,UAAY,uBAC3BtH,SAETm7D,EAAsBjoF,UAAUuoF,sBAAwB,WACpD,IAAI/lF,EAAQxB,KACZ,OAAO,YAAM,OACRmqB,SAASnqB,KAAKozB,UAAY,qBAC1BnK,SAAS,OAAO,SAAU7iB,GAAK,OAAOA,EACtC+jB,SAAS3oB,EAAM4xB,UAAY,0BAC3BnK,SAAS,OAAO,SAAU7iB,GAAK,OAAOA,EACtC+jB,SAAS3oB,EAAM4xB,UAAY,uBAC3BtH,SAETm7D,EAAsBjoF,UAAU2oF,aAAe,WAC3C,GAAI3nF,KAAKonF,QAAQ/tC,YAAY,CACzBE,kBAAkB,IAClB,CACA,IAAIa,EAAMp6C,KAAKm/C,QAAQ9M,WAAWiI,gBAClC,GAAIF,EAAIl5C,OACJk5C,EAAI,GAAGhkC,aAAapW,KAAKonF,QAAQz0C,cACjC3yC,KAAKm/C,QAAQ9M,WAAW+B,wBAGxB,IAAKp0C,KAAKonF,QAAQ9rE,UACLtb,KAAKm/C,QAAQ9M,WAAWgI,eAC9BjkC,aAAapW,KAAKonF,QAAQz0C,cAC7B3yC,KAAKm/C,QAAQ9M,WAAW+B,mBAGhC,OAAO,EAEX,OAAO,GAEX6yC,EAAsBjoF,UAAU4oF,cAAgB,WAChC5nF,KAAKm/C,QAAQ/M,WACnBjE,eAAe,sBAAsB,GAC3CnuC,KAAKonF,QAAU,KACfpnF,KAAK+4D,YAAc/4D,KAAK+4D,WAAWx/B,UACnCv5B,KAAK+4D,WAAa,KAClB/4D,KAAKw5D,YAAcx5D,KAAKw5D,WAAWjgC,UACnCv5B,KAAKw5D,WAAa,MAEfytB,EAlI+B,CAmIxC,MpBrJF,SAAWjM,GACPA,EAAoB,SAAI,YACxBA,EAAiB,MAAI,QACrBA,EAAsB,WAAI,cAH9B,CAIGA,IAAcA,EAAY,KqBD7B,ICHW6M,GDGP,GAAgC,WAChC,SAASC,EAAe1tB,EAAO/lD,GAC3B,IAAI7S,EAAQxB,KACZA,KAAKo6D,MAAQA,EACbp6D,KAAKwpB,MAAQ,IAAK/iB,QAAQ,SAAU,qBACpCzG,KAAKozB,UAAY,aACjBpzB,KAAK+nF,YAAc,IAAKthF,QAAQ,SAAU,mBAC1CzG,KAAKqU,QAAU,GACfrU,KAAKgoF,gBAAiB,EACtBhoF,KAAKioF,wBAA0B,WAqD3B,IApDA,IAIIC,EACAC,EALAC,EAAe5mF,EAAM6mF,sBACrBpiC,EAAczkD,EAAMg/C,aAAayF,YACjCqiC,EAAgBriC,EAAY7jC,WAAa6jC,EAAY3jC,iBACrDimE,EAAK/mF,EAAMqgF,mBAGXj1E,EAAO,YAAM,OACZqc,SAAS,OAAO,SAAU7iB,GAAK,OAAO8hF,EAAU9hF,EAChDkU,KAAK,IAAK7T,QAAQ,SAAU,sBAC5BZ,QAAQ,eAAgB,KACxBA,QAAQ,cAAe,GAAKyiF,IAC5Bx8D,WACA7C,SAAS,OAAO,SAAU7iB,GAAK,OAAOA,EACtC+jB,SAAS,IAAc,kBACvBlB,SAAS,OAAO,SAAU7iB,GAAK,OAAO+hF,EAAc/hF,EACpD+jB,SAAS,QACTH,SAAS,QAAS,MAClB8B,cACAA,QACD6a,EAAM4hD,EAAGhnF,KAAK,CACdioB,MAAO,IAAK/iB,QAAQ,SAAU,oBAC9BmG,KAAMA,EACNs5B,YAAY,EACZC,YAAY,EACZF,UAAU,IAEVuiD,EAAgB,EAChB/kD,EAAU,SAAUvhB,GACpB0C,YAAW,WACPqhC,EAAYnlC,QAAQ,CAAEM,OAAQc,EAAMd,OAAQC,MAAO4kC,EAAY3lC,YAC1DtN,MAAK,SAAU8lB,GAEhB,IAAI2vD,GADJD,GAAiB1vD,EAAE53B,QACYonF,EAAgB,IAC/CH,EAAYviE,MAAMjZ,MAAQ87E,EAAW,IACrCP,EAAQ98D,UAAY,IAAK3kB,QAAQ,SAAU,sBACtCZ,QAAQ,eAAgB,GAAK2iF,GAC7B3iF,QAAQ,cAAe,GAAKyiF,GAChB,MAAbG,GAEA7jE,YAAW,WACP+hB,EAAIQ,SACJ3lC,EAAM03B,YACP,QAGN/lB,OAAM,SAAU3L,GACjBm/B,EAAIQ,SACJ3lC,EAAM03B,UACN13B,EAAMg/C,aAAa6L,WAAW7kD,QAEnC,KAEE3G,EAAK,EAAG6nF,EAAiBN,EAAcvnF,EAAK6nF,EAAexnF,OAAQL,IAAM,CAE9E4iC,EADYilD,EAAe7nF,MAInC,IAAUsD,WAAWnE,KAAKqU,QAASA,GA8IvC,OA5IAyzE,EAAe9oF,UAAUi5B,KAAO,SAAUvB,GACtC12B,KAAK02B,KAAOA,EACZ12B,KAAK2oF,WAAa,YAAM,MAAO3oF,KAAK02B,MAAM5K,QAC1C9rB,KAAK4oF,kBAAoB,YAAM,MAAO5oF,KAAK02B,MAAM5M,OAAOgC,SAE5Dg8D,EAAe9oF,UAAU6pF,mBAAqB,WAC1C,IAAIrnF,EAAQxB,KACZ,OAAO,IAAIsV,SAAQ,SAAUC,GACzB,IAAIgzE,EAAK/mF,EAAMqgF,mBACX77C,EAAUxkC,EAAMsnF,sBACpBP,EAAGhnF,KAAK,CACJioB,MAAOhoB,EAAMumF,YACbn7E,KAAMo5B,EACNG,YAAY,EACZF,UAAU,EACVG,SAAU,WACN,IAAI2iD,EAAWvnF,EAAMwnF,uBAIrB,OAHID,GACAxzE,GAAQ,GAELwzE,GAEXzmD,SAAU,WACN/sB,GAAQ,UAKxBuyE,EAAe9oF,UAAU8pF,oBAAsB,WAC3C,IAAItnF,EAAQxB,KACZ,OAAO,YAAM,OACRmqB,SAAS,aACTlB,SAAS,OAAO,SAAU7iB,GAC3BA,EAAE+jB,SAAe,IAAa+mC,OACxB,8CACA,yCACN1vD,EAAMynF,iBAAiB7iF,EAAE0lB,YAExBA,SAETg8D,EAAe9oF,UAAUiqF,iBAAmB,SAAUlzE,GAClD,IAAIvU,EAAQxB,KACRkpF,EAAOnzE,EACP,IAAam7C,SACbg4B,EAAO,YAAM,MAAOnzE,GACfoU,SAAS,iBACT2B,SAET,YAAMo9D,GACDjgE,SAAS,SAAS,SAAU7iB,GAAK,OAAOA,EACxCmR,KAAK,MAAO,YACZmU,QAAQ,IAAKjlB,QAAQ,SAAU,oBAC/BwiB,SAAS,SAAS,SAAU7iB,GAAK,OAAOA,EACxC4E,GAAG,gBACHrN,KAAK,YACL2gB,KAAK,QACL/G,KAAK,QAAS/V,EAAMgoB,WAE7Bs+D,EAAe9oF,UAAUgqF,qBAAuB,WAC5C,IAAIG,EAAet8E,SAASq6B,cAAc,iBAC1C,OAAiC,GAA7BiiD,EAAa9qF,MAAM6C,SAEvBlB,KAAKwpB,MAAQ2/D,EAAa9qF,OACnB,IAEXypF,EAAe9oF,UAAU6iF,iBAAmB,WACxC,OAAO7hF,KAAKwgD,aACPS,cACA4gC,oBAETiG,EAAe9oF,UAAUoqF,WAAa,WAClC,IACInjC,EADUjmD,KAAKwgD,aACOyF,YAC1B,OAAQA,EAAY3jC,kBAAoB2jC,EAAY7jC,YAExD0lE,EAAe9oF,UAAUqqF,yBAA2B,SAAUr1E,GAC1D,IACIiyC,EADUjmD,KAAKwgD,aACOyF,YAC1BjmD,KAAK4oF,kBAAkBt9D,UAAYtX,GAAW,IAAKvN,QAAQ,SAAU,oBAChEZ,QAAQ,cAAe,GAAKogD,EAAY7jC,YACxCvc,QAAQ,eAAgB,GAAKogD,EAAY3jC,kBACzCzc,QAAQ,YAAa,wCAA0C7F,KAAKozB,UAAY,8BACrF,IAAI4c,EAAOhwC,KAAK4oF,kBAAkB1hD,cAAc,KAAOlnC,KAAKozB,UAAY,sBACpE4c,GACAA,EAAKllB,iBAAiB,QAAS9qB,KAAKioF,yBAExC,YAAMjoF,KAAK2oF,YAAY7+D,OACvB,YAAM9pB,KAAK4oF,mBAAmBh/D,QAElCk+D,EAAe9oF,UAAUsqF,yBAA2B,WAChD,YAAMtpF,KAAK4oF,mBAAmB9+D,OAC9B,YAAM9pB,KAAK2oF,YAAY/+D,QAE3Bk+D,EAAe9oF,UAAUwhD,WAAa,WAClC,OAAOxgD,KAAKo6D,MAAM5Z,cAEtBsnC,EAAe9oF,UAAU0zC,WAAa,WAClC,MAAO,CAAElpB,MAAOxpB,KAAKwpB,MAAOlL,KAAMte,KAAKupF,YAE3CzB,EAAe9oF,UAAUoX,aAAe,SAAU/V,GAC1CA,IACAL,KAAKwpB,MAAQnpB,EAAKmpB,QAG1Bs+D,EAAe9oF,UAAUk6B,QAAU,WAC/Bl5B,KAAKspF,2BACDtpF,KAAKopF,aACLppF,KAAKmvD,cAGLnvD,KAAKqpF,4BAGbvB,EAAe9oF,UAAUqpF,oBAAsB,WAC3C,IAAIpiC,EAAcjmD,KAAKwgD,aAAayF,YAChC3lC,EAAY2lC,EAAY3lC,UACxBkpE,EAAevjC,EAAYjkC,kBAC3BomE,EAAe,GACW,GAA1BoB,EAAa,GAAGpoE,QAChBgnE,EAAariF,KAAK,CAAEqb,OAAQ,IAEhC,IAAK,IAAIhkB,EAAI,EAAGA,EAAIosF,EAAatoF,OAAQ9D,IAAK,CAC1C,IAAIqsF,EAAaD,EAAapsF,GAAGgkB,OAASooE,EAAapsF,EAAI,GAAGgkB,OAASd,EACvE,GAAImpE,GAAcnpE,EAEd,IADA,IAAIopE,EAAeD,EAAanpE,EACvB6zC,EAAI,EAAGA,GAAKu1B,EAAcv1B,IAC/Bi0B,EAAariF,KAAK,CAAEqb,OAAQooE,EAAapsF,EAAI,GAAGgkB,OAAS+yC,EAAI7zC,IAIzE,IAAI0C,EAAYwmE,EAAaA,EAAatoF,OAAS,GAC/CyoF,EAAO1jC,EAAY7jC,WAAaY,EAAU5B,OAC9C,GAAIuoE,GAAQrpE,EAER,IADIopE,EAAeC,EAAOrpE,EACjB6zC,EAAI,EAAGA,GAAKu1B,EAAcv1B,IAC/Bi0B,EAAariF,KAAK,CAAEqb,OAAQ4B,EAAU5B,OAAS+yC,EAAI7zC,IAG3D,OAAO8nE,GAEJN,EAjNwB,GEJ/B,GAAwC,WACxC,IAAIp1E,EAAgB,SAAUhV,EAAG0I,GAI7B,OAHAsM,EAAgB5U,OAAOyV,gBAClB,CAAEC,UAAW,cAAgBvJ,OAAS,SAAUvM,EAAG0I,GAAK1I,EAAE8V,UAAYpN,IACvE,SAAU1I,EAAG0I,GAAK,IAAK,IAAIlH,KAAKkH,EAAOA,EAAEnH,eAAeC,KAAIxB,EAAEwB,GAAKkH,EAAElH,MACpDxB,EAAG0I,IAE5B,OAAO,SAAU1I,EAAG0I,GAEhB,SAASqN,IAAOzT,KAAK0T,YAAchW,EADnCgV,EAAchV,EAAG0I,GAEjB1I,EAAEsB,UAAkB,OAANoH,EAAatI,OAAOY,OAAO0H,IAAMqN,EAAGzU,UAAYoH,EAAEpH,UAAW,IAAIyU,IAV3C,GAoBxC,GAAmC,SAAUK,GAE7C,SAAS81E,IACL,IAAIpoF,EAAmB,OAAXsS,GAAmBA,EAAOF,MAAM5T,KAAM2G,YAAc3G,KAIhE,OAHAwB,EAAM8zB,KAAO,KACb9zB,EAAMgoB,MAAQ,IAAK/iB,QAAQ,SAAU,YAAa,cAClDjF,EAAMumF,YAAc,IAAKthF,QAAQ,SAAU,YAAa,YACjDjF,EAkMX,OAxMA,GAAUooF,EAAmB91E,GAQ7B81E,EAAkB5qF,UAAUi5B,KAAO,SAAUvB,GACzC5iB,EAAO9U,UAAUi5B,KAAK16B,KAAKyC,KAAM02B,GACnB12B,KAAKwgD,aACP7kB,aACR37B,KAAK0D,SAAW,IAAU8F,OAAOxJ,KAAK6pF,qBAAsB7pF,KAAK0D,WAErE1D,KAAK8pF,cAETF,EAAkB5qF,UAAU8qF,WAAa,WACjC9pF,KAAKs1B,MACLt1B,KAAKs1B,KAAKiE,UACd,IAAIllB,EAAUrU,KAAKo6D,MAAM/lD,SAAW,GAChCA,EAAQ01E,eACR/pF,KAAKs1B,KAAOjhB,EAAQ01E,aAAa/pF,KAAK2oF,WAAY3oF,KAAKupF,YAE1C,MAAbvpF,KAAKs1B,OACLt1B,KAAKs1B,KAAO,IAAI,GAAet1B,KAAK2oF,aAExCt0E,EAAQihB,KAAOjhB,EAAQihB,MAAQ,GAC/BjhB,EAAQihB,KAAKoxD,aAAc,EAC3BryE,EAAQihB,KAAK+B,YAAa,EAC1B,IAAI8nB,EAAUn/C,KAAKwgD,aACfrB,EAAQxjB,aACRtnB,EAAQihB,KAAK0B,OAASh3B,KAAK0D,UAE/B1D,KAAKs1B,KAAK2C,KAAKknB,EAAS9qC,EAAQihB,OAEpCs0D,EAAkB5qF,UAAUuqF,QAAU,WAClC,OAAOvO,EAAUgP,UAErBJ,EAAkB5qF,UAAUoqF,WAAa,WACrC,OAAO,GAEXQ,EAAkB5qF,UAAUiqF,iBAAmB,SAAUlzE,GACrDjC,EAAO9U,UAAUiqF,iBAAiB1rF,KAAKyC,KAAM+V,GAC7C,IAAIk0E,EAAO,IAAa/4B,OACpB/R,EAAUn/C,KAAKwgD,aACf98C,EAAW1D,KAAK0D,UAAY,GAChC,GAAIy7C,EAAQxjB,WAAY,CACpB,IAYIuuD,EAZAC,EAAgBF,EAAO,iBAAmB,cAW1C9uD,GATI8uD,EACO,YAAM,MAAOl0E,GACfoU,SAAS,iBACT2B,QAGE/V,GAGYiT,cAE3B,YAAMmS,GACDlS,SAAS,OAAO,SAAU7iB,GAAK,OAAOA,EACtC+jB,SAAS,oBACd,IAAIiS,EAAOp8B,KAAKoqF,iBAChB,YAAMjvD,GACDlS,SAAS,YAAY,SAAU7iB,GAAK,OAAOA,EAC3C6iB,SAAS,UAAU,SAAU7iB,GAAK,OAAOA,EACzCslB,QAAQ,IAAKjlB,QAAQ,SAAU,YAAa,mBAC5CwiB,SAAS,OAAO,SAAU7iB,GAAK,OAAO8jF,EAAc9jF,EACpD+jB,SAASggE,GACTr+D,cACAA,QACL,YAAMo+D,GACDjhE,SAAS,SAAS,SAAU7iB,GAAK,OAAOA,EACxC+jB,SAAS,YACTlB,SAAS,SAAS,SAAU7iB,GAC7BA,EACK4E,GAAG,4BACHsT,KAAK,YACN5a,EAASuzB,iBACT7wB,EAAEmR,KAAK,UAAW,OAErBmU,QAAQ,IAAM,IAAKjlB,QAAQ,SAAU,YAAa,qBAClDwiB,SAAS,OAAO,SAAU7iB,GAAK,OAAOA,EACtC+jB,SAAS,uBAiBd,IAhBA,IAAIsZ,EAAU,SAAU5kB,GACpB,IAAIwrE,EAAOztB,EAAOl5D,SAAS04B,KAAKvd,EAAI7T,IACpC,YAAMk/E,GACDjhE,SAAS,SAAS,SAAU7iB,GAAK,OAAOA,EACxC+jB,SAAS,YACTlB,SAAS,SAAS,SAAU7iB,GAC7BA,EACK/F,KAAK,QAASwe,EAAI7T,IAClBsT,KAAK,YACN+rE,EAAKhuD,eACLj2B,EAAEmR,KAAK,UAAW,OAErBmU,QAAQ,IAAM7M,EAAI7I,YAClB8V,SAEL8wC,EAAS58D,KACJa,EAAK,EAAGq/B,EAAS9D,EAAMv7B,EAAKq/B,EAAOh/B,OAAQL,IAAM,CAEtD4iC,EADUvD,EAAOr/B,OAK7B+oF,EAAkB5qF,UAAUsrF,eAAiB,WACzC,IAAIluD,EAAOp8B,KAAKoqF,iBACZG,EAAQvqF,KAAK0D,SAAS04B,MAAQ,GAClC,GAAIA,EAAKl7B,QAAUpD,OAAO4D,KAAK6oF,GAAOrpF,OAClC,OAAO,EACX,IAAK,IAAIL,EAAK,EAAG2pF,EAASpuD,EAAMv7B,EAAK2pF,EAAOtpF,OAAQL,IAAM,CAEtD,QAA6B,IAAlB0pF,EADDC,EAAO3pF,GACImK,IACjB,OAAO,EAEf,OAAO,GAEX4+E,EAAkB5qF,UAAU6qF,mBAAqB,WAC7C,IAMIY,EANAp0E,EAAQrW,KAAKwgD,aAAapO,WAC1B1uC,EAAW,CACXuzB,iBAAiB,EACjBmF,KAAM,IAENA,EAAOp8B,KAAKoqF,iBAYhB,OAVAhuD,EAAKzZ,SAAQ,SAAU9D,EAAKhT,GACxBnI,EAAS04B,KAAKvd,EAAI7T,IAAM,GACxB,IACIqM,EADOhB,EAAMuF,iBAAiBiD,EAAIzG,KAAK/Z,OACzBgZ,OACdozE,IAAepzE,IACf3T,EAAS04B,KAAKA,EAAKvwB,EAAQ,GAAGb,IAAIqxB,eAAgB,GAEtD34B,EAAS04B,KAAKvd,EAAI7T,IAAIqxB,eAAgB,EACtCouD,EAAapzE,KAEV3T,GAEXkmF,EAAkB5qF,UAAUorF,eAAiB,WACzC,IAAIhuD,EAAOp8B,KAAKwgD,aAAanO,WAAW/Y,aACnCta,QAAO,SAAUH,GAAO,OAAOA,EAAIuY,SAAWvY,EAAIzG,KAAK2B,MAAQ,IAAQ41B,mBAG5E,OAFIvT,EAAKl7B,QACLk7B,EAAKI,MACFJ,GAEXwtD,EAAkB5qF,UAAU0rF,aAAe,WACvC1qF,KAAK0D,SAAS04B,KAAOp8B,KAAK6pF,qBAAqBztD,KAC/Cp8B,KAAK8pF,aACL9pF,KAAK0yC,cAETk3C,EAAkB5qF,UAAUgqF,qBAAuB,WAC/C,IAAI7mF,EAAS2R,EAAO9U,UAAUgqF,qBAAqBzrF,KAAKyC,MACxD,GAAImC,EAAQ,CACRnC,KAAK0D,SAAW,CACZuzB,gBAAiBpqB,SAASqrB,eAAe,4BAA4B6kC,QACrE3gC,KAAM,IAGV,IADA,IACSv7B,EAAK,EAAG8pF,EADJ1gF,MAAM0V,KAAK9S,SAASuwB,iBAAiB,iBACdv8B,EAAK8pF,EAASzpF,OAAQL,IAAM,CAC5D,IAAIwrB,EAAQs+D,EAAS9pF,GACjB6hB,EAAQ2J,EAAM8S,aAAa,cAC/Bn/B,KAAK0D,SAAS04B,KAAK1Z,GAAS,CAAE2Z,cAAehQ,EAAM0wC,SAEvD/8D,KAAK8pF,aAET,OAAO3nF,GAEXynF,EAAkB5qF,UAAUmwD,YAAc,WACxBnvD,KAAKwgD,aACP7kB,YAAc37B,KAAKsqF,iBAC3BtqF,KAAK0qF,eAGJ1qF,KAAKs1B,MAEVt1B,KAAKs1B,KAAK4D,WAEd0wD,EAAkB5qF,UAAUu6B,QAAU,WAC9Bv5B,KAAKs1B,MACLt1B,KAAKs1B,KAAKiE,WAGlBqwD,EAAkB5qF,UAAU0zC,WAAa,WACrC,IAAIryC,EAAOyT,EAAO9U,UAAU0zC,WAAWn1C,KAAKyC,MAK5C,OAJIA,KAAK0D,WACLrD,EAAK+7B,KAAOp8B,KAAK0D,SAAS04B,KAC1B/7B,EAAK42B,gBAAkBj3B,KAAK0D,SAASuzB,iBAElC52B,GAEXupF,EAAkB5qF,UAAUoX,aAAe,SAAU/V,GACjDyT,EAAO9U,UAAUoX,aAAa7Y,KAAKyC,KAAMK,GACrCA,IACAL,KAAK0D,SAAW,CACZ04B,KAAM/7B,EAAK+7B,KACXnF,gBAAiB52B,EAAK42B,mBAI3B2yD,EAzM2B,CA0MpC,KD5NF,SAAW/B,GACPA,EAAUA,EAAkB,OAAI,GAAK,SACrCA,EAAUA,EAAqB,UAAI,GAAK,YACxCA,EAAUA,EAAe,IAAI,GAAK,MAClCA,EAAUA,EAAiB,MAAI,GAAK,QACpCA,EAAUA,EAAgB,KAAI,GAAK,OACnCA,EAAUA,EAAgB,KAAI,GAAK,OACnCA,EAAUA,EAAe,IAAI,IAAM,MACnCA,EAAUA,EAAiB,MAAI,IAAM,QACrCA,EAAUA,EAAiB,MAAI,IAAM,QACrCA,EAAUA,EAAuB,YAAI,IAAM,cAV/C,CAWGA,KAAcA,GAAY,KEb7B,ICmBI+C,GDnBA,GAAwC,WACxC,IAAIl4E,EAAgB,SAAUhV,EAAG0I,GAI7B,OAHAsM,EAAgB5U,OAAOyV,gBAClB,CAAEC,UAAW,cAAgBvJ,OAAS,SAAUvM,EAAG0I,GAAK1I,EAAE8V,UAAYpN,IACvE,SAAU1I,EAAG0I,GAAK,IAAK,IAAIlH,KAAKkH,EAAOA,EAAEnH,eAAeC,KAAIxB,EAAEwB,GAAKkH,EAAElH,MACpDxB,EAAG0I,IAE5B,OAAO,SAAU1I,EAAG0I,GAEhB,SAASqN,IAAOzT,KAAK0T,YAAchW,EADnCgV,EAAchV,EAAG0I,GAEjB1I,EAAEsB,UAAkB,OAANoH,EAAatI,OAAOY,OAAO0H,IAAMqN,EAAGzU,UAAYoH,EAAEpH,UAAW,IAAIyU,IAV3C,GAiBxC,GAA6B,SAAUK,GAOvC,SAAS+2E,EAAYn0D,GACjB,IAAIl1B,EAAQsS,EAAOvW,KAAKyC,KAAM02B,IAAS12B,KAevC,OAdAwB,EAAMspF,UAAYjD,GAAUkD,IAC5BvpF,EAAMwpF,oBAAsB,GAC5BxpF,EAAMm1B,UAAY,KAClBn1B,EAAMypF,sBAAwB,GAC9BzpF,EAAM0pF,qBAAuB,GAC7B1pF,EAAM2pF,aAAe,EACrB3pF,EAAM4pF,YAAc,GACpB5pF,EAAM6S,QAAU,CACZy2E,UAAWjD,GAAUkD,IACrBM,cAAc,EACdC,cAAc,GAElB9pF,EAAM6jB,QAAUqR,EAChBl1B,EAAM8tD,MAAQ,IAAYpC,OACnB1rD,EAuUX,OA7VA,GAAUqpF,EAAa/2E,GAwBvBhW,OAAOC,eAAe8sF,EAAY7rF,UAAW,YAAa,CACtDf,IAAK,WACD,MAAO,cAEXD,YAAY,EACZ0gB,cAAc,IAOlBmsE,EAAY7rF,UAAUi5B,KAAO,SAAUknB,EAAS9qC,GAC5CP,EAAO9U,UAAUi5B,KAAK16B,KAAKyC,KAAMm/C,EAAS9qC,GAC1CrU,KAAK22B,UAAYwoB,EAAQ8G,YACzBjmD,KAAKq6D,WAAWhmD,IAMpBw2E,EAAY7rF,UAAU06B,QAAU,WAC5B,IAAIv3B,EAA2B,MAAlBnC,KAAK22B,UAIlB,OAHIx0B,IACAA,EAASnC,KAAK22B,UAAUrU,iBAAmB,GAExCngB,GAMX0oF,EAAY7rF,UAAUusF,mBAAqB,WACvC,OAAOvrF,KAAKirF,sBAAsB/pF,OAAS,GAAKlB,KAAKkrF,qBAAqBhqF,OAAS,GAKvF2pF,EAAY7rF,UAAUmwD,YAAc,WAChCnvD,KAAKwrF,mBACLxrF,KAAKy5B,UAEToxD,EAAY7rF,UAAUq7D,WAAa,SAAUhmD,GAGzC,GAFA,IAAUlQ,WAAWnE,KAAKqU,QAASA,GACnCrU,KAAKgrF,oBAAsBhrF,KAAKyrF,yBACO,GAAnCzrF,KAAKgrF,oBAAoB9pF,OACzB,MAAM+S,MAAM,uDAEZI,EAAQy2E,WAAa9qF,KAAKgrF,oBAAoB1/E,QAAQ+I,EAAQy2E,YAAc,EAC5E9qF,KAAK8qF,UAAYz2E,EAAQy2E,UAGzB9qF,KAAK8qF,UAAY9qF,KAAKgrF,oBAAoB,IAGlDH,EAAY7rF,UAAU0sF,iBAAmB,SAAUC,GAC/C,OAAQA,GACJ,KAAK9D,GAAU+D,KACX,MAAO,aACX,KAAK/D,GAAUgE,IACX,MAAO,YACX,KAAKhE,GAAUiE,YACX,MAAO,oBACX,KAAKjE,GAAUz0C,OACX,MAAO,eACX,KAAKy0C,GAAUkE,MACX,MAAO,cACX,KAAKlE,GAAUmE,MACX,MAAO,cACX,KAAKnE,GAAUoE,MACX,MAAO,cACX,KAAKpE,GAAUqE,UACX,MAAO,kBACX,KAAKrE,GAAUsE,KACX,MAAO,aACX,QACI,MAAO,cAGnBtB,EAAY7rF,UAAUotF,eAAiB,SAAU1oF,GAC7C1D,KAAK8qF,UAAYpnF,EAAS4a,KAC1Bte,KAAKmrF,YAAcznF,EAASynF,YAC5BnrF,KAAKqsF,qBACLrsF,KAAKorF,YAAY,GAAK1nF,EAAS+xB,WAC/Bz1B,KAAKqsF,sBAKTxB,EAAY7rF,UAAUwsF,iBAAmB,WACrC,IAAIhqF,EAAQxB,KACZ,GAAIA,KAAK22B,UAAW,CAChB32B,KAAKirF,sBAAwB,GAC7BjrF,KAAKkrF,qBAAuB,GAE5B,IADA,IAAIoB,EAAStsF,KAAK22B,UAAUlX,QAAQwB,MAC3B7jB,EAAI,EAAGA,EAAIkvF,EAAQlvF,IAAK,CAC7B,IAAIwlB,EAAS5iB,KAAK22B,UAAUlX,QAAQxhB,IAAIb,GACpCo6D,EAAU50C,EAAOtE,KACjBiuE,EAAW3pE,EAAOvE,MAClBm5C,IAAY,IAAS9uD,OACrB1I,KAAKirF,sBAAsBllF,KAAK,CAAEmF,IAAK9N,EAAGihB,MAAOkuE,IAE5C,IAAUh/E,cAAciqD,IAC7Bx3D,KAAKkrF,qBAAqBnlF,KAAK,CAAEmF,IAAK9N,EAAGihB,MAAOkuE,IAexD,IAXyB,GAArBvsF,KAAKmrF,YACAnrF,KAAKirF,sBACLjsE,QAAO,SAAUvhB,GAAK,OAAOA,EAAEyN,KAAO1J,EAAM2pF,eAC5CjqF,SACDlB,KAAKmrF,aAAe,GAIxBnrF,KAAKmrF,YAAenrF,KAAKirF,sBAAsB/pF,OAAS,EAClDlB,KAAKirF,sBAAsB,GAAG//E,KAAO,EAE3ClL,KAAKorF,YAAYlqF,OAAQ,CACzB,IAAIsrF,EAAQxsF,KAAKkrF,qBAAqBtpF,KAAI,SAAUlE,GAAK,OAAOA,EAAEwN,OAClElL,KAAKorF,YAAcprF,KAAKorF,YAAYpsE,QAAO,SAAUuE,GAAK,OAAOipE,EAAMlhF,QAAQiY,IAAM,KAChFvjB,KAAKorF,YAAYlqF,SAClBlB,KAAKorF,YAAeprF,KAAKkrF,qBAAqBhqF,OAAS,EACjD,GAAGgc,OAAOld,KAAKkrF,qBAAqB,GAAGhgF,KACvC,SAIVlL,KAAKorF,YAAeprF,KAAKkrF,qBAAqBhqF,OAAS,EACjD,GAAGgc,OAAOld,KAAKkrF,qBAAqB,GAAGhgF,KACvC,GAEVlL,KAAKysF,cAGb5B,EAAY7rF,UAAUysF,uBAAyB,WAC3C,IAAIjqF,EAAQxB,KAIZ,OAHiBA,KAAKqU,QAAQ22E,oBACxBhrF,KAAKqU,QAAQ22E,oBACbltF,OAAO4D,KAAKmmF,IAAWjmF,KAAI,SAAUjD,GAAO,OAAOkpF,GAAUlpF,OACjDqgB,QAAO,SAAUV,GAAQ,OAAO9c,EAAMkrF,cAAcphF,QAAQgT,IAAS,MAE3FusE,EAAY7rF,UAAU2tF,oBAAsB,WACxC,OAAO3sF,KAAK8qF,WAEhBD,EAAY7rF,UAAUy6B,OAAS,WAC3B,IAAIj4B,EAAQxB,KAEZ,GADAA,KAAKmd,QACDnd,KAAK05B,WAAa15B,KAAKurF,sBACnBvrF,KAAKm/C,QAAQ8G,YAAY7jC,YACtBpiB,KAAKm/C,QAAQ8G,YAAY3jC,iBAAmB,CACnD,IAAIuX,EAAYhtB,SAASyY,cAAc,OACvC,YAAYuU,EAAW75B,KAAKozB,UAAY,WACxC,IAAIw5D,EAAU//E,SAASyY,cAAc,OAErC,GADA,YAAYsnE,EAAS5sF,KAAKozB,UAAY,SAClCpzB,KAAK6sF,UAAW,CAEhB,IADA,IAAIC,EAAoBjgF,SAASyY,cAAc,UACtCzkB,EAAK,EAAGqQ,EAAKlR,KAAKgrF,oBAAqBnqF,EAAKqQ,EAAGhQ,OAAQL,IAAM,CAClE,IAAI8qF,EAAKz6E,EAAGrQ,GACRksF,EAAOlgF,SAASyY,cAAc,UAClCynE,EAAK1uF,MAAQstF,EAAGtkF,WAChB0lF,EAAKzyE,KAAOta,KAAK0rF,iBAAiBC,GAClCmB,EAAkBrnE,YAAYsnE,GAElCD,EAAkBzuF,MAAQ2B,KAAK8qF,UAAUzjF,WACzCwyB,EAAUpU,YAAYqnE,GACtBA,EAAkBhiE,iBAAiB,UAAU,SAAUsE,GACnD,IAAI49D,EAAQ59D,EAAG3lB,OAAOpL,MACtBmD,EAAMspF,UAAYz7E,SAAS29E,GAC3BxrF,EAAM03B,aAEVl5B,KAAKitF,YAAcpgF,SAASyY,cAAc,OAC1C,YAAYtlB,KAAKitF,YAAajtF,KAAKozB,UAAY,aAC/C,YAAYpzB,KAAKitF,aACjBL,EAAQnnE,YAAYzlB,KAAKitF,aACzBjtF,KAAKktF,SAAWrgF,SAASyY,cAAc,OACvC,YAAYtlB,KAAKktF,SAAUltF,KAAKozB,UAAY,YAC5C,YAAYpzB,KAAKktF,UACjBN,EAAQnnE,YAAYzlB,KAAKktF,UACzBltF,KAAKmtF,kBACL,IAAIC,EAAmBvgF,SAASyY,cAAc,OAC9C,YAAY8nE,EAAkBptF,KAAKozB,UAAY,kBAC/Cg6D,EAAiB5jE,MAAQ,WACzBqQ,EAAUpU,YAAY2nE,GACtBA,EAAiBtiE,iBAAiB,SAAS,SAAUsE,GACjD5tB,EAAM6rF,oBAEVrtF,KAAKstF,UAAU,UAGfttF,KAAKutF,cAAcX,EAAS,iCAE3B5sF,KAAKqU,QAAQi3E,cACdtrF,KAAKqlB,QAAQI,YAAYoU,GAE7B75B,KAAKqlB,QAAQI,YAAYmnE,GACzB5sF,KAAKqlB,QAAQO,MAAMC,QAAU,QAG7B7lB,KAAKqlB,QAAQO,MAAMC,QAAU,QAGrCglE,EAAY7rF,UAAUuuF,cAAgB,SAAUX,EAAStyE,GACrD,IAAIquE,EAAa97E,SAASyY,cAAc,OACxC,YAAYqjE,EAAY3oF,KAAKozB,UAAY,YACzCu1D,EAAWv9D,UAAY9Q,EACvBsyE,EAAQnnE,YAAYkjE,IAKxBkC,EAAY7rF,UAAUme,MAAQ,WAC1Bnd,KAAKqlB,QAAQiG,UAAY,IAM7Bu/D,EAAY7rF,UAAUsuF,UAAY,SAAUE,GACxC,IAAIhsF,EAAQxB,KACZ,YAAYA,KAAKktF,UACbM,EAAQ,EACR5oE,YAAW,WAAc,OAAOpjB,EAAMisF,aAAeD,GAGrDxtF,KAAKytF,YAMb5C,EAAY7rF,UAAUmuF,gBAAkB,WACpC,IAAI3rF,EAAQxB,KACR0tF,EAAiB7gF,SAASyY,cAAc,OAC5CooE,EAAe1uB,YAAc,WAC7B,YAAY0uB,EAAgB1tF,KAAKozB,UAAY,oBAC7CpzB,KAAKitF,YAAYxnE,YAAYioE,GAE7B,IAAIC,EAAW9gF,SAASyY,cAAc,OACtC,YAAYqoE,EAAU3tF,KAAKozB,UAAY,oBACvCpzB,KAAKitF,YAAYxnE,YAAYkoE,GAC7B,IAAIC,EAA6B/gF,SAASyY,cAAc,QACxD,YAAYsoE,GACZA,EAA2B5uB,YAAc,eACzC2uB,EAASloE,YAAYmoE,GACrB,IAAIC,EAAsBhhF,SAASyY,cAAc,UACjD,YAAYuoE,GACZF,EAASloE,YAAYooE,GACrB,IAAK,IAAIhtF,EAAK,EAAGqQ,EAAKlR,KAAKirF,sBAAuBpqF,EAAKqQ,EAAGhQ,OAAQL,IAAM,CACpE,IAAIge,EAAM3N,EAAGrQ,IACTksF,EAAOlgF,SAASyY,cAAc,WAC7BjnB,MAAQwgB,EAAI3T,IAAI7D,WACrB0lF,EAAKzyE,KAAOuE,EAAIR,MAChBwvE,EAAoBpoE,YAAYsnE,GAEhC/sF,KAAKmrF,aAAe,IACpB0C,EAAoBxvF,MAAQ2B,KAAKmrF,YAAY9jF,YAEjDwmF,EAAoB/iE,iBAAiB,UAAU,SAAUsE,GACrD5tB,EAAM2pF,YAAc97E,SAAS+f,EAAG3lB,OAAOpL,OACvCmD,EAAM6qF,qBACN7qF,EAAM6rF,gBAAe,WACjB7rF,EAAM8rF,UAAU,WAIxB,IAAIQ,EAAUjhF,SAASyY,cAAc,OACrC,YAAYwoE,EAAS9tF,KAAKozB,UAAY,oBACtCpzB,KAAKitF,YAAYxnE,YAAYqoE,GAC7B,IAAIC,EAA4BlhF,SAASyY,cAAc,QACvD,YAAYyoE,GACZA,EAA0B/uB,YAAc,cACxC8uB,EAAQroE,YAAYsoE,GACpB,IAAIC,EAAqBnhF,SAASyY,cAAc,UAChD,YAAY0oE,GACZF,EAAQroE,YAAYuoE,GACpB,IAAK,IAAIzzE,EAAK,EAAGC,EAAKxa,KAAKkrF,qBAAsB3wE,EAAKC,EAAGtZ,OAAQqZ,IAAM,CACnE,IACIwyE,EADAluE,EAAMrE,EAAGD,IACTwyE,EAAOlgF,SAASyY,cAAc,WAC7BjnB,MAAQwgB,EAAI3T,IAAI7D,WACrB0lF,EAAKzyE,KAAOuE,EAAIR,MAChB2vE,EAAmBvoE,YAAYsnE,GAE/B/sF,KAAKorF,YAAYlqF,OAAS,GAAKlB,KAAKorF,YAAY,IAAM,IACtD4C,EAAmB3vF,MAAQ2B,KAAKorF,YAAY,GAAG/jF,YAEnD2mF,EAAmBljE,iBAAiB,UAAU,SAAUsE,GACpD5tB,EAAM4pF,YAAY,GAAK/7E,SAAS+f,EAAG3lB,OAAOpL,OAC1CmD,EAAM6qF,qBACN7qF,EAAM6rF,gBAAe,WACjB7rF,EAAM8rF,UAAU,YAI5BzC,EAAY7rF,UAAUivF,yBAA2B,WAC7C,OAAOjuF,KAAKirF,uBAEhBJ,EAAY7rF,UAAUkvF,wBAA0B,WAC5C,OAAOluF,KAAKkrF,sBAEhBL,EAAY7rF,UAAUmvF,oBAAsB,WACxC,OAAOnuF,KAAKmrF,aAEhBN,EAAY7rF,UAAUovF,mBAAqB,WACvC,OAAOpuF,KAAKorF,YAAY,IAM5BP,EAAY7rF,UAAUquF,eAAiB,SAAUtpE,GAC7C,IAAIiC,EACApgB,EACA,YAAU5F,KAAKktF,WACflnE,EAAQhmB,KAAKktF,SACbtnF,EAAS5F,KAAKitF,cAGdjnE,EAAQhmB,KAAKitF,YACbrnF,EAAS5F,KAAKktF,UAElB,YAAiBlnE,EAAOpgB,EAAQ,CAC5BsgB,SAAUnC,KAGX8mE,EA9VqB,CA+V9B,KEhXE,GAAwC,WACxC,IAAIn4E,EAAgB,SAAUhV,EAAG0I,GAI7B,OAHAsM,EAAgB5U,OAAOyV,gBAClB,CAAEC,UAAW,cAAgBvJ,OAAS,SAAUvM,EAAG0I,GAAK1I,EAAE8V,UAAYpN,IACvE,SAAU1I,EAAG0I,GAAK,IAAK,IAAIlH,KAAKkH,EAAOA,EAAEnH,eAAeC,KAAIxB,EAAEwB,GAAKkH,EAAElH,MACpDxB,EAAG0I,IAE5B,OAAO,SAAU1I,EAAG0I,GAEhB,SAASqN,IAAOzT,KAAK0T,YAAchW,EADnCgV,EAAchV,EAAG0I,GAEjB1I,EAAEsB,UAAkB,OAANoH,EAAatI,OAAOY,OAAO0H,IAAMqN,EAAGzU,UAAYoH,EAAEpH,UAAW,IAAIyU,IAV3C,GAgBxC,GAA+B,SAAUK,GAEzC,SAASu6E,IACL,IAAI7sF,EAAmB,OAAXsS,GAAmBA,EAAOF,MAAM5T,KAAM2G,YAAc3G,KAoBhE,OAnBAwB,EAAMo/D,OAAS,CACX,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,WAEJp/D,EAAM8sF,YAAc,GACpB9sF,EAAM+sF,aAAe,GACrB/sF,EAAMkrF,cAAgB,CAClB7E,GAAUz0C,OACVy0C,GAAUgE,IACVhE,GAAUsE,KACVtE,GAAUkD,KAEPvpF,EAyGX,OA/HA,GAAU6sF,EAAev6E,GAwBzBu6E,EAAcrvF,UAAUosD,cAAgB,WACpC,MAAO,gBAEXijC,EAAcG,WAAa,WACvB,MAAwB,oBAAVC,OAElBJ,EAAcrvF,UAAU6tF,QAAU,WAC9B,OAAOwB,EAAcG,cAEzBH,EAAcrvF,UAAUytF,UAAY,WAC5B4B,EAAcG,cAAgBxuF,KAAKmrF,aAAe,GAC/CnrF,KAAKorF,aAAeprF,KAAKorF,YAAYlqF,OAAS,GACjDlB,KAAKqsF,sBAGbgC,EAAcrvF,UAAUyuF,SAAW,WAC/B,GAAIY,EAAcG,cAAgBxuF,KAAK22B,WAChC32B,KAAK22B,UAAUrU,iBAAmB,EAAG,CACxC,IAAIosE,EAAS1uF,KAAK2uF,iBAEdC,EADc5uF,KAAK6uF,eAAe7uF,KAAKktF,UACZ1sC,WAAW,MAC1C,IAAIiuC,MAAMG,EAAcF,KAGhCL,EAAcrvF,UAAUqtF,mBAAqB,WACzC,GAAIrsF,KAAK22B,UAAW,CAChB32B,KAAKsuF,YAAc,GACnBtuF,KAAKuuF,aAAe,GAEpB,IADA,IAAI9tE,EAAOzgB,KAAK22B,UAAUpU,gBACjBnlB,EAAI,EAAGA,EAAIqjB,EAAKvf,OAAQ9D,IAC7B4C,KAAKsuF,YAAYvoF,KAAK0a,EAAKrjB,GAAGwiB,SAAS5f,KAAKmrF,cAC5CnrF,KAAKuuF,aAAaxoF,KAAK0a,EAAKrjB,GAAGwiB,SAAS5f,KAAKorF,YAAY,OAIrEiD,EAAcrvF,UAAU6vF,eAAiB,SAAUn4D,GAC/C,IAEIo4D,EAAWp4D,EAAK5pB,qBAAqB,UAOzC,OANIgiF,GAAYA,EAAS5tF,OAAS,EACrB4tF,EAAS,GAGT,YAAWp4D,EAAM,WAIlC23D,EAAcrvF,UAAU2vF,eAAiB,WACrC,IAIII,EAJAC,EAAa,GACbC,EAAcjvF,KAAK22B,UAAUlX,QAAQxhB,IAAI+B,KAAKorF,YAAY,IAAI/sE,MAC9D6wE,GAAgB,EAChBC,GAAY,EAEhB,GAAInvF,KAAK8qF,WAAajD,GAAUkD,KAAO/qF,KAAK8qF,WAAajD,GAAUgE,KAAO7rF,KAAK8qF,WAAajD,GAAUz0C,OAAQ,CAC1G87C,GAAgB,EAChB,IAAK,IAAI9xF,EAAI,EAAGA,EAAI4C,KAAKsuF,YAAYptF,OAAQ9D,IACzC4xF,EAAWjpF,KAAK/F,KAAK4gE,OAAOxjE,EAAI4C,KAAK4gE,OAAO1/D,cAIhD8tF,EAAa,CAAChvF,KAAK4gE,OAAO,IAM9B,OAJI5gE,KAAK8qF,WAAajD,GAAUsE,OAC5BgD,GAAY,EACZJ,EAAc/uF,KAAK4gE,OAAO,IAEvB,CACHtiD,KAAMte,KAAKovF,eACX/uF,KAAM,CACFgvF,SAAU,CAAC,CACHhvF,KAAML,KAAKuuF,aACXrnB,gBAAiB8nB,EACjBD,YAAaA,EACb1wE,MAAO4wE,EACPK,KAAMH,IAEdI,OAAQvvF,KAAKsuF,aAEjBj6E,QAAS,CACLm7E,OAAQ,CACJ3pE,QAASqpE,GAEb1lE,MAAO,CACH3D,SAAS,EACTvL,KAAM20E,MAKtBZ,EAAcrvF,UAAUowF,aAAe,WACnC,OAAQpvF,KAAK8qF,WACT,KAAKjD,GAAUz0C,OACX,MAAO,MACX,KAAKy0C,GAAUgE,IACX,MAAO,gBACX,KAAKhE,GAAUsE,KACX,MAAO,OACX,KAAKtE,GAAUkD,IAEf,QACI,MAAO,QAGZsD,EAhIuB,CAiIhC,ICjJE,GAAwC,WACxC,IAAI37E,EAAgB,SAAUhV,EAAG0I,GAI7B,OAHAsM,EAAgB5U,OAAOyV,gBAClB,CAAEC,UAAW,cAAgBvJ,OAAS,SAAUvM,EAAG0I,GAAK1I,EAAE8V,UAAYpN,IACvE,SAAU1I,EAAG0I,GAAK,IAAK,IAAIlH,KAAKkH,EAAOA,EAAEnH,eAAeC,KAAIxB,EAAEwB,GAAKkH,EAAElH,MACpDxB,EAAG0I,IAE5B,OAAO,SAAU1I,EAAG0I,GAEhB,SAASqN,IAAOzT,KAAK0T,YAAchW,EADnCgV,EAAchV,EAAG0I,GAEjB1I,EAAEsB,UAAkB,OAANoH,EAAatI,OAAOY,OAAO0H,IAAMqN,EAAGzU,UAAYoH,EAAEpH,UAAW,IAAIyU,IAV3C,GAgBxC,GAAmC,SAAUK,GAE7C,SAAS27E,IACL,IAAIjuF,EAAmB,OAAXsS,GAAmBA,EAAOF,MAAM5T,KAAM2G,YAAc3G,KAShE,OARAwB,EAAMkrF,cAAgB,CAClB7E,GAAUz0C,OACVy0C,GAAUgE,IACVhE,GAAUkE,MACVlE,GAAU+D,KACV/D,GAAUsE,KACVtE,GAAUkD,KAEPvpF,EA+GX,OA1HA,GAAUiuF,EAAmB37E,GAa7B27E,EAAkBzwF,UAAUosD,cAAgB,WACxC,MAAO,eAEXqkC,EAAkBzwF,UAAU6tF,QAAU,WAClC,OAAO4C,EAAkBC,mBAE7BD,EAAkBC,gBAAkB,WAChC,MAAyB,oBAAXC,aAAmD,IAAlBA,OAAOC,QAE1DH,EAAkBzwF,UAAUytF,UAAY,WAChCgD,EAAkBC,mBAAqB1vF,KAAKmrF,aAAe,GACxDnrF,KAAKorF,aAAeprF,KAAKorF,YAAYlqF,OAAS,IACjDlB,KAAK6vF,eACD,IAAIF,OAAOG,cAAcC,SAAS/vF,KAAKgwF,yBAC3ChwF,KAAKqsF,uBAGboD,EAAkBzwF,UAAUixF,oBAAsB,SAAU3xE,GACxD,OAAQA,GACJ,KAAK,IAASlZ,KACV,MAAO,OACX,KAAK,IAAS1F,SACV,MAAO,WACX,KAAK,IAASwI,KACV,MAAO,YACX,KAAK,IAASW,KACd,KAAK,IAASC,KACd,KAAK,IAASC,MACd,KAAK,IAASC,MACd,KAAK,IAASE,SACd,KAAK,IAASD,MACV,MAAO,SACX,QACI,MAAO,WAGnBwmF,EAAkBzwF,UAAUkxF,qBAAuB,SAAU7xF,EAAOigB,GAChE,OAAQA,GACJ,KAAK,IAASyW,KACV,OAAO12B,EAAMgJ,WACjB,QACI,OAAOhJ,IAGnBoxF,EAAkBzwF,UAAUgxF,sBAAwB,WAGhD,IAFA,IAAIG,EAAc,IAAIR,OAAOG,cAAcM,UACvC3wE,EAAUzf,KAAK22B,UAAUlX,QACpBriB,EAAI,EAAGA,EAAIqiB,EAAQwB,MAAO7jB,IAAK,CACpC,IAAIwlB,EAASnD,EAAQxhB,IAAIb,GACzB+yF,EAAYv0C,UAAU57C,KAAKiwF,oBAAoBrtE,EAAOtE,MAAOsE,EAAOvE,MAAOuE,EAAO5X,IAEtF,IAAIyV,EAAOzgB,KAAK22B,UAAUpU,gBAC1B4tE,EAAYE,QAAQ5vE,EAAKvf,QACzB,IAAS9D,EAAI,EAAGA,EAAIqjB,EAAKvf,OAAQ9D,IAE7B,IADA,IAAIujB,EAAMF,EAAKrjB,GACN+2D,EAAI,EAAGA,EAAI10C,EAAQwB,MAAOkzC,IAC/Bg8B,EAAYG,QAAQlzF,EAAG+2D,EAAGn0D,KAAKkwF,qBAAqBvvE,EAAIf,SAASu0C,GAAI10C,EAAQxhB,IAAIk2D,GAAG71C,OAG5F,OAAO6xE,GAEXV,EAAkBzwF,UAAUyuF,SAAW,WACnC,GAA2B,MAAvBztF,KAAK6vF,eAAwB,CAC7B,IAAIU,EAAe,CACf5jF,MAAO,OACPia,OAAQ,OACR4pE,UAAW,CAAE7jF,MAAO3M,KAAKywF,oBAEjBzwF,KAAK0wF,YAAY1wF,KAAKktF,UAC5ByD,KAAK3wF,KAAK6vF,eAAgBU,KAGxCd,EAAkBzwF,UAAUyxF,kBAAoB,SAAU3F,GACtD,OAAIA,GAAajD,GAAUkD,IAChB,OAGA,OAGf0E,EAAkBzwF,UAAUqtF,mBAAqB,WACzCrsF,KAAK6vF,gBACL7vF,KAAK6vF,eAAee,WAAW,GAAG1zE,OAAOld,KAAKmrF,aAAajuE,OAAOld,KAAKorF,eAG/EqE,EAAkBzwF,UAAU0xF,YAAc,SAAUh6D,GAChD,OAAQ12B,KAAK8qF,WACT,KAAK,EACD,OAAO,IAAI6E,OAAOG,cAAce,YAAYn6D,GAChD,KAAK,EACD,OAAO,IAAIi5D,OAAOG,cAAc5D,UAAUx1D,GAC9C,KAAK,EACD,OAAO,IAAIi5D,OAAOG,cAAcgB,SAASp6D,GAC7C,KAAK,EACD,OAAO,IAAIi5D,OAAOG,cAAciB,WAAWr6D,GAC/C,KAAK,EACD,OAAO,IAAIi5D,OAAOG,cAAckB,UAAUt6D,GAC9C,KAAK,EACD,OAAO,IAAIi5D,OAAOG,cAAcmB,UAAUv6D,GAC9C,KAAK,GACD,OAAO,IAAIi5D,OAAOG,cAAcoB,SAASx6D,GAC7C,KAAK,GACD,OAAO,IAAIi5D,OAAOG,cAAc7D,MAAMv1D,GAC1C,KAAK,GACD,OAAO,IAAIi5D,OAAOG,cAAcqB,iBAAiBz6D,GACrD,QACI,OAAO,IAAIi5D,OAAOG,cAAcoB,SAASx6D,KAG9C+4D,EA3H2B,CA4HpC,IC5IE,GAAwC,WACxC,IAAI/8E,EAAgB,SAAUhV,EAAG0I,GAI7B,OAHAsM,EAAgB5U,OAAOyV,gBAClB,CAAEC,UAAW,cAAgBvJ,OAAS,SAAUvM,EAAG0I,GAAK1I,EAAE8V,UAAYpN,IACvE,SAAU1I,EAAG0I,GAAK,IAAK,IAAIlH,KAAKkH,EAAOA,EAAEnH,eAAeC,KAAIxB,EAAEwB,GAAKkH,EAAElH,MACpDxB,EAAG0I,IAE5B,OAAO,SAAU1I,EAAG0I,GAEhB,SAASqN,IAAOzT,KAAK0T,YAAchW,EADnCgV,EAAchV,EAAG0I,GAEjB1I,EAAEsB,UAAkB,OAANoH,EAAatI,OAAOY,OAAO0H,IAAMqN,EAAGzU,UAAYoH,EAAEpH,UAAW,IAAIyU,IAV3C,GAoBxC,GAA+B,SAAUK,GAEzC,SAASs9E,IACL,IAAI5vF,EAAmB,OAAXsS,GAAmBA,EAAOF,MAAM5T,KAAM2G,YAAc3G,KAGhE,OAFAwB,EAAMgoB,MAAQ,IAAK/iB,QAAQ,SAAU,QAAS,cAC9CjF,EAAMumF,YAAc,IAAKthF,QAAQ,SAAU,QAAS,YAC7CjF,EA0KX,OA/KA,GAAU4vF,EAAet9E,GAOzBs9E,EAAcpyF,UAAUi5B,KAAO,SAAUvB,GACrC5iB,EAAO9U,UAAUi5B,KAAK16B,KAAKyC,KAAM02B,GAC7B,GAAkBg5D,kBAClB1vF,KAAKqxF,MAAQ,IAAI,GAAkBrxF,KAAK2oF,YAGxC3oF,KAAKqxF,MAAQ,IAAI,GAAcrxF,KAAK2oF,YAExC,IAAIqC,EAAsBhrF,KAAKo6D,MAAM/lD,QAC/BrU,KAAKo6D,MAAM/lD,QAAQ22E,oBACnB,KACNhrF,KAAKqxF,MAAMp5D,KAAKj4B,KAAKwgD,aAAc,CAC/B6qC,cAAc,EACdC,cAAc,EACdN,oBAAqBA,IAErBhrF,KAAK0D,UACL1D,KAAKqxF,MAAMjF,eAAepsF,KAAK0D,UAEnC1D,KAAKqxF,MAAM7F,mBAEX,YAAMxrF,KAAK02B,MAAM5M,QAErBsnE,EAAcpyF,UAAUu6B,QAAU,WAC1Bv5B,KAAKqxF,OACLrxF,KAAKqxF,MAAM93D,WAGnB63D,EAAcpyF,UAAUuqF,QAAU,WAC9B,OAAOvO,EAAUyT,OAErB2C,EAAcpyF,UAAUiqF,iBAAmB,SAAUlzE,GACjDjC,EAAO9U,UAAUiqF,iBAAiB1rF,KAAKyC,KAAM+V,GAE7C,IAAI+2E,EAAoBjgF,SAASyY,cAAc,UAC/CwnE,EAAkB9hF,GAAK,sBACvB8hF,EAAkBnvF,KAAO,sBACzB,IAAK,IAAIkD,EAAK,EAAGqQ,EAAKlR,KAAKqxF,MAAM5F,yBAA0B5qF,EAAKqQ,EAAGhQ,OAAQL,IAAM,CAC7E,IAAI8qF,EAAKz6E,EAAGrQ,IACRksF,EAAOlgF,SAASyY,cAAc,WAC7BjnB,MAAQstF,EAAGtkF,WAChB0lF,EAAKzyE,KAAOta,KAAKqxF,MAAM3F,iBAAiBC,GACxCmB,EAAkBrnE,YAAYsnE,GAElCD,EAAkBzuF,MAAQ2B,KAAKqxF,MAAM1E,sBAAsBtlF,WAE3D,IAAIwmF,EAAsBhhF,SAASyY,cAAc,UACjDuoE,EAAoBlwF,KAAO,wBAC3BkwF,EAAoB7iF,GAAK,wBACzB,IAAK,IAAIuP,EAAK,EAAGC,EAAKxa,KAAKqxF,MAAMpD,2BAA4B1zE,EAAKC,EAAGtZ,OAAQqZ,IAAM,CAC/E,IAAIsE,EAAMrE,EAAGD,IACTwyE,EAAOlgF,SAASyY,cAAc,WAC7BjnB,MAAQwgB,EAAI3T,IAAI7D,WACrB0lF,EAAKzyE,KAAOuE,EAAIR,MAChBwvE,EAAoBpoE,YAAYsnE,GAEpC,IAAI5B,EAAcnrF,KAAKqxF,MAAMlD,sBACzBhD,GAAe,IACf0C,EAAoBxvF,MAAQ8sF,EAAY9jF,YAG5C,IAAI2mF,EAAqBnhF,SAASyY,cAAc,UAChD0oE,EAAmBhjF,GAAK,uBACxBgjF,EAAmBrwF,KAAO,uBAC1B,IAAK,IAAI6xC,EAAK,EAAGC,EAAKzvC,KAAKqxF,MAAMnD,0BAA2B1+C,EAAKC,EAAGvuC,OAAQsuC,IAAM,CAC9E,IACIu9C,EADAluE,EAAM4wB,EAAGD,IACTu9C,EAAOlgF,SAASyY,cAAc,WAC7BjnB,MAAQwgB,EAAI3T,IAAI7D,WACrB0lF,EAAKzyE,KAAOuE,EAAIR,MAChB2vE,EAAmBvoE,YAAYsnE,GAEnC,IAAIt3D,EAAaz1B,KAAKqxF,MAAMjD,qBACxB34D,GAAc,IACdu4D,EAAmB3vF,MAAQo3B,EAAWpuB,YAE1C,IAAI4iF,EAAO,IAAa/4B,OACpB/1B,EAAUplB,EACVu7E,EAAa,WACb,OAAIrH,EACO,YAAM,MAAOl0E,GACfoU,SAAS,iBACT2B,QAGE/V,GAGXk0E,EACA,YAAMl0E,GACDsT,gBAAgBioE,KAGrB,YAAMv7E,GACDkT,SAAS,OACTA,SAAS,OAElBkS,EAAUm2D,IACV,YAAMn2D,GACDlS,SAAS,SAAS,SAAU7iB,GAAK,OAAOA,EACxCmR,KAAK,MAAO,uBACZ+C,KAAK,IAAK7T,QAAQ,SAAU,QAAS,8BACrCwiB,SAAS,OAAO,SAAU7iB,GAC3B,OAAOA,EACF+jB,SAAS,eACTd,gBAAgByjE,MAEzB3xD,EAAUm2D,IACV,YAAMn2D,GACDlS,SAAS,SAAS,SAAU7iB,GAAK,OAAOA,EACxCmR,KAAK,MAAO,yBACZ+C,KAAK,IAAK7T,QAAQ,SAAU,QAAS,gCACrCwiB,SAAS,OAAO,SAAU7iB,GAAK,OAAOA,EACtC+jB,SAAS,eACTd,gBAAgBwkE,MACrB1yD,EAAUm2D,IACV,YAAMn2D,GACDlS,SAAS,SAAS,SAAU7iB,GAAK,OAAOA,EACxCmR,KAAK,MAAO,wBACZ+C,KAAK,IAAK7T,QAAQ,SAAU,QAAS,+BACrCwiB,SAAS,OAAO,SAAU7iB,GAAK,OAAOA,EACtC+jB,SAAS,eACTd,gBAAgB2kE,OAEzBoD,EAAcpyF,UAAUgqF,qBAAuB,WAC3C,IAAI7mF,EAAS2R,EAAO9U,UAAUgqF,qBAAqBzrF,KAAKyC,MACpD8sF,EAAoBjgF,SAASqrB,eAAe,uBAC5CyzD,EAAKt8E,SAASy9E,EAAkBzuF,OAChCwvF,EAAsBhhF,SAASqrB,eAAe,yBAC9CizD,EAAc97E,SAASw+E,EAAoBxvF,OAC3C2vF,EAAqBnhF,SAASqrB,eAAe,wBAC7CzC,EAAapmB,SAAS2+E,EAAmB3vF,OAY7C,OAXI8D,IACAnC,KAAK0D,SAAW,CACZ4a,KAAMqtE,EACNR,YAAaA,EACb11D,WAAYA,GAEhBz1B,KAAKqxF,MAAMjF,eAAepsF,KAAK0D,UAC3B1D,KAAKopF,cACLppF,KAAKk5B,WAGN/2B,GAEXivF,EAAcpyF,UAAU0zC,WAAa,WACjC,IAAIryC,EAAOyT,EAAO9U,UAAU0zC,WAAWn1C,KAAKyC,MAM5C,OALIA,KAAK0D,WACLrD,EAAKyqF,UAAY9qF,KAAK0D,SAAS4a,KAC/Bje,EAAKkxF,SAAWvxF,KAAK0D,SAASynF,YAC9B9qF,EAAKmxF,QAAUxxF,KAAK0D,SAAS+xB,YAE1Bp1B,GAEX+wF,EAAcpyF,UAAUoX,aAAe,SAAU/V,GAC7CyT,EAAO9U,UAAUoX,aAAa7Y,KAAKyC,KAAMK,GACrCA,IACAL,KAAK0D,SAAW,CACZ4a,KAAMje,EAAKyqF,UACXr1D,WAAYp1B,EAAKmxF,QACjBrG,YAAa9qF,EAAKkxF,YAI9BH,EAAcpyF,UAAUmwD,YAAc,WAC9BnvD,KAAKqxF,OACLrxF,KAAKqxF,MAAMn4D,WAGZk4D,EAhLuB,CAiLhC,IHrME,GAAwC,WACxC,IAAI1+E,EAAgB,SAAUhV,EAAG0I,GAI7B,OAHAsM,EAAgB5U,OAAOyV,gBAClB,CAAEC,UAAW,cAAgBvJ,OAAS,SAAUvM,EAAG0I,GAAK1I,EAAE8V,UAAYpN,IACvE,SAAU1I,EAAG0I,GAAK,IAAK,IAAIlH,KAAKkH,EAAOA,EAAEnH,eAAeC,KAAIxB,EAAEwB,GAAKkH,EAAElH,MACpDxB,EAAG0I,IAE5B,OAAO,SAAU1I,EAAG0I,GAEhB,SAASqN,IAAOzT,KAAK0T,YAAchW,EADnCgV,EAAchV,EAAG0I,GAEjB1I,EAAEsB,UAAkB,OAANoH,EAAatI,OAAOY,OAAO0H,IAAMqN,EAAGzU,UAAYoH,EAAEpH,UAAW,IAAIyU,IAV3C,IAoB5C,SAAWm3E,GACPA,EAAc,IAAI,MAClBA,EAAkB,QAAI,MACtBA,EAAc,IAAI,MAClBA,EAAc,IAAI,MAClBA,EAAgB,MAAI,QALxB,CAMGA,KAAaA,GAAW,KAC3B,IAAI,GAAoC,SAAU92E,GAE9C,SAAS29E,IACL,IAAIjwF,EAAmB,OAAXsS,GAAmBA,EAAOF,MAAM5T,KAAM2G,YAAc3G,KAKhE,OAJAwB,EAAM4xB,UAAY,OAClB5xB,EAAMgoB,MAAQ,IAAK/iB,QAAQ,SAAU,QAAS,cAC9CjF,EAAMumF,YAAc,IAAKthF,QAAQ,SAAU,QAAS,YACpDjF,EAAMkwF,WAAa,IAAI,IAChBlwF,EAocX,OA3cA,GAAUiwF,EAAoB39E,GAS9B29E,EAAmBzyF,UAAUi5B,KAAO,SAAUvB,GAC1C5iB,EAAO9U,UAAUi5B,KAAK16B,KAAKyC,KAAM02B,GACjC12B,KAAKs1B,KAAO,IAAI,IAAS,CACrBoB,KAAM12B,KAAK2oF,WACXhyD,UAAW32B,KAAK0xF,WAChBv6D,OAAQ,CACJC,SAAS,GAEbN,kBAAkB,EAClBO,YAAY,EACZN,eAAe,EACflB,kBAAmB,SAAUjT,EAAQ+uE,GACjC,GAAI/uE,EAAO6S,YAAsC,SAAxB7S,EAAO6S,WAAWzqB,GACvC,OAAO,SAAU3M,EAAOukB,EAAQ+0C,EAAMi6B,GAClCD,EAAgBtzF,EAAOukB,EAAQ+0C,EAAMi6B,GACrCj6B,EAAK/xC,MAAMisE,WAAa,WAM5CJ,EAAmBzyF,UAAUuqF,QAAU,WACnC,OAAOvO,EAAU8W,YAErBL,EAAmBzyF,UAAUu6B,QAAU,WAC/Bv5B,KAAKs1B,MACLt1B,KAAKs1B,KAAKiE,WAGlBk4D,EAAmBzyF,UAAU+yF,4BAA8B,SAAUC,GAWjE,IAVA,IAAI37E,EAAQrW,KAAKwgD,aAAapO,WAC1B6/C,EAAM,YAAM,UAEZxuD,EAAU,SAAUyuD,GACpBD,EAAIhpE,SAAS,UAAU,SAAU7iB,GAC7BA,EACKmR,KAAK,QAAS26E,GACd53E,KAAKjE,EAAMo6B,uBAAuByhD,QAGtCrxF,EAAK,EAAGsxF,EARDr0F,OAAO4D,KAAKkpF,IAAUhpF,KAAI,SAAUuK,GAAK,OAAOy+E,GAASz+E,MAQ/BtL,EAAKsxF,EAAYjxF,OAAQL,IAAM,CAErE4iC,EADe0uD,EAAYtxF,IAG/B,IAAIwT,EAAU49E,EAAInmE,QAAQsR,iBAAiB,UAW3C,OAVgBj4B,MAAZ6sF,EACA39E,EAAQsO,SAAQ,SAAUkL,GAClBA,EAAOxvB,OAAS2zF,IAChBnkE,EAAOC,UAAW,MAK1BzZ,EAAQ,GAAGyZ,UAAW,EAEnBmkE,GAEXR,EAAmBzyF,UAAUozF,2BAA6B,SAAUC,EAAcC,GAgB9E,IAfA,IAAI37D,EAAY32B,KAAKuyF,sBACjBN,EAAM,YAAM,UACZO,EAAU,SAAUp1F,GACpB,IAAIwlB,EAAS+T,EAAUlX,QAAQxhB,IAAIb,GAC/BmvF,EAAW3pE,EAAOvE,MAClBm5C,EAAU50C,EAAOtE,KACjBoE,EAAQE,EAAO5X,GACnB,GAAIqnF,GAAgBA,EAAa/mF,QAAQksD,GAAW,EAChD,MAAO,WACXy6B,EAAIhpE,SAAS,UAAU,SAAU7iB,GAC7BA,EACKmR,KAAK,QAASmL,GACdpI,KAAKiyE,OAGTnvF,EAAI,EAAGA,EAAIu5B,EAAUlX,QAAQwB,MAAO7jB,IACzCo1F,EAAQp1F,GAEZ,IAAIiX,EAAU49E,EAAInmE,QAAQsR,iBAAiB,UAa3C,OAZI/oB,EAAQnT,OAAS,IACFiE,MAAXmtF,EACAj+E,EAAQsO,SAAQ,SAAUkL,GAClBA,EAAOxvB,OAASi0F,IAChBzkE,EAAOC,UAAW,MAK1BzZ,EAAQ,GAAGyZ,UAAW,GAGvBmkE,GAEXR,EAAmBzyF,UAAUiqF,iBAAmB,SAAUlzE,GACtD,IAAIvU,EAAQxB,KACZ8T,EAAO9U,UAAUiqF,iBAAiB1rF,KAAKyC,KAAM+V,GAC7C,IAAIrS,EAAW1D,KAAK0D,UAAY,GAC5B+uF,EAAW,CAAC,IAAS/pF,OAAQ,IAAStD,KAAM,IAAS1F,SAAU,IAASqJ,MACxE,IAASC,MAAO,IAASF,KAAM,IAASD,MACxC6pF,EAAa,CAAC,IAASzpF,MAAO,IAASF,MACvC,IAASC,MAAO,IAASF,KAAM,IAASD,KAAM,IAASK,UACvD+gF,EAAO,IAAa/4B,OACpB/1B,EAAUplB,EACV48E,EAAa1I,EAAO,+BAAiC,4BACrDqH,EAAa,WACb,OAAIrH,EACO,YAAM,MAAOl0E,GACfoU,SAAS,iBACT2B,QAGE/V,GAGXk0E,EACA,YAAMl0E,GACDsT,gBAAgBioE,KAGrB,YAAMv7E,GACDkT,SAAS,OACTA,SAAS,OAElBkS,EAAUm2D,IACV,YAAMn2D,GACDlS,SAAS,SAAS,SAAU7iB,GAAK,OAAOA,EACxCmR,KAAK,MAAO,gBACZ+C,KAAK,IAAK7T,QAAQ,SAAU,QAAS,gCACrCwiB,SAAS,OAAO,SAAU7iB,GAAK,OAAOA,EACtC+jB,SAAS,eACT5S,KAAK,OAAQ,gBACb8R,gBAAgB7nB,EAAM4wF,2BAA2BK,EAAU/uF,EAAS4uF,SACpEtnF,GAAG,8BACH8gB,YACLqP,EAAUm2D,IACV,YAAMn2D,GACDlS,SAAS,SAAS,SAAU7iB,GAAK,OAAOA,EACxCmR,KAAK,MAAO,aACZ+C,KAAK,IAAK7T,QAAQ,SAAU,QAAS,6BACrCwiB,SAAS,OAAO,SAAU7iB,GAAK,OAAOA,EACtC+jB,SAAS,eACT5S,KAAK,OAAQ,aACb8R,gBAAgB7nB,EAAM4wF,2BAA2BK,EAAU/uF,EAASkvF,SACpE5nF,GAAG,8BACH8gB,YACLqP,EAAUm2D,IACV,YAAMn2D,GACDlS,SAAS,SAAS,SAAU7iB,GAAK,OAAOA,EACxCmR,KAAK,MAAO,iBACZ+C,KAAK,IAAK7T,QAAQ,SAAU,QAAS,6BACrCwiB,SAAS,OAAO,SAAU7iB,GAAK,OAAOA,EACtC+jB,SAASwoE,GACT1pE,SAAS,OAAO,SAAU7iB,GAAK,OAAOA,EACtC+jB,SAAS,eACT5S,KAAK,OAAQ,iBACb8R,gBAAgB7nB,EAAMuwF,4BAA4BruF,EAASsuF,UAC3DhnF,GAAG,8BACH8gB,YACA7C,SAAS,SAAS,SAAU7iB,GAAK,OAAOA,EAAEslB,QAAQ,WAClDzC,SAAS,OAAO,SAAU7iB,GAAK,OAAOA,EACtC+jB,SAAS,eACT5S,KAAK,OAAQ,eACb8R,gBAAgB7nB,EAAM4wF,2BAA2BM,EAAYhvF,EAASmvF,WACtE7nF,GAAG,+BACH8gB,eACLqP,EAAUm2D,IACV,YAAMn2D,GACDlS,SAAS,OACTA,SAAS,OAAO,SAAU7iB,GAAK,OAAOA,EACtC+jB,SAASwoE,GACT1pE,SAAS,SAAS,SAAU7iB,GAAK,OAAOA,EACxC+jB,SAAS,YACTlB,SAAS,SAAS,SAAU7iB,GAC7BA,EACK4E,GAAG,0BACHsT,KAAK,YACN5a,EAASovF,WACT1sF,EAAEmR,KAAK,UAAW,OAErBmU,QAAQ,IAAM,IAAKjlB,QAAQ,SAAU,QAAS,sBAC9CwiB,SAAS,SAAS,SAAU7iB,GAAK,OAAOA,EACxC+jB,SAAS,YACTlB,SAAS,SAAS,SAAU7iB,GAC7BA,EACK4E,GAAG,0BACHsT,KAAK,YACN5a,EAASqvF,WACT3sF,EAAEmR,KAAK,UAAW,OAErBmU,QAAQ,IAAM,IAAKjlB,QAAQ,SAAU,QAAS,0BAEvDgrF,EAAmBzyF,UAAUgqF,qBAAuB,WAChD,IAAI7mF,EAAS2R,EAAO9U,UAAUgqF,qBAAqBzrF,KAAKyC,MAYxD,OAXImC,IACAnC,KAAK0D,SAAW,CACZ4uF,QAASzlF,SAASqrB,eAAe,8BAA8B75B,MAC/Du0F,QAAS/lF,SAASqrB,eAAe,8BAA8B75B,MAC/D2zF,SAAUnlF,SAASqrB,eAAe,8BAA8B75B,MAChEw0F,UAAWhmF,SAASqrB,eAAe,+BAA+B75B,MAClEy0F,UAAWjmF,SAASqrB,eAAe,0BAA0B6kC,QAC7Dg2B,UAAWlmF,SAASqrB,eAAe,0BAA0B6kC,SAEjE/8D,KAAKk5B,WAEF/2B,GAEXsvF,EAAmBzyF,UAAU0zC,WAAa,WACtC,IAAIryC,EAAOyT,EAAO9U,UAAU0zC,WAAWn1C,KAAKyC,MAI5C,OAHIA,KAAK0D,UACL,IAAUS,WAAW9D,EAAML,KAAK0D,UAE7BrD,GAEXoxF,EAAmBzyF,UAAUoX,aAAe,SAAU/V,GAClDyT,EAAO9U,UAAUoX,aAAa7Y,KAAKyC,KAAMK,GACrCA,IACAL,KAAK0D,SAAW,IAAUS,WAAWnE,KAAK0D,SAAUrD,GACtB,WAA1BL,KAAK0D,SAASsuF,WACdhyF,KAAK0D,SAASsuF,SAAWpH,GAASoI,WAI9CvB,EAAmBzyF,UAAUmwD,YAAc,WACvCnvD,KAAKizF,kBACDjzF,KAAKs1B,MACLt1B,KAAKs1B,KAAK4D,WAGlBu4D,EAAmBzyF,UAAUuzF,oBAAsB,WAE/C,OADcvyF,KAAKwgD,aACJyF,aAEnBwrC,EAAmBzyF,UAAUi0F,gBAAkB,WAC3CjzF,KAAK0xF,WAAWv0E,QAChB,IAAIwZ,EAAY32B,KAAKuyF,sBACrB,GAAK57D,GAAqC,GAAxBA,EAAUvU,YAGvBpiB,KAAK0D,SAAV,CAGA,IAAI4uF,EAAUtyF,KAAK0D,SAAS4uF,QACxBM,EAAU5yF,KAAK0D,SAASkvF,QACxBC,EAAY7yF,KAAK0D,SAASmvF,UAC1BK,EAASv8D,EAAUlX,QAAQL,SAASkzE,GACpCa,EAASx8D,EAAUlX,QAAQL,SAASwzE,GACpCQ,EAAWz8D,EAAUlX,QAAQL,SAASyzE,GAC1C,GAAc1tF,MAAV+tF,GAAiC/tF,MAAVguF,GAAmChuF,MAAZiuF,EAAlD,CAYA,IARA,IAAIC,EAAY18D,EAAUlX,QAAQxhB,IAAIi1F,GAClCI,EAAY38D,EAAUlX,QAAQxhB,IAAIk1F,GAClCI,EAAWD,EAAUj1E,MACrBm1E,EAAUF,EAAUh1E,KACpBiuE,EAAW8G,EAAUh1E,MACrBo1E,EAAY,GACZC,EAAY,GACZjzE,EAAOkW,EAAUpU,gBACZnlB,EAAI,EAAGA,EAAIqjB,EAAKvf,OAAQ9D,IAAK,CAClC,IAAIu2F,EAAWlzE,EAAKrjB,GAAGwiB,SAASszE,GAC5BO,EAAUnoF,QAAQqoF,GAAY,GAC9BF,EAAU1tF,KAAK4tF,GAEnB,IAAIC,EAAWnzE,EAAKrjB,GAAGwiB,SAASuzE,GAC5BO,EAAUpoF,QAAQsoF,GAAY,GAC9BF,EAAU3tF,KAAK6tF,GAGvB5zF,KAAK0xF,WAAWjyE,QAAQd,IAAI,CACxB3T,GAAIuoF,EAAW,KAAOhH,EACtBluE,MAAOk1E,EAAW,KAAOhH,EACzBjuE,KAAMk1E,IAEV,IAAIK,EAAe,GACnB,IAASz2F,EAAI,EAAGA,EAAIq2F,EAAUvyF,OAAQ9D,IAAK,EACnCu2F,EAAWF,EAAUr2F,IAKrB4C,KAAK0xF,WAAWjyE,QAAQd,IAAI,CACxBL,KAAM,IAASrV,MACf+B,GAAI2oF,EACJt1E,MAAOs1E,IANXE,EAAa9tF,KAAK3I,GAU1B,IAAI02F,EAAW,GACf,IAAS12F,EAAI,EAAGA,EAAIs2F,EAAUxyF,OAAQ9D,IAClC02F,EAAS/tF,KAAK,IACd+tF,EAAS12F,GAAG2I,KAAK2tF,EAAUt2F,IAE/B,IAASA,EAAI,EAAGA,EAAIs2F,EAAUxyF,OAAQ9D,IAClC,IAAK,IAAI+2D,EAAI,EAAGA,EAAIs/B,EAAUvyF,OAAQizD,IAC9B0/B,EAAavoF,QAAQ6oD,IAAM,GAE/B2/B,EAAS12F,GAAG2I,KAAK/F,KAAK+zF,aAAa/zF,KAAK0D,SAASsuF,SAAU,CACvDM,QAAStyF,KAAK0D,SAAS4uF,QACvBM,QAAS5yF,KAAK0D,SAASkvF,QACvBC,UAAW7yF,KAAK0D,SAASmvF,UACzBe,SAAUF,EAAUt2F,GACpBu2F,SAAUF,EAAUt/B,MAIhC,GAAIn0D,KAAK0D,SAASqvF,UAAW,CACzB/yF,KAAK0xF,WAAWjyE,QAAQd,IAAI,CACxB3T,GAAI,QACJqT,MAAO,IAAK5X,QAAQ,SAAU,QAAS,kBACvC6X,KAAM,IAASrV,QAEnB,IAAS7L,EAAI,EAAGA,EAAI02F,EAAS5yF,OAAQ9D,IAAK,CACtC,IAAI42F,EAAa,EACbrzE,EAAMmzE,EAAS12F,GACnB,IAAS+2D,EAAI,EAAGA,EAAIxzC,EAAIzf,OAAQizD,IAAK,CACjC,IAAI91D,EAAQsiB,EAAIwzC,GACF,OAAV91D,IACA21F,GAAc31F,GAEtBsiB,EAAI5a,KAAKiuF,IAGjB,IAAK,IAAInzF,EAAK,EAAGozF,EAAaH,EAAUjzF,EAAKozF,EAAW/yF,OAAQL,IAAM,CAC9D8f,EAAMszE,EAAWpzF,GACrBb,KAAK0xF,WAAW7wE,OAAOF,GAE3B,GAAI3gB,KAAK0D,SAASovF,UAAW,CACzB,IAAIoB,EAAY,GAChBA,EAAUnuF,KAAK,IAAKU,QAAQ,SAAU,QAAS,mBAC/C,IAASrJ,EAAI,EAAGA,EAAI4C,KAAK0xF,WAAWjyE,QAAQwB,MAAO7jB,IAAK,CACpD,IAAI+2F,EAAa,EACbC,EAASp0F,KAAK0xF,WAAWnvE,gBAC7B,IAAS4xC,EAAI,EAAGA,EAAIigC,EAAOlzF,OAAS,EAAGizD,IACnCggC,GAAcC,EAAOjgC,GAAGv0C,SAASxiB,GAErC82F,EAAUnuF,KAAKouF,GAEnBn0F,KAAK0xF,WAAW7wE,OAAOqzE,GACvBl0F,KAAK2oF,WAAWr+D,UAAU3L,IAAI,8BAG9B3e,KAAK2oF,WAAWr+D,UAAUE,OAAO,8BA9FjCxqB,KAAKqpF,yBAAyB,IAAK5iF,QAAQ,SAAU,sBAiG7DgrF,EAAmBzyF,UAAU+0F,aAAe,SAAUljD,EAAMx8B,GACxD,OAAQw8B,GACJ,KAAK+5C,GAASyJ,IACV,OAAOr0F,KAAKk7B,IAAI7mB,GACpB,KAAKu2E,GAASoI,QACV,OAAOhzF,KAAKs0F,QAAQjgF,GACxB,KAAKu2E,GAAS2J,IACV,OAAOv0F,KAAKsM,IAAI+H,GACpB,KAAKu2E,GAAS4J,IACV,OAAOx0F,KAAKqM,IAAIgI,GACpB,KAAKu2E,GAAS6J,MACV,OAAOz0F,KAAKihB,MAAM5M,GACtB,QACI,OAAO,IAGnBo9E,EAAmBzyF,UAAUk8B,IAAM,SAAU7mB,GAIzC,IAHA,IAAIlS,EAAS,EAETse,EADYzgB,KAAKuyF,sBACAhwE,gBACZnlB,EAAI,EAAGA,EAAIqjB,EAAKvf,OAAQ9D,IAAK,CAClC,IAAIw2F,EAAWnzE,EAAKrjB,GAAGwiB,SAASvL,EAAQu+E,SACpCe,EAAWlzE,EAAKrjB,GAAGwiB,SAASvL,EAAQi+E,SACxC,GAAIsB,IAAav/E,EAAQu/E,UAClBD,IAAat/E,EAAQs/E,SAI5BxxF,GADiBse,EAAKrjB,GAAGwiB,SAASvL,EAAQw+E,WAG9C,OAAO1wF,GAEXsvF,EAAmBzyF,UAAUs1F,QAAU,SAAUjgF,GAK7C,IAJA,IAAIlS,EAAS,EACT8e,EAAQ,EAERR,EADYzgB,KAAKuyF,sBACAhwE,gBACZnlB,EAAI,EAAGA,EAAIqjB,EAAKvf,OAAQ9D,IAAK,CAClC,IAAIw2F,EAAWnzE,EAAKrjB,GAAGwiB,SAASvL,EAAQu+E,SACpCe,EAAWlzE,EAAKrjB,GAAGwiB,SAASvL,EAAQi+E,SACxC,GAAIsB,IAAav/E,EAAQu/E,UAClBD,IAAat/E,EAAQs/E,SAI5BxxF,GADiBse,EAAKrjB,GAAGwiB,SAASvL,EAAQw+E,WAE1C5xE,IAIJ,OAFa,GAATA,IACA9e,GAAkB8e,GACf9e,GAEXsvF,EAAmBzyF,UAAUsN,IAAM,SAAU+H,GAIzC,IAHA,IAAI/H,EAAMooF,OAAOC,iBAEbl0E,EADYzgB,KAAKuyF,sBACAhwE,gBACZnlB,EAAI,EAAGA,EAAIqjB,EAAKvf,OAAQ9D,IAAK,CAClC,IAAIw2F,EAAWnzE,EAAKrjB,GAAGwiB,SAASvL,EAAQu+E,SACpCe,EAAWlzE,EAAKrjB,GAAGwiB,SAASvL,EAAQi+E,SACxC,GAAIsB,IAAav/E,EAAQu/E,UAClBD,IAAat/E,EAAQs/E,SAD5B,CAIA,IAAIiB,EAAan0E,EAAKrjB,GAAGwiB,SAASvL,EAAQw+E,WACtC+B,EAAatoF,IACbA,EAAMsoF,IAGd,OAAItoF,GAAOooF,OAAOC,iBACP,KACJroF,GAEXmlF,EAAmBzyF,UAAUqN,IAAM,SAAUgI,GAIzC,IAHA,IAAIhI,EAAMqoF,OAAOG,iBAEbp0E,EADYzgB,KAAKuyF,sBACAhwE,gBACZnlB,EAAI,EAAGA,EAAIqjB,EAAKvf,OAAQ9D,IAAK,CAClC,IAAIw2F,EAAWnzE,EAAKrjB,GAAGwiB,SAASvL,EAAQu+E,SACpCe,EAAWlzE,EAAKrjB,GAAGwiB,SAASvL,EAAQi+E,SACxC,GAAIsB,IAAav/E,EAAQu/E,UAClBD,IAAat/E,EAAQs/E,SAD5B,CAIA,IAAIiB,EAAan0E,EAAKrjB,GAAGwiB,SAASvL,EAAQw+E,WACtC+B,EAAavoF,IACbA,EAAMuoF,IAGd,OAAIvoF,GAAOqoF,OAAOG,iBACP,KACJxoF,GAEXolF,EAAmBzyF,UAAUiiB,MAAQ,SAAU5M,GAI3C,IAHA,IACI4M,EAAQ,EACRR,EAFYzgB,KAAKuyF,sBAEAhwE,gBACZnlB,EAAI,EAAGA,EAAIqjB,EAAKvf,OAAQ9D,IAAK,CAClC,IAAIw2F,EAAWnzE,EAAKrjB,GAAGwiB,SAASvL,EAAQu+E,SACpCe,EAAWlzE,EAAKrjB,GAAGwiB,SAASvL,EAAQi+E,SACpCsB,IAAav/E,EAAQu/E,UAClBD,IAAat/E,EAAQs/E,UAG5B1yE,IAEJ,OAAOA,GAEJwwE,EA5c4B,CA6crC,IIteE,GAA8B,WAC9B,SAASqD,EAAa31C,GAClBn/C,KAAKm/C,QAAUA,EACfn/C,KAAK6S,QAAU,KAuDnB,OArDAiiF,EAAa91F,UAAU4qB,KAAO,SAAUmrE,GACpC,IAAIvzF,EAAQxB,KAEZ,QADkB,IAAd+0F,IAAwBA,EAAY,OACnC/0F,KAAK6S,QAAS,CACf,IAAImiF,EAAUh1F,KAAKm/C,QAAQqJ,mBAC3B,GAAsB,GAAlBwsC,EAAQ9zF,OACR,MAAM+S,MAAM,oCAChB8gF,EAAYA,GAAaC,EAAQ,GACjCh1F,KAAK6S,QAAU,IAAIyC,SAAQ,SAAUC,EAASC,GAC1C,IAAI+yE,EAAK/mF,EAAM29C,QAAQ8B,cAAc4gC,mBACjCj1E,EAAO,YAAM,OACZud,SAAS,qBACTlB,SAAS,OAAO,SAAU7iB,GAAK,OAAOA,EACtC+jB,SAAS,aACTlB,SAAS,OAAO,SAAU7iB,GAAK,OAAOA,EACtC+jB,SAAS,yCACTlB,SAAS,SAAS,SAAU7iB,GAAK,OAAOA,EACxC+jB,SAAS,kBAAmB,YAC5B5S,KAAK,MAAO,iBACZmU,QAAQ,IAAKjlB,QAAQ,sBACrBwiB,SAAS,OAAO,SAAU7iB,GAAK,OAAOA,EACtC+jB,SAAS,eACTlB,SAAS,UAAU,SAAU7iB,GAC9BA,EACKmR,KAAK,OAAQ,iBACbvM,GAAG,gBACR,IAAK,IAAInK,EAAK,EAAGqQ,EAAK1P,EAAM29C,QAAQqJ,mBAAoB3nD,EAAKqQ,EAAGhQ,OAAQL,IAAM,CAC1E,IAAImH,EAASkJ,EAAGrQ,GAChBuF,EAAEwnB,UAAU,CACRvvB,MAAO2J,EACPwhB,MAAO,IAAK/iB,QAAQuB,IAAWA,EAC/B8lB,SAAUinE,GAAa/sF,iBAI9B8jB,QACLy8D,EAAGhnF,KAAK,CACJioB,MAAO,IAAK/iB,QAAQ,qBACpBmG,KAAMA,EACNw5B,SAAU,WACN,IAAIp+B,EAAS4E,EAAKs6B,cAAc,iBAAiB7oC,MAMjD,OALAmD,EAAM29C,QAAQ6P,aAAa,CACvBhnD,OAAQA,EACR+9C,QAASxwC,EACT/N,MAAOgO,KAEJ,QAKvB,OAAOxV,KAAK6S,QAAQO,SAAQ,WAAc,OAAO5R,EAAMqR,QAAU,SAE9DiiF,EA1DsB,GCF7B,GAAwC,WACxC,IAAIpiF,EAAgB,SAAUhV,EAAG0I,GAI7B,OAHAsM,EAAgB5U,OAAOyV,gBAClB,CAAEC,UAAW,cAAgBvJ,OAAS,SAAUvM,EAAG0I,GAAK1I,EAAE8V,UAAYpN,IACvE,SAAU1I,EAAG0I,GAAK,IAAK,IAAIlH,KAAKkH,EAAOA,EAAEnH,eAAeC,KAAIxB,EAAEwB,GAAKkH,EAAElH,MACpDxB,EAAG0I,IAE5B,OAAO,SAAU1I,EAAG0I,GAEhB,SAASqN,IAAOzT,KAAK0T,YAAchW,EADnCgV,EAAchV,EAAG0I,GAEjB1I,EAAEsB,UAAkB,OAANoH,EAAatI,OAAOY,OAAO0H,IAAMqN,EAAGzU,UAAYoH,EAAEpH,UAAW,IAAIyU,IAV3C,GAwBxC,GAAmC,SAAUK,GAE7C,SAASmhF,EAAkBv+D,GACvB,IAAIl1B,EAAQsS,EAAOvW,KAAKyC,KAAM02B,IAAS12B,KAmBvC,OAlBAwB,EAAM0zF,OAAS,GACf1zF,EAAM2zF,kBAAoB,EAC1B3zF,EAAMk2B,aAAc,EACpBl2B,EAAM6S,QAAU,CACZ+gF,kBAAkB,EAClBC,mBAAmB,EACnBC,sBAAsB,GAE1B9zF,EAAM+zF,UAAY,CACd,CAAEvqF,GAAIgwE,EAAUgP,SAAU1vE,KAAM,IAAK7T,QAAQ,SAAU,eAAgB,cACvE,CAAEuE,GAAIgwE,EAAUyT,MAAOn0E,KAAM,IAAK7T,QAAQ,SAAU,eAAgB,UACpE,CAAEuE,GAAIgwE,EAAU8W,WAAYx3E,KAAM,IAAK7T,QAAQ,SAAU,eAAgB,WAExEjF,EAAMk1B,KAAKpM,UAAUib,SAAS/jC,EAAM4xB,UAAY,WACjD5xB,EAAMk1B,KAAKpM,UAAU3L,IAAInd,EAAM4xB,UAAY,UAE/C5xB,EAAM8tD,MAAQ,IAAYpC,OAC1B1rD,EAAMg0F,qBACCh0F,EAoZX,OAzaA,GAAUyzF,EAAmBnhF,GAuB7BhW,OAAOC,eAAek3F,EAAkBj2F,UAAW,YAAa,CAC5Df,IAAK,WACD,MAAO,eAEXD,YAAY,EACZ0gB,cAAc,IAElBu2E,EAAkBj2F,UAAUosD,cAAgB,WACxC,MAAO,eAEX6pC,EAAkBj2F,UAAUuwD,YAAc,WACtC,IAAK,IAAI1uD,EAAK,EAAGqQ,EAAKlR,KAAKk1F,OAAQr0F,EAAKqQ,EAAGhQ,OAAQL,IAAM,CACzCqQ,EAAGrQ,GACT04B,UAEVv5B,KAAKmd,SAOT83E,EAAkBj2F,UAAUi5B,KAAO,SAAUknB,EAAS9qC,GAClDP,EAAO9U,UAAUi5B,KAAK16B,KAAKyC,KAAMm/C,EAAS9qC,GAC1CrU,KAAKq6D,WAAWhmD,GAChBrU,KAAKuvD,cACLvvD,KAAKyxE,sBACLzxE,KAAKy1F,cAETR,EAAkBj2F,UAAUqzC,SAAW,WACnC,OAAOryC,KAAKwgD,aAAanO,YAE7B4iD,EAAkBj2F,UAAUyyE,oBAAsB,WAC9C,IAAIjwE,EAAQxB,KACRyuC,EAAQzuC,KAAKqyC,WACjBryC,KAAKkyE,qBAAuBzjC,EAAM+P,oBAAmB,SAAUx6B,GAE3D,IAAIy3C,EAAQz3C,EAAM3jB,KACdo7D,EAAMpnB,MAAQ,IAAgB1L,KAG9B8yB,EAAM/xD,QAAUlI,IAGpBA,EAAMk0F,eACNl0F,EAAM2tD,aAAY,QAG1B8lC,EAAkBj2F,UAAUmwD,YAAc,SAAU3qC,QAClC,IAAVA,IAAoBA,GAAQ,IAC5BxkB,KAAK03B,aAAelT,KACpBxkB,KAAKmd,QACLnd,KAAK21F,gBACL31F,KAAKy5B,UAETz5B,KAAK41F,oBACL51F,KAAK61F,sBAETZ,EAAkBj2F,UAAU22F,cAAgB,WACxC31F,KAAK81F,QAAU,IAAI,EAAU,CACzBv5E,MAAOvc,KAAKu1F,UACZvqF,GAAI,oBAGZiqF,EAAkBj2F,UAAU62F,mBAAqB,WAC7C,IACI11E,EADUngB,KAAKwgD,aACCyF,YAAY7jC,WAChCpiB,KAAK+1F,WAAWzqE,UAAY,IAAK7kB,QAAQ,SAAU,qBAAuB,IAAM0Z,EACnE,GAATA,EACA,YAAMngB,KAAKg2F,WAAWlsE,OAGtB,YAAM9pB,KAAKg2F,WAAWpsE,QAG9BqrE,EAAkBj2F,UAAUw2F,mBAAqB,WAG7Cx1F,KAAKi2F,cAAgB,YAAM,OACtB9rE,SAASnqB,KAAKozB,UAAY,YAC1BnK,SAAS,OAAO,SAAU7iB,GAAK,OAAOA,EACtC+jB,SAAS,IAAc,iBAAkB,IAAa4nC,qBACtDlmC,QANM,2VAONC,SAETmpE,EAAkBj2F,UAAUowD,mBAAqB,WACzCpvD,KAAKqU,QAAQihF,uBAGRt1F,KAAKi2F,cAAc/gC,YAAcl1D,KAAK+5B,UACvC/5B,KAAK+5B,QAAQ28B,WAAW/zC,SAAQ,SAAUiK,GACtC,YAAMA,GAAI9C,UAEd9pB,KAAK+5B,QAAQtU,YAAYzlB,KAAKi2F,iBAI1ChB,EAAkBj2F,UAAUqwD,iBAAmB,WAC3C,GAAIrvD,KAAKqU,QAAQihF,sBACTt1F,KAAKi2F,cAAc/gC,WACnB,IACIl1D,KAAKi2F,cAAc/gC,WACdvjC,YAAY3xB,KAAKi2F,eAE1B,MAAOzpE,IAEP,QACIxsB,KAAK41F,mBAAkB,KAKvCX,EAAkBj2F,UAAUy6B,OAAS,WACjC,IAAIj4B,EAAQxB,KACZA,KAAK03B,aAAc,EACnB13B,KAAK65B,UAAY,YAAM,MAAO75B,KAAK02B,MAC9BvM,SAASnqB,KAAKozB,UAAY,WAC1BtH,QACL9rB,KAAKk2F,QACD,YAAM,MAAOl2F,KAAK65B,WACb1P,SAASnqB,KAAKozB,UAAY,SAC1BtH,QACT9rB,KAAKm2F,OAAS,YAAM,KAAMn2F,KAAKk2F,SAC1B/rE,SAASnqB,KAAKozB,UAAY,aAC1BtH,QACL9rB,KAAK+5B,QACD,YAAM,MAAO/5B,KAAK02B,MACbvM,SAASnqB,KAAKozB,UAAY,SAC1BtH,QACT,IAAK,IAAIjrB,EAAK,EAAGqQ,EAAKlR,KAAKk1F,OAAQr0F,EAAKqQ,EAAGhQ,OAAQL,IAAM,CACrD,IAAIu1F,EAAQllF,EAAGrQ,GACfb,KAAKq2F,YAAYD,GAErB,YAAMp2F,KAAKk2F,SACNjtE,SAAS,OAAO,SAAU7iB,GAAK,OAAOA,EACtC+jB,SACL3oB,EAAM4xB,UAAY,eACbnK,SAAS,KAAK,SAAU7iB,GAAK,OAAOA,EACpCmR,KAAK,OAAQ,yBACboT,GAAG,SAAS,SAAU6B,GAAK,OAAOhrB,EAAM80F,gBAAgB9pE,SAC7D,IAAI+pE,EAAY,YAAM,MAAOv2F,KAAK65B,WAC7B1P,SAASnqB,KAAKozB,UAAY,WAC1BtH,QAIL,GAHA9rB,KAAK+1F,WAAa,YAAM,MAAOQ,GAC1BpsE,SAASnqB,KAAKozB,UAAY,eAC1BtH,QACD9rB,KAAKqU,QAAQghF,mBAAqBr1F,KAAKqU,QAAQ+gF,iBAAkB,CACjE,IAAIoB,EAAM,YAAM,MAAOD,GAClBpsE,SAASnqB,KAAKozB,UAAY,kBAC1BtH,QACD9rB,KAAKqU,QAAQ+gF,mBACbp1F,KAAKg2F,UAAY,YAAM,SAAUQ,GAC5B7rE,GAAG,SAAS,WAAc,OAAOnpB,EAAMi1F,mBACvCtsE,SAASnqB,KAAKozB,UAAY,WAC1BjJ,SAASnqB,KAAKozB,UAAY,kBAC1B5J,MAAM,IAAK/iB,QAAQ,SAAU,mBAC7BqlB,SAEL9rB,KAAKqU,QAAQghF,mBACb,YAAM,SAAUmB,GACX7rE,GAAG,SAAS,WAAc,OAAOnpB,EAAMk1F,oBACvCvsE,SAASnqB,KAAKozB,UAAY,WAC1BjJ,SAASnqB,KAAKozB,UAAY,mBAC1B5J,MAAM,IAAK/iB,QAAQ,SAAU,sBAI9CwuF,EAAkBj2F,UAAU03F,eAAiB,WACzC,IAAIv3C,EAAUn/C,KAAKwgD,aACnBrB,EAAQmC,aAAa,CACjByE,QAAS,WAEL5G,EAAQuM,eAAe,IAAYwB,YAI/C+nC,EAAkBj2F,UAAUy3F,cAAgB,WACxC,IAAIt3C,EAAUn/C,KAAKwgD,aACnB,IAAI,GAAarB,GAASv1B,QAE9BqrE,EAAkBj2F,UAAU42F,kBAAoB,SAAU18D,GACtD,IAAI13B,EAAQxB,UACI,IAAZk5B,IAAsBA,GAAU,GACpCl5B,KAAKm2F,OAAO/4D,iBAAiB,MACxBza,SAAQ,SAAUiK,EAAI/gB,GACnB+gB,EAAGtC,UAAUib,SAAS,WACtB3Y,EAAGtC,UAAUE,OAAO,UAEpBhpB,EAAM2zF,mBAAqBtpF,GAC3B+gB,EAAGtC,UAAU3L,IAAI,aAGzB3e,KAAK+5B,QAAQqD,iBAAiB,IAAM,IAAc,UAC7Cza,SAAQ,SAAUiK,EAAI/gB,GACvB,YAAM+gB,GAAI9C,OACNtoB,EAAM2zF,mBAAqBtpF,IAC3B,YAAM+gB,GAAIhD,OACNsP,GACA13B,EAAM0zF,OAAOrpF,GAAOqtB,eAKpC+7D,EAAkBj2F,UAAUq3F,YAAc,SAAUD,GAChDp2F,KAAK22F,eAAeP,GACpB,IAAIxpF,EAAO5M,KAAK42F,gBAAgBR,GAChCA,EAAMn+D,KAAKrrB,IAEfqoF,EAAkBj2F,UAAU23F,eAAiB,SAAUP,GACnD,IAAI50F,EAAQxB,KACZ,OAAO,YAAM,KAAMA,KAAKm2F,QAGnBltE,SAAS,QAAQ,SAAU7iB,GAAK,OAAOA,EACvC+jB,SAAS,IAAc,mBACvBQ,GAAG,SAAS,SAAU6B,GACvBA,EAAE4D,kBACF5uB,EAAMq1F,qBAAqBT,SAE1BntE,SAAS,KAAK,SAAU7iB,GAAK,OAAOA,EACpCslB,QAAQ0qE,EAAM5sE,OACdjS,KAAK,OAAQ,yBAEb0R,SAAS,QAAQ,SAAU7iB,GAAK,OAAOA,EACvC+jB,SAAS,IAAc,gBACvBQ,GAAG,SAAS,SAAU6B,GACvBA,EAAE4D,kBACF5uB,EAAMs1F,kBAAkBV,SAEvBzrE,GAAG,SAAS,SAAU6B,GAAK,OAAOhrB,EAAMu1F,mBAAmBX,MAC3DtqE,SAETmpE,EAAkBj2F,UAAU43F,gBAAkB,SAAUR,GACpD,IAAI/wE,EAAU,YAAM,MAAOrlB,KAAK+5B,SAC3B5P,SAAS,IAAc,UACvBL,OACAgC,QAEL,OADA,YAAuBzG,GAChBA,GAEX4vE,EAAkBj2F,UAAUg4F,iBAAmB,WAC3C,IAAIx1F,EAAQxB,KACZA,KAAKm2F,OAAO/4D,iBAAiB,MACxBza,SAAQ,SAAUpZ,GACnB/H,EAAM20F,OAAOxkE,YAAYpoB,MAE7B,IAAK,IAAI1I,EAAK,EAAGqQ,EAAKlR,KAAKk1F,OAAQr0F,EAAKqQ,EAAGhQ,OAAQL,IAAM,CACrD,IAAIu1F,EAAQllF,EAAGrQ,GACfb,KAAK22F,eAAeP,KAG5BnB,EAAkBj2F,UAAUi4F,YAAc,SAAUb,GAChD,IAAIvqF,EAAQ7L,KAAKk1F,OAAO5pF,QAAQ8qF,GAChC,GAAIvqF,GAAS,EAAG,CACZ7L,KAAKk1F,OAAOvpF,OAAOE,EAAO,GAC1B,IAAIzK,EAASpB,KAAKm2F,OAAOz/B,WAAW7qD,GACpC7L,KAAKm2F,OAAOxkE,YAAYvwB,GACxB,IAAIwL,EAAO5M,KAAK+5B,QAAQ28B,WAAW7qD,GACnC7L,KAAK+5B,QAAQpI,YAAY/kB,GACrB5M,KAAKk1F,OAAOh0F,OAAS,EACrBlB,KAAKm1F,iBACDtpF,EAAQ7L,KAAKk1F,OAAOh0F,OACd2K,EACA7L,KAAKk1F,OAAOh0F,OAAS,EAG/BlB,KAAKm1F,kBAAoB,EAE7Bn1F,KAAK41F,sBAGbX,EAAkBj2F,UAAUs3F,gBAAkB,SAAUlnE,GACpD,IAAI5tB,EAAQxB,KACAA,KAAKwgD,aAAayF,YAC9BjmD,KAAK81F,QAAQjsB,SAAS,CAClB3nC,OAAQ9S,EAAG3lB,OACXsgE,qBAAsB,SAAU1pE,GAC5B,IAAI+1F,EAAQ50F,EAAM01F,eAAe72F,EAAK2K,IAClCmsF,EAAY31F,EAAMo1F,gBAAgBR,GACtCA,EAAMn+D,KAAKk/D,GACXf,EAAMvN,qBACD71E,MAAK,SAAU+1E,GACZA,GACAvnF,EAAM0zF,OAAOnvF,KAAKqwF,GAClB50F,EAAM2zF,iBAAmB3zF,EAAM0zF,OAAOh0F,OAAS,EAC/CM,EAAMm1F,eAAeP,GACrB50F,EAAMo0F,oBACNp0F,EAAM41F,cAGN51F,EAAMu4B,QAAQpI,YAAYwlE,MAG7BhkF,OAAM,SAAU3L,GAAS,OAAOjB,QAAQiB,MAAMA,UAI/DytF,EAAkBj2F,UAAU+3F,mBAAqB,SAAUX,GACvD,IAAIvqF,EAAQ7L,KAAKk1F,OAAO5pF,QAAQ8qF,GAChCp2F,KAAKq3F,eAAexrF,IAExBopF,EAAkBj2F,UAAU63F,qBAAuB,SAAUT,GACzD,IAAI50F,EAAQxB,KACZo2F,EAAMvN,qBACD71E,MAAK,SAAU+1E,GACZA,IACAvnF,EAAMw1F,mBACNx1F,EAAMo0F,oBACNp0F,EAAM41F,iBAGTjkF,OAAM,SAAU3L,GAAS,OAAOjB,QAAQiB,MAAMA,OAEvDytF,EAAkBj2F,UAAU83F,kBAAoB,SAAUV,GACtD,IAAI50F,EAAQxB,KACHA,KAAK6hF,mBACX97C,YAAY,IAAKt/B,QAAQ,SAAU,uBAAwB,IAAKA,QAAQ,SAAU,yBAChFZ,QAAQ,eAAgBuwF,EAAM5sE,QAC9BxW,MAAK,SAAUskF,GACZA,IACA91F,EAAMy1F,YAAYb,GAClB50F,EAAM41F,iBAGTjkF,OAAM,SAAU3L,GAAS,OAAOjB,QAAQiB,MAAMA,OAEvDytF,EAAkBj2F,UAAUme,MAAQ,WAChCnd,KAAK03B,aAAc,EACnB13B,KAAK02B,KAAKpL,UAAY,IAE1B2pE,EAAkBj2F,UAAUu4F,6BAA+B,WACvD,GAA2B,IAAvBv3F,KAAKk1F,OAAOh0F,OAAc,CAC1B,IAAIk1F,EAAQp2F,KAAKk3F,eAAelc,EAAUgP,UAC1ChqF,KAAKk1F,OAAOnvF,KAAKqwF,GACjBp2F,KAAKm1F,iBAAmB,IAGhCF,EAAkBj2F,UAAUq4F,eAAiB,SAAUxrF,GAC/C7L,KAAKm1F,kBAAoBtpF,IACzB7L,KAAKm1F,iBAAmBtpF,EACxB7L,KAAK41F,oBACL51F,KAAKo3F,eAGbnC,EAAkBj2F,UAAUq7D,WAAa,SAAUhmD,GAC/C,IAAUlQ,WAAWnE,KAAKqU,QAASA,IAEvC4gF,EAAkBj2F,UAAU6iF,iBAAmB,WAC3C,OAAO7hF,KAAKwgD,aACPS,cACA4gC,oBAEToT,EAAkBj2F,UAAUk4F,eAAiB,SAAU54E,GACnD,IAAIjK,EAAUrU,KAAKqU,QAAQiK,GAC3B,OAAQA,GACJ,KAAK08D,EAAUyT,MACX,OAAO,IAAI,GAAczuF,KAAMqU,GACnC,KAAK2mE,EAAU8W,WACX,OAAO,IAAI,GAAmB9xF,KAAMqU,GACxC,QACI,OAAO,IAAI,GAAkBrU,KAAMqU,KAG/C4gF,EAAkBj2F,UAAUo4F,WAAa,WACrC,IAAI3oD,EAAQzuC,KAAKqyC,WACjB5D,EAAMiJ,UAAYjJ,EAAMiJ,WAAa,GACrCjJ,EAAMiJ,UAAUw9C,OAAS,CACrBrsB,OAAQ7oE,KAAKm1F,iBACb54E,MAAOvc,KAAKk1F,OAAOtzF,KAAI,SAAU41F,GAAK,OAAOA,EAAE9kD,iBAEnDjE,EAAM2F,iBAAiB,CACnBC,KAAM,IAAgBojD,UACtB/tF,OAAQ1J,QAGhBi1F,EAAkBj2F,UAAU02F,aAAe,WACvC,IAAK,IAAI70F,EAAK,EAAGqQ,EAAKlR,KAAKk1F,OAAQr0F,EAAKqQ,EAAGhQ,OAAQL,IAAM,CACzCqQ,EAAGrQ,GACT04B,UAEVv5B,KAAKy1F,cAETR,EAAkBj2F,UAAUy2F,WAAa,WACrC,IAAIhnD,EAAQzuC,KAAKqyC,WAEjB,GADAryC,KAAKk1F,OAAS,GACVzmD,EAAMiJ,WAAajJ,EAAMiJ,UAAUw9C,OAAQ,CAE3C,IADA,IACSr0F,EAAK,EAAG62F,EADLjpD,EAAMiJ,UAAUw9C,OAAO34E,MACD1b,EAAK62F,EAAQx2F,OAAQL,IAAM,CACzD,IAAI82F,EAAKD,EAAQ72F,GACbu1F,EAAQp2F,KAAKk3F,eAAeS,EAAGr5E,MACnC83E,EAAMhgF,aAAauhF,GACnB33F,KAAKk1F,OAAOnvF,KAAKqwF,GAErB,IAAIvtB,EAASp6B,EAAMiJ,UAAUw9C,OAAOrsB,OACpC7oE,KAAKm1F,iBAAoBtsB,GAAU,EAC7BA,EACA7oE,KAAKk1F,OAAOh0F,OAAS,OAG3BlB,KAAKu3F,gCAGNtC,EA1a2B,CA2apC,KCncE,GAAwC,WACxC,IAAIviF,EAAgB,SAAUhV,EAAG0I,GAI7B,OAHAsM,EAAgB5U,OAAOyV,gBAClB,CAAEC,UAAW,cAAgBvJ,OAAS,SAAUvM,EAAG0I,GAAK1I,EAAE8V,UAAYpN,IACvE,SAAU1I,EAAG0I,GAAK,IAAK,IAAIlH,KAAKkH,EAAOA,EAAEnH,eAAeC,KAAIxB,EAAEwB,GAAKkH,EAAElH,MACpDxB,EAAG0I,IAE5B,OAAO,SAAU1I,EAAG0I,GAEhB,SAASqN,IAAOzT,KAAK0T,YAAchW,EADnCgV,EAAchV,EAAG0I,GAEjB1I,EAAEsB,UAAkB,OAANoH,EAAatI,OAAOY,OAAO0H,IAAMqN,EAAGzU,UAAYoH,EAAEpH,UAAW,IAAIyU,IAV3C,GAgBxC,GAA8B,SAAUK,GAExC,SAAS8jF,EAAalhE,GAClB,IAAIl1B,EAAQsS,EAAOvW,KAAKyC,KAAM02B,IAAS12B,KAUvC,OATAwB,EAAM6S,QAAU,CACZ0gF,UAAW,MACXj8B,cAAc,GAElBt3D,EAAM0lF,aAAe,SAAU93D,GACtB5tB,EAAMk1B,KAAKvG,aAAa,aACzB,IAAI,GAAa3uB,EAAM29C,SAASv1B,KAAKpoB,EAAM6S,QAAQ0gF,YAE3DvzF,EAAM8tD,MAAQ,IAAY3mB,IACnBnnC,EAuBX,OAnCA,GAAUo2F,EAAc9jF,GAcxB8jF,EAAa54F,UAAUosD,cAAgB,WACnC,MAAO,gBAEXwsC,EAAa54F,UAAUi5B,KAAO,SAAUknB,EAAS9qC,GAC7CP,EAAO9U,UAAUi5B,KAAK16B,KAAKyC,KAAMm/C,EAAS9qC,GAC1CrU,KAAKqU,QAAU,IAAUlQ,WAAWnE,KAAKqU,QAASA,GAClDrU,KAAK02B,KAAK5L,iBAAiB,QAAS9qB,KAAKknF,eAE7C0Q,EAAa54F,UAAUmwD,YAAc,WAC7BnvD,KAAKqU,QAAQykD,cAAgB94D,KAAKm/C,QAAQ8G,aACvCjmD,KAAKm/C,QAAQ8G,YAAY3jC,iBAAmB,EAC/CtiB,KAAK02B,KAAK/M,gBAAgB,YAG1B3pB,KAAK02B,KAAKnN,aAAa,WAAY,KAG3CquE,EAAa54F,UAAUuwD,YAAc,WACjCvvD,KAAK02B,KAAK/M,gBAAgB,YAC1B3pB,KAAK02B,KAAK1L,oBAAoB,QAAShrB,KAAKknF,eAEzC0Q,EApCsB,CAqC/B,KCrDE,GAAwC,WACxC,IAAIllF,EAAgB,SAAUhV,EAAG0I,GAI7B,OAHAsM,EAAgB5U,OAAOyV,gBAClB,CAAEC,UAAW,cAAgBvJ,OAAS,SAAUvM,EAAG0I,GAAK1I,EAAE8V,UAAYpN,IACvE,SAAU1I,EAAG0I,GAAK,IAAK,IAAIlH,KAAKkH,EAAOA,EAAEnH,eAAeC,KAAIxB,EAAEwB,GAAKkH,EAAElH,MACpDxB,EAAG0I,IAE5B,OAAO,SAAU1I,EAAG0I,GAEhB,SAASqN,IAAOzT,KAAK0T,YAAchW,EADnCgV,EAAchV,EAAG0I,GAEjB1I,EAAEsB,UAAkB,OAANoH,EAAatI,OAAOY,OAAO0H,IAAMqN,EAAGzU,UAAYoH,EAAEpH,UAAW,IAAIyU,IAV3C,GAexC,GAA8B,SAAUK,GAMxC,SAAS+jF,EAAanhE,GAClB,IAAIl1B,EAAQsS,EAAOvW,KAAKyC,KAAM02B,IAAS12B,KAOvC,OANAwB,EAAMs2F,aAAe,WACjB,IAAI5zF,EAAY1C,EAAMu2F,SAAS15F,MAC/B,IAAK4F,iBAAiBC,GACtB1C,EAAM29C,QAAQuM,eAAe,IAAY/iB,MAE7CnnC,EAAM8tD,MAAQ,IAAYz/B,KACnBruB,EA6CX,OA1DA,GAAUq2F,EAAc/jF,GAexB+jF,EAAa74F,UAAUi5B,KAAO,SAAUknB,EAAS9qC,GAC7CP,EAAO9U,UAAUi5B,KAAK16B,KAAKyC,KAAMm/C,EAAS9qC,GAC1CrU,KAAKmd,QACLnd,KAAKy5B,UAETo+D,EAAa74F,UAAUosD,cAAgB,WACnC,MAAO,gBAEXysC,EAAa74F,UAAUy6B,OAAS,WAC5B,IAAIu+D,EAAU,IAAKhyF,aACnB,GAAIgyF,EAAQ92F,OAAS,EAAG,CACpBlB,KAAK+3F,SAAWlrF,SAASyY,cAAc,UACvC,IAAK,IAAIzkB,EAAK,EAAGo3F,EAAYD,EAASn3F,EAAKo3F,EAAU/2F,OAAQL,IAAM,CAC/D,IAAIoF,EAASgyF,EAAUp3F,GACnBq3F,EAAWrrF,SAASyY,cAAc,UACtC4yE,EAAS75F,MAAQ4H,EAAOA,OACxBiyF,EAAS5sE,UAAYtrB,KAAKm4F,kBAAkBlyF,GAC5CjG,KAAK+3F,SAAStyE,YAAYyyE,GAE9Bl4F,KAAK+3F,SAAS15F,MAAQ,IAAKgI,mBAC3BrG,KAAK+3F,SAASztE,UAAU3L,IAAI,cAC5B3e,KAAK+3F,SAASjtE,iBAAiB,SAAU9qB,KAAK83F,cAC9C93F,KAAK02B,KAAKjR,YAAYzlB,KAAK+3F,YAGnCF,EAAa74F,UAAUm5F,kBAAoB,SAAUlyF,GACjD,OAAIA,EAAO1C,aAAe0C,EAAOzC,YACtByC,EAAO1C,YAAc,MAAQ0C,EAAOzC,YAEtCyC,EAAO1C,YACL0C,EAAO1C,YAET0C,EAAOzC,YACLyC,EAAOzC,YAEXyC,EAAOA,QAElB4xF,EAAa74F,UAAUme,MAAQ,WAC3Bnd,KAAK02B,KAAKpL,UAAY,IAE1BusE,EAAa74F,UAAUuwD,YAAc,WACjCvvD,KAAKmd,SAEF06E,EA3DsB,CA4D/B,KC3EE,GAAwC,WACxC,IAAInlF,EAAgB,SAAUhV,EAAG0I,GAI7B,OAHAsM,EAAgB5U,OAAOyV,gBAClB,CAAEC,UAAW,cAAgBvJ,OAAS,SAAUvM,EAAG0I,GAAK1I,EAAE8V,UAAYpN,IACvE,SAAU1I,EAAG0I,GAAK,IAAK,IAAIlH,KAAKkH,EAAOA,EAAEnH,eAAeC,KAAIxB,EAAEwB,GAAKkH,EAAElH,MACpDxB,EAAG0I,IAE5B,OAAO,SAAU1I,EAAG0I,GAEhB,SAASqN,IAAOzT,KAAK0T,YAAchW,EADnCgV,EAAchV,EAAG0I,GAEjB1I,EAAEsB,UAAkB,OAANoH,EAAatI,OAAOY,OAAO0H,IAAMqN,EAAGzU,UAAYoH,EAAEpH,UAAW,IAAIyU,IAV3C,GAkBxC,GAAiC,SAAUK,GAM3C,SAASskF,EAAgB1hE,GACrB,IAAIl1B,EAAQsS,EAAOvW,KAAKyC,KAAM02B,IAAS12B,KAGvC,OAFAwB,EAAM0wE,qBAAuB,KAC7B1wE,EAAM8tD,MAAQ,IAAYpe,MAAQ,IAAYqd,YACvC/sD,EA4EX,OArFA,GAAU42F,EAAiBtkF,GAW3BskF,EAAgBp5F,UAAUi5B,KAAO,SAAUknB,EAAS9qC,GAChDP,EAAO9U,UAAUi5B,KAAK16B,KAAKyC,KAAMm/C,EAAS9qC,GAC1CrU,KAAKuvD,cACLvvD,KAAKyxE,uBAET3zE,OAAOC,eAAeq6F,EAAgBp5F,UAAW,YAAa,CAC1Df,IAAK,WACD,MAAO,mBAEXD,YAAY,EACZ0gB,cAAc,IAElB05E,EAAgBp5F,UAAUosD,cAAgB,WACtC,MAAO,aAKXgtC,EAAgBp5F,UAAUmwD,YAAc,WACpCnvD,KAAKy5B,UAET2+D,EAAgBp5F,UAAUy6B,OAAS,WAC/Bz5B,KAAK02B,KAAKpM,UAAU3L,IAAI,GAAK3e,KAAKozB,WAClC,IAAIilE,EAAW,IAAatmC,oBACxBsmC,GACAr4F,KAAK02B,KAAKpM,UAAU3L,IAAI05E,GAEvBr4F,KAAKs4F,WACNt4F,KAAKs4F,SAAWzrF,SAASyY,cAAc,OACvCtlB,KAAKs4F,SAAShuE,UAAU3L,IAAI3e,KAAKozB,UAAY,SAC7CpzB,KAAKs4F,SAAShuE,UAAU3L,IAAI3e,KAAKozB,UAAY,UAC7CpzB,KAAK02B,KAAKjR,YAAYzlB,KAAKs4F,WAE1Bt4F,KAAKu4F,eACNv4F,KAAKu4F,aAAe1rF,SAASyY,cAAc,QAC3CtlB,KAAKu4F,aAAajtE,UAAY,IAC9BtrB,KAAKu4F,aAAajuE,UAAU3L,IAAI3e,KAAKozB,UAAY,aACjDpzB,KAAK02B,KAAKjR,YAAYzlB,KAAKu4F,eAE1Bv4F,KAAKw4F,cACNx4F,KAAKw4F,YAAc3rF,SAASyY,cAAc,QAC1CtlB,KAAKw4F,YAAYluE,UAAU3L,IAAI3e,KAAKozB,UAAY,YAChDpzB,KAAKw4F,YAAYluE,UAAU3L,IAAI3e,KAAKozB,UAAY,UAChDpzB,KAAK02B,KAAKjR,YAAYzlB,KAAKw4F,cAG/B,IAAIC,EAAYz4F,KAAKm/C,QAAQ9M,WAAW72B,UACxCxb,KAAKs4F,SAASt5B,YAAcy5B,EAC5Bz4F,KAAKw4F,YAAYx5B,YAAcy5B,EAC/Bz4F,KAAKu4F,aAAa3yE,MAAM8hD,WAAa1nE,KAAKm/C,QAAQ9M,WAAWqG,aAAe,UAAY,UAE5F0/C,EAAgBp5F,UAAUme,MAAQ,WAC9Bnd,KAAK02B,KAAKpL,UAAY,GACtBtrB,KAAKs4F,SAAW,KAChBt4F,KAAKw4F,YAAc,KACnBx4F,KAAKu4F,aAAe,MAExBH,EAAgBp5F,UAAUyyE,oBAAsB,WAC5C,IAAIjwE,EAAQxB,KACRyuC,EAAQzuC,KAAKm/C,QAAQ9M,WACzBryC,KAAKkyE,qBAAuBzjC,EAAM+P,oBAAmB,SAAUx6B,GAC3DxiB,EAAM2tD,kBAGdipC,EAAgBp5F,UAAUwyE,oBAAsB,WACxCxxE,KAAKkyE,sBACOlyE,KAAKm/C,QAAQ9M,WACnBoM,sBAAsBz+C,KAAKkyE,uBAGzCkmB,EAAgBp5F,UAAUuwD,YAAc,WACpCvvD,KAAKmd,QACLnd,KAAKwxE,uBAEF4mB,EAtFyB,CAuFlC,KCpFF,IAAI,GAAsB,WACtB,SAASM,IACL14F,KAAK24F,SAAW,CAAC9rF,UACjB7M,KAAK44F,mBAAqB,CACtB9/B,cAAc,EACd+/B,kCAAkC,EAClCC,oBAAqB,4BACrB32F,OAAQ,CACJ42F,0BAA0B,EAC1BlgC,WAAW,EACXy8B,sBAAsB,GAE1BptC,QAAS,CACLwR,WAAY,CACRriC,YAAY,KAIxBr3B,KAAKg5F,cAAgB,GACrBh5F,KAAK84D,cAAe,EACpB94D,KAAKi5F,eACLj5F,KAAKk5F,gBACLl5F,KAAKm5F,oBAAsB,SAAU3xF,GACjCjB,QAAQiB,MAAMA,EAAMgtC,OAAS,KAAOhtC,EAAM8S,MACtC9S,EAAMqjD,aACNtkD,QAAQiB,MAAMA,EAAMqjD,cAiehC,OA7dA6tC,EAAK15F,UAAUi6F,aAAe,WAC1Bj5F,KAAKm/C,QAAU,IAAI,IACnBn/C,KAAKm/C,QACA8B,cACAm4C,+BAA8B,WAAc,OAAO,IAAI,QAEhEV,EAAK15F,UAAUi5B,KAAO,SAAU5jB,GAExBA,GAAWA,EAAQglF,cACnBr5F,KAAK24F,SAAW34F,KAAK24F,SAASz7E,OAAO7I,EAAQglF,cACjDhlF,EAAUrU,KAAKs5F,YAAYjlF,GAC3BrU,KAAKu5F,YAAYllF,GACjBrU,KAAKm/C,QAAQlnB,KAAK5jB,GAClBrU,KAAKw5F,YAETd,EAAK15F,UAAUw6F,SAAW,aAC1Bd,EAAK15F,UAAUu6F,YAAc,SAAUllF,GACnC,IAAImlD,EAAa,aACbigC,EAAe,eACfC,EAAgB,gBAChBC,EAAc,cACd5gC,EAAa,aAEb6gC,EAAY,YACZC,EAAa,aACbC,EAAiB,iBACjBhC,EAAe,eACfiC,EAAiB,iBACjBC,EAAc,oBACdC,EAAc,cACdC,EAAe,eACf7lF,EAAQ8lF,QACRJ,EAAiB1lF,EAAQ8lF,MAAMJ,gBAAkBA,EACjDvgC,EAAanlD,EAAQ8lF,MAAM3gC,YAAcA,EACzCigC,EAAeplF,EAAQ8lF,MAAMV,cAAgBA,EAC7C1gC,EAAa1kD,EAAQ8lF,MAAMphC,YAAcA,EACzC2gC,EAAgBrlF,EAAQ8lF,MAAMT,eAAiBA,EAC/CC,EAActlF,EAAQ8lF,MAAMR,aAAeA,EAC3CG,EAAiBzlF,EAAQ8lF,MAAML,gBAAkBA,EACjDD,EAAaxlF,EAAQ8lF,MAAMN,YAAcA,EACzC/B,EAAezjF,EAAQ8lF,MAAMrC,cAAgBA,EAC7CkC,EAAc3lF,EAAQ8lF,MAAMH,aAAeA,EAC3CC,EAAc5lF,EAAQ8lF,MAAMC,iBAAmBH,EAC/CL,EAAYvlF,EAAQ8lF,MAAMP,WAAaA,EACvCM,EAAe7lF,EAAQ8lF,MAAME,eAAiBH,GAElD,IAAII,EAAYt6F,KAAKu6F,eAAeb,GAChCY,IAAct6F,KAAKw6F,sBACnBx6F,KAAKw6F,oBAAsBx6F,KAAKy6F,0BAA0BH,GAC1Dt6F,KAAKm/C,QAAQmM,UAAUtrD,KAAKw6F,sBAEhC,IAAIE,EAAY16F,KAAKu6F,eAAed,GAChCiB,IAAc16F,KAAK26F,qBACnB36F,KAAK26F,mBAAqB36F,KAAK46F,yBAAyBF,GACxD16F,KAAKm/C,QAAQmM,UAAUtrD,KAAK26F,qBAEhC,IAAIE,EAAY76F,KAAKu6F,eAAexhC,GAChC8hC,IAAc76F,KAAK86F,mBACnB96F,KAAK86F,iBAAmB96F,KAAK+6F,uBAAuBF,GACpD76F,KAAKm/C,QAAQmM,UAAUtrD,KAAK86F,mBAEhC,IAAIjW,EAAY7kF,KAAKu6F,eAAe/gC,GAMpC,GALIqrB,IAAc7kF,KAAKg7F,mBACnBh7F,KAAKg7F,iBAAmBh7F,KAAKi7F,uBAAuBpW,GACpD7kF,KAAKm/C,QAAQmM,UAAUtrD,KAAKg7F,mBAEhCh7F,KAAKk7F,gBAAkBl7F,KAAKu6F,eAAeZ,GACvC35F,KAAKk7F,gBAAiB,CACtB,IAAKl7F,KAAKm7F,iBAAkB,CACxB,IAAIC,EAAY,YAAWp7F,KAAKk7F,gBAAiB,MAAO,CAAE31E,SAAU,oBACpEvlB,KAAKm7F,iBAAmBn7F,KAAKq7F,uBAAuBD,GACpDp7F,KAAKm/C,QAAQmM,UAAUtrD,KAAKm7F,kBAEhC,GAAIn7F,KAAKg5F,cAAcngC,YAAc74D,KAAKs7F,YAAa,CACnD,IAAIC,EAAa,YAAWv7F,KAAKk7F,gBAAiB,MAAO,CAAE31E,SAAU,oBACrEg2E,EAAW31E,MAAMC,QAAU,OAC3B7lB,KAAKs7F,YAAct7F,KAAKw7F,kBAAkBD,GAC1Cv7F,KAAKm/C,QAAQmM,UAAUtrD,KAAKs7F,cAGpC,IAAIG,EAAYz7F,KAAKu6F,eAAeR,GAChC0B,IAAcz7F,KAAK07F,kBACnB17F,KAAK07F,gBAAkB17F,KAAK27F,sBAAsBF,GAClDz7F,KAAKm/C,QAAQmM,UAAUtrD,KAAK07F,kBAEhC,IAAIE,EAAY57F,KAAKu6F,eAAeX,GAChCgC,IAAc57F,KAAK67F,kBACnB77F,KAAK67F,gBAAkB77F,KAAK87F,sBAAsBF,GAClD57F,KAAKm/C,QAAQmM,UAAUtrD,KAAK67F,kBAEhC,IAAIE,EAAY/7F,KAAKu6F,eApEJ,cAqEbwB,IAAc/7F,KAAKg8F,mBACnBh8F,KAAKg8F,iBAAmBh8F,KAAKi8F,uBAAuBF,GACpD/7F,KAAKm/C,QAAQmM,UAAUtrD,KAAKg8F,mBAEhC,IAAIE,EAAYl8F,KAAKu6F,eAAeV,GAChCqC,IAAcl8F,KAAKm8F,gBACnBn8F,KAAKm8F,cAAgBn8F,KAAKo8F,oBAAoBF,GAC9Cl8F,KAAKm/C,QAAQmM,UAAUtrD,KAAKm8F,gBAEhC,IAAIE,EAAYr8F,KAAKu6F,eAAeT,GAChCuC,IAAcr8F,KAAKs8F,uBACnBt8F,KAAKs8F,qBAAuBt8F,KAAKu8F,2BAA2BF,GAC5Dr8F,KAAKm/C,QAAQmM,UAAUtrD,KAAKs8F,uBAEhC,IAAIE,EAAYx8F,KAAKu6F,eAAezC,GACpC,GAAI0E,EAAW,CACX,IAAItxC,EAASlrD,KAAKy8F,mBAAmBD,GACrCx8F,KAAKm/C,QAAQmM,UAAUJ,GAE3B,IAAIwxC,EAAY18F,KAAKu6F,eAAeP,GAChC0C,IAAc18F,KAAK28F,yBACnB38F,KAAK28F,uBAAyB38F,KAAK48F,wBAAwBF,GAC3D18F,KAAKm/C,QAAQmM,UAAUtrD,KAAK28F,yBAEhC,IAAIE,EAAY78F,KAAKu6F,eAAeL,GAChC2C,IAAc78F,KAAK88F,eACnB98F,KAAK88F,aAAe98F,KAAK+8F,mBAAmBF,GAC5C78F,KAAKm/C,QAAQmM,UAAUtrD,KAAK88F,eAEhC98F,KAAKg9F,gBAAkBh9F,KAAKu6F,eAAeN,IAE/CvB,EAAK15F,UAAUu7F,eAAiB,SAAU0C,GACtC,GAA2B,iBAAhBA,EAA0B,CACjC,IAAK,IAAIp8F,EAAK,EAAGqQ,EAAKlR,KAAK24F,SAAU93F,EAAKqQ,EAAGhQ,OAAQL,IAAM,CACvD,IACI+rB,EADU1b,EAAGrQ,GACAq3B,eAAe+kE,GAChC,GAAIrwE,EACA,OAAOA,EAEf,OAAO,KAEX,OAAOqwE,GAEXvE,EAAK15F,UAAUk+F,2BAA6B,SAAU13E,GAElD,IADA,IAAIrjB,EAAS,GACJtB,EAAK,EAAGqQ,EAAKlR,KAAK24F,SAAU93F,EAAKqQ,EAAGhQ,OAAQL,IAGjD,IAFA,IACIs8F,EADUjsF,EAAGrQ,GACMu8B,iBAAiB,IAAM5X,GACrCpoB,EAAI,EAAGA,EAAI+/F,EAASj8F,OAAQ9D,IACjC+E,EAAO4D,KAAKo3F,EAAS//F,IAG7B,OAAO+E,GAMXu2F,EAAK15F,UAAUo+F,oBAAsB,SAAUn8E,GACvCjhB,KAAKg9F,sBAAqC,IAAV/7E,IAChCjhB,KAAKg9F,gBAAgBp3E,MAAMC,QAAU,SACrC7lB,KAAKg9F,gBAAgB1xE,UAAY,IAAK7kB,QAAQ,kBAAkBZ,QAAQ,MAAOob,EAAM5Z,cAG7FqxF,EAAK15F,UAAUs6F,YAAc,SAAUjlF,GCxMpC,IAA2BgpF,EAC1BC,EACAC,EACAC,ED4OA,OAtCInpF,EACAA,EAAU,IAAUlQ,WAAW,GAAInE,KAAK44F,mBAAoBvkF,IC1MtCgpF,ED6MMr9F,KAAK44F,mBC5MrC0E,EAAatwF,OAA0B,kBACvCuwF,EAAiBvwF,OAA8B,sBAC/CwwF,EAAaH,EACbC,KACAE,EAAa,CAAEh0C,OAAQ,KAEZA,OAAmB,WAAI8zC,EAAW7zC,WAC7C+zC,EAAWh0C,OAAoB,YAAI8zC,EAAWG,YAC9CD,EAAWh0C,OAAqB,aAAI8zC,EAAWI,aAC/CF,EAAWh0C,OAAwB,gBAAI8zC,EAAWK,gBAClDH,EAAWh0C,OAAuB,eAAI8zC,EAAWM,eACjDJ,EAAWh0C,OAAqB,aAAI8zC,EAAWO,aAC/CL,EAAWh0C,OAAqB,aAAI8zC,EAAWQ,aAC/CN,EAAWh0C,OAAyB,iBAAI8zC,EAAWS,iBACnDP,EAAWh0C,OAAqB,aAAI8zC,EAAWU,aAC/CR,EAAWh0C,OAAsB,cAAI8zC,EAAWK,gBAChDH,EAAWh0C,OAAuB,eAAI8zC,EAAWW,eAEjDT,EAAWh0C,OAAyB,iBAAI8zC,EAAWY,iBACnDV,EAAW52C,iBAAmB02C,EAAW12C,iBACzC42C,EAAW32C,iBAAmBy2C,EAAWz2C,iBACzC22C,EAAWxyC,eAAiBsyC,EAAWtyC,eACvCwyC,EAAWr0C,eAAiBm0C,EAAWn0C,eACvCq0C,EAAWv3F,OAASq3F,EAAWr3F,OAC/Bu3F,EAAWzyC,aAAeuyC,EAAWvyC,aACrCyyC,EAAWnzC,SAAW,GACtBmzC,EAAWnzC,SAASjyB,OAASklE,EAAWllE,OACxColE,EAAWnzC,SAASC,mBAAqBgzC,EAAWhzC,mBACpDkzC,EAAWnzC,SAASV,YAAc2zC,EAAW3zC,YAC7C6zC,EAAWnzC,SAASR,YAAcyzC,EAAWzzC,YAC7C2zC,EAAWnzC,SAASG,aAAe8yC,EAAW9yC,aAC9CgzC,EAAWnzC,SAASE,eAAiB+yC,EAAW/yC,eAChDizC,EAAWnzC,SAASS,mBAAqBwyC,EAAWxyC,mBACpD0yC,EAAWt1C,QAAU,GACrBs1C,EAAWt1C,QAAQuxC,aAAe6D,EAAW7D,aAC7C+D,EAAWt1C,QAAQwxC,cAAgB4D,EAAW5D,cAC9C8D,EAAWt1C,QAAQsR,WAAa8jC,EAAW9jC,WAC3CgkC,EAAWt1C,QAAQ6Q,WAAaukC,EAAWvkC,WAC3CykC,EAAWr7F,OAAS,CAAEg1B,OAAQ,GAAI0hC,WAAW,IAE7C0kC,SACwC,IAA7BA,EAAe1kC,YACtB2kC,EAAWr7F,OAAO02D,UAAY0kC,EAAe1kC,WAEjD2kC,EAAWr7F,OAAOg1B,OAASomE,EAAepmE,OACtCqmE,EAAWr7F,OAAOg1B,SAClBqmE,EAAWr7F,OAAOmzB,KAAKkB,aAAe8mE,EAAW9mE,eD8JjDniB,EC3JDmpF,GD8JEnpF,EAAQm1C,SACTn1C,EAAQm1C,OAAS,IAEhBn1C,EAAQg2C,WACTh2C,EAAQg2C,SAAW,IAElBh2C,EAAQg2C,SAASI,UAClBp2C,EAAQg2C,SAASI,QAAUzqD,KAAKm5F,qBAE/B9kF,EAAQ6zC,UACT7zC,EAAQ6zC,QAAU,IAEtBloD,KAAKg5F,cAAgB,IAAU70F,WAAWnE,KAAKg5F,cAAe3kF,EAAQlS,aAChB,IAA3CnC,KAAKg5F,cAAc1D,qBAC1Bt1F,KAAKg5F,cAAc1D,sBAAuB,EAErCjhF,EAAQ6zC,QAAQ8xC,cACrB3lF,EAAQ6zC,QAAQ8xC,YAAY1E,qBACtBt1F,KAAKg5F,cAAc1D,sBAGxBjhF,EAAQ6zC,QAAQi2C,WACjB9pF,EAAQ6zC,QAAQi2C,SAAW9pF,EAAQ6zC,QAAQwR,YAAc,IAE7DrlD,EAAQ6zC,QAAQi2C,SAAShnE,OACrB,IAAUhzB,WAAWnE,KAAKg5F,cAAc7hE,OAAQ9iB,EAAQ6zC,QAAQi2C,SAAShnE,QAC7En3B,KAAK84D,aAAezkD,EAAQykD,eAAgB,EACvCzkD,EAAQ6zC,QAAQ40C,eACjBzoF,EAAQ6zC,QAAQ40C,aAAe,IAEnCzoF,EAAQ6zC,QAAQ40C,aAAahkC,aAAe94D,KAAK84D,aAC1CzkD,GAEXqkF,EAAK15F,UAAUwhD,WAAa,WACxB,OAAOxgD,KAAKm/C,SAMhBu5C,EAAK15F,UAAUo/F,iBAAmB,SAAU/W,GACxCrnF,KAAKm/C,QAAQ8B,cACRm4C,+BAA8B,WAAc,OAAO/R,MAM5DqR,EAAK15F,UAAUsiD,aAAe,SAAUjtC,GACpC,IAAI7S,EAAQxB,KACZqU,EAAUA,GAAW,CAAE6kB,SAAS,GAChCl5B,KAAKq+F,oBACLr+F,KAAKm/C,QAAQmC,aAAa,CACtBjtC,QAAS,CACL8M,KAAM9M,EAAQ8M,KACdD,SAAU7M,EAAQ6M,UAEtB6kC,QAAS,SAAU5jD,GACfX,EAAM88F,oBACN98F,EAAM+8F,sBACN/8F,EAAM47F,oBAAoB57F,EAAM29C,QAAQ8G,YAAY7jC,aAC5B,IAApB/N,EAAQ6kB,SACR13B,EAAM29C,QAAQuM,eAAe,IAAYwB,QAEzC74C,EAAQ0P,UACR1P,EAAQ0P,WAER1P,EAAQ0xC,SACR1xC,EAAQ0xC,WAGhBv+C,MAAO,WACHhG,EAAM88F,wBAIlB5F,EAAK15F,UAAUu/F,oBAAsB,WAC7Bv+F,KAAK84D,cAAgB94D,KAAKm/C,QAAQ8G,aAC/BjmD,KAAKm/C,QAAQ8G,YAAY3jC,iBAAmB,EAC/CtiB,KAAKw+F,sBAGLx+F,KAAKy+F,wBAGb/F,EAAK15F,UAAUw/F,oBAAsB,aAGrC9F,EAAK15F,UAAUy/F,qBAAuB,aAGtC/F,EAAK15F,UAAUk6F,cAAgB,WAG3Bl5F,KAAK0+F,YAAc,YAAM,OACpBv0E,SAAS,uBACTlB,SAAS,OAAO,SAAU7iB,GAAK,OAAOA,EACtC+jB,SAAS,IAAc,iBAAkB,IAAa4nC,qBACtDlmC,QANM,2VAONC,SAET4sE,EAAK15F,UAAUq/F,kBAAoB,WAC/B,GAAIr+F,KAAKg5F,cAAc1D,sBAAwBt1F,KAAKk7F,kBAC3Cl7F,KAAK0+F,YAAYxpC,WAAY,CAC9B,IAAK,IAAI93D,EAAI,EAAGA,EAAI4C,KAAKk7F,gBAAgBxoE,SAASxxB,OAAQ9D,IAAK,CAC3D,IAAIwvB,EAAK5sB,KAAKk7F,gBAAgBxoE,SAASt1B,GACvC,YAAMwvB,GAAI9C,OAEd9pB,KAAKk7F,gBAAgBz1E,YAAYzlB,KAAK0+F,eAIlDhG,EAAK15F,UAAUs/F,kBAAoB,WAC/B,GAAIt+F,KAAKg5F,cAAc1D,sBAAwBt1F,KAAKk7F,iBAC5Cl7F,KAAK0+F,YAAYxpC,WAAY,CAC7Bl1D,KAAK0+F,YAAYxpC,WAAWvjC,YAAY3xB,KAAK0+F,aAC7C,IAAK,IAAIthG,EAAI,EAAGA,EAAI4C,KAAKk7F,gBAAgBxoE,SAASxxB,OAAQ9D,IAAK,CAC3D,IAAIwvB,EAAK5sB,KAAKk7F,gBAAgBxoE,SAASt1B,GACvC,YAAMwvB,GAAIhD,UAU1B8uE,EAAK15F,UAAUw8F,kBAAoB,SAAUmD,GACzC,OAAI3+F,KAAKg5F,cAAc4F,oBACZ5+F,KAAKg5F,cAAc4F,oBAAoBD,GAGvC,IAAI,GAAcA,IAQjCjG,EAAK15F,UAAUq8F,uBAAyB,SAAUsD,GAC9C,OAAI3+F,KAAKg5F,cAAc6F,mBACZ7+F,KAAKg5F,cAAc6F,mBAAmBF,GAGtC,IAAI,GAAeA,IAQlCjG,EAAK15F,UAAUy7F,0BAA4B,SAAU/jE,GACjD,OAAO,IAAI,EAAcA,IAO7BgiE,EAAK15F,UAAU47F,yBAA2B,SAAUlkE,GAChD,OAAO,IAAI,EAAaA,IAO5BgiE,EAAK15F,UAAUi8F,uBAAyB,SAAUvkE,GAC9C,OAAO,IAAI,GAAWA,IAO1BgiE,EAAK15F,UAAUy9F,mBAAqB,SAAU/lE,GAC1C,OAAO,IAAI,GAAaA,IAO5BgiE,EAAK15F,UAAUo9F,oBAAsB,SAAU1lE,GAC3C,OAAO,IAAI,GAAcA,IAO7BgiE,EAAK15F,UAAU+7F,uBAAyB,SAAUrkE,GAC9C,OAAO,IAAI,EAAWA,IAO1BgiE,EAAK15F,UAAU88F,sBAAwB,SAAUplE,GAC7C,OAAO,IAAI,GAAUA,IAOzBgiE,EAAK15F,UAAUi9F,uBAAyB,SAAUvlE,GAC9C,OAAO,IAAI,EAAWA,IAO1BgiE,EAAK15F,UAAU28F,sBAAwB,SAAUjlE,GAC7C,OAAO,IAAI,GAAgBA,IAM/BgiE,EAAK15F,UAAUu9F,2BAA6B,SAAU7lE,GAClD,OAAO,IAAI,GAAeA,IAM9BgiE,EAAK15F,UAAU49F,wBAA0B,SAAUlmE,GAC/C,OAAO,IAAI,GAAkBA,IAMjCgiE,EAAK15F,UAAU+9F,mBAAqB,SAAUrmE,GAC1C,OAAO,IAAI,GAAaA,IAE5BgiE,EAAK15F,UAAU8/F,OAAS,WAChB9+F,KAAKw6F,sBACLx6F,KAAKw6F,oBAAoBjhE,UACzBv5B,KAAKw6F,oBAAsB,MAE3Bx6F,KAAK26F,qBACL36F,KAAK26F,mBAAmBphE,UACxBv5B,KAAK26F,mBAAqB,MAE1B36F,KAAKg7F,mBACLh7F,KAAKg7F,iBAAiBzhE,UACtBv5B,KAAKg7F,iBAAmB,MAExBh7F,KAAK86F,mBACL96F,KAAK86F,iBAAiBvhE,UACtBv5B,KAAK86F,iBAAmB,MAExB96F,KAAKm7F,mBACLn7F,KAAKm7F,iBAAiB5hE,UACtBv5B,KAAKm7F,iBAAmB,MAExBn7F,KAAKs7F,cACLt7F,KAAKs7F,YAAY/hE,UACjBv5B,KAAKs7F,YAAc,MAEnBt7F,KAAK07F,kBACL17F,KAAK07F,gBAAgBniE,UACrBv5B,KAAK07F,gBAAkB,MAEvB17F,KAAKm8F,gBACLn8F,KAAKm8F,cAAc5iE,UACnBv5B,KAAKm8F,cAAgB,MAErBn8F,KAAK++F,eACL/+F,KAAK++F,aAAaxlE,UAClBv5B,KAAK++F,aAAe,MAEpB/+F,KAAKs8F,uBACLt8F,KAAKs8F,qBAAqB/iE,UAC1Bv5B,KAAKs8F,qBAAuB,MAE5Bt8F,KAAK67F,kBACL77F,KAAK67F,gBAAgBtiE,UACrBv5B,KAAK67F,gBAAkB,MAEvB77F,KAAKg8F,mBACLh8F,KAAKg8F,iBAAiBziE,UACtBv5B,KAAKg8F,iBAAmB,MAExBh8F,KAAKg/F,kBACLh/F,KAAKg/F,gBAAgBzlE,UACrBv5B,KAAKg/F,gBAAkB,MAEvBh/F,KAAK88F,eACL98F,KAAK88F,aAAavjE,UAClBv5B,KAAK88F,aAAe,MAEpB98F,KAAK28F,yBACL38F,KAAK28F,uBAAuBpjE,UAC5Bv5B,KAAK28F,uBAAyB,MAE9B38F,KAAKg9F,kBACLh9F,KAAKg9F,gBAAgB1xE,UAAY,GACjCtrB,KAAKg9F,gBAAkB,MAEvBh9F,KAAKk7F,kBACLl7F,KAAKk7F,gBAAgB5vE,UAAY,GACjCtrB,KAAKk7F,gBAAkB,MAE3Bl7F,KAAK24F,SAAW,CAAC9rF,UACjB7M,KAAKi5F,gBAEFP,EA1fc,GErBrB,GAAwC,WACxC,IAAIhmF,EAAgB,SAAUhV,EAAG0I,GAI7B,OAHAsM,EAAgB5U,OAAOyV,gBAClB,CAAEC,UAAW,cAAgBvJ,OAAS,SAAUvM,EAAG0I,GAAK1I,EAAE8V,UAAYpN,IACvE,SAAU1I,EAAG0I,GAAK,IAAK,IAAIlH,KAAKkH,EAAOA,EAAEnH,eAAeC,KAAIxB,EAAEwB,GAAKkH,EAAElH,MACpDxB,EAAG0I,IAE5B,OAAO,SAAU1I,EAAG0I,GAEhB,SAASqN,IAAOzT,KAAK0T,YAAchW,EADnCgV,EAAchV,EAAG0I,GAEjB1I,EAAEsB,UAAkB,OAANoH,EAAatI,OAAOY,OAAO0H,IAAMqN,EAAGzU,UAAYoH,EAAEpH,UAAW,IAAIyU,IAV3C,GAsBxC,GAAoC,SAAUK,GAE9C,SAASmrF,IACL,IAAIz9F,EAAQsS,EAAOvW,KAAKyC,OAASA,KACjCwB,EAAM64F,cAAgB,GAEtB74F,EAAM09F,cAAgB,gBACtB19F,EAAM29F,uBAAyB,yBAC/B39F,EAAM49F,oBAAsB,kBAC5B59F,EAAM69F,qBAAuB,uBAC7B79F,EAAM89F,kBAAoB,oBAC1B99F,EAAM+9F,cAAgB,KACtB/9F,EAAMg+F,+BAAiCh+F,EAAMi+F,wBAAwB7gG,KAAK4C,GAC1EA,EAAMk+F,6BAA+Bl+F,EAAMm+F,sBAAsB/gG,KAAK4C,GACtEA,EAAMo+F,2BAA6Bp+F,EAAMq+F,oBAAoBjhG,KAAK4C,GAClEA,EAAMs+F,4BAA8Bt+F,EAAMu+F,qBAAqBnhG,KAAK4C,GACpEA,EAAMw+F,4BAA8Bx+F,EAAMy+F,qBAAqBrhG,KAAK4C,GACpEA,EAAM0+F,4BAA8B1+F,EAAM2+F,qBAAqBvhG,KAAK4C,GACpEA,EAAM4+F,8BAAgC5+F,EAAM6+F,uBAAuBzhG,KAAK4C,GACxEA,EAAM8+F,0BAA4B9+F,EAAM++F,uBAAuB3hG,KAAK4C,GACpEA,EAAMg/F,kCAAoCh/F,EAAMi/F,2BAA2B7hG,KAAK4C,GAChFA,EAAMk/F,oCAAsCl/F,EAAMm/F,6BAA6B/hG,KAAK4C,GACpF,IAAIi9D,EAAOj9D,EA4CX,OA3CAA,EAAMo/F,yBAA2B,SAAUp0E,GACvC,IAAKxsB,KAAKsqB,UAAUib,SAASk5B,EAAKygC,eAAgB,CAC9C,IAAIl3F,EAAShI,KAAKm/B,aAAa,eAC/Bs/B,EAAKje,aAAawO,aAAa,CAAEhnD,OAAQA,MAGjDxG,EAAMq/F,oBAAsB,SAAUzxE,GAClC,IAAIyuB,EAAYzuB,EAAG/uB,KACfmB,EAAMw3F,cAAcD,2BACpBv3F,EAAM29C,QAAQqN,cACdhrD,EAAM29C,QAAQuM,eAAe,IAAYwB,SAE7C1rD,EAAMi9F,uBACFj9F,EAAMw7F,kBACNx7F,EAAMw7F,gBAAgBp3E,MAAMC,QAAU,QAEtCrkB,EAAM6S,QAAQysF,mBACdt/F,EAAMigD,YAENjgD,EAAM6S,QAAQ0sF,uBACTljD,GAAaA,EAAUxJ,MAAQ,IAAgBojD,WAChDj2F,EAAM8/C,iBAIlB9/C,EAAMw/F,oBAAsB,SAAUh9E,GAClC,IAAIi9E,EAAiB,KACjBj9E,EAAMva,OAAOiI,QAAQ,IAAMlQ,EAAM49F,qBACjC6B,EAAiBj9E,EAAMva,OAAOuf,cAAcke,cAAc,IAAM1lC,EAAM69F,sBAEjEr7E,EAAMva,OAAOiI,QAAQ,IAAMlQ,EAAM49F,oBAAsB,aAC5D6B,EAAiBj9E,EAAMva,OAAOuf,cAAcA,cAAcke,cAAc,IAAM1lC,EAAM69F,uBAGxF,IADA,IAAI6B,EAAY1/F,EAAM07F,2BAA2B17F,EAAM69F,sBAC9CjiG,EAAI,EAAGA,EAAI8jG,EAAUhgG,OAAQ9D,IAAK,CACvC,IAAI+jG,EAAeD,EAAU9jG,GACzB6jG,GAAkBE,GACdA,EAAa72E,UAAUib,SAAS/jC,EAAM89F,oBACtC6B,EAAa72E,UAAUE,OAAOhpB,EAAM89F,qBAK7C99F,EAggBX,OAjkBA,GAAUy9F,EAAoBnrF,GAmE9BmrF,EAAmBjgG,UAAUoiG,iBAAmB,WAC5C,IAAI5/F,EAAQxB,KACRA,KAAKqhG,iBACLrhG,KAAKqhG,eAAe/1E,UAAY,GAChCtrB,KAAKm/C,QAAQuO,cAAc,CACvB3H,QAAS,SAAU1lD,GACf,IAAI+F,EAAI,YAAM,KAAM5E,EAAM6/F,gBACrBl3E,SAAS,+BACd9pB,EAAKuB,KAAI,SAAU2H,GACfnD,EAAE6iB,SAAS,MAAM,SAAU7iB,GACvBA,EAAE+jB,SAAS,mBACNH,SAAS,SAAU,WACnB3pB,KAAK,KAAMkJ,EAAKyB,IAChBsP,KAAK/Q,EAAK5L,MACVgtB,GAAG,SAAS,WACbnpB,EAAM8/F,sBAAqB,WAAc,OAAO9/F,EAAMq+C,UAAUt2C,EAAKyB,qBAQjGi0F,EAAmBjgG,UAAUs6F,YAAc,SAAUjlF,GASjD,OARArU,KAAKqU,QAAUP,EAAO9U,UAAUs6F,YAAY/7F,KAAKyC,KAAMqU,QACR,IAAnCrU,KAAKqU,QAAyB,oBACtCrU,KAAKqU,QAAQysF,mBAAoB,GAEzB9gG,KAAKm/C,QAAQ9M,WACnBmM,mBAAmBx+C,KAAK6gG,qBAE9B7zF,OAAO8d,iBAAiB,QAAS9qB,KAAKghG,qBAC/BhhG,KAAKqU,SAEhB4qF,EAAmBjgG,UAAUu6F,YAAc,SAAUllF,GACjD,IAAI7S,EAAQxB,KACZ8T,EAAO9U,UAAUu6F,YAAYh8F,KAAKyC,KAAMqU,GACxC,IAAIktF,EAAc,cACdC,EAAsB,mBACtBC,EAAqB,mBACrBC,EAAmB,iBACnBC,EAAoB,kBACpBC,EAAoB,kBACpBC,EAAoB,kBACpBC,EAAsB,oBACtBC,EAAkB,oBAClBC,EAAuB,qBACvBC,EAA4B,0BAC5BC,EAA0B,wBAC1BC,EAAmB,iBACnB9tF,EAAQ8lF,QACRqH,EAAsBntF,EAAQ8lF,MAAMiI,mBAAqBZ,EACzDQ,EAAuB3tF,EAAQ8lF,MAAMkI,oBAAsBL,EAC3DP,EAAqBptF,EAAQ8lF,MAAMmI,kBAAoBb,EACvDC,EAAmBrtF,EAAQ8lF,MAAMoI,gBAAkBb,EACnDC,EAAoBttF,EAAQ8lF,MAAMqI,iBAAmBb,EACrDC,EAAoBvtF,EAAQ8lF,MAAMsI,iBAAmBb,EACrDC,EAAoBxtF,EAAQ8lF,MAAMuI,iBAAmBb,EACrDC,EAAsBztF,EAAQ8lF,MAAMwI,mBAAqBb,EACzDC,EAAkB1tF,EAAQ8lF,MAAMyI,eAAiBb,EACjDR,EAAcltF,EAAQ8lF,MAAMoH,aAAeA,EAC3CU,EAA4B5tF,EAAQ8lF,MAAM0I,yBAA2BZ,EACrEC,EAA0B7tF,EAAQ8lF,MAAM2I,uBAAyBZ,EACjEC,EAAmB9tF,EAAQ8lF,MAAMkH,gBAAkBc,GAEvDniG,KAAKq6F,cAAgBr6F,KAAK24F,SAASt1E,QAAO,SAAU0/E,EAAOnlF,GACvD,OAAOmlF,EAAM7lF,OAAOjT,MAAM0V,KAAK/B,EAAKwf,iBAAiB,IAAMmkE,OAC5D,IACEltF,EAAQykD,cACT94D,KAAKgjG,oBAEThjG,KAAKy+F,uBAGLz+F,KAAKq6F,cAAc13E,SAAQ,SAAU8tD,GACjCA,EAAO3lD,iBAAiB,QAAStpB,EAAMo/F,6BAEtC5gG,KAAKqiG,qBACNriG,KAAKqiG,mBAAqBriG,KAAKu6F,eAAeyH,GAC1ChiG,KAAKqiG,oBACLriG,KAAKqiG,mBAAmBv3E,iBAAiB,QAAS9qB,KAAKw/F,iCAG1Dx/F,KAAKsiG,mBACNtiG,KAAKsiG,iBAAmBtiG,KAAKu6F,eAAekH,GACxCzhG,KAAKsiG,kBACLtiG,KAAKsiG,iBAAiBx3E,iBAAiB,QAAS9qB,KAAK0/F,+BAGxD1/F,KAAKuiG,iBACNviG,KAAKuiG,eAAiBviG,KAAKu6F,eAAemH,GACtC1hG,KAAKuiG,gBACLviG,KAAKuiG,eAAez3E,iBAAiB,QAAS9qB,KAAK4/F,6BAGtD5/F,KAAKwiG,kBACNxiG,KAAKwiG,gBAAkBxiG,KAAKu6F,eAAeoH,GACvC3hG,KAAKwiG,iBACLxiG,KAAKwiG,gBAAgB13E,iBAAiB,QAAS9qB,KAAK8/F,8BAGvD9/F,KAAKyiG,kBACNziG,KAAKyiG,gBAAkBziG,KAAKu6F,eAAeqH,GACvC5hG,KAAKyiG,iBACLziG,KAAKyiG,gBAAgB33E,iBAAiB,QAAS9qB,KAAKggG,8BAGvDhgG,KAAK0iG,kBACN1iG,KAAK0iG,gBAAkB1iG,KAAKu6F,eAAesH,GACvC7hG,KAAK0iG,iBACL1iG,KAAK0iG,gBAAgB53E,iBAAiB,QAAS9qB,KAAKkgG,8BAGvDlgG,KAAK2iG,oBACN3iG,KAAK2iG,kBAAoB3iG,KAAKu6F,eAAeuH,GACzC9hG,KAAK2iG,mBACL3iG,KAAK2iG,kBAAkB73E,iBAAiB,QAAS9qB,KAAKogG,gCAGzDpgG,KAAKijG,oBACNjjG,KAAKijG,kBAAoBjjG,KAAKu6F,eAAewH,GACzC/hG,KAAKijG,mBACLjjG,KAAKijG,kBAAkBn4E,iBAAiB,QAAS9qB,KAAKsgG,4BAGzDtgG,KAAK8iG,wBACN9iG,KAAK8iG,sBAAwB9iG,KAAKu6F,eAAe2H,GAC7CliG,KAAK8iG,uBACL9iG,KAAK8iG,sBAAsBh4E,iBAAiB,QAAS9qB,KAAKwgG,oCAG7DxgG,KAAKqhG,iBACNrhG,KAAKqhG,eAAiBrhG,KAAKu6F,eAAe4H,GAErCniG,KAAKqhG,iBACNrhG,KAAKqhG,eAAiBrhG,KAAKu6F,eAAe,kBAE1Cv6F,KAAKqhG,gBACLrhG,KAAKm/C,QAAQr0B,iBAAiB,SAAS,WACnCtpB,EAAM4/F,uBAIbphG,KAAK6iG,0BACN7iG,KAAK6iG,wBAA0B7iG,KAAKu6F,eAAe0H,GAC/CjiG,KAAK6iG,0BACL7iG,KAAKkjG,uBAAyBr2F,SAASyY,cAAc,SACrDtlB,KAAKkjG,uBAAuB5kF,KAAO,OACnCte,KAAKkjG,uBAAuBC,OAAS9uF,EAAQykF,oBAC7C94F,KAAKkjG,uBAAuBt9E,MAAMC,QAAU,OAC5ChZ,SAASD,KAAK6Y,YAAYzlB,KAAKkjG,wBAC/BljG,KAAKkjG,uBAAuBp4E,iBAAiB,SAAU9qB,KAAKojG,6BAA6BxkG,KAAKoB,OAC9FA,KAAK6iG,wBAAwB/3E,iBAAiB,QAAS9qB,KAAK0gG,wCAOxEzB,EAAmBjgG,UAAUyiD,UAAY,WACrC,IAAIjgD,EAAQxB,KACZA,KAAKm/C,QAAQsC,UAAU,CACnBsE,QAAS,SAAU3E,GACXA,EAAa7W,WACb/oC,EAAM29C,QAAQuM,eAAe,IAAY0C,eAQzD6wC,EAAmBjgG,UAAUy/F,qBAAuB,WAChD,IAAIj9F,EAAQxB,KACZA,KAAKq6F,cAAc13E,SAAQ,SAAU8tD,GACjCA,EAAO16B,UAAW,EACb06B,EAAOnmD,UAAUib,SAAS/jC,EAAM09F,gBACjCzuB,EAAOnmD,UAAU3L,IAAInd,EAAM09F,mBAOvCD,EAAmBjgG,UAAUw/F,oBAAsB,WAC/C,IAAIh9F,EAAQxB,KACZA,KAAKq6F,cAAc13E,SAAQ,SAAU8tD,GACjCA,EAAO16B,UAAW,EACd06B,EAAOnmD,UAAUib,SAAS/jC,EAAM09F,gBAChCzuB,EAAOnmD,UAAUE,OAAOhpB,EAAM09F,mBAO1CD,EAAmBjgG,UAAUgkG,kBAAoB,WAC7ChjG,KAAKq6F,cAAc13E,SAAQ,SAAU8tD,GACjCA,EAAO7qD,MAAMC,QAAU,WAG/Bo5E,EAAmBjgG,UAAU2gG,sBAAwB,WACjD3/F,KAAKm/C,QAAQrG,aACb94C,KAAKm/C,QAAQuM,eAAe,IAAY0C,YAE5C6wC,EAAmBjgG,UAAUqkG,eAAiB,SAAUhvF,GACpD,OAAOrU,KAAKm/C,QAAQS,SAASvrC,IAEjC4qF,EAAmBjgG,UAAU6gD,UAAY,SAAUE,GAC1CA,GAEL//C,KAAKm/C,QAAQU,UAAU,CACnBE,QAASA,EACTlN,QAAQ,KAGhBosD,EAAmBjgG,UAAUghD,UAAY,SAAUj8B,GAC/C,IAAIviB,EAAQxB,KACZA,KAAKm/C,QAAQa,UAAU,CACnB+F,QAAS,WACDhiC,GACAA,IACJviB,EAAM29C,QAAQ9M,WAAW+B,iBAAiB,CACtCC,KAAM,IAAgBoZ,WACtB7P,aAAa,IAEjBp8C,EAAM4/F,oBAEV55F,MAAO,WACH87F,MAAM,8BAIlBrE,EAAmBjgG,UAAUukG,iBAAmB,SAAUC,EAAWz/E,GACjE,IAAIviB,EAAQxB,UACM,IAAdwjG,IAAwBA,GAAY,GACxC,IAAI/0D,EAAQzuC,KAAKm/C,QAAQ9M,WACrB5D,EAAMkJ,UAAY6rD,EAClBxjG,KAAKyjG,qBAAoB,SAAUthG,GAC1BA,IAELssC,EAAMuJ,eACNvJ,EAAMwK,QAAQ92C,GACdssC,EAAM2F,iBAAiB,CACnBC,KAAM,IAAgBoZ,WACtB7P,aAAa,IAEjBp8C,EAAMw+C,UAAUj8B,OAIpB/jB,KAAKggD,UAAUj8B,IAGvBk7E,EAAmBjgG,UAAUsiG,qBAAuB,SAAUv9E,GAC1D,IAAIviB,EAAQxB,KACRA,KAAKm/C,QAAQ9M,WAAWqG,eACpB14C,KAAKqU,QAAQwkF,iCACjB74F,KAAK0jG,wBAAuB,SAAUvhG,GAC9BA,EACAX,EAAM+hG,kBAAiB,EAAOx/E,GAG9BA,OAKRA,KAGRk7E,EAAmBjgG,UAAU2kG,mBAAqB,WAC9C,IAAIniG,EAAQxB,KACZA,KAAKm/C,QAAQgB,YAAY,CACrB4F,QAAS,WACLvkD,EAAM6hG,eAAe,CACjBv1C,YAAY,IAEZtsD,EAAMw7F,kBACNx7F,EAAMw7F,gBAAgBp3E,MAAMC,QAAU,QAE1CrkB,EAAM29C,QAAQqN,cACdhrD,EAAM4/F,uBAKlBnC,EAAmBjgG,UAAU4kG,mBAAqB,SAAU7/E,GACpC/jB,KAAKm/C,QAAQ8B,cAAc4gC,mBACjCx7C,WAAW,IAAK5/B,QAAQ,iBAAkB,IAAKA,QAAQ,mBAAoB,IAAKA,QAAQ,mBAAoBsd,IAE9Hk7E,EAAmBjgG,UAAU0kG,uBAAyB,SAAU3/E,GACxC/jB,KAAKm/C,QAAQ8B,cAAc4gC,mBACjC97C,YAAY,IAAKt/B,QAAQ,qBAAsB,IAAKA,QAAQ,uBAAwBsd,IAEtGk7E,EAAmBjgG,UAAUykG,oBAAsB,SAAU1/E,GACzD,IAAIsjE,EAAgBrnF,KAAKm/C,QAAQ8B,cAAc4gC,mBAC3CpzC,EAAQzuC,KAAKm/C,QAAQ9M,WACrBwxD,EAAep1D,EAAMkJ,SACnBlJ,EAAMjzB,UACN,IAAK/U,QAAQ,oBAAoBZ,QAAQ,cAAe4oC,EAAMjzB,WACpE6rE,EAAchhD,WAAW,IAAK5/B,QAAQ,kBAAmB,IAAKA,QAAQ,oBAAqBo9F,EAAc9/E,IAE7Gk7E,EAAmBjgG,UAAU8kG,sBAAwB,SAAU//E,GAC3D,IAAIsjE,EAAgBrnF,KAAKm/C,QAAQ8B,cAAc4gC,mBAC3CpzC,EAAQzuC,KAAKm/C,QAAQ9M,WACzBg1C,EAActhD,YAAY,IAAKt/B,QAAQ,oBAAqB,IAAKA,QAAQ,sBAAsBZ,QAAQ,cAAe4oC,EAAMjzB,WAAYuI,IAE5Ik7E,EAAmBjgG,UAAU+kG,0BAA4B,SAAUhgF,GAC/D,IAAIwkE,EAAKvoF,KAAKwgD,aAAaS,cAAc4gC,mBACrCpzC,EAAQzuC,KAAKm/C,QAAQ9M,WACrBzlC,EAAO5M,KAAKgkG,2BAA2Bv1D,EAAMjzB,WACjD+sE,EAAGhnF,KAAK,CACJioB,MAAO,IAAK/iB,QAAQ,2BACpBmG,KAAMA,EACNw5B,SAAU,WACN,IAAI69D,EAAgBr3F,EAAKs6B,cAAc,sBACnCgb,EAAW+hD,EAAgBA,EAAc5lG,MAAQ,QACjD6lG,EAAiBt3F,EAAKs6B,cAAc,2BACpCl/B,EAASk8F,EAAiBA,EAAe7lG,MAAQ,OAIrD,OAHI0lB,GACAA,EAASm+B,EAAUl6C,IAEhB,MAInBi3F,EAAmBjgG,UAAUglG,2BAA6B,SAAUrmG,EAAMqK,QACvD,IAAXA,IAAqBA,EAAS,QAClC,IAAIiiF,EAAO,IAAa/4B,OACpBizC,EAAcla,EACZ,8CACA,wCACF0I,EAAa1I,EACX,+BACA,4BACN,OAAO,YAAM,OACR9/D,SAAS,aACTlB,SAAS,OAAO,SAAU7iB,GAC3BA,EAAE+jB,SAASg6E,GACNl7E,SAAS,SAAS,SAAU7iB,GAAK,OAAOA,EACxCmR,KAAK,MAAO,aACZmU,QAAQ,IAAKjlB,QAAQ,qBACrBwiB,SAAS,OAAO,SAAU7iB,GAAK,OAAOA,EACtC+jB,SAASwoE,GACT1pE,SAAS,SAAS,SAAU7iB,GAAK,OAAOA,EACxC4E,GAAG,qBACHrN,KAAK,aACL2gB,KAAK,QACL/G,KAAK,QAAS5Z,MACdsrB,SAAS,SAAS,SAAU7iB,GAAK,OAAOA,EACxCslB,QAAQ,QACRzC,SAAS,OAAO,SAAU7iB,GAAK,OAAOA,EACtC+jB,SAAS,eACTlB,SAAS,UAAU,SAAU7iB,GAAK,OAAOA,EACzC4E,GAAG,0BACHmf,SAAS,qBACTyD,UAAU,CACXvvB,MAAO,MACPyvB,SAAU,QAAU9lB,IAEnB4lB,UAAU,CACXvvB,MAAO,OACPyvB,SAAU,SAAW9lB,gBAGxB8jB,SAGTmzE,EAAmBjgG,UAAU6gG,oBAAsB,WAC/C,IAAIr+F,EAAQxB,KACZA,KAAKshG,sBAAqB,WACtB9/F,EAAM6hG,qBAGdpE,EAAmBjgG,UAAUyhG,2BAA6B,WACtD,IAAIj/F,EAAQxB,KACZA,KAAK+jG,2BAA0B,SAAU7hD,EAAUl6C,GAC/CxG,EAAM29C,QAAQ2C,aAAa,CACvBI,SAAUA,EACVl6C,OAAQA,QAIpBi3F,EAAmBjgG,UAAU2hG,6BAA+B,WACxD,IAAIn/F,EAAQxB,KACZA,KAAKshG,sBAAqB,WACtB9/F,EAAM4iG,kCAGdnF,EAAmBjgG,UAAUolG,4BAA8B,WACvDpkG,KAAKkjG,uBAAuBzgD,SAEhCw8C,EAAmBjgG,UAAUokG,6BAA+B,WACxD,IAAI5hG,EAAQxB,KAERqkG,EADQrkG,KAAKkjG,uBAAuBoB,MACvB/6F,KAAK,GAClBlJ,EAAO,IAAIkkG,SACflkG,EAAKmkG,OAAOH,EAAK1mG,KAAM0mG,GACvBrkG,KAAKkjG,uBAAuB7kG,MAAQ,GACpC2B,KAAKm/C,QAAQwD,gBAAgB,CACzBtiD,KAAMA,EACN0lD,QAAS,WACLvkD,EAAMigD,YACNjgD,EAAM4/F,uBAIlBnC,EAAmBjgG,UAAU+gG,qBAAuB,WAChD,IAAIv+F,EAAQxB,KACZA,KAAKm/C,QAAQuO,cAAc,CACvB3H,QAAS,SAAU1lD,GACfmB,EAAMijG,wBAAwBpkG,GAC9BmB,EAAM+9F,cAAc11B,SAAS,CACzB3nC,OAAQ1gC,EAAMghG,gBACdz5B,cAAc,EACdgB,qBAAsB,SAAU1pE,GAC5BmB,EAAM8/F,sBAAqB,WAAc,OAAO9/F,EAAMq+C,UAAUx/C,EAAK2K,cAMzFi0F,EAAmBjgG,UAAUylG,wBAA0B,SAAUxkD,GAC7D,IAAIxR,EAAQzuC,KAAKwgD,aAAanO,WAC9BryC,KAAKu/F,cAAgB,IAAI,EAAU,CAC/BhjF,MAAO0jC,EAAUr+C,KAAI,SAAU2H,GAAQ,MAAO,CAAGyB,GAAIzB,EAAKyB,GAAIsP,KAAM/Q,EAAK5L,SACzEisE,YAAan7B,EAAMlzB,WAG3B0jF,EAAmBjgG,UAAUihG,qBAAuB,WAChDjgG,KAAKujG,oBAETtE,EAAmBjgG,UAAUmhG,qBAAuB,WAChDngG,KAAKujG,kBAAiB,IAE1BtE,EAAmBjgG,UAAUqhG,uBAAyB,WAClD,IAAI7+F,EAAQxB,KACZA,KAAK8jG,uBAAsB,SAAU3hG,GAC7BA,GACAX,EAAMmiG,yBAIlB1E,EAAmBjgG,UAAUuhG,uBAAyB,WAClD,IAAI/+F,EAAQxB,KAERgmC,EADYhmC,KAAKijG,kBAAkBj6E,cACfke,cAAc,IAAMlnC,KAAKq/F,sBAC7Cr5D,GACAh5B,OAAO4X,YAAW,WAAc,OAAOohB,EAAQ1b,UAAUI,OAAOlpB,EAAM89F,qBAAuB,MAGrGL,EAAmBjgG,UAAUygG,wBAA0B,WACnDz/F,KAAKshD,gBAET29C,EAAmBjgG,UAAU8/F,OAAS,WAClC,IAAIt9F,EAAQxB,KACZA,KAAKw+F,sBACLx+F,KAAKq6F,cAAc13E,SAAQ,SAAU8tD,GACjCA,EAAOzlD,oBAAoB,QAASxpB,EAAMo/F,6BAE9C5gG,KAAKq6F,cAAgB,GACjBr6F,KAAKqiG,qBACLriG,KAAKqiG,mBAAmBr3E,oBAAoB,QAAShrB,KAAKw/F,gCAC1Dx/F,KAAKqiG,mBAAqB,MAE1BriG,KAAKsiG,mBACLtiG,KAAKsiG,iBAAiBt3E,oBAAoB,QAAShrB,KAAK0/F,8BACxD1/F,KAAKsiG,iBAAmB,MAExBtiG,KAAKuiG,iBACLviG,KAAKuiG,eAAev3E,oBAAoB,QAAShrB,KAAK4/F,4BACtD5/F,KAAKuiG,eAAiB,MAEtBviG,KAAKwiG,kBACLxiG,KAAKwiG,gBAAgBx3E,oBAAoB,QAAShrB,KAAK8/F,6BACvD9/F,KAAKwiG,gBAAkB,MAEvBxiG,KAAKyiG,kBACLziG,KAAKyiG,gBAAgBz3E,oBAAoB,QAAShrB,KAAKggG,6BACvDhgG,KAAKyiG,gBAAkB,MAEvBziG,KAAK0iG,kBACL1iG,KAAK0iG,gBAAgB13E,oBAAoB,QAAShrB,KAAKkgG,6BACvDlgG,KAAK0iG,gBAAkB,MAEvB1iG,KAAK2iG,oBACL3iG,KAAK2iG,kBAAkB33E,oBAAoB,QAAShrB,KAAKogG,+BACzDpgG,KAAK2iG,kBAAoB,MAEzB3iG,KAAKijG,oBACLjjG,KAAKijG,kBAAkBj4E,oBAAoB,QAAShrB,KAAKsgG,2BACzDtgG,KAAKijG,kBAAoB,MAEzBjjG,KAAK8iG,wBACL9iG,KAAK8iG,sBAAsB93E,oBAAoB,QAAShrB,KAAKwgG,mCAC7DxgG,KAAK8iG,sBAAwB,MAE7B9iG,KAAKqhG,iBACLrhG,KAAKqhG,eAAiB,MAEtBrhG,KAAK6iG,0BACD7iG,KAAKkjG,wBACLr2F,SAASD,KAAK+kB,YAAY3xB,KAAKkjG,wBAEnCljG,KAAK6iG,wBAAwB73E,oBAAoB,QAAShrB,KAAK0gG,qCAC/D1gG,KAAK6iG,wBAA0B,MAEnC/uF,EAAO9U,UAAU8/F,OAAOvhG,KAAKyC,OAE1Bi/F,EAlkB4B,CAmkBrC,IAGEyF,GAA0C,SAAU5wF,GAEpD,SAAS4wF,IACL,OAAkB,OAAX5wF,GAAmBA,EAAOF,MAAM5T,KAAM2G,YAAc3G,KAE/D,OAJA,GAAU0kG,EAA0B5wF,GAI7B4wF,EALkC,CAM3C,IClmBE,GAAwC,WACxC,IAAIhyF,EAAgB,SAAUhV,EAAG0I,GAI7B,OAHAsM,EAAgB5U,OAAOyV,gBAClB,CAAEC,UAAW,cAAgBvJ,OAAS,SAAUvM,EAAG0I,GAAK1I,EAAE8V,UAAYpN,IACvE,SAAU1I,EAAG0I,GAAK,IAAK,IAAIlH,KAAKkH,EAAOA,EAAEnH,eAAeC,KAAIxB,EAAEwB,GAAKkH,EAAElH,MACpDxB,EAAG0I,IAE5B,OAAO,SAAU1I,EAAG0I,GAEhB,SAASqN,IAAOzT,KAAK0T,YAAchW,EADnCgV,EAAchV,EAAG0I,GAEjB1I,EAAEsB,UAAkB,OAANoH,EAAatI,OAAOY,OAAO0H,IAAMqN,EAAGzU,UAAYoH,EAAEpH,UAAW,IAAIyU,IAV3C,GAkBxC,GAAgC,SAAUK,GAE1C,SAAS6wF,IACL,OAAkB,OAAX7wF,GAAmBA,EAAOF,MAAM5T,KAAM2G,YAAc3G,KAiD/D,OAnDA,GAAU2kG,EAAgB7wF,GAI1B6wF,EAAe3lG,UAAUs6F,YAAc,SAAUjlF,GAC7C,IAAI7S,EAAQxB,KAYZ,OAXAqU,EAAUP,EAAO9U,UAAUs6F,YAAY/7F,KAAKyC,KAAMqU,GACtCrU,KAAKm/C,QAAQ9M,WACnBmM,oBAAmB,WACjBh9C,EAAMw3F,cAAcD,0BACpBv3F,EAAM29C,QAAQqN,cAEdn4C,EAAQysF,mBACRt/F,EAAM29C,QAAQsC,eAGtBzhD,KAAKm/C,QAAQr0B,iBAAiB,QAAS9qB,KAAKshD,aAAa1iD,KAAKoB,OACvDqU,GAEXswF,EAAe3lG,UAAUu6F,YAAc,SAAUllF,GAC7C,IAAI7S,EAAQxB,KAYZ,GAXA8T,EAAO9U,UAAUu6F,YAAYh8F,KAAKyC,KAAMqU,GACpCrU,KAAKg8F,kBACLh8F,KAAKm/C,QAAQ9M,WAAWmM,oBAAmB,SAAUpvB,GACjD,IAAIqsC,EAAQrsC,EAAG/uB,MACVo7D,GAAUA,EAAMpnB,MAAQ,IAAgBC,gBACtCmnB,EAAMpnB,MAAQ,IAAgBE,SAAWknB,EAAMpnB,MAAQ,IAAgB1L,KAG9EnnC,EAAM8/C,kBAGVthD,KAAK67F,gBAAiB,CACtB,IAAIrwC,EAAaxrD,KAAK67F,gBAAgBzwC,gBACtC/2C,EAAQ6zC,QAAQsD,GAAcn3C,EAAQ6zC,QAAQsD,GAAc,GACvDn3C,EAAQ6zC,QAAQsD,GAAYq6B,sBAC7BxxE,EAAQ6zC,QAAQsD,GAAYq6B,oBAAsB,WAC9CrkF,EAAM8/C,mBAUtBqjD,EAAe3lG,UAAU4lG,iBAAmB,WACxCr+F,QAAQC,KAAK,0DACbxG,KAAKshD,gBAEFqjD,EApDwB,CAqDjC,IAGEE,GAAsC,SAAU/wF,GAEhD,SAAS+wF,IACL,OAAkB,OAAX/wF,GAAmBA,EAAOF,MAAM5T,KAAM2G,YAAc3G,KAE/D,OAJA,GAAU6kG,EAAsB/wF,GAIzB+wF,EAL8B,CAMvC,IChFE,GAAwC,WACxC,IAAInyF,EAAgB,SAAUhV,EAAG0I,GAI7B,OAHAsM,EAAgB5U,OAAOyV,gBAClB,CAAEC,UAAW,cAAgBvJ,OAAS,SAAUvM,EAAG0I,GAAK1I,EAAE8V,UAAYpN,IACvE,SAAU1I,EAAG0I,GAAK,IAAK,IAAIlH,KAAKkH,EAAOA,EAAEnH,eAAeC,KAAIxB,EAAEwB,GAAKkH,EAAElH,MACpDxB,EAAG0I,IAE5B,OAAO,SAAU1I,EAAG0I,GAEhB,SAASqN,IAAOzT,KAAK0T,YAAchW,EADnCgV,EAAchV,EAAG0I,GAEjB1I,EAAEsB,UAAkB,OAANoH,EAAatI,OAAOY,OAAO0H,IAAMqN,EAAGzU,UAAYoH,EAAEpH,UAAW,IAAIyU,IAV3C,GAkBxC,GAAoC,SAAUK,GAE9C,SAASgxF,IACL,OAAOhxF,EAAOvW,KAAKyC,OAASA,KAkBhC,OApBA,GAAU8kG,EAAoBhxF,GAS9BgxF,EAAmB9lG,UAAUq8F,uBAAyB,SAAUh2E,GAC5D,OAAO,IAAI,GAAWA,IAM1By/E,EAAmB9lG,UAAU4lG,iBAAmB,WAC5Cr+F,QAAQC,KAAK,0DACbxG,KAAKshD,gBAEFwjD,EArB4B,CAsBrC,ICxCE,GAAwC,WACxC,IAAIpyF,EAAgB,SAAUhV,EAAG0I,GAI7B,OAHAsM,EAAgB5U,OAAOyV,gBAClB,CAAEC,UAAW,cAAgBvJ,OAAS,SAAUvM,EAAG0I,GAAK1I,EAAE8V,UAAYpN,IACvE,SAAU1I,EAAG0I,GAAK,IAAK,IAAIlH,KAAKkH,EAAOA,EAAEnH,eAAeC,KAAIxB,EAAEwB,GAAKkH,EAAElH,MACpDxB,EAAG0I,IAE5B,OAAO,SAAU1I,EAAG0I,GAEhB,SAASqN,IAAOzT,KAAK0T,YAAchW,EADnCgV,EAAchV,EAAG0I,GAEjB1I,EAAEsB,UAAkB,OAANoH,EAAatI,OAAOY,OAAO0H,IAAMqN,EAAGzU,UAAYoH,EAAEpH,UAAW,IAAIyU,IAV3C,GAoBxC,GAA4B,SAAUK,GAEtC,SAASgmD,IACL,IAAIt4D,EAAQsS,EAAOvW,KAAKyC,OAASA,KACjCwB,EAAMujG,QAAU,GAChBvjG,EAAMwjG,YAAc,GACpBxjG,EAAM64F,cAAgB,GACtB74F,EAAM+/F,YAAc,cACpB//F,EAAM09F,cAAgB,gBACtB19F,EAAMs3D,cAAe,EACrBt3D,EAAMyjG,gBAAiB,EACvB,IAAIxmC,EAAOj9D,EAgBX,OAfAA,EAAMo/F,yBAA2B,SAAUp0E,GACvC,IAAKxsB,KAAKsqB,UAAUib,SAASk5B,EAAKygC,eAAgB,CAC9C,IAAIl3F,EAAShI,KAAKm/B,aAAa,eAC/Bs/B,EAAKje,aAAawO,aAAa,CAAEhnD,OAAQA,MAGjDxG,EAAM0jG,8BAAgC1jG,EAAM2jG,uBAAuBvmG,KAAK4C,GACxEA,EAAM4jG,4BAA8B5jG,EAAM6jG,qBAAqBzmG,KAAK4C,GACpEA,EAAM8jG,6BAA+B9jG,EAAM+jG,sBAAsB3mG,KAAK4C,GACtEA,EAAMgkG,6BAA+BhkG,EAAMikG,sBAAsB7mG,KAAK4C,GACtEA,EAAMkkG,+BAAiClkG,EAAMmkG,wBAAwB/mG,KAAK4C,GAC1EA,EAAMokG,+BAAiCpkG,EAAMqkG,wBAAwBjnG,KAAK4C,GAC1E,IAAaswD,qBAAoB,SAAUh5B,GACvCjsB,SAASmrD,SAAS8tC,YAEftkG,EAmkBX,OA7lBA,GAAUs4D,EAAYhmD,GA4BtBgmD,EAAW96D,UAAUs6F,YAAc,SAAUjlF,GACzC,IAAI7S,EAAQxB,KA2CZ,YAzC4C,KAD5CqU,EAAUP,EAAO9U,UAAUs6F,YAAY/7F,KAAKyC,KAAMqU,IACZ,qBAClCA,EAAQukD,oBAAqB,QAES,IAA9BvkD,EAAyB,oBACjCA,EAAQysF,kBAAoBzsF,EAAQukD,yBAEA,IAA5BvkD,EAAsB,iBAC9BrU,KAAKilG,eAAiB5wF,EAAQ4wF,gBAElCjlG,KAAK+lG,gBAAkB1xF,EAAQ0xF,gBACnB/lG,KAAKm/C,QAAQ9M,WACnBmM,oBAAmB,SAAUx6B,GAC/B,IAAI65B,EAAY75B,EAAM3jB,MAClBw9C,IAC4B,kBAAxBA,EAAUmoD,WACVxkG,EAAM29C,QAAQuM,eAAe,IAAYxa,QAGzC1vC,EAAMi9F,uBACFj9F,EAAMw7F,kBACNx7F,EAAMw7F,gBAAgBp3E,MAAMC,QAAU,UAI9CxR,EAAQysF,qBACOjjD,GAAqC,kBAAxBA,EAAUmoD,aAAmCnoD,EAAUooD,QAE/EzkG,EAAM0kG,cAId,GAAI1kG,EAAMw3F,cAAcD,yBAA0B,CAC9C,IAAKl7C,GAC0B,kBAAxBA,EAAUmoD,YACVnoD,EAAUxJ,MAAQ,IAAgBojD,UACrC,OAEJj2F,EAAM29C,QAAQqN,cACdhrD,EAAM29C,QAAQuM,eAAe,IAAYwB,YAG1C74C,GAEXylD,EAAW96D,UAAUw6F,SAAW,WAC5B,IAAIh4F,EAAQxB,KACZ8T,EAAO9U,UAAUw6F,SAASj8F,KAAKyC,MAC/BgN,OAAO4X,YAAW,WACdpjB,EAAM29C,QAAQuO,cAAc,CACxB3H,QAAS,SAAU1lD,GACX4J,MAAMC,QAAQ7J,KACdmB,EAAMujG,QAAU1kG,EACHmB,EAAMujG,QAAQ/lF,QAAO,SAAU9gB,GAAK,OAAOA,EAAE8M,IAAMxJ,EAAMukG,mBAAoB7kG,OAAS,EAE/FM,EAAM2kG,iBAAiB,CAAEC,SAAU5kG,EAAMukG,kBAGzCvkG,EAAM2kG,yBAKvB,MAEPrsC,EAAW96D,UAAUu6F,YAAc,SAAUllF,GACzC,IAAI7S,EAAQxB,KACZ8T,EAAO9U,UAAUu6F,YAAYh8F,KAAKyC,KAAMqU,GACxC,IAAIgyF,EAAoB,oBACpBC,EAAkB,kBAClBC,EAAmB,mBACnBC,EAAmB,mBACnBC,EAAqB,qBACrBC,EAAqB,qBACrBtM,EAAkB,cAClBC,EAAgB,sBAChBkH,EAAcvhG,KAAKuhG,YACnBltF,EAAQ8lF,QACRC,EAAkB/lF,EAAQ8lF,MAAMC,iBAAmBA,EACnDC,EAAgBhmF,EAAQ8lF,MAAME,eAAiBA,EAC/CgM,EAAoBhyF,EAAQ8lF,MAAMkM,mBAAqBA,EACvDC,EAAkBjyF,EAAQ8lF,MAAMmM,iBAAmBA,EACnDC,EAAmBlyF,EAAQ8lF,MAAMoM,kBAAoBA,EACrDC,EAAmBnyF,EAAQ8lF,MAAMqM,kBAAoBA,EACrDC,EAAqBpyF,EAAQ8lF,MAAMsM,oBAAsBA,EACzDC,EAAqBryF,EAAQ8lF,MAAMuM,oBAAsBA,EACzDnF,EAAcltF,EAAQ8lF,MAAMoH,aAAeA,GAE/CvhG,KAAKq6F,cAAgBr6F,KAAK24F,SAASt1E,QAAO,SAAU0/E,EAAOnlF,GACvD,OAAOmlF,EAAM7lF,OAAOjT,MAAM0V,KAAK/B,EAAKwf,iBAAiB,IAAMmkE,OAC5D,IACHvhG,KAAK84D,aAAezkD,EAAQykD,aACxB94D,KAAK84D,aAEL94D,KAAKq6F,cAAc13E,SAAQ,SAAU8tD,GACjCA,EAAO3lD,iBAAiB,QAAStpB,EAAMo/F,6BAI3C5gG,KAAKgjG,oBAEThjG,KAAK2mG,uBAAyB3mG,KAAKu6F,eAAeF,GAC7Cr6F,KAAKqmG,oBACNrmG,KAAKqmG,kBAAoBrmG,KAAKu6F,eAAe8L,GACzCrmG,KAAKqmG,mBACLrmG,KAAKqmG,kBAAkBv7E,iBAAiB,QAAS9qB,KAAKklG,gCAGzDllG,KAAKsmG,kBACNtmG,KAAKsmG,gBAAkBtmG,KAAKu6F,eAAe+L,GACvCtmG,KAAKsmG,iBACLtmG,KAAKsmG,gBAAgBx7E,iBAAiB,QAAS9qB,KAAKolG,8BAGvDplG,KAAKumG,mBACNvmG,KAAKumG,iBAAmBvmG,KAAKu6F,eAAegM,GACxCvmG,KAAKumG,kBACLvmG,KAAKumG,iBAAiBz7E,iBAAiB,QAAS9qB,KAAKslG,+BAGxDkB,IACDxmG,KAAKwmG,iBAAmBxmG,KAAKu6F,eAAeiM,GACxCxmG,KAAKwmG,kBACLxmG,KAAKwmG,iBAAiB17E,iBAAiB,QAAS9qB,KAAKwlG,+BAGxDxlG,KAAKymG,qBACNzmG,KAAKymG,mBAAqBzmG,KAAKu6F,eAAekM,GAC1CzmG,KAAKymG,oBACLzmG,KAAKymG,mBAAmB37E,iBAAiB,QAAS9qB,KAAK0lG,iCAG1D1lG,KAAK0mG,qBACN1mG,KAAK0mG,mBAAqB1mG,KAAKu6F,eAAemM,GAC1C1mG,KAAK0mG,oBACL1mG,KAAK0mG,mBAAmB57E,iBAAiB,QAAS9qB,KAAK4lG,iCAG/D5lG,KAAK4mG,eAAiB/5F,SAASqrB,eAAe,cAC9Cl4B,KAAKg9F,gBAAkBh9F,KAAKu6F,eAAeH,IAK/CtgC,EAAW96D,UAAU6nG,UAAY,WAC7B,IAAIrlG,EAAQxB,KACHA,KAAKm/C,QAAQ8B,cAAc4gC,mBACjCx7C,WAAW,IAAK5/B,QAAQ,qBAAsB,IAAKA,QAAQ,sBAAuB,IAAKA,QAAQ,qBAC7FuM,MAAK,SAAU8zF,GACZA,IACYtlG,EAAM29C,QAAQ9M,WACpBwG,QACNr3C,EAAM29C,QAAQS,SAAS,CACnBjiD,KAAMmpG,EACN/gD,QAAS,WACL,IAAItX,EAAQjtC,EAAM29C,QAAQ9M,WACtB+zD,EAAW33D,EAAMlzB,QACrB/Z,EAAMulG,qBAAqB,CAAE/7F,GAAIo7F,EAAUzoG,KAAM8wC,EAAMjzB,YACvDha,EAAM2kG,iBAAiB,CAAEC,SAAUA,YAUvDtsC,EAAW96D,UAAUgoG,WAAa,SAAUZ,GACxC,IAAI5kG,EAAQxB,KACZ,IAAKomG,EACD,KAAM,mBAEV,IAAIa,EAAejnG,KAAKknG,eAAed,GACvC,GAAKa,EAAL,CAEA,IACIx4D,EADOzuC,KACMm/C,QAAQ9M,WACrB80D,EAAe,WACf3lG,EAAM4lG,oBACN34D,EAAM2F,iBAAiB,CACnBC,KAAM,IAAgB1L,IACtBs9D,QAAQ,EACRD,WAAY,mBAEhBxkG,EAAM8/C,gBAEN+lD,EAAgBrnG,KAAKilG,eAAiBjlG,KAAKsnG,0BAA0BL,GAAgB,KACrFI,GACA54D,EAAMtxB,QACNsxB,EAAMkL,aAAa0tD,GACnBF,KAGAnnG,KAAKm/C,QAAQU,UAAU,CACnBE,QAASqmD,EACTvzD,QAAQ,EACRkT,QAAS,WACLvkD,EAAM+lG,yBAAyBN,EAAcx4D,EAAMkM,UACnDwsD,OAIZnnG,KAAKwnG,gBAAgBpB,KAKzBtsC,EAAW96D,UAAUyoG,oBAAsB,WACvC,IAAIjmG,EAAQxB,KACRyuC,EAAQzuC,KAAKm/C,QAAQ9M,WAChBryC,KAAKm/C,QAAQ8B,cAAc4gC,mBACjCx7C,WAAW,IAAK5/B,QAAQ,sBAAuB,IAAKA,QAAQ,sBAAuBgoC,EAAMjzB,WACvFxI,MAAK,SAAU00F,GACZA,IAEAj5D,EAAM0M,MAAM,IAAU7rC,WAAWo4F,EAAc7hG,QAAQ,MAAO,MAC9DrE,EAAM29C,QAAQS,SAAS,CACnB9G,YAAY,EACZn7C,KAAM+pG,EACN3hD,QAAS,WACLvkD,EAAM29C,QAAQuM,eAAe,IAAYxa,OACzC,IACIk1D,EADa5kG,EAAM29C,QAAQ9M,WACL92B,QAC1B/Z,EAAM8/C,eACN9/C,EAAMulG,qBAAqB,CAAE/7F,GAAIo7F,EAAUzoG,KAAM8wC,EAAMjzB,YACvDha,EAAM2kG,iBAAiB,CAAEC,SAAUA,IACnC5kG,EAAMgmG,gBAAgBpB,GACtB5kG,EAAM4lG,qBAEV5/F,MAAOhG,EAAMmmG,aAAa/oG,KAAK4C,UAQ/Cs4D,EAAW96D,UAAU4oG,oBAAsB,WACvC,IAAIpmG,EAAQxB,KACR6nG,EAAS7nG,KAAKm/C,QAAQ9M,WAC1B,GAAIy1D,QAAQ,IAAKrhG,QAAQ,uBAAuBZ,QAAQ,eAAgBgiG,EAAOrsF,YAAa,CACxF,IAAIusF,EAAaF,EAAOtsF,QACxBvb,KAAKm/C,QAAQgB,YAAY,CACrBJ,QAASgoD,EACThiD,QAAS,WACL,IAAIl6C,EAAQrK,EAAMwmG,qBAAqBD,GACvCvmG,EAAM2kG,iBAAiB,CAAE8B,YAAap8F,SAQtDiuD,EAAW96D,UAAUknG,WAAa,WAC9B,IAAI1kG,EAAQxB,KACZ,GAAIA,KAAKilG,eAAgB,CACrB,IAAIx2D,EAAQzuC,KAAKm/C,QAAQ9M,WACrB61D,EAAgBloG,KAAKknG,eAAez4D,EAAMlzB,SAC1C2sF,IACAA,EAAcC,YAAc/iG,KAAKT,MACjC3E,KAAKunG,yBAAyBW,EAAez5D,EAAMkM,WAG3D36C,KAAKm/C,QAAQsC,UAAU,CACnBsE,QAAS,SAAU3E,GACXA,EAAa3S,OACbjtC,EAAM29C,QAAQuM,eAAe,IAAYxa,OACzCkQ,EAAa7W,WACb/oC,EAAM29C,QAAQuM,eAAe,IAAY0C,eAQzD0L,EAAW96D,UAAUwoG,gBAAkB,SAAUpB,GAE7C,IADA,IAAIgC,EAAUpoG,KAAK4mG,eAAexpE,iBAAiB,MAC1ChgC,EAAI,EAAGA,EAAIgrG,EAAQlnG,OAAQ9D,IAAK,CACrC,IAAImM,EAAO6+F,EAAQhrG,GACnBmM,EAAK+gB,UAAUE,OAAO,UACZjhB,EAAK41B,aAAa,cAChBinE,GACR78F,EAAK+gB,UAAU3L,IAAI,YAQ/Bm7C,EAAW96D,UAAUooG,kBAAoB,WACrC,IAAI34D,EAAQzuC,KAAKm/C,QAAQ9M,WACTxlC,SAASqrB,eAAe,eAC9B5M,UAAYmjB,EAAMjzB,UAC5B,IAAIi+E,EAAe5sF,SAASq6B,cAAc,gBAC1C,GAAIuyD,EAAc,CACdA,EAAanuE,UAAY,4BAEzB,IADA,IACSzqB,EAAK,EAAGkuC,EADHN,EAAMnV,aACkBz4B,EAAKkuC,EAAU7tC,OAAQL,IAAM,CAC/D,IAAI+hB,EAASmsB,EAAUluC,GACvB44F,EAAanuE,WAAa,qCAAuC1I,EAAO5M,QAAU,cAQ9F8jD,EAAW96D,UAAUmnG,iBAAmB,SAAU9xF,GAE9C,GADArU,KAAKqoG,sBACAroG,KAAK4mG,eAAel1F,QAAQ,MAAO,CACpC1R,KAAK4mG,eAAet7E,UAAY,GAChCjX,EAAUA,GAAW,CAAE+xF,SAAWpmG,KAAK+kG,QAAQ7jG,OAAS,EAAIlB,KAAK+kG,QAAQ,GAAG/5F,GAAK,MACjF,IAAIw0B,EAAK3yB,SAASyY,cAAc,MAChCka,EAAGha,UAAY,8BACfxlB,KAAK4mG,eAAenhF,YAAY+Z,GAChC,IAAK,IAAI3+B,EAAK,EAAGqQ,EAAKlR,KAAK+kG,QAASlkG,EAAKqQ,EAAGhQ,OAAQL,IAAM,CACtD,IAAIgnG,EAAS32F,EAAGrQ,GAChBb,KAAKsoG,uBAAuBT,EAAQroE,GAKxC,GAHInrB,EAAQ+xF,UACRpmG,KAAKgnG,WAAW3yF,EAAQ+xF,eAES,IAAzB/xF,EAAmB,YAAmB,CAC9C,IAAInJ,EAAMmJ,EAAQ4zF,YACd/8F,GAAOlL,KAAK+kG,QAAQ7jG,SACpBgK,EAAMlL,KAAK+kG,QAAQ7jG,OAAS,GAC5BgK,EAAM,GAAKlL,KAAK+kG,QAAQ7jG,OAAS,IACjCgK,EAAM,GACNA,GAAO,GACPlL,KAAKgnG,WAAWhnG,KAAK+kG,QAAQ75F,GAAKF,OAIlD8uD,EAAW96D,UAAU8/F,OAAS,WAC1B,IAAIt9F,EAAQxB,KACRA,KAAK2mG,yBACL3mG,KAAKuoG,oBACLvoG,KAAKq6F,cAAc13E,SAAQ,SAAU8tD,GACjCA,EAAOzlD,oBAAoB,QAASxpB,EAAMo/F,6BAE9C5gG,KAAKq6F,cAAgB,GACrBr6F,KAAK2mG,uBAAyB,MAE9B3mG,KAAKqmG,oBACLrmG,KAAKqmG,kBAAkBr7E,oBAAoB,QAAShrB,KAAKklG,+BACzDllG,KAAKqmG,kBAAoB,MAEzBrmG,KAAKsmG,kBACLtmG,KAAKsmG,gBAAgBt7E,oBAAoB,QAAShrB,KAAKolG,6BACvDplG,KAAKsmG,gBAAkB,MAEtBtmG,KAAKumG,mBACNvmG,KAAKumG,iBAAiBv7E,oBAAoB,QAAShrB,KAAKslG,8BACxDtlG,KAAKumG,iBAAmB,MAExBvmG,KAAKwmG,mBACLxmG,KAAKwmG,iBAAiB17E,iBAAiB,QAAS9qB,KAAKwlG,8BACrDxlG,KAAKwmG,iBAAmB,MAEvBxmG,KAAKymG,qBACNzmG,KAAKymG,mBAAmBz7E,oBAAoB,QAAShrB,KAAK0lG,gCAC1D1lG,KAAKymG,mBAAqB,MAE1BzmG,KAAK0mG,qBACL1mG,KAAK0mG,mBAAmB17E,oBAAoB,QAAShrB,KAAK4lG,gCAC1D5lG,KAAKymG,mBAAqB,MAE1BzmG,KAAK4mG,iBACL5mG,KAAK4mG,eAAet7E,UAAY,GAChCtrB,KAAK4mG,eAAiB,MAEtB5mG,KAAKg9F,kBACLh9F,KAAKg9F,gBAAgB1xE,UAAY,GACjCtrB,KAAKg9F,gBAAkB,MAE3BlpF,EAAO9U,UAAU8/F,OAAOvhG,KAAKyC,OAOjC85D,EAAW96D,UAAUspG,uBAAyB,SAAUT,EAAQroE,GACvDA,IACDA,EAAKx/B,KAAK4mG,eAAe1/D,cAAc,OAE3C,IAAI4/D,EAAae,EAAOlqG,MAAQkqG,EAAO5xF,aAAe,GAClDwpB,EAAK5yB,SAASyY,cAAc,MAChCma,EAAGja,UAAY,kBACfia,EAAG7Z,MAAM6M,OAAS,UAClBgN,EAAGlW,aAAa,WAAYs+E,EAAO78F,IACnCy0B,EAAGrU,UAAY07E,EACf,IAAIroC,EAAOz+D,KACXy/B,EAAG3U,iBAAiB,SAAS,SAAU0B,GACnC,IACIg8E,EADSh8E,EAAE/iB,OACE01B,aAAa,YAC9Bs/B,EAAKuoC,WAAWwB,GAChB/pC,EAAK+oC,gBAAgBgB,MAEzBhpE,EAAG/Z,YAAYga,IAKnBq6B,EAAW96D,UAAUqpG,mBAAqB,WACtC,IAAII,EAAmB57F,SAASqrB,eAAe,oBAC3CwwE,EAAgB77F,SAASqrB,eAAe,iBACxCl4B,KAAK+kG,QAAQ7jG,OAAS,GACtBlB,KAAK2lB,YAAY+iF,GACjB1oG,KAAK8lB,YAAY2iF,KAGjBzoG,KAAK2lB,YAAY8iF,GACjBzoG,KAAK8lB,YAAY4iF,KAIzB5uC,EAAW96D,UAAU2mB,YAAc,SAAUN,GACrCA,IACAA,EAAQO,MAAM8hD,WAAa,WAGnC5N,EAAW96D,UAAU8mB,YAAc,SAAUT,GACrCA,GACAA,EAAQO,MAAMwC,eAAe,eAOrC0xC,EAAW96D,UAAU+nG,qBAAuB,SAAUc,GAClD7nG,KAAK+kG,QAAQh/F,KAAK8hG,IAOtB/tC,EAAW96D,UAAUgpG,qBAAuB,SAAU5B,GAClD,IAAIv6F,EAAQ7L,KAAK2oG,kBAAkBvC,GAGnC,OAFIv6F,GAAS,GACT7L,KAAK+kG,QAAQp5F,OAAOE,EAAO,GACxBA,GAEXiuD,EAAW96D,UAAU2pG,kBAAoB,SAAUvC,GAC/C,IAAK,IAAIhpG,EAAI,EAAGA,EAAI4C,KAAK+kG,QAAQ7jG,OAAQ9D,IACrC,GAAI4C,KAAK+kG,QAAQ3nG,GAAG4N,KAAOo7F,EACvB,OAAOhpG,EAEf,OAAQ,GAKZ08D,EAAW96D,UAAUmmG,uBAAyB,WAC1CnlG,KAAK4oG,cACL5oG,KAAKm/C,QAAQrG,cAKjBghB,EAAW96D,UAAU6mG,wBAA0B,WAC3C7lG,KAAKshD,gBAKTwY,EAAW96D,UAAUymG,sBAAwB,WACzCzlG,KAAKynG,uBAKT3tC,EAAW96D,UAAUumG,sBAAwB,WACzCvlG,KAAKgnG,WAAW,cAKpBltC,EAAW96D,UAAU2mG,wBAA0B,WAC3C3lG,KAAK4nG,uBAKT9tC,EAAW96D,UAAUqmG,qBAAuB,WACxCrlG,KAAK6mG,aAMT/sC,EAAW96D,UAAU2oG,aAAe,SAAUngG,KAK9CsyD,EAAW96D,UAAU4pG,YAAc,aAKnC9uC,EAAW96D,UAAUy/F,qBAAuB,WACxCz+F,KAAKgjG,qBAKTlpC,EAAW96D,UAAUw/F,oBAAsB,WACvCx+F,KAAKuoG,qBAKTzuC,EAAW96D,UAAUgkG,kBAAoB,WACjChjG,KAAK2mG,yBACL3mG,KAAK2mG,uBAAuB/gF,MAAMC,QAAU,SAMpDi0C,EAAW96D,UAAUupG,kBAAoB,WACjCvoG,KAAK2mG,yBACL3mG,KAAK2mG,uBAAuB/gF,MAAMC,QAAU,YAQpDi0C,EAAW96D,UAAUuoG,yBAA2B,SAAUM,EAAQ7hE,GAC9D,IAAIz8B,EAAOvJ,KAAK6oG,oBAAoBhB,EAAO78F,IACtCzB,IACDA,EAAO,CAAEyB,GAAI68F,EAAO78F,IACpBhL,KAAKglG,YAAYj/F,KAAKwD,IAE1BA,EAAK4+F,YAAcN,EAAOM,YAC1B5+F,EAAKy8B,QAAUA,GAOnB8zB,EAAW96D,UAAUsoG,0BAA4B,SAAUO,GACvD,IAAIt+F,EAAOvJ,KAAK6oG,oBAAoBhB,EAAO78F,IAC3C,OAAIzB,GAAQA,EAAK4+F,cAAgBN,EAAOM,YAC7B5+F,EAAKy8B,QAET,MAEX8zB,EAAW96D,UAAUkoG,eAAiB,SAAUl8F,GAC5C,IAAK,IAAInK,EAAK,EAAGqQ,EAAKlR,KAAK+kG,QAASlkG,EAAKqQ,EAAGhQ,OAAQL,IAAM,CACtD,IAAI0I,EAAO2H,EAAGrQ,GACd,GAAI0I,EAAKyB,KAAOA,EACZ,OAAOzB,EAGf,OAAO,MAEXuwD,EAAW96D,UAAU6pG,oBAAsB,SAAU79F,GACjD,IAAK,IAAInK,EAAK,EAAGqQ,EAAKlR,KAAKglG,YAAankG,EAAKqQ,EAAGhQ,OAAQL,IAAM,CAC1D,IAAI0I,EAAO2H,EAAGrQ,GACd,GAAI0I,EAAKyB,KAAOA,EACZ,OAAOzB,EAGf,OAAO,MAEJuwD,EA9lBoB,CA+lB7B,IAGEgvC,GAAkC,SAAUh1F,GAE5C,SAASg1F,IACL,OAAkB,OAAXh1F,GAAmBA,EAAOF,MAAM5T,KAAM2G,YAAc3G,KAE/D,OAJA,GAAU8oG,EAAkBh1F,GAIrBg1F,EAL0B,CAMnC,IC1nBE,IAAKhjG,WAAU,SAAUhC,GACrB,GAAKA,GAASA,EAAKL,MAEnB,IAAK,IAAI+jD,KAAQ1jD,EAAKL,MAClB,OAAQ+jD,GACJ,IAAK,iBACD1jD,EAAKL,MAA2B,oBAAIK,EAAKL,MAAM+jD,GAC/C,MACJ,IAAK,qBACD1jD,EAAKL,MAA+B,wBAAIK,EAAKL,MAAM+jD,GACnD,MACJ,IAAK,mCACD1jD,EAAKL,MAAoC,6BAAIK,EAAKL,MAAM+jD,GACxD,MACJ,IAAK,qBACD1jD,EAAKL,MAAsB,eAAIK,EAAKL,MAAM+jD,GAC1C,MACJ,IAAK,eACD1jD,EAAKL,MAAiB,UAAIK,EAAKL,MAAM+jD,GACrC,MACJ,IAAK,cACD1jD,EAAKL,MAAgB,SAAIK,EAAKL,MAAM+jD,GACpC,MACJ,IAAK,eACD1jD,EAAKL,MAAuB,gBAAIK,EAAKL,MAAM+jD,GAC3C,MACJ,IAAK,qBACD1jD,EAAKL,MAAuB,gBAAIK,EAAKL,MAAM+jD,GAC3C,MACJ,IAAK,iBACD1jD,EAAKL,MAAuB,gBAAIK,EAAKL,MAAM+jD,OAU3D,IAAK//C,mBAAmB,CACpBshG,iBAAkB,YAClBC,0BAA2B,sBAC3BxhE,YAAa,QACbhlC,aAAc,SACdymG,YAAa,QACbC,WAAY,OACZC,WAAY,OACZ1hE,UAAW,MACXllC,SAAU,KACV6mG,WAAY,UACZC,qBAAsB,gBACtBC,aAAc,cACdC,SAAU,QACVC,UAAW,SACXC,gBAAiB,gBACjBC,gBAAiB,gBACjBC,gBAAiB,0BACjBC,gBAAiB,aACjBC,kBAAmB,kBACnBC,iBAAkB,gBAClBC,oBAAqB,mBACrBC,uBAAwB,sBACxBC,aAAc,kBACdC,6BAA8B,yCAC9BC,aAAc,mBACdC,oBAAqB,0BACrBC,uBAAwB,wBACxBC,MAAO,QACPC,YAAa,MACbC,YAAa,MACbC,aAAc,OACdC,eAAgB,UAChBC,QAAS,MACTC,QAAS,KACTC,WAAY,MACZC,SAAU,KACVC,kBAAmB,oBACnBC,MAAO,KACPC,aAAc,eACdC,kBAAmB,iBACnBC,oBAAqB,gBACrBC,iBAAkB,mBAClBC,kBAAmB,qBACnBC,iBAAkB,0BAClBC,kBAAmB,yBACnBC,aAAc,eACdC,YAAa,YACbC,eAAgB,oBAChBC,MAAO,KACPC,oBAAqB,8BACrBC,wBAAyB,mDACzBC,iBAAkB,iBAClBC,oBAAqB,iBACrBC,oBAAqB,UACrBC,oBAAqB,kBACrBC,0BAA2B,aAC3BC,KAAM,OACNC,cAAe,UACfC,aAAc,6BACdC,eAAgB,0BAChBC,aAAc,YACdC,oBAAqB,mBACrBC,gBAAiB,gBACjBC,iBAAkB,iBAClBC,cAAe,aACfC,aAAc,UACdC,aAAc,aACdC,gBAAiB,qBACjBC,gBAAiB,aACjBC,aAAc,cACdC,cAAe,gBACfC,iBAAkB,aAClBC,cAAe,UACfC,YAAa,QACbC,iBAAkB,SAClBC,kBAAmB,UACnBC,cAAe,cACfC,iBAAkB,oBAClBC,eAAgB,gBAChBC,aAAc,aACdC,YAAa,YACbC,aAAc,kBACdC,UAAW,UACXC,YAAa,YACbC,WAAY,YACZC,YAAa,iBACbC,eAAgB,oBAChBC,cAAe,uBACfC,cAAe,mBACfC,cAAe,mBACfC,gBAAiB,SACjBC,eAAgB,qCAEhBC,mBAAoB,oBACpBC,sBAAuB,kDAEvBC,UAAW,QACXC,YAAa,UAEbC,iBAAkB,eAClBC,mBAAoB,8BACpBC,cAAe,YACfC,gBAAiB,uBACjBC,gBAAiB,YACjBC,eAAgB,aAChBC,iBAAkB,6BAClBC,iBAAkB,mBAClBC,kBAAmB,eACnBC,oBAAqB,mDACrBC,oBAAqB,6BACrBC,cAAe,cACfC,wBAAyB,qBAEzBC,iBAAkB,aAClBC,kBAAmB,aACnBC,mBAAoB,cACpBC,mBAAoB,eACpBC,oBAAqB,gCAErBC,OAAQ,CACJC,kBAAmB,iBACnBC,aAAc,CACVthB,MAAO,QACPuhB,MAAO,cACP5f,UAAW,cAEf6f,iBAAkB,mBAClBC,mBAAoB,2CACpBC,gBAAiB,UACjBC,eAAgB,SAChBC,oBAAqB,eACrBC,sBAAuB,0DACvBC,gBAAiB,cACjBC,kBAAmB,GACnBC,aAAc,WACdC,gBAAiB,uCACjBC,iBAAkB,2QAClBliB,MAAO,CACHmiB,WAAY,QACZC,SAAU,iBACVC,wBAAyB,cACzBC,yBAA0B,eAC1BC,uBAAwB,cAE5BhB,MAAO,CACHY,WAAY,cACZC,SAAU,iBACVI,yBAA0B,eAC1BC,sBAAuB,YACvBC,sBAAuB,YACvBC,eAAgB,aAChBC,eAAgB,aAChBC,eAAgB,SAEpBlhB,UAAW,CACPwgB,WAAY,eACZC,SAAU,uBACVU,YAAa,SACbC,eAAgB,aAChBC,iBAAkB,iBAI1BC,eAAgB,gBAChBC,kBAAmB,SACnB,IAAO,MACP,aAAc,UChNtB,IAAkB3yG,UAAUo6F,8BAAgC,SAAUj0C,GAClEnlD,KAA4B,sBAAImlD,GAEpC,IAAkBnmD,UAAU6iF,iBAAmB,WAC3C,IAAK7hF,KAAoB,cAAG,CACxB,IAAKA,KAA4B,sBAC7B,KAAM,uCAEVA,KAAoB,cAAIA,KAA4B,wBAExD,OAAOA,KAAoB,eCX/B,+hGAsDK4xG,QAAQ5yG,UAAU0S,UACnBkgG,QAAQ5yG,UAAU0S,QACdkgG,QAAQ5yG,UAAU6yG,mBACXD,QAAQ5yG,UAAU8yG,uBAG7B9kG,OAAiB,WAAMA,OAAiB,SAAEhO,UAAU2jB,UACpD3V,OAAiB,SAAEhO,UAAU2jB,QAAU1Y,MAAMjL,UAAU2jB,U,+CC1D3DvW,KAAKoV,MAAQpV,KAAKoV,OAAS,SAAUyD,GACjC,OAAItX,MAAMsX,GACCC,IAEPD,EAAI,EACG7Y,KAAK6C,MAAMgW,GAEf7Y,KAAK+Y,KAAKF,IAEd,IAAI8sF,EAAM,CACbC,KAAM,EACNC,GAAI,SAAUtzG,GACV,GAAKA,EAEL,IACI,IACIuzG,EAuBhB,SAAajwG,GAIT,IAHA,IAAIkwG,EAQR,SAAiBlwG,GACb,IAAI9C,EAAI8C,EAGR,QADA9C,GADAA,EAAIA,EAAE0G,QAAQ,KAAM,MACdA,QAAQ,KAAM,MACV3E,OAAS,GACf,KAAK,EACD,MACJ,KAAK,EACD/B,GAAK,KACL,MACJ,KAAK,EACDA,GAAK,IAGb,OAAO6N,OAAOomD,KAAKj0D,GAtBCizG,CAAQnwG,GACxBsJ,EAAM4mG,EAAcjxG,OACpBmxG,EAAQ,IAAIC,WAAW/mG,GAClBnO,EAAI,EAAGA,EAAImO,EAAKnO,IACrBi1G,EAAMj1G,GAAK+0G,EAAcI,WAAWn1G,GAExC,OAAOi1G,EA9BiBG,CADJ7zG,EAAIijB,MAAM,EAAGjjB,EAAIuC,OAAS,IAElCuxG,EAAQ9zG,EAAIijB,MAAMjjB,EAAIuC,OAAS,GAC/BwxG,EA8ChB,SAAaplG,GACT,IAEIlQ,EAAI,EACJ+E,EAAS,KACT4N,EAAOzC,EACX,GACInL,EAASwwG,EAAUxwG,EAAQ/E,IANrB,uCAM8B2S,EAL/B,KAMLA,EAAO3D,KAAKoV,MAAMzR,EANb,UAOAA,EAAO,GAChB,OAAO5N,EAxDUywG,CAnBT,IAoBA,GAAIH,EAAM,KAAOC,EAAG,IAAMD,EAAM,KAAOC,EAAG,GACtC,OAGJ,GAAID,EAAM,IAAYI,EADVC,EACyB,IACjC,OAEJ,GAAIL,EAAM,IAAMI,EAAQX,EAAU,IAC9B,OAEJH,EAAIC,KAAOS,EAAM,IAAMI,EAAQX,EAAU,IAAM,EAAI,EAEvD,MAAO1qG,OAIf,SAASqrG,EAAQ5tF,EAAG7e,GAEhB,YADU,IAANA,IAAgBA,EAAI,IACjBsC,OAAO2kB,aAAa,GAAKpI,EAAI7e,GAuCxC,SAASusG,EAAU1wG,EAAK4J,EAAOknG,GAC3B,OAAIlnG,EAAQ5J,EAAIf,OAAS,EACde,EACJA,EAAI8M,OAAO,EAAGlD,GAASknG,EAAM9wG,EAAI8M,OAAOlD,EAAQ,GClF3D,IACQ6G,EC8CJsgG,ED/CA1/F,GACIZ,EAAgB,SAAUhV,EAAG0I,GAI7B,OAHAsM,EAAgB5U,OAAOyV,gBAClB,CAAEC,UAAW,cAAgBvJ,OAAS,SAAUvM,EAAG0I,GAAK1I,EAAE8V,UAAYpN,IACvE,SAAU1I,EAAG0I,GAAK,IAAK,IAAIlH,KAAKkH,EAAOA,EAAEnH,eAAeC,KAAIxB,EAAEwB,GAAKkH,EAAElH,MACpDxB,EAAG0I,IAErB,SAAU1I,EAAG0I,GAEhB,SAASqN,IAAOzT,KAAK0T,YAAchW,EADnCgV,EAAchV,EAAG0I,GAEjB1I,EAAEsB,UAAkB,OAANoH,EAAatI,OAAOY,OAAO0H,IAAMqN,EAAGzU,UAAYoH,EAAEpH,UAAW,IAAIyU,KAKnF,EAA6B,SAAUK,GAEvC,SAASm/F,IACL,IAAIzxG,EAAmB,OAAXsS,GAAmBA,EAAOF,MAAM5T,KAAM2G,YAAc3G,KAIhE,OAHAwB,EAAM0xG,UAAW,EACjB1xG,EAAM2xG,eAAgB,EACtB3xG,EAAM4xG,QAAS,EACR5xG,EAuEX,OA7EA8R,EAAU2/F,EAAan/F,GAQvBm/F,EAAYj0G,UAAU20C,WAAa,WAC/B,OAAO3zC,KAAKkzG,UAAalzG,KAAKmyC,aAAenyC,KAAKmyC,YAAYwB,cAElEs/D,EAAYj0G,UAAU60C,YAAc,SAAUx1C,GAC1C2B,KAAKkzG,SAAW70G,GAAU2B,KAAKmyC,aAAenyC,KAAKmyC,YAAYwB,aAC/D3zC,KAAKi1C,YAAcj1C,KAAKi1C,WAAWtyB,SAAQ,SAAUwyB,GACjDA,EAAKtB,YAAYx1C,OAGzB40G,EAAYj0G,UAAUu2C,gBAAkB,WACpC,OAAOv1C,KAAKmzG,eAEhBF,EAAYj0G,UAAUw2C,iBAAmB,SAAUn3C,GAC/C2B,KAAKmzG,cAAgB90G,GAEzB40G,EAAYj0G,UAAUy2C,SAAW,WAC7B,OAAOz1C,KAAKozG,QAEhBH,EAAYj0G,UAAU02C,UAAY,SAAUr3C,GACxC2B,KAAKozG,OAAS/0G,GAElB40G,EAAYj0G,UAAUoX,aAAe,SAAUC,EAAOhW,GAElD,GADAyT,EAAO9U,UAAUoX,aAAa7Y,KAAKyC,KAAMqW,EAAOhW,GAC3C0xG,EAAIC,YAEoB,IAAlB3xG,EAAK6yG,UACZlzG,KAAK6zC,YAAYxzC,EAAK6yG,eAEC,IAAhB7yG,EAAK+yG,QACZpzG,KAAK01C,UAAUr1C,EAAK+yG,aAEU,IAAvB/yG,EAAK8yG,eACZnzG,KAAKw1C,iBAAiBn1C,EAAK8yG,eAI3B9yG,EAAKy5C,OACL,IAAK,IAAI18C,EAAI,EAAGA,EAAIiD,EAAKy5C,MAAM54C,OAAQ9D,IAAK,CACxC,IAAIi2G,EAAUrzG,KAAKyuC,MAAMuL,kBACzBq5D,EAAQj9F,aAAaC,EAAOhW,EAAKy5C,MAAM18C,IACvC4C,KAAKi1C,WAAWlvC,KAAKstG,GACrBA,EAAQj+D,UAAUp1C,QAI9BizG,EAAYj0G,UAAU0zC,WAAa,WAC/B,IAAIxkC,EAAM4F,EAAO9U,UAAU0zC,WAAWn1C,KAAKyC,MAC3C,IAAK+xG,EAAIC,KACL,OAAO9jG,EAWX,GAViB,IAAb6jG,EAAIC,MACAhyG,KAAK2zC,eACLzlC,EAAIglG,SAAWlzG,KAAK2zC,cAExB3zC,KAAKu1C,oBACLrnC,EAAIilG,cAAgBnzG,KAAKu1C,mBAEzBv1C,KAAKy1C,aACLvnC,EAAIklG,OAASpzG,KAAKy1C,YAElBz1C,KAAK+Z,KAAO,IAAQs7B,MAAO,CAG3BnnC,EAAI4rC,MAAQ,GACZ,IAAK,IAAI18C,EAAI,EAAGA,EAAI4C,KAAKi1C,WAAW/zC,OAAQ9D,IACxC8Q,EAAI4rC,MAAM/zC,KAAK/F,KAAKi1C,WAAW73C,GAAGs1C,cAG1C,OAAOxkC,GAEJ+kG,EA9EqB,CA+E9B,KE9FE,EAAwC,WACxC,IAAIvgG,EAAgB,SAAUhV,EAAG0I,GAI7B,OAHAsM,EAAgB5U,OAAOyV,gBAClB,CAAEC,UAAW,cAAgBvJ,OAAS,SAAUvM,EAAG0I,GAAK1I,EAAE8V,UAAYpN,IACvE,SAAU1I,EAAG0I,GAAK,IAAK,IAAIlH,KAAKkH,EAAOA,EAAEnH,eAAeC,KAAIxB,EAAEwB,GAAKkH,EAAElH,MACpDxB,EAAG0I,IAE5B,OAAO,SAAU1I,EAAG0I,GAEhB,SAASqN,IAAOzT,KAAK0T,YAAchW,EADnCgV,EAAchV,EAAG0I,GAEjB1I,EAAEsB,UAAkB,OAANoH,EAAatI,OAAOY,OAAO0H,IAAMqN,EAAGzU,UAAYoH,EAAEpH,UAAW,IAAIyU,IAV3C,GAexC,EAA0B,SAAUK,GAEpC,SAASw/F,IACL,IAAI9xG,EAAmB,OAAXsS,GAAmBA,EAAOF,MAAM5T,KAAM2G,YAAc3G,KAEhE,OADAwB,EAAM0xG,UAAW,EACV1xG,EAgCX,OApCA,EAAU8xG,EAAUx/F,GAMpBw/F,EAASt0G,UAAU20C,WAAa,WAC5B,OAAO3zC,KAAKkzG,UAEhBI,EAASt0G,UAAU60C,YAAc,SAAUx1C,GACvC2B,KAAKkzG,SAAW70G,GAOpBi1G,EAASt0G,UAAUoX,aAAe,SAAUC,EAAO29B,GAC/ClgC,EAAO9U,UAAUoX,aAAa7Y,KAAKyC,KAAMqW,EAAO29B,GAC3C+9D,EAAIC,MAELh+D,QAC+B,IAApBA,EAAQk/D,WACflzG,KAAKkzG,SAAWl/D,EAAQk/D,WAIpCI,EAASt0G,UAAU0zC,WAAa,WAC5B,IAAIsB,EAAUlgC,EAAO9U,UAAU0zC,WAAWn1C,KAAKyC,MAC/C,OAAK+xG,EAAIC,MAELhyG,KAAK2zC,eACLK,EAAQk/D,SAAWlzG,KAAK2zC,cAErBK,GAJIA,GAMRs/D,EArCkB,CAsC3B,KCrDE,EAAwC,WACxC,IAAI5gG,EAAgB,SAAUhV,EAAG0I,GAI7B,OAHAsM,EAAgB5U,OAAOyV,gBAClB,CAAEC,UAAW,cAAgBvJ,OAAS,SAAUvM,EAAG0I,GAAK1I,EAAE8V,UAAYpN,IACvE,SAAU1I,EAAG0I,GAAK,IAAK,IAAIlH,KAAKkH,EAAOA,EAAEnH,eAAeC,KAAIxB,EAAEwB,GAAKkH,EAAElH,MACpDxB,EAAG0I,IAE5B,OAAO,SAAU1I,EAAG0I,GAEhB,SAASqN,IAAOzT,KAAK0T,YAAchW,EADnCgV,EAAchV,EAAG0I,GAEjB1I,EAAEsB,UAAkB,OAANoH,EAAatI,OAAOY,OAAO0H,IAAMqN,EAAGzU,UAAYoH,EAAEpH,UAAW,IAAIyU,IAV3C,GAiBxC,EAAyB,SAAUK,GAEnC,SAASy/F,EAAQl9F,GACb,OAAOvC,EAAOvW,KAAKyC,KAAMqW,IAAUrW,KA+CvC,OAjDA,EAAUuzG,EAASz/F,GAInBy/F,EAAQv0G,UAAU45C,KAAO,WACrB,OAAoB,IAAbm5D,EAAIC,MAEfuB,EAAQv0G,UAAUg7C,gBAAkB,SAAUjgC,GAE1C,YADY,IAARA,IAAkBA,EAAM,IAAQ+7B,QAC/Bi8D,EAAIC,KAEF,IAAI,EAAYhyG,KAAM+Z,GADlBjG,EAAO9U,UAAUg7C,gBAAgBz8C,KAAKyC,KAAM+Z,IAG3Dw5F,EAAQv0G,UAAUm7C,aAAe,SAAU9G,GAEvC,YADmB,IAAfA,IAAyBA,GAAa,GACrC0+D,EAAIC,KAEF,IAAI,EAAShyG,KAAMqzC,GADfv/B,EAAO9U,UAAUm7C,aAAa58C,KAAKyC,KAAMqzC,IAQxDkgE,EAAQv0G,UAAU29C,kBAAoB,SAAU58C,EAAY68C,GAExD,QAD0B,IAAtBA,IAAgCA,GAAoB,IACnDm1D,EAAIC,KACL,OAAOl+F,EAAO9U,UAAU29C,kBAAkBp/C,KAAKyC,KAAMD,EAAY68C,GACrE,IAAI7mC,EAAShW,EAAWgW,QAAU/V,KAAKkvC,mBACnCskE,EAAQzzG,EAAWm2C,UAAYngC,EAAOg/B,WAAa,IAASpM,IAAM,IAASE,IAAM,IAASF,KAC1F2mB,EAAQtvD,KAAKg6C,gBAAgB,IAAQ3E,OAEzC,GADAia,EAAMva,SAAWy+D,EACb52D,EAAmB,CACnB,IAAIvmC,EAAQrW,KAAKoyC,WACb76B,EAAOlB,EAAM65B,kBACblM,EAAK3tB,EAAM26B,0BAA0Bz5B,GACrC49B,EAAOn1C,KAAK+8C,4BAA4BxlC,EAAMysB,EAAI,IACtDsrB,EAAM1Z,aAAaT,GAGvB,OADAp/B,EAAO6/B,aAAa0Z,GACbA,GAEXikD,EAAQv0G,UAAU69C,uBAAyB,SAAU98C,EAAY68C,GAG7D,YAF0B,IAAtBA,IAAgCA,GAAoB,GACxD78C,EAAWgW,OAAShW,EAAWgW,QAAU/V,KAAK+3C,gBACzCg6D,EAAIC,KAEFhyG,KAAK28C,kBAAkB58C,GADnB+T,EAAO9U,UAAU69C,uBAAuBt/C,KAAKyC,KAAMD,EAAY68C,IAGvE22D,EAlDiB,CAmD1B,KCpEEE,EAAsC,WACtC,SAASA,EAAqBt0D,GAC1Bn/C,KAAKm/C,QAAUA,EA6FnB,OA3FAs0D,EAAqBz0G,UAAUi5B,KAAO,aAEtCw7E,EAAqBz0G,UAAU4gD,SAAW,SAAUvrC,GAEhD,IAAIo6B,GADJp6B,EAAUA,GAAW,IACDo6B,OAASzuC,KAAKm/C,QAAQ9M,WACtCh8B,EAAQrW,KAAKm/C,QAAQ/M,WACrB8F,EAAU7jC,EAAQ6jC,UAAY7hC,EAAQA,EAAMkF,QAAU,IACtDgmC,EAAc,CACd,MAAS9S,EAAMkE,cAEft+B,EAAQhU,OACRkhD,EAAkB,KAAIltC,EAAQhU,MAElC,IAAIH,EAAMF,KAAKm/C,QAAQgC,gBAAgB,WAAY,CAAEjJ,QAASA,IAE9D,OADWl4C,KAAKm/C,QAAQ8B,cAAcC,gBAC1B1sC,KAAKtU,EAAKqhD,GACjBvuC,MAAK,SAAUouC,GAChB,OAAOA,EAAa3S,UAG5BglE,EAAqBz0G,UAAUugD,aAAe,SAAUlrC,GAEpD,IAAI6jC,GADJ7jC,EAAUA,GAAW,IACC6jC,SAAWl4C,KAAKm/C,QAAQ/M,WAAW72B,QACrDrb,EAAMF,KAAKm/C,QAAQgC,gBAAgB,eAAgB,CAAEjJ,QAASA,IAElE,OADWl4C,KAAKm/C,QAAQ8B,cAAcC,gBAC1BjjD,IAAIiC,GACX8S,MAAK,SAAUouC,GAChB,OAAKA,EAAayM,QAKXzM,EAAayM,QAJTv4C,QAAQE,OAAO,CAClBxB,QAAS,8BAMzBy/F,EAAqBz0G,UAAU6gD,UAAY,SAAUxrC,GACjDA,EAAUA,GAAW,GACrB,IAAIgC,EAAQrW,KAAKm/C,QAAQ/M,WACrB3D,EAAQzuC,KAAKm/C,QAAQ9M,WACrB6F,EAAU7jC,EAAQ6jC,SAAW7hC,EAAMkF,QACnCwkC,EAAU1rC,EAAQ0rC,SAAWtR,EAAMlzB,QACnCrb,EAAMF,KAAKm/C,QAAQgC,gBAAgB,WAAY,CAAEjJ,QAASA,EAAS6H,QAASA,IAEhF,OADW//C,KAAKm/C,QAAQ8B,cAAcC,gBAC1BjjD,IAAIiC,GACX8S,MAAK,SAAUouC,GAChB,OAAOA,EAAa3S,UAG5BglE,EAAqBz0G,UAAUghD,UAAY,SAAU3rC,GAEjD,IAAIo6B,GADJp6B,EAAUA,GAAW,IACDo6B,OAASzuC,KAAKm/C,QAAQ9M,WACtC0N,EAAU1rC,EAAQ0rC,SAAWtR,EAAMlzB,QACnClH,EAAQ0rC,SACRtR,EAAM0M,MAAM9mC,EAAQ0rC,SAExB,IAAI7H,EAAU7jC,EAAQ6jC,SAAWzJ,EAAM2D,WAAW72B,QAC9Ck9E,EAAYpkF,EAAQ1W,MAAQ8wC,EAAMjzB,UAClCnH,EAAQ0rC,SACRtR,EAAM0M,MAAM9mC,EAAQ0rC,SAExB,IAAIwB,EAAc,CACd,MAAS9S,EAAMkE,aACf,KAAQ8lD,GAERpkF,EAAQhU,OACRkhD,EAAkB,KAAIltC,EAAQhU,MAElC,IAAIH,EAAMF,KAAKm/C,QAAQgC,gBAAgB,YAAa,CAAEjJ,QAASA,EAAS6H,QAASA,IAEjF,OADW//C,KAAKm/C,QAAQ8B,cAAcC,gBAC1BxsC,IAAIxU,EAAKqhD,GAChBvuC,MAAK,SAAUouC,GAChB,OAAOA,EAAa3S,UAG5BglE,EAAqBz0G,UAAUmhD,YAAc,SAAU9rC,GACnDA,EAAUA,GAAW,GACrB,IACIo6B,EADUzuC,KAAKm/C,QACC9M,WAChB6F,EAAU7jC,EAAQ6jC,SAAWzJ,EAAM2D,WAAW72B,QAC9CwkC,EAAU1rC,EAAQ0rC,SAAWtR,EAAMlzB,QACnCgmC,EAAc,CACd,QAAWrJ,EACX,QAAW6H,GAEX1rC,EAAQhU,OACRkhD,EAAkB,KAAIltC,EAAQhU,MAElC,IAAIH,EAAMF,KAAKm/C,QAAQgC,gBAAgB,cAAe,CAAEjJ,QAASA,EAAS6H,QAASA,IAEnF,OADW//C,KAAKm/C,QAAQ8B,cAAcC,gBAC1BtsC,OAAO1U,EAAKqhD,GAAazuC,cAElC2gG,EA/F8B,GCArC,EAAwC,WACxC,IAAI/gG,EAAgB,SAAUhV,EAAG0I,GAI7B,OAHAsM,EAAgB5U,OAAOyV,gBAClB,CAAEC,UAAW,cAAgBvJ,OAAS,SAAUvM,EAAG0I,GAAK1I,EAAE8V,UAAYpN,IACvE,SAAU1I,EAAG0I,GAAK,IAAK,IAAIlH,KAAKkH,EAAOA,EAAEnH,eAAeC,KAAIxB,EAAEwB,GAAKkH,EAAElH,MACpDxB,EAAG0I,IAE5B,OAAO,SAAU1I,EAAG0I,GAEhB,SAASqN,IAAOzT,KAAK0T,YAAchW,EADnCgV,EAAchV,EAAG0I,GAEjB1I,EAAEsB,UAAkB,OAANoH,EAAatI,OAAOY,OAAO0H,IAAMqN,EAAGzU,UAAYoH,EAAEpH,UAAW,IAAIyU,IAV3C,GAgBxC,EAA6B,SAAUK,GAEvC,SAAS4/F,IACL,OAAkB,OAAX5/F,GAAmBA,EAAOF,MAAM5T,KAAM2G,YAAc3G,KA+H/D,OAjIA,EAAU0zG,EAAa5/F,GAIvB4/F,EAAY10G,UAAUwvC,eAAiB,SAAUC,GAC7C,IAAKsjE,EAAIC,KACL,OAAOl+F,EAAO9U,UAAUwvC,eAAejxC,KAAKyC,KAAMyuC,GACtD,GAAIzuC,KAAK2a,WACL,OAAO7G,EAAO9U,UAAUwvC,eAAejxC,KAAKyC,KAAMyuC,GACtD,IAAIK,EAAW9uC,KAAK6uC,mBAAmBJ,GACvC,GAAuB,GAAnBK,EAAS5tC,OACT,MAAM+S,MAAM,oCAGhB,IADA,IAAIy6B,EAAO,IAAI,IAAKI,EAAS,IACpB1xC,EAAI,EAAGA,EAAI0xC,EAAS5tC,OAAQ9D,IAAK,CACtC,IAAIia,EAASy3B,EAAS1xC,GACtB,IAAIsxC,EAAKnJ,SAASluB,GAAlB,CAGA,IAAIs8F,EAAO3zG,KAAK4zG,SAASllE,EAAKrwC,MAAOgZ,GACrC,GAAY,MAARs8F,EAKA,MAAM1/F,MAAM,6CAHZy6B,EAAO1uC,KAAK6zG,cAAcnlE,EAAOilE,EAAK,KAAOjlE,EAAKrwC,MAASs1G,EAAK/xF,MAAM,GAAK+xF,IAOnF,OADAjlE,EAAKxB,aACEwB,GAEXglE,EAAY10G,UAAU60G,cAAgB,SAAUnlE,EAAMilE,GAClD,GAAmB,GAAfA,EAAKzyG,OAAT,CAIA,IADA,IAAI4yG,GAAY,EACPjzG,EAAK,EAAGqQ,EAAKw9B,EAAK3B,OAAQlsC,EAAKqQ,EAAGhQ,OAAQL,IAAM,CACrD,IAAIosC,EAAQ/7B,EAAGrQ,GACf,GAAIosC,EAAM5uC,QAAUs1G,EAAK,GAAI,CACzBG,GAAY,EACRH,EAAKzyG,OAAS,IACd+rC,EAAQjtC,KAAK6zG,cAAc5mE,EAAO0mE,EAAK/xF,MAAM,KACjD,OAGR,IAAKkyF,EAED,GADW9zG,KAAK6vC,SAASnB,EAAKrwC,MAAOs1G,EAAK,IAChC,CACN,IAAII,EAAU,IAAI,IAAKJ,EAAK,IAC5BjlE,EAAKzlB,SAAS8qF,GACVJ,EAAKzyG,OAAS,IACd6yG,EAAU/zG,KAAK6zG,cAAcE,EAASJ,EAAK/xF,MAAM,SAEpD,IAAK8sB,EAAK34B,OAQX,MAAM9B,MAAM,6CAPZ,IAAI+/F,EAAO,IAAI,IAAKtlE,IACpBA,EAAO,IAAI,IAAKilE,EAAK,KAChB1qF,SAAS+qF,GACVL,EAAKzyG,OAAS,IACdwtC,EAAO1uC,KAAK6zG,cAAcnlE,EAAMilE,EAAK/xF,MAAM,KAMvD,OAAO8sB,IAEXglE,EAAY10G,UAAU40G,SAAW,SAAU9jE,EAAYC,GACnD,IAAIkkE,EAAU,GACVC,EAAU,GACVC,EAAW,GACXC,EAAiB,GACjBC,GAAY,EAIhB,IAHAJ,EAAQluG,KAAK+pC,GACbokE,EAAQnuG,KAAKkuG,GACbG,EAAeruG,KAAK+pC,IACZukE,GAAW,CACfF,EAAW,GACX,IAAK,IAAItzG,EAAK,EAAGyzG,EAAYJ,EAASrzG,EAAKyzG,EAAUpzG,OAAQL,IAAM,CAC/D,IAAI8yG,EAAOW,EAAUzzG,GAErB,GADAwzG,EAAYr0G,KAAKu0G,UAAUZ,EAAM5jE,EAAUokE,EAAUC,GACtC,CACXT,EAAK5tG,KAAKgqC,GACVkkE,EAAUN,EACV,OAIR,GADAO,EAAU,IACLG,EAAW,CACZ,GAAuB,GAAnBF,EAASjzG,OACT,OAAO,KAEX,IAAK,IAAIgQ,EAAK,EAAGsjG,EAAaL,EAAUjjG,EAAKsjG,EAAWtzG,OAAQgQ,IAAM,CAC9DyiG,EAAOa,EAAWtjG,GACtBgjG,EAAQnuG,KAAK4tG,KAIzB,OAAOM,GAEXP,EAAY10G,UAAUu1G,UAAY,SAAUZ,EAAM5jE,EAAUokE,EAAUC,GAGlE,IAFA,IAAIK,EAAWd,EAAKA,EAAKzyG,OAAS,GAEzBL,EAAK,EAAG6zG,EADC10G,KAAKiwC,iBAAiBwkE,GACM5zG,EAAK6zG,EAAcxzG,OAAQL,IAAM,CAC3E,IAAImvC,EAAO0kE,EAAc7zG,GACrB8zG,EAAU,KAOd,IALIA,EADA3kE,EAAKF,YAAc2kE,EACTzkE,EAAKD,SAGLC,EAAKF,aAEJC,EAEX,OADAokE,EAAW,IACJ,EAGX,GAAIR,EAAKroG,QAAQqpG,GAAW,GAAKP,EAAe9oG,QAAQqpG,GAAW,EAAG,CAClEP,EAAeruG,KAAK4uG,GACpB,IAAIC,EAAU,IAAI3qG,OAClB2qG,EAAUA,EAAQ13F,OAAOy2F,IACjB5tG,KAAK4uG,GACbR,EAASpuG,KAAK6uG,IAGtB,OAAO,GAEXlB,EAAY10G,UAAU4uC,YAAc,WAChC,OAAO,IAAI,EAAQ5tC,OAEhB0zG,EAlIqB,CAmI9B,K,OCjJE,EAAoC,WACpC,SAASmB,EAAmB11D,GACxBn/C,KAAKm/C,QAAUA,EACfn/C,KAAKg3B,OAAS,KAyFlB,OAvFA69E,EAAmB71G,UAAUi+B,UAAY,WACrC,OAAOj9B,KAAKg3B,QAEhB69E,EAAmB71G,UAAUukD,UAAY,SAAUlvC,IAC/CA,EAAUA,GAAW,IACbw6C,SAAWx6C,EAAQw6C,UAAY,EACjCx6C,EAAQw6C,SAAW,EACzB7uD,KAAKg3B,OAAS,IAAI,IAAkBh3B,KAAKm/C,SACzC,IAAI21D,EAAgB,GAChBrmE,EAAQ,IAAI,IAAMzuC,KAAKm/C,QAAQ/M,YACnC3D,EAAMr4B,aAAapW,KAAKm/C,QAAQ9M,WAAWM,cAC3C,IAAIlzB,EAAUgvB,EAAMnV,aAAata,QAAO,SAAUH,GAAO,OAAOA,EAAIuY,SAC7DvY,EAAIzG,KAAK2B,KAAO,IAAQ41B,mBAE3B9wB,EAAMY,EAAQ+c,MAClBiS,EAAMiO,aAAa79B,EAAK,MACxB,IAAK,IAAIzhB,EAAI,EAAGA,EAAIqiB,EAAQve,OAAQ9D,IAChCqiB,EAAQriB,GAAGg6B,SAAU,EAEzB09E,EAAc/uG,KAAK/F,KAAK+0G,aAAa,EAAGtmE,EAAOp6B,EAAQ2gG,kBAIvD,IAFA,IAAIn4E,EAAQ,EACRq2D,EAAS,EACNA,EAASzzE,EAAQve,QAAU27B,GAASxoB,EAAQw6C,UAC/CpvC,EAAQyzE,GAAQ97D,SAAU,EAC1B09E,EAAc/uG,KAAK/F,KAAK+0G,aAAal4E,EAAO4R,EAAOp6B,EAAQ2gG,kBAC3D9hB,IACAr2D,IAEJ,OAAOvnB,QAAQ69C,IAAI2hD,GACd9hG,MAAK,eACLG,OAAM,SAAU3L,GAASjB,QAAQiB,MAAMA,OAEhDqtG,EAAmB71G,UAAU+1G,aAAe,SAAUl4E,EAAO4R,EAAOumE,GAChE,IAAIxzG,EAAQxB,KAGZ,OAFeA,KAAKm/C,QAAQ8B,cACvB6D,iBAAiB9kD,KAAKm/C,SACXmC,aAAa,CACzB7S,MAAOA,IACRz7B,MAAK,SAAU7Q,GAKd,IAJA,IAAIw0B,EAAY,IAAI,IAAc,CAC9BrW,UAAW9e,EAAM29C,QAAQ8G,YAAY3lC,YAErC4lC,EAAY/jD,EAAO+jD,UACdrlD,EAAK,EAAGqQ,EAAKg1C,EAAU9pB,KAAMv7B,EAAKqQ,EAAGhQ,OAAQL,IAAM,CACxD,IAAIge,EAAM3N,EAAGrQ,GACb81B,EAAUlX,QAAQd,IAAIE,GAE1B8X,EAAUtU,SAASlgB,EAAOgkD,KAAKC,cAC/B,IAAK,IAAI7rC,EAAK,EAAGC,EAAK0rC,EAAUzlC,KAAMlG,EAAKC,EAAGtZ,OAAQqZ,IAAM,CACxD,IAAIoG,EAAMnG,EAAGD,GACboc,EAAU9V,OAAOF,GAErB,IAAIs0F,EAAYzzG,EAAM0zG,eAAev+E,GACrCn1B,EAAMw1B,OAAO8rB,UAAUjmB,EAAOo4E,GAC1BD,GACAA,EAAgBn4E,MAGnB1pB,OAAM,SAAU3L,GAAS,OAAOjB,QAAQiB,MAAMA,OAEvDqtG,EAAmB71G,UAAUk2G,eAAiB,SAAUv+E,GACpD,IAAIt2B,EAAO,IAAI+nD,IACX0mB,EAAW9uE,KAAKm/C,QAAQ9M,WACxB4Q,EAAa6rB,EAASx1C,aAAata,QAAO,SAAUH,GAAO,OAAOA,EAAIuY,SACnEvY,EAAIzG,KAAK2B,KAAO,IAAQ41B,mBAC/BsT,EAAWzmB,MAGX,IAFA,IAAI24E,EAAermC,EAASx1C,aAAata,QAAO,SAAUH,GAAO,OAAOA,EAAIuY,SACrEvY,EAAIzG,KAAK2B,KAAO,IAAQi/B,qBACtBn4C,EAAK,EAAGqQ,EAAKylB,EAAUpU,gBAAiB1hB,EAAKqQ,EAAGhQ,OAAQL,IAAM,CAInE,IAHA,IAAI8f,EAAMzP,EAAGrQ,GACTlC,EAAM,GACNN,EAAQ,GACHkc,EAAK,EAAG2oC,EAAeD,EAAY1oC,EAAK2oC,EAAahiD,OAAQqZ,IAAM,CACxE,IAAI4oC,EAASD,EAAa3oC,GACboc,EAAUlX,QAAQL,SAAS+jC,EAAOn4C,KACjC,IACVrM,EAAIwkD,EAAOn4C,IAAM2V,EAAIf,SAASujC,EAAOn4C,KAE7C,IAAK,IAAIwP,EAAK,EAAG46F,EAAiBD,EAAc36F,EAAK46F,EAAel0G,OAAQsZ,IAAM,CAC9E,IAAI66F,EAAWD,EAAe56F,GAC9Bnc,EAAMg3G,EAASrqG,IAAM2V,EAAIf,SAASy1F,EAASrqG,IAE/C3K,EAAK8J,IAAIiL,KAAKC,UAAU1W,GAAMN,GAElC,OAAOgC,GAEJw0G,EA5F4B,GLInCS,EAAqB,kBA6EzB,SAASC,IACDvC,IACAA,EAASptF,MAAMgC,MAAQ,SACvBhD,YAAW,WACPouF,EAAS99C,WAAWvjC,YAAYqhF,KACjC,MAjFX,IAAUh0G,UAAU+6D,sBAAwB,SAAUrQ,GAClD4rD,EAAqB5rD,GAEzB,IAAU1qD,UAAUg7D,cAAgB,SAAUw7C,GAC1C,IAAIh0G,EAAQxB,KACR6wC,EAAO,SAAUlyC,GAEjB,GADAozG,EAAIE,GAAGtzG,GACHozG,EAAIC,KAAM,CACV,IAAIyD,EAAWj0G,EAAMy/C,cACrBw0D,EAASvwD,2BAA0B,SAAU/F,GAAW,OAAO,IAAI,KACnEs2D,EAASrwD,uBAAsB,SAAUjG,GAAW,OAAO,IAAI,EAAQA,EAAQ/M,eAC/EqjE,EAASnwD,8BAA6B,SAAUnG,GAAW,OAAO,IAAIs0D,EAAqBt0D,MAC3Fs2D,EAAS9vD,yBAAwB,SAAUxG,GAAW,OAAO,IAAI,EAAmBA,MACnE,IAAb4yD,EAAIC,OACJzrG,QAAQC,KAAK,qHA2B7B,YACIwsG,EAAWnmG,SAASyY,cAAc,QACzBM,MAAM6B,SAAW,QAC1BurF,EAASptF,MAAMiC,OAAS,IACxBmrF,EAASptF,MAAMgC,MAAQ,SACvBorF,EAASptF,MAAMjZ,MAAQ,QACvBqmG,EAASptF,MAAMgB,OAAS,QACxBosF,EAASptF,MAAMg/C,MAAQ,OACvBouC,EAASptF,MAAM8vF,UAAY,SAC3B1C,EAASptF,MAAM+vF,QAAU,MACzB3C,EAASptF,MAAMgwF,KAAO,+EACtB5C,EAASptF,MAAMiwF,WAAa,oBAC5B,IAAIz0G,EAASyL,SAASyY,cAAc,OAChCwwF,EAAKjpG,SAASyY,cAAc,QAChCwwF,EAAG1qF,UAAY,YACf0qF,EAAGlwF,MAAMg/C,MAAQ,UACjBkxC,EAAGlwF,MAAMmwF,WAAa,OACtB30G,EAAOqkB,YAAYqwF,GACnB,IAAIE,EAAQnpG,SAASyY,cAAc,QACnC0wF,EAAM5qF,UAAY,eAClB4qF,EAAMpwF,MAAMw8C,WAAa,OACzBhhE,EAAOqkB,YAAYuwF,GACnBhD,EAASvtF,YAAYrkB,GACrB,IAAI60G,EAAYppG,SAASyY,cAAc,OACvC2wF,EAAU7qF,UAAY,qBACtB6qF,EAAUrwF,MAAMy7C,SAAW,QAC3B40C,EAAUrwF,MAAMisE,WAAa,OAC7BmhB,EAASvtF,YAAYwwF,GACrBppG,SAASD,KAAK6Y,YAAYutF,GAtDdkD,GACAtxF,YAAW,WAwDnBouF,IACAA,EAASptF,MAAMgC,MAAQ,KAvDXhD,WAAW2wF,EAAa,OACzB,WAIPhvG,QAAQiB,MAAM,gJAGtB,GAAmC,iBAAxB,EACPqpC,EAAK2kE,OAEJ,IAAmC,mBAAxB,EAQZ,MAAM,IAAIvhG,MAAM,+GAPhB,IAAI+sC,EAAOhhD,KAAKihD,cAAcC,gBAC1BhhD,EAAMo1G,EACVt0D,EAAK/iD,IAAIiC,GACJ8S,MAAK,SAAU7Q,GAAU0uC,EAAK1uC,EAAOlB,MAAM,IAAI+O,UAAU1O,KAAK,KAAMk0G,OACpEriG,OAAM,SAAU3L,GAAS,OAAOjB,QAAQiB,MAAMA,QMzC3D","file":"adhoc-reporting.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 9);\n","/** Represents the common types of the data. */\r\nexport var DataType;\r\n(function (DataType) {\r\n    /** Unknown type value*/\r\n    DataType[DataType[\"Unknown\"] = 0] = \"Unknown\";\r\n    /** String value*/\r\n    DataType[DataType[\"String\"] = 1] = \"String\";\r\n    /** 8-bit integer value */\r\n    DataType[DataType[\"Byte\"] = 2] = \"Byte\";\r\n    /** 16-bit integer value */\r\n    DataType[DataType[\"Word\"] = 3] = \"Word\";\r\n    /** 32-bit integer value */\r\n    DataType[DataType[\"Int32\"] = 4] = \"Int32\";\r\n    /** 64-bit integer value */\r\n    DataType[DataType[\"Int64\"] = 5] = \"Int64\";\r\n    /** Boolean value */\r\n    DataType[DataType[\"Bool\"] = 6] = \"Bool\";\r\n    /** Floating-point numeric value */\r\n    DataType[DataType[\"Float\"] = 7] = \"Float\";\r\n    /** Money value */\r\n    DataType[DataType[\"Currency\"] = 8] = \"Currency\";\r\n    /** Binary-coded decimal value */\r\n    DataType[DataType[\"BCD\"] = 9] = \"BCD\";\r\n    /** Date value */\r\n    DataType[DataType[\"Date\"] = 10] = \"Date\";\r\n    /** Time value */\r\n    DataType[DataType[\"Time\"] = 11] = \"Time\";\r\n    /** Date and time value */\r\n    DataType[DataType[\"DateTime\"] = 12] = \"DateTime\";\r\n    /** Autoincrement 32-bit integer value */\r\n    DataType[DataType[\"Autoinc\"] = 13] = \"Autoinc\";\r\n    /** MEMO value (text with unlimited length) */\r\n    DataType[DataType[\"Memo\"] = 14] = \"Memo\";\r\n    /** BLOB value (any data with unlimited length) */\r\n    DataType[DataType[\"Blob\"] = 15] = \"Blob\";\r\n    /** Fixed character value */\r\n    DataType[DataType[\"FixedChar\"] = 16] = \"FixedChar\";\r\n    /** The unique identifier */\r\n    DataType[DataType[\"Guid\"] = 17] = \"Guid\";\r\n    /*-------- Spatial data types ----------*/\r\n    /** Any geometry data */\r\n    DataType[DataType[\"Geometry\"] = 18] = \"Geometry\";\r\n    /** Any data that represents some geography objects</summary> */\r\n    DataType[DataType[\"Geography\"] = 19] = \"Geography\";\r\n})(DataType || (DataType = {}));\r\n//# sourceMappingURL=data_type.js.map","export var EntityAttrKind;\r\n(function (EntityAttrKind) {\r\n    EntityAttrKind[EntityAttrKind[\"Data\"] = 0] = \"Data\";\r\n    EntityAttrKind[EntityAttrKind[\"Virtual\"] = 1] = \"Virtual\";\r\n    EntityAttrKind[EntityAttrKind[\"Lookup\"] = 2] = \"Lookup\";\r\n})(EntityAttrKind || (EntityAttrKind = {}));\r\n//# sourceMappingURL=entity_attr_kind.js.map","export var EditorTag = {\r\n    /** Unknown tag value */\r\n    Unknown: \"Unknown\",\r\n    /** Edit tag value */\r\n    Edit: \"EDIT\",\r\n    /** DateTime tag value  */\r\n    DateTime: \"DATETIME\",\r\n    /** List tag value */\r\n    List: \"LIST\",\r\n    /** CustomList tag value */\r\n    CustomList: \"CUSTOMLIST\"\r\n};\r\n//# sourceMappingURL=editor_tag.js.map","export var HttpMethod;\r\n(function (HttpMethod) {\r\n    HttpMethod[\"Trace\"] = \"TRACE\";\r\n    HttpMethod[\"Options\"] = \"OPTIONS\";\r\n    HttpMethod[\"Get\"] = \"GET\";\r\n    HttpMethod[\"Put\"] = \"PUT\";\r\n    HttpMethod[\"Post\"] = \"POST\";\r\n    HttpMethod[\"Delete\"] = \"DELETE\";\r\n})(HttpMethod || (HttpMethod = {}));\r\n//# sourceMappingURL=http_method.js.map","var HttpRequest = /** @class */ (function () {\r\n    function HttpRequest(xhr, descriptor) {\r\n        this.xhr = xhr;\r\n        this.method = descriptor.method;\r\n        this.url = descriptor.url;\r\n        this.headers = descriptor.headers;\r\n        this.queryParams = descriptor.queryParams;\r\n        this.data = descriptor.data;\r\n    }\r\n    HttpRequest.prototype.setHeader = function (name, value) {\r\n        this.headers[name] = value;\r\n    };\r\n    HttpRequest.prototype.setQueryParam = function (name, value) {\r\n        this.queryParams[name] = value;\r\n    };\r\n    HttpRequest.prototype.getXMLHttpRequest = function () {\r\n        return this.xhr;\r\n    };\r\n    HttpRequest.prototype.getResponseHeaders = function () {\r\n        if (this.xhr.readyState == this.xhr.HEADERS_RECEIVED) {\r\n            var headers = this.xhr.getAllResponseHeaders();\r\n            var arr = headers.trim().split(/[\\r\\n]+/);\r\n            // Create a map of header names to values\r\n            var headerMap = {};\r\n            for (var _i = 0, arr_1 = arr; _i < arr_1.length; _i++) {\r\n                var line = arr_1[_i];\r\n                var parts = line.split(': ');\r\n                var header = parts.shift();\r\n                var value = parts.join(': ');\r\n                headerMap[header] = value;\r\n            }\r\n            return headerMap;\r\n        }\r\n        return {};\r\n    };\r\n    HttpRequest.prototype.open = function () {\r\n        var _this = this;\r\n        if (this.xhr.readyState !== this.xhr.UNSENT)\r\n            return;\r\n        var url = this.url;\r\n        if (this.queryParams && Object.keys(this.queryParams)) {\r\n            url += encodeURI('?' + Object.keys(this.queryParams)\r\n                .map(function (param) { return param + '=' + _this.queryParams[param]; })\r\n                .join('&'));\r\n        }\r\n        this.xhr.open(this.method, url, true);\r\n        this.xhr.setRequestHeader('X-Requested-With', 'XMLHttpRequest');\r\n        for (var header in this.headers) {\r\n            this.xhr.setRequestHeader(header, this.headers[header]);\r\n        }\r\n    };\r\n    HttpRequest.prototype.abort = function () {\r\n        this.xhr.abort();\r\n    };\r\n    return HttpRequest;\r\n}());\r\nexport { HttpRequest };\r\n//# sourceMappingURL=http_request.js.map","import { DataType } from '../types/data_type';\r\nimport { utils } from '../utils/utils';\r\n/**\r\n * Contains internatialization functionality.\r\n */\r\nexport var i18n;\r\n(function (i18n) {\r\n    var defaultTexts = {\r\n        ButtonOK: 'OK',\r\n        ButtonCancel: 'Cancel'\r\n    };\r\n    var englishUSLocaleSettings = {\r\n        shortDateFormat: 'MM/dd/yyyy',\r\n        longDateFormat: 'dd MMM, yyyy',\r\n        editDateFormat: 'MM/dd/yyyy',\r\n        shortTimeFormat: 'HH:mm',\r\n        editTimeFormat: 'HH:mm',\r\n        longTimeFormat: 'HH:mm:ss',\r\n        shortMonthNames: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'],\r\n        longMonthNames: ['January', 'February', 'March', 'April', 'May', 'June',\r\n            'July', 'August', 'September', 'October', 'November', 'December'],\r\n        shortWeekDayNames: [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"],\r\n        longWeekDayNames: [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"],\r\n        decimalSeparator: '.'\r\n    };\r\n    var defaultLocale = {\r\n        localeId: 'en-US',\r\n        englishName: 'English',\r\n        displayName: 'English',\r\n        texts: defaultTexts,\r\n        settings: englishUSLocaleSettings\r\n    };\r\n    var allLocales = {\r\n        'en-US': defaultLocale\r\n    };\r\n    var currentLocale;\r\n    var mappers = [];\r\n    function mapInfo(info) {\r\n        for (var _i = 0, mappers_1 = mappers; _i < mappers_1.length; _i++) {\r\n            var mapper = mappers_1[_i];\r\n            mapper(info);\r\n        }\r\n    }\r\n    function addMapper(mapper) {\r\n        mappers.push(mapper);\r\n    }\r\n    i18n.addMapper = addMapper;\r\n    /**\r\n     * Gets added locales with their names.\r\n     * @returns  The locales.\r\n     */\r\n    function getLocales() {\r\n        var result = [];\r\n        for (var locale in allLocales) {\r\n            result.push({\r\n                locale: locale,\r\n                englishName: allLocales[locale].englishName,\r\n                displayName: allLocales[locale].displayName\r\n            });\r\n        }\r\n        return result.sort(function (a, b) {\r\n            if (a.englishName > b.englishName) {\r\n                return 1;\r\n            }\r\n            else if (a.englishName === b.englishName) {\r\n                return 0;\r\n            }\r\n            return -1;\r\n        });\r\n    }\r\n    i18n.getLocales = getLocales;\r\n    /**\r\n     * Gets the current locale ID.\r\n     * @returns The locale.\r\n     */\r\n    function getCurrentLocale() {\r\n        return currentLocale.localeId;\r\n    }\r\n    i18n.getCurrentLocale = getCurrentLocale;\r\n    /**\r\n    * Sets the curent locale.\r\n    * @deprecated Use setCurrentLocale instead\r\n    * @param l The locale.\r\n    */\r\n    function setLocale(l) {\r\n        console.warn(\"This method is deprecated. Use setCurrentLocale instead\");\r\n        setCurrentLocale(l);\r\n    }\r\n    i18n.setLocale = setLocale;\r\n    /**\r\n     * Sets the curent locale.\r\n     * @param localeId The locale.\r\n     */\r\n    function setCurrentLocale(localeId) {\r\n        var newLocale = allLocales[localeId];\r\n        if (newLocale) {\r\n            utils.assignDeep(currentLocale, newLocale);\r\n        }\r\n        else {\r\n            currentLocale = {\r\n                englishName: localeId,\r\n                displayName: localeId,\r\n                texts: defaultTexts\r\n            };\r\n        }\r\n        currentLocale.localeId = localeId;\r\n    }\r\n    i18n.setCurrentLocale = setCurrentLocale;\r\n    /**\r\n     * Returns localized text by the key defined in parameter.\r\n     * Here we get the text of the resource string assigned to CmdClickToAddCondition key:\r\n     *\r\n     ```\r\n       const text = i18n.getText('CmdClickToAddCondition')\r\n     ```\r\n     * @param args The keys of the resource string.\r\n     * @returns Text of the resource defined by key or null if the key is not found\r\n     *\r\n     */\r\n    function getText() {\r\n        var args = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n            args[_i] = arguments[_i];\r\n        }\r\n        var textsObj = currentLocale.texts;\r\n        var resText = '';\r\n        if (args && args.length) {\r\n            var argLength = args.length;\r\n            for (var i = 0; i < argLength; i++) {\r\n                resText = textsObj[args[i]];\r\n                if (typeof resText === 'object') {\r\n                    textsObj = resText;\r\n                }\r\n                else {\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n        return resText;\r\n    }\r\n    i18n.getText = getText;\r\n    function getLocaleSettings() {\r\n        return currentLocale.settings;\r\n    }\r\n    i18n.getLocaleSettings = getLocaleSettings;\r\n    function getOneLocaleSetting(key) {\r\n        return currentLocale.settings[key];\r\n    }\r\n    i18n.getOneLocaleSetting = getOneLocaleSetting;\r\n    function getShortMonthName(monthNum) {\r\n        var settings = getLocaleSettings();\r\n        if (monthNum > 0 && monthNum < 13) {\r\n            return settings.shortMonthNames[monthNum - 1];\r\n        }\r\n        else {\r\n            throw 'Wrong month number: ' + monthNum;\r\n        }\r\n    }\r\n    i18n.getShortMonthName = getShortMonthName;\r\n    function getLongMonthName(monthNum) {\r\n        var settings = getLocaleSettings();\r\n        if (monthNum > 0 && monthNum < 13) {\r\n            return settings.longMonthNames[monthNum - 1];\r\n        }\r\n        else {\r\n            throw 'Wrong month number: ' + monthNum;\r\n        }\r\n    }\r\n    i18n.getLongMonthName = getLongMonthName;\r\n    function getShortWeekDayName(dayNum) {\r\n        var settings = getLocaleSettings();\r\n        if (dayNum > 0 && dayNum < 8) {\r\n            return settings.shortWeekDayNames.length >= dayNum\r\n                ? settings.shortWeekDayNames[dayNum - 1]\r\n                : dayNum.toString();\r\n        }\r\n        else {\r\n            throw 'Wrong month number: ' + dayNum;\r\n        }\r\n    }\r\n    i18n.getShortWeekDayName = getShortWeekDayName;\r\n    function getLongWeekDayName(dayNum) {\r\n        var settings = getLocaleSettings();\r\n        if (dayNum > 0 && dayNum < 8) {\r\n            return settings.longWeekDayNames.length >= dayNum\r\n                ? settings.longWeekDayNames[dayNum - 1]\r\n                : dayNum.toString();\r\n        }\r\n        else {\r\n            throw 'Wrong month number: ' + dayNum;\r\n        }\r\n    }\r\n    i18n.getLongWeekDayName = getLongWeekDayName;\r\n    /**\r\n     * Updates the locale settings (date/time formats, separators, etc) for the specified locale.\r\n     * @param settingsToUpdate a LocaleSettings object\r\n     * @param locale The locale ID (like 'en', 'de', 'uk', etc).\r\n     * If not specified - the function will update the settings for the current locale\r\n     */\r\n    function updateLocaleSettings(settingsToUpdate) {\r\n        if (!currentLocale.settings) {\r\n            currentLocale.settings = utils.assignDeep({}, englishUSLocaleSettings);\r\n        }\r\n        currentLocale.settings = utils.assignDeep(currentLocale.settings, settingsToUpdate);\r\n    }\r\n    i18n.updateLocaleSettings = updateLocaleSettings;\r\n    /**\r\n     * Updates the texts for the current locale\r\n     * @param texts A plain JS object that contains textual resources\r\n     */\r\n    function updateLocaleTexts(texts) {\r\n        if (typeof texts !== 'object') {\r\n            console.error('Wrong parameter type in updateLocaleTexts function call.' +\r\n                'The first parameter (localeId) is not necessary. Use updateLocaleTexts(texts) instead');\r\n            return;\r\n        }\r\n        mapInfo({ localeId: currentLocale.localeId, texts: texts });\r\n        utils.assignDeep(currentLocale.texts, texts);\r\n    }\r\n    i18n.updateLocaleTexts = updateLocaleTexts;\r\n    function updateDefaultTexts(texts) {\r\n        for (var localeId in allLocales) {\r\n            var locale = allLocales[localeId];\r\n            locale.texts = utils.assignDeep({}, texts, locale.texts);\r\n        }\r\n        currentLocale.texts = utils.assignDeep({}, texts, currentLocale.texts);\r\n    }\r\n    i18n.updateDefaultTexts = updateDefaultTexts;\r\n    /**\r\n     * Updates the information for the specified locale.\r\n     * @param localeId The locale ID (like 'en', 'de', 'uk', etc).\r\n     * If the locale does exist yet - it will be added\r\n     * @param localeInfo  a LocaleInfo object that contains the locale settings and textual resources\r\n     */\r\n    function updateLocaleInfo(localeId, localeData) {\r\n        mapInfo(localeData);\r\n        var localeInfoToUpdate = currentLocale;\r\n        if (localeId) {\r\n            if (!localeData.localeId) {\r\n                localeData.localeId = localeId;\r\n            }\r\n            localeInfoToUpdate = allLocales[localeId];\r\n            if (!localeInfoToUpdate) {\r\n                localeInfoToUpdate = utils.assignDeep({}, defaultLocale);\r\n                allLocales[localeId] = localeInfoToUpdate;\r\n            }\r\n        }\r\n        utils.assignDeep(localeInfoToUpdate, localeData);\r\n    }\r\n    i18n.updateLocaleInfo = updateLocaleInfo;\r\n    /**\r\n     * Adds the locale.\r\n     * @param localeId The locale ID (like 'en', 'de', 'uk', etc).\r\n     * If the locale does exist yet - it will be created\r\n     * @param localeInfo - a LocaleInfo object that contains the locale settings and textual resources\r\n     */\r\n    function addLocale(localeId, localeInfo) {\r\n        updateLocaleInfo(localeId, localeInfo);\r\n    }\r\n    i18n.addLocale = addLocale;\r\n    /**\r\n     * Overwrites some locale settings (date/time formats) with the formats used in browser's current language\r\n     */\r\n    function determineSettingsByLocale(localeId) {\r\n        var now = new Date(2020, 5, 7, 19, 34, 56, 88);\r\n        var dateOptions = { year: 'numeric', month: 'numeric', day: 'numeric' };\r\n        var timeOptions = { hour: 'numeric', minute: 'numeric', second: 'numeric' };\r\n        var dateStr = now.toLocaleDateString(localeId, dateOptions);\r\n        var timeStr = now.toLocaleTimeString(localeId, timeOptions);\r\n        var dateFormat = dateStr\r\n            .replace('07', 'dd')\r\n            .replace('7', 'd')\r\n            .replace('06', 'MM')\r\n            .replace('6', 'M')\r\n            .replace('2020', 'yyyy')\r\n            .replace('20', 'yy');\r\n        var timeFormat = timeStr\r\n            .replace('19', 'HH')\r\n            .replace('07', 'hh')\r\n            .replace('7', 'h')\r\n            .replace('34', 'mm')\r\n            .replace('56', 'ss')\r\n            .replace('PM', 'tt');\r\n        if (!currentLocale.settings) {\r\n            currentLocale.settings = {};\r\n        }\r\n        var localeSettings = {\r\n            shortDateFormat: dateFormat,\r\n            editDateFormat: dateFormat,\r\n            shortTimeFormat: timeFormat\r\n        };\r\n        updateLocaleSettings(localeSettings);\r\n    }\r\n    function loadBrowserLocaleSettings() {\r\n        var lang = typeof navigator === 'object' ? navigator.language : undefined;\r\n        determineSettingsByLocale(lang);\r\n    }\r\n    function resetLocales() {\r\n        if (!currentLocale) {\r\n            currentLocale = utils.assignDeep({}, defaultLocale);\r\n            loadBrowserLocaleSettings();\r\n        }\r\n    }\r\n    i18n.resetLocales = resetLocales;\r\n    function dateTimeToStr(dateTime, dataType) {\r\n        var localeSettings = getLocaleSettings();\r\n        var format;\r\n        switch (dataType) {\r\n            case DataType.Date:\r\n                format = localeSettings.shortDateFormat;\r\n                break;\r\n            case DataType.Time:\r\n                format = localeSettings.shortTimeFormat;\r\n                break;\r\n            default:\r\n                format = localeSettings.shortDateFormat + ' ' + localeSettings.shortTimeFormat;\r\n                break;\r\n        }\r\n        return utils.dateTimeToStr(dateTime, format);\r\n    }\r\n    i18n.dateTimeToStr = dateTimeToStr;\r\n    function numberToStr(number) {\r\n        var localeSettings = getLocaleSettings();\r\n        return utils.numberToStr(number, localeSettings.decimalSeparator);\r\n    }\r\n    i18n.numberToStr = numberToStr;\r\n})(i18n || (i18n = {}));\r\n//# sourceMappingURL=i18n.js.map","import * as strf from './string_utils';\r\nimport { DataType } from '../types/data_type';\r\nimport { i18n } from '../i18n/i18n';\r\nexport var utils;\r\n(function (utils) {\r\n    function getAllDataTypes() {\r\n        return Object.values(DataType);\r\n    }\r\n    utils.getAllDataTypes = getAllDataTypes;\r\n    function getDateDataTypes() {\r\n        return [DataType.Time, DataType.Date, DataType.DateTime];\r\n    }\r\n    utils.getDateDataTypes = getDateDataTypes;\r\n    function getStringDataTypes() {\r\n        return [DataType.String, DataType.Memo];\r\n    }\r\n    utils.getStringDataTypes = getStringDataTypes;\r\n    var _numericTypes = [DataType.Byte, DataType.Word, DataType.Int32,\r\n        DataType.Int64, DataType.Float, DataType.Currency];\r\n    var _intTypes = [DataType.Byte, DataType.Word, DataType.Int32, DataType.Int64];\r\n    //-------------- object functions -------------------\r\n    /**\r\n     * Copy the content of all objests passed in `args` parameters into `target`\r\n     * and returns the result\r\n     * NB: This function copies only the first level properties.\r\n     * For a deep copy please use `assignDeep`\r\n     * @param target - the target object\r\n     * @param args  - an array of the source objects\r\n     */\r\n    function assign(target) {\r\n        var args = [];\r\n        for (var _i = 1; _i < arguments.length; _i++) {\r\n            args[_i - 1] = arguments[_i];\r\n        }\r\n        for (var i = 0; i < args.length; i++) {\r\n            var source = args[i];\r\n            if (source) {\r\n                for (var key in source) {\r\n                    if (source.hasOwnProperty(key)) {\r\n                        target[key] = source[key];\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return target;\r\n    }\r\n    utils.assign = assign;\r\n    /**\r\n     * Copy the content of all objests passed in `args` parameters into `target`\r\n     * and returns the result\r\n     * NB: This function make a deep copy -\r\n     * so `assignDeep` will be called recursively for all object properties\r\n     * on the first level.\r\n     * @param target - the target object\r\n     * @param sources  - an array of the source objects\r\n     */\r\n    function assignDeep(target) {\r\n        var sources = [];\r\n        for (var _i = 1; _i < arguments.length; _i++) {\r\n            sources[_i - 1] = arguments[_i];\r\n        }\r\n        return assignDeepCore(new WeakMap(), target, sources);\r\n    }\r\n    utils.assignDeep = assignDeep;\r\n    function assignDeepCore(hashSet, target, sources) {\r\n        if (!target) {\r\n            target = {};\r\n        }\r\n        for (var _i = 0, sources_1 = sources; _i < sources_1.length; _i++) {\r\n            var source = sources_1[_i];\r\n            if (source) {\r\n                for (var key in source) {\r\n                    if (source.hasOwnProperty(key)) {\r\n                        var sourceVal = source[key];\r\n                        if (sourceVal !== null && typeof sourceVal === 'object') {\r\n                            if (hashSet.has(sourceVal)) {\r\n                                target[key] = hashSet.get(sourceVal);\r\n                            }\r\n                            else {\r\n                                if (Array.isArray(sourceVal)) {\r\n                                    target[key] = createArrayFrom(sourceVal);\r\n                                    hashSet.set(sourceVal, target[key]);\r\n                                }\r\n                                else {\r\n                                    if (typeof target[key] == 'undefined') {\r\n                                        target[key] = Object.create(Object.getPrototypeOf(sourceVal));\r\n                                    }\r\n                                    hashSet.set(sourceVal, target[key]);\r\n                                    assignDeepCore(hashSet, target[key], [sourceVal]);\r\n                                }\r\n                            }\r\n                        }\r\n                        else {\r\n                            target[key] = sourceVal;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return target;\r\n    }\r\n    function getIfDefined(value, defaultValue) {\r\n        return (typeof value !== 'undefined') ? value : defaultValue;\r\n    }\r\n    utils.getIfDefined = getIfDefined;\r\n    function IsDefinedAndNotNull(value) {\r\n        return typeof value !== 'undefined' && value !== null;\r\n    }\r\n    utils.IsDefinedAndNotNull = IsDefinedAndNotNull;\r\n    function copyArrayTo(collection1, collection2) {\r\n        var len1 = collection1.length;\r\n        var len2 = collection2.length;\r\n        for (var i = 0; i < len1 && i < len2; i++) {\r\n            collection2[i] = collection1[i];\r\n        }\r\n    }\r\n    utils.copyArrayTo = copyArrayTo;\r\n    function createArrayFrom(collection) {\r\n        var result = [];\r\n        for (var _i = 0, collection_1 = collection; _i < collection_1.length; _i++) {\r\n            var item = collection_1[_i];\r\n            result.push(item);\r\n        }\r\n        return result;\r\n    }\r\n    utils.createArrayFrom = createArrayFrom;\r\n    /**\r\n     * Searches an array of the objects which implement ItemWithId by ID\r\n     * Returs the found object or null.\r\n     * @param array\r\n     * @param id\r\n     */\r\n    function findItemById(array, id) {\r\n        var arrLength = array.length;\r\n        for (var idx = 0; idx < arrLength; idx++) {\r\n            if (array[idx].id === id)\r\n                return array[idx];\r\n        }\r\n        return null;\r\n    }\r\n    utils.findItemById = findItemById;\r\n    function findItemIndexById(array, id) {\r\n        var arrLength = array.length;\r\n        for (var idx = 0; idx < arrLength; idx++) {\r\n            if (array[idx].id === id)\r\n                return idx;\r\n        }\r\n        return -1;\r\n    }\r\n    utils.findItemIndexById = findItemIndexById;\r\n    /**\r\n     * Searches an array of the objects which implement ItemWithId by ID\r\n     * Returs the index of the found element, or -1 if nothing was found.\r\n     * @param array\r\n     * @param id\r\n     */\r\n    function indexOfArrayItem(arr, item) {\r\n        if (arr.indexOf) {\r\n            return arr.indexOf(item);\r\n        }\r\n        else {\r\n            var len = arr.length;\r\n            for (var i = 0; i < len; i++) {\r\n                if (item == arr[i]) {\r\n                    return i;\r\n                }\r\n            }\r\n            return -1;\r\n        }\r\n    }\r\n    utils.indexOfArrayItem = indexOfArrayItem;\r\n    /**\r\n     * Moves an item in some array to a new position\r\n     * @param array\r\n     * @param index1\r\n     * @param index2\r\n     */\r\n    function moveArrayItem(array, index1, index2) {\r\n        if (index1 >= array.length) {\r\n            throw 'Index out of bounds: ' + index1;\r\n        }\r\n        if (index2 >= array.length) {\r\n            index2 = array.length - 1;\r\n        }\r\n        var item = array.splice(index1, 1)[0];\r\n        array.splice(index2, 0, item);\r\n    }\r\n    utils.moveArrayItem = moveArrayItem;\r\n    /**\r\n     * Searches for a particular item in the array are removes that item if found.\r\n     * @param arr\r\n     * @param value\r\n     */\r\n    function removeArrayItem(arr, value) {\r\n        var index = arr.indexOf(value);\r\n        if (index != -1) {\r\n            return arr.splice(index, 1)[0];\r\n        }\r\n    }\r\n    utils.removeArrayItem = removeArrayItem;\r\n    function insertArrayItem(arr, index, value) {\r\n        arr.splice(index, 0, value);\r\n    }\r\n    utils.insertArrayItem = insertArrayItem;\r\n    function fillArray(arr, value, start, end) {\r\n        if (start === void 0) { start = 0; }\r\n        var len = arr.length >>> 0;\r\n        var relativeStart = start >> 0;\r\n        var k = relativeStart < 0 ?\r\n            Math.max(len + relativeStart, 0) :\r\n            Math.min(relativeStart, len);\r\n        var relativeEnd = end === undefined ?\r\n            len : end >> 0;\r\n        var final = relativeEnd < 0 ?\r\n            Math.max(len + relativeEnd, 0) :\r\n            Math.min(relativeEnd, len);\r\n        while (k < final) {\r\n            arr[k] = value;\r\n            k++;\r\n        }\r\n        return arr;\r\n    }\r\n    utils.fillArray = fillArray;\r\n    //------------ DOM utils ------------\r\n    /**\r\n     * Calculates the shift on which we need to move our element horizontally\r\n     * to find current window\r\n     * @param absLeft\r\n     * @param width\r\n     */\r\n    function shiftToFitWindow(absLeft, width) {\r\n        var body = document.getElementsByTagName('body')[0];\r\n        var winWidth = window.innerWidth || document.documentElement.clientWidth || body.clientWidth;\r\n        var absRight = absLeft + width;\r\n        var shift = 0;\r\n        if (absRight > winWidth) {\r\n            shift = winWidth - absRight - 10;\r\n            if (absLeft + shift < 0) {\r\n                shift = 10 - absLeft;\r\n            }\r\n        }\r\n        return shift;\r\n    }\r\n    utils.shiftToFitWindow = shiftToFitWindow;\r\n    /**\r\n     * Returns `true` if the value passed in the parameter is an object\r\n     * @param val\r\n     */\r\n    function isObject(val) {\r\n        if (val === null) {\r\n            return false;\r\n        }\r\n        return ((typeof val === 'function') || (typeof val === 'object'));\r\n    }\r\n    utils.isObject = isObject;\r\n    /**\r\n     * Returns `true` if the `DataType` value passed in the parameter\r\n     * represents some numeric type\r\n     * @param dtype\r\n     */\r\n    function isNumericType(dtype) {\r\n        var index = _numericTypes.indexOf(dtype);\r\n        return (index >= 0);\r\n    }\r\n    utils.isNumericType = isNumericType;\r\n    /**\r\n     * Returns `true` if the `DataType` value passed in the parameter\r\n     * represents some numeric type\r\n     * @param dtype\r\n     */\r\n    function isIntType(dtype) {\r\n        var index = _intTypes.indexOf(dtype);\r\n        return (index >= 0);\r\n    }\r\n    utils.isIntType = isIntType;\r\n    /**\r\n     * Returns `true` if the value passed in the parameter is an a numeric value\r\n     * @param val\r\n     */\r\n    function isNumeric(val) {\r\n        return !isNaN(parseFloat(val)) && isFinite(val);\r\n    }\r\n    utils.isNumeric = isNumeric;\r\n    /**\r\n     * Returns `true` if two data types  passed in parameters\r\n     * are compatible - so it's safe to copy the values between\r\n     * two expressions with these two types\r\n     * @param type1\r\n     * @param type2\r\n     */\r\n    function areCompatibleDataTypes(type1, type2) {\r\n        return typeof type1 == \"undefined\" || typeof type2 == \"undefined\" || type1 == DataType.Unknown || type2 == DataType.Unknown\r\n            || (type1 == type2) || (type1 == DataType.Date && type2 == DataType.DateTime)\r\n            || (type1 == DataType.DateTime && type2 == DataType.Date);\r\n    }\r\n    utils.areCompatibleDataTypes = areCompatibleDataTypes;\r\n    /**\r\n     * Returns `true` if the property with named `propName`\r\n     * in the object `obj` has some value\r\n     * @param obj\r\n     * @param propName\r\n     */\r\n    function isPropSet(obj, propName) {\r\n        return obj[propName] || obj[propName.toLowerCase()] || obj[propName.toUpperCase()];\r\n    }\r\n    utils.isPropSet = isPropSet;\r\n    //-------------- ID generator -----------\r\n    var prefixIdLen = 4;\r\n    var symbols = \"0123456789abcdefghijklmnopqrstuvwxyz\";\r\n    var magicTicks = 636712160627685350;\r\n    /**\r\n     * Generates an unique ID\r\n     */\r\n    function generateId(prefix) {\r\n        if (!prefix) {\r\n            prefix = 'easy';\r\n        }\r\n        var prfx = (prefix.length > prefixIdLen) ? squeezeMoniker(prefix, prefixIdLen) : prefix;\r\n        if (prfx && prfx.length > 0) {\r\n            prfx += \"-\";\r\n        }\r\n        //adding 2 random symbols\r\n        var randValue = strf.repeatString(\"\", 2);\r\n        ;\r\n        var maxSymbolIndex = symbols.length - 1;\r\n        randValue = replaceAtString(randValue, 0, symbols[getRandomInt(0, maxSymbolIndex)]);\r\n        randValue = replaceAtString(randValue, 1, symbols[getRandomInt(0, maxSymbolIndex)]);\r\n        //generating main ID part (64-base representation of the current value of the time ticks)\r\n        var ticksNum64 = intToNum36(getNowTicks() - magicTicks);\r\n        return prfx + randValue + ticksNum64;\r\n    }\r\n    utils.generateId = generateId;\r\n    function intToNum36(value) {\r\n        var targetBase = 36;\r\n        var i = 14;\r\n        var buffer = strf.repeatString(\"\", i);\r\n        var rest = value;\r\n        do {\r\n            buffer = replaceAtString(buffer, i--, symbols[rest % targetBase]);\r\n            rest = Math.floor(rest /= targetBase);\r\n        } while (rest > 0);\r\n        return strf.reverseString(buffer.trim());\r\n    }\r\n    function squeezeMoniker(str, maxlen) {\r\n        var parts = str.split('-');\r\n        var pml = 1;\r\n        var ptt = maxlen;\r\n        if (parts.length < maxlen) {\r\n            pml = maxlen / parts.length;\r\n            ptt = parts.length;\r\n        }\r\n        var result = \"\";\r\n        for (var i = 0; i < ptt; i++) {\r\n            result += squeeze(parts[i], pml);\r\n        }\r\n        return result;\r\n    }\r\n    function squeeze(str, maxlen) {\r\n        var len = str.length;\r\n        if (len > maxlen) {\r\n            var step = len / maxlen;\r\n            var result = \"\";\r\n            result += str[0];\r\n            var nextIndex = step;\r\n            var ch = void 0;\r\n            for (var i = 1; i < len; i++) {\r\n                ch = str[i];\r\n                if (i + 1 > nextIndex) {\r\n                    result += ch;\r\n                    nextIndex += step;\r\n                }\r\n            }\r\n            return result;\r\n        }\r\n        else {\r\n            return str;\r\n        }\r\n    }\r\n    function replaceAtString(str, index, value) {\r\n        return str.substr(0, index) + value + str.substr(index + value.length);\r\n    }\r\n    function getRandomInt(min, max) {\r\n        return Math.floor(Math.random() * (max - min)) + min;\r\n    }\r\n    function getNowTicks() {\r\n        return (621355968e9 + (new Date()).getTime() * 1e4);\r\n    }\r\n    function safeParseInt(str) {\r\n        var isnum = /^\\d+$/.test(str);\r\n        if (!isnum)\r\n            throw \"Is not a valid number\";\r\n        return parseInt(str);\r\n    }\r\n    function getDaysInMonth(month, year) {\r\n        return new Date(year, month + 1, 0).getDate();\r\n    }\r\n    // ------------- date/time functions -------------------\r\n    // TO DO: improve to process all datetime cases\r\n    function strToDateTime(value, format) {\r\n        if (!value || value.length == 0)\r\n            return new Date();\r\n        var normalized = value.replace(/[^a-zA-Z0-9_]/g, '-');\r\n        var normalizedFormat = format.replace(/[^a-zA-Z0-9_]/g, '-');\r\n        var formatItems = normalizedFormat.split('-');\r\n        var dateItems = normalized.split('-');\r\n        var monthIndex = formatItems.indexOf(\"MM\");\r\n        var dayIndex = formatItems.indexOf(\"dd\");\r\n        var yearIndex = formatItems.indexOf(\"yyyy\");\r\n        var hourIndex = formatItems.indexOf(\"HH\");\r\n        var minutesIndex = formatItems.indexOf(\"mm\");\r\n        var secondsIndex = formatItems.indexOf(\"ss\");\r\n        var today = new Date();\r\n        try {\r\n            var year = yearIndex > -1 && yearIndex < dateItems.length ? safeParseInt(dateItems[yearIndex]) : today.getFullYear();\r\n            var month = monthIndex > -1 && monthIndex < dateItems.length ? safeParseInt(dateItems[monthIndex]) - 1 : today.getMonth() - 1;\r\n            if (month > 11)\r\n                throw '';\r\n            var day = dayIndex > -1 && dayIndex < dateItems.length ? safeParseInt(dateItems[dayIndex]) : today.getDate();\r\n            if (day > getDaysInMonth(month, year))\r\n                throw '';\r\n            var hour = hourIndex > -1 && hourIndex < dateItems.length ? safeParseInt(dateItems[hourIndex]) : 0;\r\n            if (hour > 23)\r\n                throw '';\r\n            var minute = minutesIndex > -1 && minutesIndex < dateItems.length ? safeParseInt(dateItems[minutesIndex]) : 0;\r\n            if (minute > 59)\r\n                throw '';\r\n            var second = secondsIndex > -1 && secondsIndex < dateItems.length ? safeParseInt(dateItems[secondsIndex]) : 0;\r\n            if (second > 59)\r\n                throw '';\r\n            return new Date(year, month, day, hour, minute, second);\r\n        }\r\n        catch (_a) {\r\n            throw \"Is not a valid date time.\";\r\n        }\r\n    }\r\n    utils.strToDateTime = strToDateTime;\r\n    var DT_FORMAT_RGEX = /\\[([^\\]]+)]|y{4}|M{1,4}|d{1,2}|H{1,2}|h{1,2}|m{2}|s{2}|t{2}/g;\r\n    /**\r\n     * Returns string representation of the date/time value according to the custom format (second parameter)\r\n     * The format is compatible with the one used in .NET: https://docs.microsoft.com/en-us/dotnet/standard/base-types/custom-date-and-time-format-strings\r\n     * @param date\r\n     * @param format\r\n     */\r\n    function dateTimeToStr(date, format) {\r\n        var year = date.getFullYear();\r\n        var month = date.getMonth() + 1;\r\n        var day = date.getDate();\r\n        var hour = date.getHours();\r\n        var minute = date.getMinutes();\r\n        var second = date.getSeconds();\r\n        var hour12 = hour % 12 || 12; //the remainder of the division by 12. Or 12 if it's 0\r\n        var isPm = hour > 11;\r\n        var matches = {\r\n            yyyy: year.toString(),\r\n            MMMM: i18n.getLongMonthName(month),\r\n            MMM: i18n.getShortMonthName(month),\r\n            MM: (month < 10) ? '0' + month : month.toString(),\r\n            M: month.toString(),\r\n            dd: (day < 10) ? '0' + day : day.toString(),\r\n            d: day.toString(),\r\n            HH: (hour < 10) ? '0' + hour : hour.toString(),\r\n            H: hour.toString(),\r\n            hh: (hour12 < 10) ? '0' + hour12 : hour12.toString(),\r\n            h: hour12.toString(),\r\n            tt: isPm ? 'PM' : 'AM',\r\n            mm: (minute < 10) ? '0' + minute : minute.toString(),\r\n            ss: (second < 10) ? '0' + second : second.toString()\r\n        };\r\n        return format.replace(DT_FORMAT_RGEX, function (match, $1) {\r\n            return $1 || matches[match];\r\n        });\r\n    }\r\n    utils.dateTimeToStr = dateTimeToStr;\r\n    /**\r\n    * Converts a numeric value to the string taking into the account the decimal separator\r\n    * @param value - the number to convert\r\n    * @param decimalSeparator - the symbol that represents decimal separator. If not specified the function gets the one from the current locale settings.\r\n    */\r\n    function numberToStr(number, decimalSeparator) {\r\n        decimalSeparator = decimalSeparator || i18n.getLocaleSettings().decimalSeparator;\r\n        return number.toString().replace('.', decimalSeparator);\r\n    }\r\n    utils.numberToStr = numberToStr;\r\n})(utils || (utils = {}));\r\n//# sourceMappingURL=utils.js.map","export function repeatString(str, times) {\r\n    var result = \"\";\r\n    for (var i = 0; i < times; i++) {\r\n        result += str;\r\n    }\r\n    return result;\r\n}\r\nexport function reverseString(str) {\r\n    return str.split(\"\").reverse().join(\"\");\r\n}\r\nexport function strEndsWith(str, symbol) {\r\n    return str && str.lastIndexOf(symbol) == (str.length - symbol.length);\r\n}\r\n/**\r\n * Adds two paths and returns the result\r\n * Correctly processes leading and trailing slashes\r\n * @param path1\r\n * @param path2\r\n */\r\nexport function combinePath(path1, path2) {\r\n    var result = path1;\r\n    if (result != null && result.length > 0) {\r\n        if (result.charAt(result.length - 1) != '/')\r\n            result += \"/\";\r\n        result += path2;\r\n    }\r\n    else {\r\n        result = path2;\r\n    }\r\n    return result;\r\n}\r\n//# sourceMappingURL=string_utils.js.map","var HttpActionResult = /** @class */ (function () {\r\n    function HttpActionResult(request, promise) {\r\n        this.request = request;\r\n        this.promise = promise;\r\n    }\r\n    HttpActionResult.prototype.getPromise = function () {\r\n        return this.promise;\r\n    };\r\n    HttpActionResult.prototype.getRequest = function () {\r\n        return this.request;\r\n    };\r\n    HttpActionResult.prototype.then = function (onfulfilled, onrejected) {\r\n        return this.promise.then(onfulfilled, onrejected);\r\n    };\r\n    HttpActionResult.prototype.catch = function (onrejected) {\r\n        return this.promise.catch(onrejected);\r\n    };\r\n    HttpActionResult.prototype.finally = function (onfinally) {\r\n        return this.promise.finally(onfinally);\r\n    };\r\n    return HttpActionResult;\r\n}());\r\nexport { HttpActionResult };\r\n//# sourceMappingURL=http_action_result.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __assign = (this && this.__assign) || function () {\r\n    __assign = Object.assign || function(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n                t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\nimport { utils } from '../utils/utils';\r\nimport { HttpActionResult } from './http_action_result';\r\nimport { HttpMethod } from './http_method';\r\nimport { HttpRequest } from './http_request';\r\nvar HttpResponseError = /** @class */ (function (_super) {\r\n    __extends(HttpResponseError, _super);\r\n    function HttpResponseError(status, message) {\r\n        var _this = _super.call(this, message) || this;\r\n        _this.status = status;\r\n        return _this;\r\n    }\r\n    return HttpResponseError;\r\n}(Error));\r\nexport { HttpResponseError };\r\nvar HttpClient = /** @class */ (function () {\r\n    function HttpClient() {\r\n        this.defaultHeaders = {};\r\n        this.customPayload = undefined;\r\n    }\r\n    HttpClient.prototype.get = function (url, options) {\r\n        return this.send(HttpMethod.Get, url, null, options);\r\n    };\r\n    HttpClient.prototype.post = function (url, data, options) {\r\n        return this.send(HttpMethod.Post, url, data, options);\r\n    };\r\n    HttpClient.prototype.put = function (url, data, options) {\r\n        return this.send(HttpMethod.Put, url, data, options);\r\n    };\r\n    HttpClient.prototype.delete = function (url, data, options) {\r\n        return this.send(HttpMethod.Delete, url, data, options);\r\n    };\r\n    HttpClient.prototype.send = function (method, url, data, options) {\r\n        options = options || {};\r\n        var dataType = options.dataType || 'json';\r\n        var contentType = options.contentType || (dataType !== 'form-data')\r\n            ? 'application/json'\r\n            : null;\r\n        if (data && dataType != 'form-data' && this.customPayload) {\r\n            data.data = utils.assignDeep(data.data || {}, this.customPayload);\r\n        }\r\n        var XHR = ('onload' in new XMLHttpRequest())\r\n            ? XMLHttpRequest\r\n            : window[\"XDomainRequest\"]; //IE support\r\n        var xhr = new XHR();\r\n        var desc = {\r\n            method: method,\r\n            url: url,\r\n            headers: __assign({}, this.defaultHeaders, options.headers || {}),\r\n            queryParams: options.queryParams || {},\r\n            data: data\r\n        };\r\n        if (contentType)\r\n            desc.headers['Content-Type'] = contentType;\r\n        var request = new HttpRequest(xhr, desc);\r\n        if (this.beforeEachRequest) {\r\n            console.warn(\"HttpClient: 'beforeEachRequest' is deprecated and will be removed in future updates.\\n            Use 'onRequest' instead\");\r\n            this.beforeEachRequest(request);\r\n        }\r\n        if (this.onRequest) {\r\n            this.onRequest(request);\r\n        }\r\n        var dataToSend = (request.data && typeof request.data !== 'string'\r\n            && dataType == 'json')\r\n            ? JSON.stringify(request.data)\r\n            : request.data;\r\n        request.open();\r\n        return new HttpActionResult(request, new Promise(function (resolve, reject) {\r\n            xhr.onreadystatechange = function () {\r\n                if (xhr.readyState != 4) {\r\n                    return;\r\n                }\r\n                var responseContentType = xhr.getResponseHeader('Content-Type') || '';\r\n                var responseObj = (responseContentType.indexOf('application/json') == 0)\r\n                    ? JSON.parse(xhr.responseText)\r\n                    : xhr.responseText;\r\n                var status = xhr.status;\r\n                if (status >= 300 || status < 200) {\r\n                    var message = responseObj.message ||\r\n                        (status == 404\r\n                            ? \"No such endpoint: \" + url\r\n                            : responseObj);\r\n                    reject(new HttpResponseError(status, message));\r\n                    return;\r\n                }\r\n                resolve(responseObj);\r\n            };\r\n            xhr.send(dataToSend);\r\n        }));\r\n    };\r\n    return HttpClient;\r\n}());\r\nexport { HttpClient };\r\n//# sourceMappingURL=http_client.js.map","import { DataType } from '../types/data_type';\r\nimport { EntityAttrKind } from '../types/entity_attr_kind';\r\nimport { utils } from '../utils/utils';\r\n/**\r\n * Represents one entity.\r\n */\r\nvar MetaEntity = /** @class */ (function () {\r\n    /** The default constructor. */\r\n    function MetaEntity(parent) {\r\n        this.name = \"\";\r\n        this.caption = \"\";\r\n        this.description = \"\";\r\n        this.parent = parent;\r\n        this.attributes = new Array();\r\n        this.subEntities = new Array();\r\n    }\r\n    /**\r\n    * Loads entity from its JSON representation object.\r\n    * @param model The Data Model.\r\n    * @param dto The JSON representation object.\r\n    */\r\n    MetaEntity.prototype.loadFromData = function (model, dto) {\r\n        if (dto) {\r\n            this.id = dto.id;\r\n            this.name = dto.name;\r\n            this.captionPlural = dto.namePlur;\r\n            this.caption = dto.name;\r\n            this.description = dto.desc;\r\n            this.subEntities = new Array();\r\n            if (dto.ents) {\r\n                for (var i = 0; i < dto.ents.length; i++) {\r\n                    var newEntity = model.createEntity(this);\r\n                    newEntity.loadFromData(model, dto.ents[i]);\r\n                    this.subEntities.push(newEntity);\r\n                }\r\n            }\r\n            this.attributes = new Array();\r\n            if (dto.attrs) {\r\n                for (var i = 0; i < dto.attrs.length; i++) {\r\n                    var newAttr = model.createEntityAttr(this);\r\n                    newAttr.loadFromData(model, dto.attrs[i]);\r\n                    this.attributes.push(newAttr);\r\n                }\r\n            }\r\n        }\r\n    };\r\n    MetaEntity.prototype.scan = function (processAttribute, processEntity) {\r\n        var opts = { stop: false };\r\n        var internalProcessEntity = function (entity) {\r\n            if (processEntity)\r\n                processEntity(entity, opts);\r\n            if (entity.attributes) {\r\n                var attrCount = entity.attributes.length;\r\n                for (var i = 0; (i < attrCount) && !opts.stop; i++) {\r\n                    var attr = entity.attributes[i];\r\n                    if (processAttribute) {\r\n                        processAttribute(attr, opts);\r\n                    }\r\n                    if (opts.stop)\r\n                        return;\r\n                }\r\n            }\r\n            if (entity.subEntities) {\r\n                var subEntityCount = entity.subEntities.length;\r\n                for (var i = 0; (i < subEntityCount) && !opts.stop; i++) {\r\n                    internalProcessEntity(entity.subEntities[i]);\r\n                }\r\n            }\r\n        };\r\n        internalProcessEntity(this);\r\n    };\r\n    return MetaEntity;\r\n}());\r\nexport { MetaEntity };\r\nvar MetaEntityAttr = /** @class */ (function () {\r\n    /** The default constructor. */\r\n    function MetaEntityAttr(entity) {\r\n        this.id = \"\";\r\n        this.caption = \"{Unrecognized attribute}\";\r\n        this.dataType = DataType.String;\r\n        this.size = 0;\r\n        this.isPrimaryKey = false;\r\n        this.isForeignKey = false;\r\n        this.isNullable = true;\r\n        this.showOnView = true;\r\n        this.isEditable = true;\r\n        this.showOnCreate = true;\r\n        this.showOnEdit = true;\r\n        this.showInLookup = false;\r\n        this.lookupAttr = \"\";\r\n        this.expr = \"\";\r\n        this.entity = entity;\r\n        this.kind = EntityAttrKind.Data;\r\n    }\r\n    /**\r\n     * Loads entity attribute from JSON representation object.\r\n     * @param model The Data Model.\r\n     * @param dto The JSON representation object.\r\n     */\r\n    MetaEntityAttr.prototype.loadFromData = function (model, dto) {\r\n        if (dto) {\r\n            this.id = dto.id;\r\n            this.description = dto.desc;\r\n            this.caption = dto.cptn;\r\n            this.dataType = dto.dtype;\r\n            this.isPrimaryKey = dto.ipk;\r\n            this.isForeignKey = dto.ifk;\r\n            this.size = dto.size;\r\n            this.lookupAttr = dto.lattr;\r\n            this.lookupEntity = dto.lent;\r\n            this.dataAttr = dto.dattr;\r\n            this.lookupDataAttr = dto.ldattr;\r\n            this.isNullable = utils.getIfDefined(dto.nul, this.isNullable);\r\n            this.isEditable = utils.getIfDefined(dto.ied, this.isEditable);\r\n            this.showOnView = utils.getIfDefined(dto.ivis || dto.sov, this.showOnView);\r\n            this.showOnCreate = utils.getIfDefined(dto.soc, this.showOnCreate);\r\n            this.showOnEdit = utils.getIfDefined(dto.soe, this.showOnEdit);\r\n            this.showInLookup = utils.getIfDefined(dto.sil, this.showInLookup);\r\n            this.kind = dto.kind;\r\n            if (dto.udata)\r\n                this.userData = dto.udata;\r\n            if (dto.edtr) {\r\n                this.defaultEditor = model.getEditorById(dto.edtr) || model.createValueEditor();\r\n            }\r\n        }\r\n    };\r\n    return MetaEntityAttr;\r\n}());\r\nexport { MetaEntityAttr };\r\n//# sourceMappingURL=meta_entity.js.map","import { EditorTag } from '../types/editor_tag';\r\nimport { DataType } from '../types/data_type';\r\n/**\r\n * Represents a value editor.\r\n */\r\nvar ValueEditor = /** @class */ (function () {\r\n    /** The default constructor. */\r\n    function ValueEditor() {\r\n        this.id = \"\";\r\n        this.tag = EditorTag.Unknown;\r\n        this.resType = DataType.Unknown;\r\n        this.defValue = \"\";\r\n    }\r\n    /**\r\n     * Loads value editor from its JSON representation object.\r\n     * @param data The JSON representation object.\r\n     */\r\n    ValueEditor.prototype.loadFromData = function (data) {\r\n        if (data) {\r\n            this.id = data.id;\r\n            this.tag = data.tag;\r\n            this.defValue = data.defval;\r\n            this.resType = data.rtype;\r\n            if (data.subType) {\r\n                this.resType = data.subType;\r\n            }\r\n            if (data.name) {\r\n                this.name = data.name;\r\n            }\r\n            if (data.values) {\r\n                this.values = data.values;\r\n            }\r\n        }\r\n    };\r\n    ValueEditor.prototype.getValueText = function (value) {\r\n        var result = \"\";\r\n        if (!this.values)\r\n            return result;\r\n        if (Array.isArray(value)) {\r\n            for (var _i = 0, _a = this.values; _i < _a.length; _i++) {\r\n                var item = _a[_i];\r\n                if (value.indexOf(item.id) >= 0) {\r\n                    result += item.text + ',';\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            for (var _b = 0, _c = this.values; _b < _c.length; _b++) {\r\n                var item = _c[_b];\r\n                if (item.id === value) {\r\n                    result += item.text + ',';\r\n                }\r\n            }\r\n        }\r\n        if (result) {\r\n            result = result.substring(0, result.length - 1);\r\n        }\r\n        return result;\r\n    };\r\n    return ValueEditor;\r\n}());\r\nexport { ValueEditor };\r\n//# sourceMappingURL=value_editor.js.map","import { i18n } from '../i18n/i18n';\r\nimport { utils } from '../utils/utils';\r\nimport { EditorTag } from '../types/editor_tag';\r\nimport { DataType } from '../types/data_type';\r\nimport { MetaEntity, MetaEntityAttr } from './meta_entity';\r\nimport { ValueEditor } from './value_editor';\r\n/**\r\n * Represents a data model\r\n */\r\nvar MetaData = /** @class */ (function () {\r\n    /** The default constructor. */\r\n    function MetaData() {\r\n        this.mainEntity = null;\r\n        this.id = '__none';\r\n        this.name = 'Empty model';\r\n        this.rootEntity = this.createEntity();\r\n    }\r\n    /**\r\n     * Gets the main entity of model\r\n     * @return The main entity.\r\n     */\r\n    MetaData.prototype.getMainEntity = function () {\r\n        return this.mainEntity;\r\n    };\r\n    MetaData.prototype.createEntity = function (parent) {\r\n        return new MetaEntity(parent);\r\n    };\r\n    MetaData.prototype.createEntityAttr = function (parent) {\r\n        return new MetaEntityAttr(parent);\r\n    };\r\n    MetaData.prototype.createValueEditor = function () {\r\n        return new ValueEditor();\r\n    };\r\n    /**\r\n     * Loads data model from JSON.\r\n     * @param stringJson The JSON string.\r\n     */\r\n    MetaData.prototype.loadFromJSON = function (stringJson) {\r\n        var model = JSON.parse(stringJson);\r\n        this.loadFromData(model);\r\n    };\r\n    /**\r\n     * Loads data model from its JSON representation object.\r\n     * @param data The JSON representation object.\r\n     */\r\n    MetaData.prototype.loadFromData = function (data) {\r\n        this.id = data.id;\r\n        this.name = data.name;\r\n        this.version = data.vers;\r\n        //Editors\r\n        this.editors = new Array();\r\n        if (data.editors) {\r\n            for (var i = 0; i < data.editors.length; i++) {\r\n                var newEditor = this.createValueEditor();\r\n                newEditor.loadFromData(data.editors[i]);\r\n                this.editors.push(newEditor);\r\n            }\r\n        }\r\n        //rootEntity\r\n        this.rootEntity.loadFromData(this, data.entroot);\r\n    };\r\n    /**\r\n     * Sets data to data model.\r\n     * @param model Its JSON representation object or JSON string.\r\n     */\r\n    MetaData.prototype.setData = function (model) {\r\n        if (typeof model === 'string') {\r\n            this.loadFromJSON(model);\r\n        }\r\n        else {\r\n            this.loadFromData(model);\r\n        }\r\n    };\r\n    /**\r\n     * Checks wether the data model is empty.\r\n     * @returns `true` if the data model is empty, otherwise `false`.\r\n     */\r\n    MetaData.prototype.isEmpty = function () {\r\n        return this.rootEntity.subEntities.length === 0 && this.rootEntity.attributes.length === 0;\r\n    };\r\n    /**\r\n     * Gets ID of the data model.\r\n     * @returns The ID.\r\n     */\r\n    MetaData.prototype.getId = function () {\r\n        return this.id;\r\n    };\r\n    /**\r\n     * Gets name of the data model.\r\n     * @returns The name.\r\n     */\r\n    MetaData.prototype.getName = function () {\r\n        return this.name;\r\n    };\r\n    /**\r\n     * Gets root entity of the data model.\r\n     * @returns The root entity.\r\n     */\r\n    MetaData.prototype.getRootEntity = function () {\r\n        return this.rootEntity;\r\n    };\r\n    /**\r\n     * Finds editor by its ID.\r\n     * @param editorId The editor ID.\r\n     * @returns The value editor or `null`.\r\n     */\r\n    MetaData.prototype.getEditorById = function (editorId) {\r\n        for (var _i = 0, _a = this.editors; _i < _a.length; _i++) {\r\n            var editor = _a[_i];\r\n            if (editor.id === editorId) {\r\n                return editor;\r\n            }\r\n        }\r\n        return null;\r\n    };\r\n    /**\r\n     * Gets entity attribute by its ID.\r\n     * This function runs through all attributes inside specified model (it's root entity and all its sub-entities).\r\n     * @param attrId The attribute ID.\r\n     * @returns The attribute or `null`.\r\n     */\r\n    MetaData.prototype.getAttributeById = function (attrId) {\r\n        var attr = this.getEntityAttrById(this.getRootEntity(), attrId);\r\n        if (!attr) {\r\n            return null;\r\n        }\r\n        return attr;\r\n    };\r\n    /**\r\n     * Checks wether attribute contains such property.\r\n     * @param attrId The attribute ID.\r\n     * @param propName The property name.\r\n     * @returns `true` if the attribute contains the property, otherwise `false`.\r\n     */\r\n    MetaData.prototype.checkAttrProperty = function (attrId, propName) {\r\n        var attribute = this.getAttributeById(attrId);\r\n        if (attribute) {\r\n            if (typeof attribute[propName] === 'undefined') {\r\n                throw 'No such property: ' + propName;\r\n            }\r\n            if (attribute[propName]) {\r\n                return true;\r\n            }\r\n            else if (attribute.lookupAttr) {\r\n                attrId = attribute.lookupAttr;\r\n                attribute = this.getAttributeById(attrId);\r\n                return attribute && attribute[propName];\r\n            }\r\n            else {\r\n                return false;\r\n            }\r\n        }\r\n        else\r\n            return false;\r\n    };\r\n    /**\r\n     * Gets entity attribute by its ID.\r\n     * This function runs through all attributes inside specified entity and all its sub-entities.\r\n     * @param entity\r\n     * @param attrId\r\n     * @returns The attribute or `null`.\r\n     */\r\n    MetaData.prototype.getEntityAttrById = function (entity, attrId) {\r\n        var idx;\r\n        if (entity.attributes) {\r\n            var attrCount = entity.attributes.length;\r\n            for (idx = 0; idx < attrCount; idx++) {\r\n                if (entity.attributes[idx].id == attrId) {\r\n                    return entity.attributes[idx];\r\n                }\r\n            }\r\n        }\r\n        var res;\r\n        if (entity.subEntities) {\r\n            var subEntityCount = entity.subEntities.length;\r\n            for (idx = 0; idx < subEntityCount; idx++) {\r\n                res = this.getEntityAttrById(entity.subEntities[idx], attrId);\r\n                if (res)\r\n                    return res;\r\n            }\r\n        }\r\n        return null;\r\n    };\r\n    MetaData.prototype.listByEntityWithFilter = function (entity, filterFunc) {\r\n        var result = new Array();\r\n        var caption;\r\n        var ent = null;\r\n        if (entity.subEntities) {\r\n            var subEntityCount = entity.subEntities.length;\r\n            for (var entIdx = 0; entIdx < subEntityCount; entIdx++) {\r\n                ent = entity.subEntities[entIdx];\r\n                if (!filterFunc || filterFunc(ent, null)) {\r\n                    caption = i18n.getText('Entities', ent.name);\r\n                    if (!caption) {\r\n                        caption = ent.caption;\r\n                    }\r\n                    var newEnt = utils.assign(this.createEntity(), { id: ent.name, text: caption, items: [], isEntity: true });\r\n                    newEnt.items = this.listByEntityWithFilter(ent, filterFunc);\r\n                    if (newEnt.items.length > 0)\r\n                        result.push(newEnt);\r\n                }\r\n            }\r\n        }\r\n        var attr = null;\r\n        if (entity.attributes) {\r\n            var attrCount = entity.attributes.length;\r\n            for (var attrIdx = 0; attrIdx < attrCount; attrIdx++) {\r\n                attr = entity.attributes[attrIdx];\r\n                if (!filterFunc || filterFunc(entity, attr)) {\r\n                    caption = i18n.getText('Attributes', attr.id);\r\n                    if (!caption)\r\n                        caption = attr.caption;\r\n                    var newEnt = utils.assign(this.createEntity(), { id: attr.id, text: caption, dataType: attr.dataType });\r\n                    result.push(newEnt);\r\n                }\r\n            }\r\n        }\r\n        return result;\r\n    };\r\n    MetaData.prototype.listByEntity = function (entity, opts, filterFunc) {\r\n        opts = opts || {};\r\n        var resultEntities = [];\r\n        var resultAttributes = [];\r\n        var caption;\r\n        var ent = null;\r\n        if (entity.subEntities) {\r\n            var subEntityCount = entity.subEntities.length;\r\n            for (var entIdx = 0; entIdx < subEntityCount; entIdx++) {\r\n                ent = entity.subEntities[entIdx];\r\n                if (!filterFunc || filterFunc(ent, null)) {\r\n                    caption = i18n.getText('Entities', ent.name) || ent.caption;\r\n                    var newEnt = utils.assign(this.createEntity(), {\r\n                        id: ent.name,\r\n                        text: caption,\r\n                        items: [],\r\n                        isEntity: true,\r\n                        description: ent.description\r\n                    });\r\n                    var newOpts = utils.assign({}, opts);\r\n                    newOpts.includeRootData = false;\r\n                    newEnt.items = this.listByEntity(ent, newOpts, filterFunc);\r\n                    if (newEnt.items.length > 0) {\r\n                        resultEntities.push(newEnt);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        var attr = null;\r\n        if (entity.attributes) {\r\n            var attrCount = entity.attributes.length;\r\n            for (var attrIdx = 0; attrIdx < attrCount; attrIdx++) {\r\n                attr = entity.attributes[attrIdx];\r\n                if (!filterFunc || filterFunc(entity, attr)) {\r\n                    caption = i18n.getText('Attributes', attr.id) || attr.caption;\r\n                    resultAttributes.push(utils.assign(this.createEntityAttr(entity), {\r\n                        id: attr.id, text: caption,\r\n                        dataType: attr.dataType, lookupAttr: attr.lookupAttr,\r\n                        description: attr.description\r\n                    }));\r\n                }\r\n            }\r\n        }\r\n        var sortCheck = function (a, b) {\r\n            if (a.text.toLowerCase() == b.text.toLowerCase()) {\r\n                return 0;\r\n            }\r\n            if (a.text.toLowerCase() > b.text.toLowerCase()) {\r\n                return 1;\r\n            }\r\n            return -1;\r\n        };\r\n        if (opts.sortEntities) {\r\n            resultEntities.sort(sortCheck);\r\n            resultAttributes.sort(sortCheck);\r\n        }\r\n        var result;\r\n        if (!opts.attrPlacement || opts.attrPlacement == 0) {\r\n            result = resultEntities.concat(resultAttributes);\r\n        }\r\n        else {\r\n            result = resultAttributes.concat(resultEntities);\r\n        }\r\n        if (opts.attrPlacement == 2) {\r\n            result.sort(sortCheck);\r\n        }\r\n        if (opts.includeRootData) {\r\n            caption = i18n.getText('Entities', entity.name);\r\n            if (!caption)\r\n                caption = entity.caption;\r\n            return { id: entity.name, text: caption, items: result };\r\n        }\r\n        else {\r\n            return result;\r\n        }\r\n    };\r\n    /**\r\n     * Clears data model.\r\n     */\r\n    MetaData.prototype.clear = function () {\r\n        this.rootEntity = this.createEntity();\r\n        this.editors = [];\r\n        this.version = '';\r\n    };\r\n    /**\r\n     * Add default value editors.\r\n     */\r\n    MetaData.prototype.addDefaultValueEditors = function () {\r\n        var ve;\r\n        ve = this.addOrUpdateValueEditor('_DTE', EditorTag.Edit, DataType.String);\r\n        ve.defValue = '';\r\n        this.addOrUpdateValueEditor('_DPDE', EditorTag.DateTime, DataType.DateTime);\r\n        this.addOrUpdateValueEditor('_DPTE', EditorTag.DateTime, DataType.DateTime);\r\n    };\r\n    /**\r\n    * Add or update a value editor.\r\n    * @param id The id.\r\n    * @param tag The tag.\r\n    * @param resType The result type.\r\n    * @returns The value editor.\r\n    */\r\n    MetaData.prototype.addOrUpdateValueEditor = function (id, tag, resType) {\r\n        var ve = utils.findItemById(this.editors, id);\r\n        if (!ve) {\r\n            ve = this.createValueEditor();\r\n            ve.id = id;\r\n            this.editors.push(ve);\r\n        }\r\n        ve.tag = tag;\r\n        ve.resType = resType;\r\n        return ve;\r\n    };\r\n    /**\r\n     * Gets entities tree.\r\n     * @param opts The options.\r\n     * @param filterFunc The filter function.\r\n     * Takes two parameters, Entity and EntityAttr (second parameter will be null for entities), and returns boolean (true if the corresponding entity or attribute).\r\n     * @returns The tree of the entities and their attributes according to options and the filter function\r\n     */\r\n    MetaData.prototype.getEntitiesTree = function (opts, filterFunc) {\r\n        return this.listByEntity(this.getRootEntity(), opts, filterFunc);\r\n    };\r\n    /**\r\n     * Gets entities tree due to filter.\r\n     * @param filterFunc The filter function.\r\n     * Takes two parameters, Entity and EntityAttr (second parameter will be null for entities), and returns boolean (true if the corresponding entity or attribute).\r\n     * @returns The tree of the entities and their attributes according to the filter function\r\n     */\r\n    MetaData.prototype.getEntitiesTreeWithFilter = function (filterFunc) {\r\n        return this.listByEntityWithFilter(this.getRootEntity(), filterFunc);\r\n    };\r\n    /**\r\n     * Finds full entity path by attribute\r\n     * @param attrId The attribute id.\r\n     * @param sep The separator.\r\n     * @returns The path.\r\n     */\r\n    MetaData.prototype.getFullEntityPathByAttr = function (attrId, sep) {\r\n        sep = sep || ' ';\r\n        return this.getEntityPathByAttr(this.getRootEntity(), attrId, sep, true);\r\n    };\r\n    /**\r\n    * Finds entity path by attribute\r\n    * @param entity The entity.\r\n    * @param attrId The attribute id.\r\n    * @param sep The separator.\r\n    * @param root The root option.\r\n    * @returns The path.\r\n    */\r\n    MetaData.prototype.getEntityPathByAttr = function (entity, attrId, sep, root) {\r\n        if (!entity)\r\n            return '';\r\n        sep = sep || ' ';\r\n        var entityCaption = '';\r\n        if (entity.caption && !root) {\r\n            var entityText = i18n.getText('Entities', entity.caption);\r\n            entityCaption = entityText ? entityText : entity.caption;\r\n        }\r\n        if (entity.attributes) {\r\n            var attrCount = entity.attributes.length;\r\n            for (var i = 0; i < attrCount; i++) {\r\n                if (entity.attributes[i].id == attrId) {\r\n                    return entityCaption;\r\n                }\r\n            }\r\n        }\r\n        if (entity.subEntities) {\r\n            var subEntityCount = entity.subEntities.length;\r\n            for (var i = 0; i < subEntityCount; i++) {\r\n                var ent = entity.subEntities[i];\r\n                var res = this.getEntityPathByAttr(ent, attrId, sep, false);\r\n                if (res !== '') {\r\n                    if (entityCaption !== '')\r\n                        res = entityCaption + sep + res;\r\n                    return res;\r\n                }\r\n            }\r\n        }\r\n        return '';\r\n    };\r\n    /**\r\n     * Gets the attribute text.\r\n     * @param attr The attribute.\r\n     * @param format The format.\r\n     * @returns Formatted text.\r\n     */\r\n    MetaData.prototype.getAttributeText = function (attr, format) {\r\n        var attrText = i18n.getText('Attributes', attr.id);\r\n        if (!attrText) {\r\n            attrText = attr.caption;\r\n        }\r\n        if (!format) {\r\n            return attrText;\r\n        }\r\n        var result = '';\r\n        var entityPath = this.getFullEntityPathByAttr(attr.id, ' ');\r\n        if (entityPath) {\r\n            result = format.replace(new RegExp('{attr}', 'g'), attrText);\r\n            result = result.replace(new RegExp('{entity}', 'g'), entityPath);\r\n        }\r\n        else {\r\n            result = attrText;\r\n        }\r\n        return result.trim();\r\n    };\r\n    /**\r\n     * Scans model's entity tree and calls the callback functions for each attribute and entity.\r\n     * @param processAttribute The callback function which is called for each attribute in model's entity tree.\r\n     * The processed attribute is passed in the first function parameter.\r\n     * @param processEntity The callback function which is called for each entity in tree.\r\n     * The processed entity is passed in the first function parameter.\r\n     */\r\n    MetaData.prototype.runThroughEntities = function (processAttribute, processEntity) {\r\n        this.getRootEntity().scan(processAttribute, processEntity);\r\n    };\r\n    /**\r\n     * Finds first attribute by filter.\r\n     * @param filterFunc The filter function. Takes EntityAttr object in parameter and returns boolean\r\n     */\r\n    MetaData.prototype.getFirstAttributeByFilter = function (filterFunc) {\r\n        var res = null;\r\n        this.runThroughEntities(function (attr, opts) {\r\n            if (filterFunc(attr)) {\r\n                opts.stop = true;\r\n                res = attr;\r\n            }\r\n        }, null);\r\n        return res;\r\n    };\r\n    return MetaData;\r\n}());\r\nexport { MetaData };\r\n//# sourceMappingURL=meta_data.js.map","import { DataType } from \"../types/data_type\";\r\nimport { utils } from \"../utils/utils\";\r\nvar DataColumn = /** @class */ (function () {\r\n    function DataColumn(desc) {\r\n        if (!desc)\r\n            throw Error(\"Options are required\");\r\n        if (!desc.id)\r\n            throw Error(\"Field Id is required\");\r\n        if (!desc.label)\r\n            throw Error(\"Label is required\");\r\n        this.id = desc.id;\r\n        this.type = utils.getIfDefined(desc.type, DataType.String);\r\n        this.label = desc.label;\r\n        this.isAggr = desc.isAggr || false;\r\n    }\r\n    return DataColumn;\r\n}());\r\nexport { DataColumn };\r\nvar DataColumnList = /** @class */ (function () {\r\n    function DataColumnList() {\r\n        this.items = [];\r\n        this.mapper = {};\r\n        this._dateColumnIdx = [];\r\n    }\r\n    Object.defineProperty(DataColumnList.prototype, \"count\", {\r\n        get: function () {\r\n            return this.items.length;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    DataColumnList.prototype.add = function (colOrDesc) {\r\n        var col;\r\n        if (colOrDesc instanceof DataColumn) {\r\n            col = colOrDesc;\r\n        }\r\n        else {\r\n            col = new DataColumn(colOrDesc);\r\n        }\r\n        var index = this.items.length;\r\n        this.items.push(col);\r\n        this.mapper[col.id] = index;\r\n        if ([DataType.Date, DataType.DateTime, DataType.Time].indexOf(col.type) >= 0) {\r\n            this._dateColumnIdx.push(index);\r\n        }\r\n        return index;\r\n    };\r\n    DataColumnList.prototype.updateDateColumnIdx = function () {\r\n        this._dateColumnIdx = this.getItems()\r\n            .filter(function (col) { return [DataType.Date, DataType.DateTime, DataType.Time].indexOf(col.type) >= 0; })\r\n            .map(function (col, index) { return index; });\r\n    };\r\n    DataColumnList.prototype.put = function (index, col) {\r\n        //!!!!!!!!!check on \"out of index\"\r\n        this.items[index] = col;\r\n        this.updateDateColumnIdx();\r\n    };\r\n    DataColumnList.prototype.move = function (col, newIndex) {\r\n        var oldIndex = this.items.indexOf(col);\r\n        if (oldIndex >= 0 && oldIndex != newIndex) {\r\n            utils.moveArrayItem(this.items, oldIndex, newIndex);\r\n            this.updateDateColumnIdx();\r\n        }\r\n    };\r\n    DataColumnList.prototype.get = function (index) {\r\n        //!!!!!!!!!check on \"out of index\"\r\n        return this.items[index];\r\n    };\r\n    DataColumnList.prototype.getIndex = function (id) {\r\n        return this.mapper[id];\r\n    };\r\n    DataColumnList.prototype.getItems = function () {\r\n        return this.items;\r\n    };\r\n    DataColumnList.prototype.getDateColumnIndexes = function () {\r\n        return this._dateColumnIdx;\r\n    };\r\n    DataColumnList.prototype.removeAt = function (index) {\r\n        var col = this.get(index);\r\n        this.items.splice(index, 1);\r\n        var removeDate = this._dateColumnIdx.indexOf(index);\r\n        if (removeDate >= 0) {\r\n            this._dateColumnIdx.splice(removeDate, 1);\r\n        }\r\n        delete this.mapper[col.id];\r\n    };\r\n    DataColumnList.prototype.clear = function () {\r\n        this.items = [];\r\n        this._dateColumnIdx = [];\r\n        this.mapper = {};\r\n    };\r\n    return DataColumnList;\r\n}());\r\nexport { DataColumnList };\r\n//# sourceMappingURL=data_column.js.map","var DataRow = /** @class */ (function () {\r\n    function DataRow(columns, values) {\r\n        this.columns = columns;\r\n        this.values = values;\r\n    }\r\n    DataRow.prototype.toArray = function () {\r\n        return Array.from(this.values);\r\n    };\r\n    DataRow.prototype.size = function () {\r\n        return this.values.length;\r\n    };\r\n    DataRow.prototype.getValue = function (colIdOrIndex) {\r\n        var index;\r\n        if (typeof colIdOrIndex === \"string\") {\r\n            index = this.columns.getIndex(colIdOrIndex);\r\n            if (index === undefined) {\r\n                throw new RangeError(\"No column with id '\" + colIdOrIndex + \"'\");\r\n            }\r\n        }\r\n        else {\r\n            index = colIdOrIndex;\r\n        }\r\n        if (index >= this.values.length)\r\n            throw new RangeError(\"Out of range: \" + index);\r\n        return this.values[index];\r\n    };\r\n    DataRow.prototype.setValue = function (colIdOrIndex, value) {\r\n        var index;\r\n        if (typeof colIdOrIndex === \"string\") {\r\n            index = this.columns.getIndex(colIdOrIndex);\r\n            if (index === undefined) {\r\n                throw new RangeError(\"No column with id '\" + colIdOrIndex + \"'\");\r\n            }\r\n        }\r\n        else {\r\n            index = colIdOrIndex;\r\n        }\r\n        if (index >= this.values.length)\r\n            throw new RangeError(\"Out of range: \" + index);\r\n        this.values[index] = value;\r\n    };\r\n    return DataRow;\r\n}());\r\nexport { DataRow };\r\n//# sourceMappingURL=data_row.js.map","import { DataColumnList } from \"./data_column\";\r\nimport { DataRow } from \"./data_row\";\r\nvar EasyDataTable = /** @class */ (function () {\r\n    function EasyDataTable(options) {\r\n        this._chunkSize = 1000;\r\n        // object keeps number keys sorted\r\n        this.chunkMap = {};\r\n        this.total = 0;\r\n        this.loader = null;\r\n        this.needTotal = true;\r\n        options = options || {};\r\n        this._chunkSize = options.chunkSize || this._chunkSize;\r\n        this.loader = options.loader;\r\n        this._columns = new DataColumnList();\r\n        if (options.columns) {\r\n            for (var _i = 0, _a = options.columns; _i < _a.length; _i++) {\r\n                var colDesc = _a[_i];\r\n                this._columns.add(colDesc);\r\n            }\r\n        }\r\n        if (options.rows) {\r\n            for (var _b = 0, _c = options.rows; _b < _c.length; _b++) {\r\n                var rowData = _c[_b];\r\n                var row = this.createRow(rowData);\r\n                this.addRow(row);\r\n            }\r\n        }\r\n    }\r\n    Object.defineProperty(EasyDataTable.prototype, \"columns\", {\r\n        get: function () {\r\n            return this._columns;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(EasyDataTable.prototype, \"chunkSize\", {\r\n        get: function () {\r\n            return this._chunkSize;\r\n        },\r\n        set: function (value) {\r\n            this._chunkSize = value;\r\n            this.total = 0;\r\n            this.needTotal = true;\r\n            this.chunkMap = {};\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    EasyDataTable.prototype.getRows = function (params) {\r\n        var _this = this;\r\n        var fromIndex = 0, count = this._chunkSize;\r\n        if (params) {\r\n            if ('page' in params) {\r\n                fromIndex = params.pageSize * (params.page - 1);\r\n                count = params.pageSize;\r\n            }\r\n            else {\r\n                fromIndex = params.offset;\r\n                count = params.limit;\r\n            }\r\n        }\r\n        if (fromIndex >= this.total) {\r\n            return Promise.resolve([]);\r\n        }\r\n        var endIndex = fromIndex + count;\r\n        if (endIndex >= this.total) {\r\n            endIndex = this.total;\r\n        }\r\n        var lbChunk = Math.trunc(fromIndex / this._chunkSize);\r\n        var upChunk = Math.trunc(endIndex / this._chunkSize);\r\n        var allChunksCached = true;\r\n        for (var i = lbChunk; i <= upChunk; i++) {\r\n            if (!this.chunkMap[i]) {\r\n                allChunksCached = false;\r\n                break;\r\n            }\r\n        }\r\n        if (allChunksCached) {\r\n            var resultArr = [];\r\n            for (var i = lbChunk; i <= upChunk; i++) {\r\n                resultArr = resultArr.concat(this.chunkMap[i].rows);\r\n            }\r\n            return Promise.resolve(resultArr.slice(fromIndex - this.chunkMap[lbChunk].offset, endIndex - this.chunkMap[lbChunk].offset));\r\n        }\r\n        //if loader is not defined\r\n        if (!this.loader) {\r\n            throw \"Loader is not defined. Can't get the rows from \" + fromIndex + \" to \" + endIndex;\r\n        }\r\n        // we need total only fo first request\r\n        var needTotal = this.needTotal;\r\n        if (this.needTotal) {\r\n            this.needTotal = false;\r\n        }\r\n        return this.loader.loadChunk({\r\n            offset: lbChunk * this._chunkSize,\r\n            limit: this._chunkSize * (upChunk - lbChunk + 1),\r\n            needTotal: needTotal\r\n        })\r\n            .then(function (result) {\r\n            var chunks = result.table.getCachedChunks();\r\n            if (needTotal) {\r\n                _this.total = result.total;\r\n            }\r\n            var index = lbChunk;\r\n            for (var _i = 0, chunks_1 = chunks; _i < chunks_1.length; _i++) {\r\n                var chunk = chunks_1[_i];\r\n                _this.chunkMap[index] = {\r\n                    offset: index * _this._chunkSize,\r\n                    rows: chunk.rows\r\n                };\r\n                index++;\r\n            }\r\n            var resultArr = [];\r\n            for (var i = lbChunk; i <= upChunk; i++) {\r\n                resultArr = resultArr.concat(_this.chunkMap[i].rows);\r\n            }\r\n            return resultArr.slice(fromIndex - _this.chunkMap[lbChunk].offset, endIndex - _this.chunkMap[lbChunk].offset);\r\n        });\r\n    };\r\n    EasyDataTable.prototype.getRow = function (index) {\r\n        return this.getRows({ offset: index, limit: 1 })\r\n            .then(function (rows) { return rows.length > 0 ? rows[0] : null; });\r\n    };\r\n    EasyDataTable.prototype.getTotal = function () {\r\n        return this.total;\r\n    };\r\n    EasyDataTable.prototype.setTotal = function (total) {\r\n        this.total = total;\r\n        this.needTotal = false;\r\n        this.chunkMap = {};\r\n    };\r\n    EasyDataTable.prototype.getCachedCount = function () {\r\n        return this.getCachedRows().length;\r\n    };\r\n    EasyDataTable.prototype.clear = function () {\r\n        this.columns.clear();\r\n        this.chunkMap = {};\r\n        this.total = 0;\r\n        this.needTotal = true;\r\n    };\r\n    EasyDataTable.prototype.createRow = function (dataOrRow) {\r\n        var _this = this;\r\n        var dateIdx = this._columns.getDateColumnIndexes();\r\n        var values = new Array(this._columns.count);\r\n        var getValue = dataOrRow instanceof DataRow\r\n            ? function (colId) { return dataOrRow.getValue(colId); }\r\n            : function (colId) { return dataOrRow[colId]; };\r\n        if (dataOrRow) {\r\n            this.columns.getItems().forEach(function (column) {\r\n                var value = getValue(column.id);\r\n                var index = _this.columns.getIndex(column.id);\r\n                values[index] = (dateIdx.indexOf(index) >= 0)\r\n                    ? new Date(value)\r\n                    : value;\r\n            });\r\n        }\r\n        return new DataRow(this._columns, values);\r\n    };\r\n    EasyDataTable.prototype.addRow = function (rowOrValue) {\r\n        var newRow;\r\n        if (Array.isArray(rowOrValue)) {\r\n            var dateIdx = this._columns.getDateColumnIndexes();\r\n            if (dateIdx.length > 0) {\r\n                for (var _i = 0, dateIdx_1 = dateIdx; _i < dateIdx_1.length; _i++) {\r\n                    var idx = dateIdx_1[_i];\r\n                    rowOrValue[idx] = new Date(rowOrValue[idx]);\r\n                }\r\n            }\r\n            newRow = new DataRow(this._columns, rowOrValue);\r\n        }\r\n        else {\r\n            newRow = this.createRow(rowOrValue);\r\n        }\r\n        var lastChunk = this.getLastChunk();\r\n        if (!lastChunk || lastChunk.rows.length >= this._chunkSize) {\r\n            lastChunk = this.createChunk();\r\n        }\r\n        lastChunk.rows.push(newRow);\r\n        var cachedTotal = this.getCachedCount();\r\n        if (cachedTotal > this.total) {\r\n            this.total = cachedTotal;\r\n        }\r\n        return newRow;\r\n    };\r\n    EasyDataTable.prototype.createChunk = function (index) {\r\n        if (typeof index == 'undefined') {\r\n            index = this.getLastChunkIndex() + 1;\r\n        }\r\n        var chunk = { offset: index * this._chunkSize, rows: [] };\r\n        this.chunkMap[index] = chunk;\r\n        return chunk;\r\n    };\r\n    EasyDataTable.prototype.getLastChunkIndex = function () {\r\n        var keys = Object.keys(this.chunkMap);\r\n        return keys.length > 0\r\n            ? parseInt(keys[keys.length - 1])\r\n            : -1;\r\n    };\r\n    EasyDataTable.prototype.getLastChunk = function () {\r\n        var index = this.getLastChunkIndex();\r\n        return index > -1\r\n            ? this.chunkMap[index]\r\n            : null;\r\n    };\r\n    EasyDataTable.prototype.getCachedRows = function () {\r\n        return this.getCachedChunks()\r\n            .reduce(function (acc, v) { return acc.concat(v.rows); }, []);\r\n    };\r\n    EasyDataTable.prototype.getCachedChunks = function () {\r\n        return Object.values(this.chunkMap);\r\n    };\r\n    return EasyDataTable;\r\n}());\r\nexport { EasyDataTable };\r\n//# sourceMappingURL=easy_data_table.js.map","/**\r\n * EasyData representation of GUID.\r\n */\r\nvar EasyGuid = /** @class */ (function () {\r\n    function EasyGuid() {\r\n    }\r\n    /**\r\n     * Generates new GUID.\r\n     * @returns The string representation of GUID.\r\n     */\r\n    EasyGuid.newGuid = function () {\r\n        return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\r\n            var r = Math.random() * 16 | 0, v = c == 'x' ? r : (r & 0x3 | 0x8);\r\n            return v.toString(16);\r\n        });\r\n    };\r\n    return EasyGuid;\r\n}());\r\nexport { EasyGuid };\r\n//# sourceMappingURL=easy_guid.js.map","import { EasyGuid } from '../utils/easy_guid';\r\n/**\r\n * The representation of event emitter.\r\n */\r\nvar EventEmitter = /** @class */ (function () {\r\n    /**\r\n     * The default constructor.\r\n     * @param source The source.\r\n     */\r\n    function EventEmitter(source) {\r\n        this.silentMode = 0;\r\n        this.events = new Array();\r\n        this.source = source;\r\n    }\r\n    /**\r\n     * Subscries to the event.\r\n     * @param eventType The event type.\r\n     * @param callback The callback.\r\n     * @returns The subscribtion ID.\r\n     */\r\n    EventEmitter.prototype.subscribe = function (eventType, callback) {\r\n        var event = this.getEventRecByType(eventType);\r\n        var eventCallback = {\r\n            id: EasyGuid.newGuid(),\r\n            callback: callback\r\n        };\r\n        if (event) {\r\n            event.eventCallbacks.push(eventCallback);\r\n        }\r\n        else {\r\n            event = {\r\n                type: eventType,\r\n                eventCallbacks: new Array(eventCallback)\r\n            };\r\n            this.events.push(event);\r\n        }\r\n        return eventCallback.id;\r\n    };\r\n    /**\r\n     * Unsubsribes from the event.\r\n     * @param eventType The event type.\r\n     * @param callbackId The subscribtion ID.\r\n     */\r\n    EventEmitter.prototype.unsubscribe = function (eventType, callbackId) {\r\n        var event = this.getEventRecByType(eventType);\r\n        if (event) {\r\n            var index = -1;\r\n            for (index = 0; index < event.eventCallbacks.length; index++) {\r\n                if (event.eventCallbacks[index].id === callbackId) {\r\n                    break;\r\n                }\r\n            }\r\n            if (index >= 0) {\r\n                event.eventCallbacks.splice(index, 1);\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * Fires the event.\r\n     * @param eventType The event type.\r\n     * @param data The event data.\r\n     * @param postpone  The postpone.\r\n     * @param force To fire force. If value is `true`, ignores silent mode.\r\n     */\r\n    EventEmitter.prototype.fire = function (eventType, data, postpone, force) {\r\n        if (postpone === void 0) { postpone = 0; }\r\n        if (force === void 0) { force = false; }\r\n        if (this.silentMode && !force) {\r\n            return;\r\n        }\r\n        var eventRec = this.getEventRecByType(eventType);\r\n        if (eventRec) {\r\n            var eqevent_1 = {\r\n                type: eventType,\r\n                source: this.source,\r\n                data: data\r\n            };\r\n            var emitAllFunc = function () {\r\n                for (var _i = 0, _a = eventRec.eventCallbacks; _i < _a.length; _i++) {\r\n                    var callback = _a[_i];\r\n                    callback.callback(eqevent_1);\r\n                }\r\n            };\r\n            if (postpone > 0) {\r\n                setTimeout(emitAllFunc, postpone);\r\n            }\r\n            else {\r\n                emitAllFunc();\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * Enters to silent mode.\r\n     */\r\n    EventEmitter.prototype.enterSilentMode = function () {\r\n        this.silentMode++;\r\n    };\r\n    /**\r\n     * Exits from silent mode.\r\n     */\r\n    EventEmitter.prototype.exitSilentMode = function () {\r\n        if (this.silentMode) {\r\n            this.silentMode--;\r\n        }\r\n    };\r\n    /**\r\n     * Checks if emitter is in silent mode.\r\n     * @return `true`, if silent mode is enable.\r\n     */\r\n    EventEmitter.prototype.isSilent = function () {\r\n        return this.silentMode > 0;\r\n    };\r\n    EventEmitter.prototype.getEventRecByType = function (eventType) {\r\n        for (var _i = 0, _a = this.events; _i < _a.length; _i++) {\r\n            var event_1 = _a[_i];\r\n            if (event_1.type == eventType) {\r\n                return event_1;\r\n            }\r\n        }\r\n        return null;\r\n    };\r\n    return EventEmitter;\r\n}());\r\nexport { EventEmitter };\r\n//# sourceMappingURL=event_emitter.js.map","import { i18n } from './i18n';\r\ni18n.resetLocales();\r\n//# sourceMappingURL=load_default_locale_settings.js.map","//types\r\nexport * from './types/data_type';\r\nexport * from './types/entity_attr_kind';\r\nexport * from './types/editor_tag';\r\n//http\r\nexport * from './http/http_method';\r\nexport * from './http/http_request';\r\nexport * from './http/http_client';\r\n//meta data\r\nexport * from './meta/meta_data';\r\nexport * from './meta/meta_entity';\r\nexport * from './meta/value_editor';\r\nexport * from './data/data_column';\r\nexport * from './data/data_row';\r\nexport * from './data/easy_data_table';\r\n//event\r\nexport * from './event/event_emitter';\r\n//i18n\r\nexport * from './i18n/i18n';\r\n//utils\r\nexport * from './utils/easy_guid';\r\nexport * from './utils/string_utils';\r\nexport * from './utils/utils';\r\nimport './i18n/load_default_locale_settings';\r\nif (typeof Object.values !== 'function') {\r\n    Object.values = function (obj) {\r\n        return Object.keys(obj).map(function (key) { return obj[key]; });\r\n    };\r\n}\r\nif (typeof Math.trunc !== 'function') {\r\n    Math.trunc = function (x) {\r\n        if (isNaN(x)) {\r\n            return NaN;\r\n        }\r\n        if (x > 0) {\r\n            return Math.floor(x);\r\n        }\r\n        return Math.ceil(x);\r\n    };\r\n}\r\n//# sourceMappingURL=public_api.js.map","import { browserUtils } from './browser_utils';\r\n/**\r\n * Wraps all the elements inside \"parent\" by \"wrapper\" element\r\n * @param parent The element to add wrapper to.\r\n * @param wrapper The element that will wrap child elements.\r\n */\r\nexport function wrapInner(parent, wrapper) {\r\n    parent.appendChild(wrapper);\r\n    while (parent.firstChild !== wrapper) {\r\n        wrapper.appendChild(parent.firstChild);\r\n    }\r\n}\r\n/**\r\n * Creates ands adds a new [[HTMLElement]] to \"parent\"\r\n * @param parent The element to add new element to.\r\n * @param tag Html tag of the new element.\r\n * @param options The options. In particular, options.cssClass sets the new element class.\r\n * @returns New element.\r\n */\r\nexport function addElement(parent, tag, options) {\r\n    var element = document.createElement(tag);\r\n    var opts = options || {};\r\n    if (opts.cssClass) {\r\n        element.className = opts.cssClass;\r\n    }\r\n    parent.appendChild(element);\r\n    return element;\r\n}\r\n/**\r\n * Adds css class to the html element.\r\n * @param element The element to add css class to.\r\n * @param className The name of the css class to be added.\r\n */\r\nexport function addCssClass(element, className) {\r\n    element.className = (element.className)\r\n        ? element.className + ' ' + className\r\n        : className;\r\n}\r\n/**\r\n * Hides the html element.\r\n * @param element The element to be hidden.\r\n */\r\nexport function hideElement(element) {\r\n    element.style.display = 'none';\r\n}\r\n/**\r\n * Shows the html element.\r\n * @param element The element to be shown.\r\n * @param display The value of \"display\" style to be set. Default value is \"block\".\r\n */\r\nexport function showElement(element, display) {\r\n    if (!display) {\r\n        display = '';\r\n    }\r\n    element.style.display = display;\r\n}\r\n/**\r\n * Hides the \"first\" element and shows the \"second\".\r\n * @param first The element to be hidden.\r\n * @param second The element to be shown.\r\n * @param options The options. The following options are applied:\r\n * - display - the value of \"display\" style to be set. Default value is \"block\"\r\n * - duration - the duration of fading in and out\r\n * - complete - the callback to be called when toggle is complete\r\n */\r\nexport function toggleVisibility(first, second, options) {\r\n    if (!options) {\r\n        options = {};\r\n    }\r\n    if (!options.display) {\r\n        options.display = '';\r\n    }\r\n    if (!options.duration) {\r\n        options.duration = 200;\r\n    }\r\n    //TODO: later we need to make it fading in and out\r\n    hideElement(first);\r\n    showElement(second, options.display);\r\n    if (options.complete) {\r\n        options.complete();\r\n    }\r\n}\r\n/**\r\n * Checks if element is visible\r\n * @param element The element to check.\r\n * @returns `true` if visible, otherwise - `false`.\r\n */\r\nexport function isVisible(element) {\r\n    return element.style.display != 'none'\r\n        && element.offsetWidth != 0\r\n        && element.offsetHeight != 0;\r\n}\r\nexport function createBrowserEvent(eventName) {\r\n    var event;\r\n    if (typeof (Event) === 'function') {\r\n        event = new Event(eventName);\r\n    }\r\n    else {\r\n        event = document.createEvent('Event');\r\n        event.initEvent(eventName, true, true);\r\n    }\r\n    return event;\r\n}\r\nexport function getViewportSize() {\r\n    var width = Math.max(document.documentElement.clientWidth || 0, window.innerWidth || 0);\r\n    var height = Math.max(document.documentElement.clientHeight || 0, window.innerHeight || 0);\r\n    return {\r\n        width: width,\r\n        height: height\r\n    };\r\n}\r\nexport function getDocSize() {\r\n    if (browserUtils.IsIE())\r\n        return getWinSize();\r\n    var width = Math.max(document.documentElement.clientWidth, document.body.clientWidth || 0);\r\n    var height = Math.max(document.documentElement.clientHeight, document.body.clientHeight || 0);\r\n    return {\r\n        width: width,\r\n        height: height\r\n    };\r\n}\r\nexport function getScrollPos() {\r\n    var body = document.body;\r\n    var docElem = document.documentElement;\r\n    return {\r\n        top: window.pageYOffset || docElem.scrollTop || body.scrollTop,\r\n        left: window.pageXOffset || docElem.scrollLeft || body.scrollLeft\r\n    };\r\n}\r\nexport function getElementAbsolutePos(element) {\r\n    var res = { x: 0, y: 0 };\r\n    if (element !== null) {\r\n        var position = offset(element);\r\n        res = { x: position.left, y: position.top };\r\n    }\r\n    return res;\r\n}\r\nfunction offset(element) {\r\n    var defaultBoundingClientRect = { top: 0, right: 0, bottom: 0, left: 0, width: 0, height: 0 };\r\n    var box;\r\n    try {\r\n        box = element.getBoundingClientRect();\r\n    }\r\n    catch (_a) {\r\n        box = defaultBoundingClientRect;\r\n    }\r\n    var body = document.body;\r\n    var docElem = document.documentElement;\r\n    var scollPos = getScrollPos();\r\n    var scrollTop = scollPos.top;\r\n    var scrollLeft = scollPos.left;\r\n    var clientTop = docElem.clientTop || body.clientTop || 0;\r\n    var clientLeft = docElem.clientLeft || body.clientLeft || 0;\r\n    var top = box.top + scrollTop - clientTop;\r\n    var left = box.left + scrollLeft - clientLeft;\r\n    return { top: Math.round(top), left: Math.round(left) };\r\n}\r\nexport function getWinSize() {\r\n    return {\r\n        width: window.innerWidth,\r\n        height: window.innerHeight\r\n    };\r\n}\r\nexport function slideDown(target, duration, callback) {\r\n    target.style.removeProperty('display');\r\n    var display = window.getComputedStyle(target).display;\r\n    if (display === 'none')\r\n        display = 'block';\r\n    target.style.display = display;\r\n    var height = target.offsetHeight;\r\n    target.style.overflow = 'hidden';\r\n    target.style.height = 0 + 'px';\r\n    target.style.paddingTop = 0 + 'px';\r\n    target.style.paddingBottom = 0 + 'px';\r\n    target.style.marginTop = 0 + 'px';\r\n    target.style.marginBottom = 0 + 'px';\r\n    target.offsetHeight;\r\n    target.style.boxSizing = 'border-box';\r\n    target.style.transitionProperty = \"height, margin, padding\";\r\n    target.style.transitionDuration = duration + 'ms';\r\n    target.style.height = height + 'px';\r\n    target.style.removeProperty('padding-top');\r\n    target.style.removeProperty('padding-bottom');\r\n    target.style.removeProperty('margin-top');\r\n    target.style.removeProperty('margin-bottom');\r\n    window.setTimeout(function () {\r\n        target.style.removeProperty('height');\r\n        target.style.removeProperty('overflow');\r\n        target.style.removeProperty('transition-duration');\r\n        target.style.removeProperty('transition-property');\r\n        target.style.removeProperty('box-sizing');\r\n        if (callback) {\r\n            callback();\r\n        }\r\n    }, duration);\r\n}\r\nexport function slideUp(target, duration, callback) {\r\n    target.style.transitionProperty = 'height, margin, padding';\r\n    target.style.transitionDuration = duration + 'ms';\r\n    target.style.boxSizing = 'border-box';\r\n    target.style.height = target.offsetHeight + 'px';\r\n    target.offsetHeight;\r\n    target.style.overflow = 'hidden';\r\n    target.style.height = 0 + 'px';\r\n    target.style.paddingTop = 0 + 'px';\r\n    target.style.paddingBottom = 0 + 'px';\r\n    target.style.marginTop = 0 + 'px';\r\n    target.style.marginBottom = 0 + 'px';\r\n    window.setTimeout(function () {\r\n        target.style.display = 'none';\r\n        target.style.removeProperty('height');\r\n        target.style.removeProperty('padding-top');\r\n        target.style.removeProperty('padding-bottom');\r\n        target.style.removeProperty('margin-top');\r\n        target.style.removeProperty('margin-bottom');\r\n        target.style.removeProperty('overflow');\r\n        target.style.removeProperty('transition-duration');\r\n        target.style.removeProperty('transition-property');\r\n        target.style.removeProperty('box-sizing');\r\n        if (callback) {\r\n            callback();\r\n        }\r\n    }, duration);\r\n}\r\nexport var eqCssPrefix = 'eqjs';\r\nexport var eqCssMobile = 'eqjs-mobile';\r\n//# sourceMappingURL=ui-utils.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { mask } from './mask';\r\nvar DomElementBuilder = /** @class */ (function () {\r\n    function DomElementBuilder(tag, parent) {\r\n        if (typeof tag === \"string\") {\r\n            this.element = document.createElement(tag);\r\n        }\r\n        else {\r\n            this.element = tag;\r\n        }\r\n        if (parent && this.element.parentElement !== parent) {\r\n            parent.appendChild(this.element);\r\n        }\r\n    }\r\n    DomElementBuilder.prototype.addChild = function (tag, childBuilder) {\r\n        var builder = domel(tag, this.element);\r\n        if (childBuilder) {\r\n            childBuilder(builder);\r\n        }\r\n        return this;\r\n    };\r\n    DomElementBuilder.prototype.addChildElement = function (element) {\r\n        if (element) {\r\n            this.element.appendChild(element);\r\n        }\r\n        return this;\r\n    };\r\n    DomElementBuilder.prototype.attr = function (attrId, attrValue) {\r\n        this.element.setAttribute(attrId, attrValue);\r\n        return this;\r\n    };\r\n    DomElementBuilder.prototype.id = function (value) {\r\n        return this.attr(\"id\", value);\r\n    };\r\n    DomElementBuilder.prototype.title = function (value) {\r\n        return this.attr('title', value);\r\n    };\r\n    DomElementBuilder.prototype.data = function (dataId, dataValue) {\r\n        if (dataValue === void 0) { dataValue = null; }\r\n        if (dataValue === null) {\r\n            this.element.removeAttribute('data-' + dataId);\r\n            return this;\r\n        }\r\n        else {\r\n            return this.attr('data-' + dataId, dataValue);\r\n        }\r\n    };\r\n    DomElementBuilder.prototype.show = function () {\r\n        return this.removeStyle('display');\r\n    };\r\n    DomElementBuilder.prototype.hide = function (toHide) {\r\n        if (toHide === void 0) { toHide = true; }\r\n        return (toHide) ? this.setStyle('display', 'none') : this;\r\n    };\r\n    DomElementBuilder.prototype.visible = function (isVisible) {\r\n        if (isVisible === void 0) { isVisible = true; }\r\n        return isVisible ? this.setStyle('visibility', 'visible') : this.setStyle('visibility', 'hidden');\r\n    };\r\n    DomElementBuilder.prototype.isVisible = function () {\r\n        return !!(this.element.offsetWidth || this.element.offsetHeight || this.element.getClientRects().length);\r\n    };\r\n    DomElementBuilder.prototype.addClass = function (className) {\r\n        var classNames = [];\r\n        for (var _i = 1; _i < arguments.length; _i++) {\r\n            classNames[_i - 1] = arguments[_i];\r\n        }\r\n        if (className) {\r\n            var fullList = className.trim().split(\" \").concat(classNames);\r\n            for (var i = 0; i < fullList.length; i++)\r\n                this.element.classList.add(fullList[i]);\r\n        }\r\n        return this;\r\n    };\r\n    DomElementBuilder.prototype.removeClass = function (className) {\r\n        var classNames = [];\r\n        for (var _i = 1; _i < arguments.length; _i++) {\r\n            classNames[_i - 1] = arguments[_i];\r\n        }\r\n        if (className) {\r\n            var fullList = className.trim().split(\" \").concat(classNames);\r\n            for (var i = 0; i < fullList.length; i++)\r\n                this.element.classList.remove(fullList[i]);\r\n        }\r\n        return this;\r\n    };\r\n    DomElementBuilder.prototype.toggleClass = function (className, force) {\r\n        if (force === void 0) { force = undefined; }\r\n        if (className) {\r\n            this.element.classList.toggle(className, force);\r\n        }\r\n        return this;\r\n    };\r\n    DomElementBuilder.prototype.on = function (eventType, listener) {\r\n        var eventTypes = eventType.split(' ');\r\n        for (var i = 0; i < eventTypes.length; i++) {\r\n            this.element.addEventListener(eventTypes[i], listener);\r\n        }\r\n        return this;\r\n    };\r\n    DomElementBuilder.prototype.off = function (eventType, listener) {\r\n        var eventTypes = eventType.split(' ');\r\n        for (var i = 0; i < eventTypes.length; i++) {\r\n            this.element.removeEventListener(eventTypes[i], listener);\r\n        }\r\n        return this;\r\n    };\r\n    DomElementBuilder.prototype.setStyle = function (styleId, styleValue) {\r\n        this.element.style.setProperty(styleId, styleValue);\r\n        return this;\r\n    };\r\n    DomElementBuilder.prototype.removeStyle = function (styleId) {\r\n        this.element.style.removeProperty(styleId);\r\n        return this;\r\n    };\r\n    DomElementBuilder.prototype.text = function (text) {\r\n        this.element.innerText = text;\r\n        return this;\r\n    };\r\n    DomElementBuilder.prototype.html = function (html) {\r\n        this.element.innerHTML = html;\r\n        return this;\r\n    };\r\n    DomElementBuilder.prototype.clear = function () {\r\n        var oldElem = this.element;\r\n        this.element = document.createElement(this.element.tagName);\r\n        oldElem.replaceWith(this.element);\r\n    };\r\n    DomElementBuilder.prototype.addText = function (text) {\r\n        var textEl = document.createTextNode(text);\r\n        this.element.appendChild(textEl);\r\n        return this;\r\n    };\r\n    DomElementBuilder.prototype.addHtml = function (html) {\r\n        this.element.innerHTML += html;\r\n        return this;\r\n    };\r\n    DomElementBuilder.prototype.toDOM = function () {\r\n        return this.element;\r\n    };\r\n    DomElementBuilder.prototype.appendTo = function (parent) {\r\n        if (parent) {\r\n            parent.appendChild(this.element);\r\n        }\r\n        return this;\r\n    };\r\n    return DomElementBuilder;\r\n}());\r\nexport { DomElementBuilder };\r\nvar DomInputElementBuilder = /** @class */ (function (_super) {\r\n    __extends(DomInputElementBuilder, _super);\r\n    function DomInputElementBuilder(element, parent) {\r\n        var _this = this;\r\n        if (element) {\r\n            _this = _super.call(this, element, parent) || this;\r\n        }\r\n        else {\r\n            _this = _super.call(this, \"input\", parent) || this;\r\n        }\r\n        return _this;\r\n    }\r\n    DomInputElementBuilder.prototype.name = function (value) {\r\n        this.element.name = value;\r\n        return this;\r\n    };\r\n    DomInputElementBuilder.prototype.type = function (value) {\r\n        this.element.type = value;\r\n        return this;\r\n    };\r\n    DomInputElementBuilder.prototype.size = function (value) {\r\n        this.element.size = value;\r\n        return this;\r\n    };\r\n    DomInputElementBuilder.prototype.value = function (value) {\r\n        if (value instanceof Date) {\r\n            this.element.valueAsDate = value;\r\n        }\r\n        else if (typeof value === \"number\") {\r\n            this.element.valueAsNumber = value;\r\n        }\r\n        else {\r\n            this.element.value = value;\r\n        }\r\n        return this;\r\n    };\r\n    DomInputElementBuilder.prototype.mask = function (maskPattern) {\r\n        mask(this.element, maskPattern);\r\n        return this;\r\n    };\r\n    return DomInputElementBuilder;\r\n}(DomElementBuilder));\r\nexport { DomInputElementBuilder };\r\nvar DomSelectElementBuilder = /** @class */ (function (_super) {\r\n    __extends(DomSelectElementBuilder, _super);\r\n    function DomSelectElementBuilder(element, parent) {\r\n        var _this = this;\r\n        if (element) {\r\n            _this = _super.call(this, element, parent) || this;\r\n        }\r\n        else {\r\n            _this = _super.call(this, \"select\", parent) || this;\r\n        }\r\n        return _this;\r\n    }\r\n    DomSelectElementBuilder.prototype.addOption = function (value) {\r\n        var option = document.createElement('option');\r\n        if (typeof value === \"string\") {\r\n            option.value = value;\r\n            option.innerHTML = value;\r\n        }\r\n        else {\r\n            option.value = value.value;\r\n            option.innerHTML = value.title || value.value;\r\n            option.selected = value.selected || false;\r\n        }\r\n        this.element.appendChild(option);\r\n        return this;\r\n    };\r\n    return DomSelectElementBuilder;\r\n}(DomElementBuilder));\r\nexport { DomSelectElementBuilder };\r\nexport function domel(tag, parent) {\r\n    if (tag === \"div\" || tag instanceof HTMLDivElement) {\r\n        return new DomElementBuilder(tag, parent);\r\n    }\r\n    if (tag === \"span\" || tag instanceof HTMLSpanElement) {\r\n        return new DomElementBuilder(tag, parent);\r\n    }\r\n    else if (tag === \"a\" || tag instanceof HTMLAnchorElement) {\r\n        return new DomElementBuilder(tag, parent);\r\n    }\r\n    else if (tag === \"button\" || tag instanceof HTMLButtonElement) {\r\n        return new DomElementBuilder(tag, parent);\r\n    }\r\n    else if (tag === \"img\" || tag instanceof HTMLImageElement) {\r\n        return new DomElementBuilder(tag, parent);\r\n    }\r\n    else if (tag === \"input\" || tag instanceof HTMLInputElement) {\r\n        return new DomInputElementBuilder(tag instanceof HTMLInputElement ? tag : null, parent);\r\n    }\r\n    else if (tag === \"select\" || tag instanceof HTMLSelectElement) {\r\n        return new DomSelectElementBuilder(tag instanceof HTMLSelectElement ? tag : null, parent);\r\n    }\r\n    return new DomElementBuilder(tag, parent);\r\n}\r\n//# sourceMappingURL=dom_elem_builder.js.map","export function mask(input, maskPattern) {\r\n    var d = { 9: '[0-9]', a: '[a-z]' };\r\n    var mask = maskPattern.split('');\r\n    var keyDownHandler = function (e) {\r\n        // backspace key or delete key\r\n        if (e.keyCode === 8 || e.keyCode === 46) {\r\n            e.preventDefault();\r\n            var mskd = [];\r\n            var startSelection = input.selectionStart;\r\n            if (startSelection == 0)\r\n                return;\r\n            var selection = startSelection;\r\n            var onlyLodash = true;\r\n            for (var index = mask.length - 1; index >= 0; index--) {\r\n                var el = mask[index];\r\n                if (d[el]) {\r\n                    var t = new RegExp(d[el], 'i').test(input.value.charAt(index));\r\n                    if (t && index != startSelection - 1) {\r\n                        onlyLodash = false;\r\n                    }\r\n                    if (index === startSelection - 1)\r\n                        selection--;\r\n                    mskd.push(t && index != startSelection - 1\r\n                        ? input.value.charAt(index)\r\n                        : '_');\r\n                }\r\n                else {\r\n                    if (index === selection - 1)\r\n                        selection--;\r\n                    if (startSelection - 1 === index)\r\n                        startSelection--;\r\n                    mskd.push(el);\r\n                }\r\n            }\r\n            input.value = !onlyLodash ? mskd.reverse().join('') : '';\r\n            input.selectionStart = input.selectionEnd = selection < 0 ? 0 : selection;\r\n            var event_1 = document.createEvent('Event');\r\n            event_1.initEvent('input', true, true);\r\n            input.dispatchEvent(event_1);\r\n        }\r\n    };\r\n    var keyPressHandler = function (e) {\r\n        var char = String.fromCharCode(e.charCode);\r\n        if (char) {\r\n            e.preventDefault();\r\n            var mskd_1 = [];\r\n            var selectionStart_1 = input.selectionStart;\r\n            var selection_1 = selectionStart_1;\r\n            mask.forEach(function (el, index) {\r\n                if (d[el]) {\r\n                    var ch = (index != selectionStart_1)\r\n                        ? input.value.charAt(index)\r\n                        : char;\r\n                    var t = new RegExp(d[el], 'i').test(ch);\r\n                    mskd_1.push(t ? ch : '_');\r\n                    if (t && selectionStart_1 === index)\r\n                        selection_1++;\r\n                }\r\n                else {\r\n                    mskd_1.push(el);\r\n                    if (selection_1 === index)\r\n                        selection_1++;\r\n                    if (selectionStart_1 === index)\r\n                        selectionStart_1++;\r\n                }\r\n            });\r\n            input.value = mskd_1.join('');\r\n            input.selectionStart = input.selectionEnd = selection_1;\r\n            var event_2 = document.createEvent('Event');\r\n            event_2.initEvent('input', true, true);\r\n            input.dispatchEvent(event_2);\r\n        }\r\n    };\r\n    var inputHandler = function (e) {\r\n        if (e.type === 'focus' && input.value !== '')\r\n            return;\r\n        var mskd = [];\r\n        var startSelection = input.selectionStart;\r\n        mask.forEach(function (el, index) {\r\n            if (d[el]) {\r\n                var t = new RegExp(d[el], 'i').test(input.value.charAt(index));\r\n                mskd.push(t ? input.value.charAt(index) : '_');\r\n            }\r\n            else {\r\n                mskd.push(el);\r\n            }\r\n        });\r\n        input.value = mskd.join('');\r\n        input.selectionStart = input.selectionEnd = startSelection;\r\n    };\r\n    input.addEventListener('keydown', keyDownHandler);\r\n    input.addEventListener('keypress', keyPressHandler);\r\n    input.addEventListener('input', inputHandler);\r\n    input.addEventListener('focus', inputHandler);\r\n}\r\n//# sourceMappingURL=mask.js.map","import { utils } from '@easydata/core';\r\nimport { getElementAbsolutePos } from './ui-utils';\r\nimport { domel } from '../utils/dom_elem_builder';\r\nvar touchEventIsDefined = typeof TouchEvent !== 'undefined';\r\nexport var DropEffect;\r\n(function (DropEffect) {\r\n    DropEffect[\"None\"] = \"none\";\r\n    DropEffect[\"Allow\"] = \"allow\";\r\n    DropEffect[\"Forbid\"] = \"forbid\";\r\n})(DropEffect || (DropEffect = {}));\r\nvar EqDragEvent = /** @class */ (function () {\r\n    function EqDragEvent(item, dragImage, sourceEvent) {\r\n        this.dropEffect = DropEffect.Allow;\r\n        this.pageX = 0;\r\n        this.pageY = 0;\r\n        this.item = item;\r\n        this.dragImage = dragImage;\r\n        this.data = item.data;\r\n        this.sourceEvent = sourceEvent;\r\n        if (sourceEvent && sourceEvent instanceof MouseEvent) {\r\n            this.pageX = sourceEvent.pageX,\r\n                this.pageY = sourceEvent.pageY;\r\n        }\r\n        if (sourceEvent && touchEventIsDefined && sourceEvent instanceof TouchEvent\r\n            && sourceEvent.touches[0]) {\r\n            this.pageX = sourceEvent.touches[0].pageX,\r\n                this.pageY = sourceEvent.touches[0].pageY;\r\n        }\r\n    }\r\n    return EqDragEvent;\r\n}());\r\nexport { EqDragEvent };\r\nvar Position = /** @class */ (function () {\r\n    function Position(ev) {\r\n        if (ev && ev instanceof MouseEvent) {\r\n            this.x = ev.pageX,\r\n                this.y = ev.pageY;\r\n        }\r\n        if (ev && touchEventIsDefined && ev instanceof TouchEvent && ev.touches[0]) {\r\n            this.x = ev.touches[0].pageX,\r\n                this.y = ev.touches[0].pageY;\r\n        }\r\n    }\r\n    return Position;\r\n}());\r\nvar DragManager = /** @class */ (function () {\r\n    function DragManager() {\r\n        this.delta = 5;\r\n        this.draggableItem = null;\r\n        this.dragImage = null;\r\n        this.finishedSuccessfully = false;\r\n        this.mouseDownPosition = null;\r\n        this.containerDescriptors = [];\r\n        this.containerDescriptorIndex = -1;\r\n        this.dropEffect = DropEffect.None;\r\n        this.classPrefix = 'eqjs-drop';\r\n        this.DRAG_DISABLED_ATTR = 'drag-disabled';\r\n    }\r\n    DragManager.prototype.registerDraggableItem = function (descriptor) {\r\n        var _this = this;\r\n        var element = descriptor.element;\r\n        if (!element) {\r\n            throw Error(\"Element in draggle item is null or undefined\");\r\n        }\r\n        element.ondragstart = function () {\r\n            return false;\r\n        };\r\n        var detectDragging = function (ev) {\r\n            if (element.hasAttribute(_this.DRAG_DISABLED_ATTR)) {\r\n                return;\r\n            }\r\n            ev.preventDefault();\r\n            if (ev instanceof MouseEvent) {\r\n                ev.stopPropagation();\r\n            }\r\n            var cursorPosition = new Position(ev);\r\n            if (Math.abs(cursorPosition.x - _this.mouseDownPosition.x) > _this.delta\r\n                || Math.abs(cursorPosition.y - _this.mouseDownPosition.y) > _this.delta) {\r\n                startDragging(ev);\r\n            }\r\n        };\r\n        var mouseMoveEventListener = function (ev) {\r\n            _this.mouseMoveDragListener(ev);\r\n        };\r\n        var startDragging = function (ev) {\r\n            ev.preventDefault();\r\n            ev.stopPropagation();\r\n            element.removeEventListener('mousemove', detectDragging);\r\n            element.removeEventListener('touchmove', detectDragging);\r\n            _this.finishedSuccessfully = false;\r\n            if (descriptor.beforeDragStart)\r\n                descriptor.beforeDragStart();\r\n            _this.dragImage = domel('div')\r\n                .setStyle('position', 'absolute')\r\n                .setStyle('z-index', '65530')\r\n                .toDOM();\r\n            document.body.appendChild(_this.dragImage);\r\n            _this.dragImage.appendChild(element.cloneNode(true));\r\n            if (descriptor.renderer) {\r\n                descriptor.renderer(_this.dragImage);\r\n            }\r\n            _this.dropEffect = DropEffect.None;\r\n            _this.updateCusror(_this.dropEffect);\r\n            _this.updateImageClass(_this.dropEffect);\r\n            _this.draggableItem = {\r\n                element: element,\r\n                scope: descriptor.scope,\r\n                data: descriptor.data\r\n            };\r\n            _this.updateDragItemPosition(ev);\r\n            var event = new EqDragEvent(_this.draggableItem, _this.dragImage, ev);\r\n            event.dropEffect = _this.dropEffect;\r\n            if (descriptor.onDragStart) {\r\n                descriptor.onDragStart(event);\r\n            }\r\n            if (_this.dropEffect !== event.dropEffect) {\r\n                _this.dropEffect = event.dropEffect;\r\n                _this.updateImageClass(_this.dropEffect);\r\n            }\r\n            document.addEventListener('mousemove', mouseMoveEventListener, true);\r\n            document.addEventListener('touchmove', mouseMoveEventListener, true);\r\n        };\r\n        var mouseDownListener = function (ev) {\r\n            if (touchEventIsDefined && ev instanceof TouchEvent) {\r\n                ev.preventDefault();\r\n            }\r\n            _this.mouseDownPosition = new Position(ev);\r\n            element.addEventListener('mousemove', detectDragging);\r\n            element.addEventListener('touchmove', detectDragging);\r\n            document.addEventListener('mouseup', mouseUpListener);\r\n            document.addEventListener('touchend', mouseUpListener);\r\n        };\r\n        element.addEventListener('mousedown', mouseDownListener);\r\n        element.addEventListener('touchstart', mouseDownListener);\r\n        var mouseUpListener = function (ev) {\r\n            _this.mouseDownPosition = null;\r\n            element.removeEventListener('mousemove', detectDragging);\r\n            element.removeEventListener('touchmove', detectDragging);\r\n            document.removeEventListener('mousemove', mouseMoveEventListener, true);\r\n            document.removeEventListener('touchmove', mouseMoveEventListener, true);\r\n            if (_this.draggableItem) {\r\n                endDraggind(ev);\r\n            }\r\n        };\r\n        var endDraggind = function (ev) {\r\n            try {\r\n                if (_this.containerDescriptorIndex >= 0) {\r\n                    var dropContDesc = _this.containerDescriptors[_this.containerDescriptorIndex];\r\n                    var container = {\r\n                        element: dropContDesc.element,\r\n                        scopes: dropContDesc.scopes,\r\n                        data: dropContDesc.data\r\n                    };\r\n                    var event_1 = new EqDragEvent(_this.draggableItem, _this.dragImage, ev);\r\n                    try {\r\n                        if (container.scopes.indexOf(_this.draggableItem.scope) >= 0\r\n                            && _this.dropEffect === DropEffect.Allow) {\r\n                            _this.finishedSuccessfully = true;\r\n                            if (dropContDesc.onDrop) {\r\n                                dropContDesc.onDrop(container, event_1);\r\n                            }\r\n                        }\r\n                    }\r\n                    finally {\r\n                        if (dropContDesc.onDragLeave) {\r\n                            dropContDesc.onDragLeave(container, event_1);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            finally {\r\n                try {\r\n                    var event_2 = new EqDragEvent(_this.draggableItem, _this.dragImage, ev);\r\n                    event_2.data.finishedSuccessfully = _this.finishedSuccessfully;\r\n                    if (descriptor.onDragEnd) {\r\n                        descriptor.onDragEnd(event_2);\r\n                    }\r\n                }\r\n                finally {\r\n                    _this.draggableItem = null;\r\n                    if (_this.dragImage && _this.dragImage.parentElement) {\r\n                        _this.dragImage.parentElement.removeChild(_this.dragImage);\r\n                    }\r\n                    _this.dragImage = null;\r\n                    _this.finishedSuccessfully = false;\r\n                    document.removeEventListener('mouseup', mouseUpListener);\r\n                    document.removeEventListener('touchend', mouseUpListener);\r\n                }\r\n            }\r\n        };\r\n    };\r\n    DragManager.prototype.registerDropContainer = function (descriptor) {\r\n        var element = descriptor.element;\r\n        if (!element) {\r\n            throw Error(\"Element in drop container is null or undefined\");\r\n        }\r\n        this.containerDescriptors.push(descriptor);\r\n    };\r\n    DragManager.prototype.removeDropContainer = function (descriptorOrSlot) {\r\n        var descs = this.containerDescriptors\r\n            .filter(function (desc) { return desc === descriptorOrSlot\r\n            || desc.element == descriptorOrSlot; });\r\n        if (descs) {\r\n            for (var _i = 0, descs_1 = descs; _i < descs_1.length; _i++) {\r\n                var desc = descs_1[_i];\r\n                utils.removeArrayItem(this.containerDescriptors, desc);\r\n            }\r\n        }\r\n    };\r\n    DragManager.prototype.mouseMoveDragListener = function (ev) {\r\n        if (ev instanceof MouseEvent) {\r\n            ev.preventDefault();\r\n        }\r\n        ev.stopPropagation();\r\n        this.updateDragItemPosition(ev);\r\n        if (this.containerDescriptorIndex == -1) {\r\n            for (var i = 0; i < this.containerDescriptors.length; i++) {\r\n                var descriptor = this.containerDescriptors[i];\r\n                if (this.detectDragEnterEvent(descriptor.element, ev)) {\r\n                    this.containerDescriptorIndex = i;\r\n                    break;\r\n                }\r\n            }\r\n            if (this.containerDescriptorIndex >= 0) {\r\n                this.dragEnterEvent(ev);\r\n            }\r\n        }\r\n        else {\r\n            var descriptor = this.containerDescriptors[this.containerDescriptorIndex];\r\n            if (this.detectDragLeaveEvent(descriptor.element, ev)) {\r\n                this.dragLeaveEvent(ev);\r\n                this.containerDescriptorIndex = -1;\r\n            }\r\n        }\r\n        if (this.containerDescriptorIndex >= 0) {\r\n            var descriptor = this.containerDescriptors[this.containerDescriptorIndex];\r\n            var container = {\r\n                element: descriptor.element,\r\n                scopes: descriptor.scopes,\r\n                data: descriptor.data\r\n            };\r\n            if (container.scopes.indexOf(this.draggableItem.scope) >= 0) {\r\n                var event_3 = new EqDragEvent(this.draggableItem, this.dragImage, ev);\r\n                event_3.dropEffect = this.dropEffect;\r\n                if (descriptor.onDragOver) {\r\n                    descriptor.onDragOver(container, event_3);\r\n                }\r\n            }\r\n        }\r\n    };\r\n    DragManager.prototype.updateCusror = function (dropEffect) {\r\n        switch (dropEffect) {\r\n            case DropEffect.Allow:\r\n                this.setCursorStyle(this.dragImage, 'grabbing');\r\n                break;\r\n            case DropEffect.Forbid:\r\n                this.setCursorStyle(this.dragImage, 'no-drop');\r\n                break;\r\n            default:\r\n                this.setCursorStyle(this.dragImage, 'grabbing');\r\n                break;\r\n        }\r\n    };\r\n    DragManager.prototype.updateImageClass = function (dropEffect) {\r\n        this.dragImage.classList.remove(this.classPrefix + \"-allow\");\r\n        this.dragImage.classList.remove(this.classPrefix + \"-forbid\");\r\n        this.dragImage.classList.remove(this.classPrefix + \"-none\");\r\n        switch (dropEffect) {\r\n            case DropEffect.Allow:\r\n                this.dragImage.classList.add(this.classPrefix + \"-allow\");\r\n                break;\r\n            case DropEffect.None:\r\n                this.dragImage.classList.add(this.classPrefix + \"-none\");\r\n                break;\r\n            case DropEffect.Forbid:\r\n                this.dragImage.classList.add(this.classPrefix + \"-forbid\");\r\n                break;\r\n            default:\r\n                this.dragImage.classList.add(this.classPrefix + \"-none\");\r\n                break;\r\n        }\r\n    };\r\n    DragManager.prototype.setCursorStyle = function (element, cursor) {\r\n        if (element) {\r\n            element.style.cursor = cursor;\r\n            for (var i = 0; i < element.children.length; i++) {\r\n                this.setCursorStyle(element.children[i], cursor);\r\n            }\r\n        }\r\n    };\r\n    DragManager.prototype.updateDragItemPosition = function (ev) {\r\n        if (this.dragImage) {\r\n            var pos = new Position(ev);\r\n            this.dragImage.style.top = (pos.y - this.dragImage.offsetHeight / 2) + 'px';\r\n            this.dragImage.style.left = (pos.x - this.dragImage.offsetWidth / 2) + 'px';\r\n        }\r\n    };\r\n    DragManager.prototype.dragEnterEvent = function (ev) {\r\n        var descriptor = this.containerDescriptors[this.containerDescriptorIndex];\r\n        var container = {\r\n            element: descriptor.element,\r\n            scopes: descriptor.scopes,\r\n            data: descriptor.data\r\n        };\r\n        if (container.scopes.indexOf(this.draggableItem.scope) >= 0) {\r\n            var event_4 = new EqDragEvent(this.draggableItem, this.dragImage, ev);\r\n            event_4.dropEffect = DropEffect.Allow;\r\n            if (descriptor.onDragEnter) {\r\n                descriptor.onDragEnter(container, event_4);\r\n            }\r\n            this.dropEffect = event_4.dropEffect;\r\n            this.updateCusror(this.dropEffect);\r\n            this.updateImageClass(this.dropEffect);\r\n        }\r\n        else {\r\n            if (this.dropEffect !== DropEffect.Forbid) {\r\n                this.dropEffect = DropEffect.None;\r\n                this.updateCusror(this.dropEffect);\r\n                this.updateImageClass(this.dropEffect);\r\n            }\r\n        }\r\n    };\r\n    DragManager.prototype.dragLeaveEvent = function (ev) {\r\n        var descriptor = this.containerDescriptors[this.containerDescriptorIndex];\r\n        var container = {\r\n            element: descriptor.element,\r\n            scopes: descriptor.scopes,\r\n            data: descriptor.data\r\n        };\r\n        if (container.scopes.indexOf(this.draggableItem.scope) >= 0) {\r\n            var event_5 = new EqDragEvent(this.draggableItem, this.dragImage, ev);\r\n            event_5.dropEffect = DropEffect.None;\r\n            if (descriptor.onDragLeave) {\r\n                descriptor.onDragLeave(container, event_5);\r\n            }\r\n            this.dropEffect = event_5.dropEffect;\r\n            this.updateCusror(this.dropEffect);\r\n            this.updateImageClass(this.dropEffect);\r\n        }\r\n    };\r\n    DragManager.prototype.detectDragEnterEvent = function (container, ev) {\r\n        var containerPos = getElementAbsolutePos(container);\r\n        var pos = new Position(ev);\r\n        if (pos.y < containerPos.y || pos.y > containerPos.y + container.offsetHeight) {\r\n            return false;\r\n        }\r\n        if (pos.x < containerPos.x || pos.x > containerPos.x + container.offsetWidth) {\r\n            return false;\r\n        }\r\n        return true;\r\n    };\r\n    DragManager.prototype.detectDragLeaveEvent = function (container, ev) {\r\n        var containerPos = getElementAbsolutePos(container);\r\n        var pos = new Position(ev);\r\n        if (pos.y > containerPos.y && pos.y < containerPos.y + container.offsetHeight\r\n            && pos.x > containerPos.x && pos.x < containerPos.x + container.offsetWidth) {\r\n            return false;\r\n        }\r\n        return true;\r\n    };\r\n    return DragManager;\r\n}());\r\nexport { DragManager };\r\n//global variable\r\nexport var eqDragManager = new DragManager();\r\n//# sourceMappingURL=drag_manager.js.map","import { i18n } from '@easydata/core';\r\nimport { DataType } from '@easydata/core';\r\nimport { GridColumnAlign } from './easy_grid_columns';\r\nimport { domel } from '../utils/dom_elem_builder';\r\nvar cssPrefix = \"keg\";\r\nexport var CellRendererType;\r\n(function (CellRendererType) {\r\n    CellRendererType[CellRendererType[\"STRING\"] = 1] = \"STRING\";\r\n    CellRendererType[CellRendererType[\"NUMBER\"] = 2] = \"NUMBER\";\r\n    CellRendererType[CellRendererType[\"DATETIME\"] = 3] = \"DATETIME\";\r\n    CellRendererType[CellRendererType[\"BOOL\"] = 4] = \"BOOL\";\r\n})(CellRendererType || (CellRendererType = {}));\r\nvar StringCellRendererDefault = function (value, column, cellElement, rowElement) {\r\n    var text = value ? value.toString().replace(/\\n/g, '\\u21B5 ') : '';\r\n    domel('div', cellElement)\r\n        .addClass(cssPrefix + \"-cell-value\")\r\n        .addHtml(text)\r\n        .title(value || '');\r\n};\r\nvar NumberCellRendererDefault = function (value, column, cellElement, rowElement) {\r\n    var strValue = (value || '').toString();\r\n    if (typeof value == 'number') {\r\n        strValue = value.toLocaleString();\r\n    }\r\n    var builder = domel('div', cellElement)\r\n        .addClass(cssPrefix + \"-cell-value\")\r\n        .addHtml(strValue)\r\n        .title(strValue);\r\n    if (column.align == GridColumnAlign.NONE) {\r\n        builder.addClass(cssPrefix + \"-cell-value-align-right\");\r\n    }\r\n};\r\nvar DateTimeCellRendererDefault = function (value, column, cellElement, rowElement) {\r\n    var isDate = Object.prototype.toString.call(value) === '[object Date]';\r\n    var strValue = (value || '').toString();\r\n    if (isDate) {\r\n        var locale = i18n.getCurrentLocale();\r\n        var timeOptions = { hour: 'numeric', minute: 'numeric', second: 'numeric' };\r\n        switch (column.type) {\r\n            case DataType.Date:\r\n                strValue = value.toLocaleDateString(locale);\r\n                break;\r\n            case DataType.Time:\r\n                strValue = value.toLocaleTimeString(locale, timeOptions);\r\n                break;\r\n            case DataType.DateTime:\r\n                strValue = value.toLocaleDateString(locale) + \" \" + value.toLocaleTimeString(locale, timeOptions);\r\n                break;\r\n        }\r\n    }\r\n    var builder = domel('div', cellElement)\r\n        .addClass(cssPrefix + \"-cell-value\")\r\n        .addHtml(strValue)\r\n        .title(strValue);\r\n    if (column.align == GridColumnAlign.NONE) {\r\n        builder.addClass(cssPrefix + \"-cell-value-align-right\");\r\n    }\r\n};\r\nvar BoolCellRendererDefault = function (value, column, cellElement, rowElement) {\r\n    domel('div', cellElement)\r\n        .addClass(cssPrefix + \"-cell-value\")\r\n        .addClass(cssPrefix + \"-cell-value-bool\")\r\n        .addClass(cssPrefix + \"-\" + (value ? 'cell-value-true' : 'cell-value-false'));\r\n};\r\nvar GridCellRendererStore = /** @class */ (function () {\r\n    function GridCellRendererStore(options) {\r\n        this.renderers = {};\r\n        this.defaultRenderers = {};\r\n        this.registerRenderer('StringDefault', StringCellRendererDefault);\r\n        this.setDefaultRenderer(CellRendererType.STRING, StringCellRendererDefault);\r\n        this.registerRenderer('NumberDefault', NumberCellRendererDefault);\r\n        this.setDefaultRenderer(CellRendererType.NUMBER, NumberCellRendererDefault);\r\n        this.registerRenderer('DateTimeDefault', DateTimeCellRendererDefault);\r\n        this.setDefaultRenderer(CellRendererType.DATETIME, DateTimeCellRendererDefault);\r\n        this.registerRenderer('BoolDefault', BoolCellRendererDefault);\r\n        this.setDefaultRenderer(CellRendererType.BOOL, BoolCellRendererDefault);\r\n    }\r\n    GridCellRendererStore.prototype.getDefaultRenderer = function (columnType) {\r\n        var cellType = this.getCellType(columnType);\r\n        return this.defaultRenderers[CellRendererType[cellType]];\r\n    };\r\n    GridCellRendererStore.prototype.getDefaultRendererByType = function (rendererType) {\r\n        return this.defaultRenderers[CellRendererType[rendererType]];\r\n    };\r\n    GridCellRendererStore.prototype.setDefaultRenderer = function (cellType, renderer) {\r\n        if (renderer) {\r\n            this.defaultRenderers[CellRendererType[cellType]] = renderer;\r\n        }\r\n    };\r\n    GridCellRendererStore.prototype.getRenderer = function (name) {\r\n        return this.renderers[name];\r\n    };\r\n    GridCellRendererStore.prototype.registerRenderer = function (name, renderer) {\r\n        this.renderers[name] = renderer;\r\n    };\r\n    GridCellRendererStore.prototype.getCellType = function (dataType) {\r\n        switch (dataType) {\r\n            case DataType.Autoinc:\r\n            case DataType.Byte:\r\n            case DataType.Word:\r\n            case DataType.Currency:\r\n            case DataType.Float:\r\n            case DataType.Int32:\r\n            case DataType.Int64:\r\n                return CellRendererType.NUMBER;\r\n            case DataType.Date:\r\n            case DataType.DateTime:\r\n            case DataType.Time:\r\n                return CellRendererType.DATETIME;\r\n            case DataType.Bool:\r\n                return CellRendererType.BOOL;\r\n            default:\r\n                return CellRendererType.STRING;\r\n        }\r\n    };\r\n    return GridCellRendererStore;\r\n}());\r\nexport { GridCellRendererStore };\r\n//# sourceMappingURL=easy_grid_cell_renderer.js.map","import { utils } from '@easydata/core';\r\nimport { CellRendererType } from \"./easy_grid_cell_renderer\";\r\nvar DEFAULT_WIDTH = 150;\r\nvar DEFAULT_WIDTH_NUMBER = 120;\r\nvar DEFAULT_WIDTH_DATE = 200;\r\nvar DEFAULT_WIDTH_BOOL = 80;\r\nvar DEFAULT_WIDTH_STRING = 250;\r\nvar MIN_WIDTH_STRING = 100;\r\nvar MAX_WIDTH_STRING = 500;\r\nvar ROW_NUM_WIDTH = 60;\r\nexport var GridColumnAlign;\r\n(function (GridColumnAlign) {\r\n    GridColumnAlign[GridColumnAlign[\"NONE\"] = 1] = \"NONE\";\r\n    GridColumnAlign[GridColumnAlign[\"LEFT\"] = 2] = \"LEFT\";\r\n    GridColumnAlign[GridColumnAlign[\"CENTER\"] = 3] = \"CENTER\";\r\n    GridColumnAlign[GridColumnAlign[\"RIGHT\"] = 4] = \"RIGHT\";\r\n})(GridColumnAlign || (GridColumnAlign = {}));\r\nvar GridColumn = /** @class */ (function () {\r\n    function GridColumn(column, grid, isRowNum) {\r\n        if (isRowNum === void 0) { isRowNum = false; }\r\n        this._label = null;\r\n        //public left: number;\r\n        this.align = GridColumnAlign.NONE;\r\n        this.isVisible = true;\r\n        this.isRowNum = false;\r\n        this.dataColumn = column;\r\n        this.grid = grid;\r\n        if (column) {\r\n            var coltype = column.type;\r\n            var cellType = this.grid.cellRendererStore.getCellType(coltype);\r\n            switch (cellType) {\r\n                case CellRendererType.NUMBER:\r\n                    this.width = DEFAULT_WIDTH_NUMBER;\r\n                    break;\r\n                case CellRendererType.DATETIME:\r\n                    this.width = DEFAULT_WIDTH_DATE;\r\n                    break;\r\n                case CellRendererType.BOOL:\r\n                    this.width = DEFAULT_WIDTH_BOOL;\r\n                    break;\r\n                default:\r\n                    this.width = DEFAULT_WIDTH_STRING;\r\n            }\r\n            this.cellRenderer = this.grid.cellRendererStore.getDefaultRenderer(column.type);\r\n        }\r\n        else if (isRowNum) {\r\n            this.isRowNum = true;\r\n            this.width = ROW_NUM_WIDTH;\r\n            this._label = '';\r\n            this.cellRenderer = this.grid.cellRendererStore.getDefaultRendererByType(CellRendererType.NUMBER);\r\n        }\r\n        if (grid && grid.options && grid.options.onGetCellRenderer) {\r\n            this.cellRenderer = grid.options.onGetCellRenderer(this, this.cellRenderer) || this.cellRenderer;\r\n        }\r\n    }\r\n    Object.defineProperty(GridColumn.prototype, \"label\", {\r\n        get: function () {\r\n            return this._label ? this._label : this.isRowNum ? '' : this.dataColumn.label;\r\n        },\r\n        set: function (value) {\r\n            this._label = this.label;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    ;\r\n    Object.defineProperty(GridColumn.prototype, \"type\", {\r\n        get: function () {\r\n            return this.dataColumn ? this.dataColumn.type : null;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    return GridColumn;\r\n}());\r\nexport { GridColumn };\r\nvar GridColumnList = /** @class */ (function () {\r\n    function GridColumnList(columnList, grid) {\r\n        this.items = [];\r\n        this.grid = grid;\r\n        this.sync(columnList);\r\n    }\r\n    GridColumnList.prototype.sync = function (columnList, hasRowNumCol) {\r\n        if (hasRowNumCol === void 0) { hasRowNumCol = true; }\r\n        this.clear();\r\n        if (hasRowNumCol) {\r\n            var rowNumCol = new GridColumn(null, this.grid, true);\r\n            this.add(rowNumCol);\r\n        }\r\n        if (columnList) {\r\n            for (var _i = 0, _a = columnList.getItems(); _i < _a.length; _i++) {\r\n                var column = _a[_i];\r\n                var col = new GridColumn(column, this.grid);\r\n                if (this.grid.options.onSyncGridColumn) {\r\n                    this.grid.options.onSyncGridColumn(col);\r\n                }\r\n                this.add(col);\r\n            }\r\n        }\r\n    };\r\n    Object.defineProperty(GridColumnList.prototype, \"count\", {\r\n        get: function () {\r\n            return this.items.length;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    GridColumnList.prototype.add = function (col) {\r\n        var index = this.items.length;\r\n        this.items.push(col);\r\n        return index;\r\n    };\r\n    GridColumnList.prototype.put = function (index, col) {\r\n        if (index >= 0 && index < this.items.length) {\r\n            this.items[index] = col;\r\n        }\r\n    };\r\n    GridColumnList.prototype.move = function (col, newIndex) {\r\n        var oldIndex = this.items.indexOf(col);\r\n        if (oldIndex >= 0 && oldIndex != newIndex)\r\n            utils.moveArrayItem(this.items, oldIndex, newIndex);\r\n    };\r\n    GridColumnList.prototype.get = function (index) {\r\n        if (index >= 0 && index < this.items.length) {\r\n            return this.items[index];\r\n        }\r\n        else {\r\n            return null;\r\n        }\r\n    };\r\n    //    public getIndex(name: string) : number {\r\n    //        return this.mapper[name];\r\n    //    }\r\n    GridColumnList.prototype.getItems = function () {\r\n        return this.items;\r\n    };\r\n    GridColumnList.prototype.removeAt = function (index) {\r\n        var col = this.get(index);\r\n        this.items.splice(index, 1);\r\n        //delete this.mapper[col.name];\r\n    };\r\n    GridColumnList.prototype.clear = function () {\r\n        this.items = [];\r\n        //this.mapper = {};\r\n    };\r\n    return GridColumnList;\r\n}());\r\nexport { GridColumnList };\r\n//# sourceMappingURL=easy_grid_columns.js.map","var __assign = (this && this.__assign) || function () {\r\n    __assign = Object.assign || function(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n                t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\nimport { EventEmitter, DataRow, utils, i18n } from '@easydata/core';\r\nimport { eqDragManager, DropEffect } from '../utils/drag_manager';\r\nimport { domel } from '../utils/dom_elem_builder';\r\nimport { getElementAbsolutePos, eqCssPrefix } from '../utils/ui-utils';\r\nimport { GridColumnList, GridColumnAlign } from './easy_grid_columns';\r\nimport { GridCellRendererStore } from './easy_grid_cell_renderer';\r\nvar DEFAULT_ROW_HEIGHT = 36;\r\nvar DEFAULT_ROW_COUNT = 15;\r\nvar EasyGrid = /** @class */ (function () {\r\n    function EasyGrid(options) {\r\n        this.cssPrefix = \"keg\";\r\n        this.pagination = { page: 1, pageSize: 30, total: 0 };\r\n        this.paginationOptions = {\r\n            maxButtonCount: 10,\r\n            useBootstrap: false //true\r\n        };\r\n        this.defaultDataGridOptions = {\r\n            slot: null,\r\n            dataTable: null,\r\n            fixHeightOnFirstRender: false,\r\n            syncGridColumns: true,\r\n            useRowNumeration: true,\r\n            allowDragDrop: false,\r\n            totals: {\r\n                calcGrandTotals: false,\r\n                calculator: null\r\n            },\r\n            paging: {\r\n                enabled: true,\r\n                pageSize: 30\r\n            },\r\n            addColumns: false,\r\n            viewportRowsCount: null,\r\n            showActiveRow: true\r\n        };\r\n        this.rowsOnPagePromise = null;\r\n        this.containerInitialHeight = 0;\r\n        this.firstRender = true;\r\n        this.prevRowTotals = null;\r\n        this.landingIndex = -1;\r\n        this.landingSlot = domel('div')\r\n            .addClass(this.cssPrefix + \"-col-landing-slot\")\r\n            .addChildElement(domel('div')\r\n            .toDOM())\r\n            .toDOM();\r\n        this._activeRowIndex = -1;\r\n        if (options && options.paging) {\r\n            options.paging = utils.assign(this.defaultDataGridOptions.paging, options.paging);\r\n        }\r\n        this.options = __assign({}, this.defaultDataGridOptions, options);\r\n        if (!this.options.slot)\r\n            throw Error('\"slot\" parameter is required to initialize EasyDataGrid');\r\n        if (!this.options.dataTable)\r\n            throw Error('\"dataTable\" parameter is required to initialize EasyDataGrid');\r\n        this.dataTable = options.dataTable;\r\n        this.eventEmitter = new EventEmitter(this);\r\n        this.cellRendererStore = new GridCellRendererStore(options);\r\n        this.columns = new GridColumnList(this.dataTable.columns, this);\r\n        this.setSlot(this.options.slot);\r\n        this.init(this.options);\r\n    }\r\n    EasyGrid.prototype.setSlot = function (slot) {\r\n        if (typeof slot === 'string') {\r\n            if (slot.length) {\r\n                if (slot[0] === '#') {\r\n                    this.slot = document.getElementById(slot.substring(1));\r\n                }\r\n                else if (slot[0] === '.') {\r\n                    var result = document.getElementsByClassName(slot.substring(1));\r\n                    if (result.length)\r\n                        this.slot = result[0];\r\n                }\r\n                else {\r\n                    throw Error('Unrecognized slot parameter ' +\r\n                        '(Must be id, class or HTMLElement): ' + slot);\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            this.slot = slot;\r\n        }\r\n    };\r\n    EasyGrid.prototype.init = function (options) {\r\n        var _this = this;\r\n        if (options.onInit) {\r\n            this.addEventListener('init', options.onInit);\r\n        }\r\n        if (options.onRowClick) {\r\n            this.addEventListener('rowClick', options.onRowClick);\r\n        }\r\n        if (options.onRowDbClick) {\r\n            this.addEventListener('rowDbClick', options.onRowDbClick);\r\n        }\r\n        if (options.onAddColumnClick) {\r\n            this.addEventListener('addColumnClick', options.onAddColumnClick);\r\n        }\r\n        if (options.onColumnChanged) {\r\n            this.addEventListener('columnChanged', options.onColumnChanged);\r\n        }\r\n        if (options.onColumnDeleted) {\r\n            this.addEventListener('columnDeleted', options.onColumnDeleted);\r\n        }\r\n        if (options.onColumnMoved) {\r\n            this.addEventListener('columnMoved', options.onColumnMoved);\r\n        }\r\n        if (options.onPageChanged) {\r\n            this.addEventListener('pageChanged', options.onPageChanged);\r\n        }\r\n        if (options.onActiveRowChanged) {\r\n            this.addEventListener('activeRowChanged', options.onActiveRowChanged);\r\n        }\r\n        this.addEventListener('pageChanged', function (ev) { return _this.activeRowIndex = -1; });\r\n        utils.assignDeep(this.paginationOptions, options.pagination);\r\n        this.pagination.pageSize = this.options.paging.pageSize\r\n            || this.pagination.pageSize;\r\n        if (this.options.allowDragDrop) {\r\n            eqDragManager.registerDropContainer({\r\n                element: this.slot,\r\n                scopes: [\"gridColumnMove\"],\r\n                onDragEnter: function (_, ev) {\r\n                    _this.slot.classList.add(eqCssPrefix + \"-drophover\");\r\n                    _this.showLandingSlot(ev.pageX, ev.pageY);\r\n                },\r\n                onDragOver: function (_, ev) {\r\n                    _this.showLandingSlot(ev.pageX, ev.pageY);\r\n                },\r\n                onDragLeave: function (_, ev) {\r\n                    ev.dropEffect = DropEffect.Forbid;\r\n                    _this.slot.classList.remove(eqCssPrefix + \"-drophover\");\r\n                    _this.hideLandingSlot();\r\n                },\r\n                onDrop: function (_, ev) {\r\n                    _this.dataTable.columns.move(ev.data.column, _this.landingIndex);\r\n                    _this.refresh();\r\n                    _this.fireEvent({\r\n                        type: 'columnMoved',\r\n                        columnId: ev.data.column.id,\r\n                        newIndex: _this.landingIndex\r\n                    });\r\n                }\r\n            });\r\n        }\r\n        this.refresh();\r\n        this.fireEvent('init');\r\n    };\r\n    EasyGrid.prototype.fireEvent = function (event) {\r\n        if (typeof event === \"string\") {\r\n            this.eventEmitter.fire(event);\r\n        }\r\n        else {\r\n            this.eventEmitter.fire(event.type, event);\r\n        }\r\n    };\r\n    EasyGrid.prototype.setData = function (data) {\r\n        this.dataTable = data;\r\n        this.clear();\r\n        this.refresh();\r\n    };\r\n    EasyGrid.prototype.getData = function () {\r\n        return this.dataTable;\r\n    };\r\n    EasyGrid.prototype.getColumns = function () {\r\n        return this.columns;\r\n    };\r\n    EasyGrid.prototype.destroy = function () {\r\n        this.slot.innerHTML = \"\";\r\n    };\r\n    EasyGrid.prototype.refresh = function () {\r\n        this.clearDOM();\r\n        this.render();\r\n    };\r\n    EasyGrid.prototype.clearDOM = function () {\r\n        this.slot.innerHTML = '';\r\n    };\r\n    EasyGrid.prototype.clear = function () {\r\n        this.pagination.page = 1;\r\n        this.clearDOM();\r\n    };\r\n    EasyGrid.prototype.render = function () {\r\n        var _this = this;\r\n        if (!this.hasData() && !this.options.addColumns)\r\n            return;\r\n        this.containerInitialHeight = this.slot.clientHeight;\r\n        this.rootDiv = document.createElement('div');\r\n        this.rootDiv.style.width = '100%';\r\n        this.rootDiv.classList.add(this.cssPrefix + \"-root\");\r\n        this.columns.sync(this.dataTable.columns, this.options.useRowNumeration);\r\n        this.renderHeader();\r\n        this.rootDiv.appendChild(this.headerDiv);\r\n        this.renderBody();\r\n        this.rootDiv.appendChild(this.bodyDiv);\r\n        this.renderFooter();\r\n        this.rootDiv.appendChild(this.footerDiv);\r\n        var gridContainer = document.createElement('div');\r\n        gridContainer.classList.add(this.cssPrefix + \"-container\");\r\n        gridContainer.appendChild(this.rootDiv);\r\n        this.slot.appendChild(gridContainer);\r\n        if (this.rowsOnPagePromise) {\r\n            this.rowsOnPagePromise\r\n                .then(function () { return _this.updateHeight(); })\r\n                .then(function () {\r\n                _this.firstRender = false;\r\n                _this.rowsOnPagePromise = null;\r\n            });\r\n        }\r\n        else {\r\n            setTimeout(function () {\r\n                _this.updateHeight();\r\n                _this.firstRender = false;\r\n            }, 100);\r\n        }\r\n    };\r\n    EasyGrid.prototype.updateHeight = function () {\r\n        var _this = this;\r\n        return new Promise(function (resolve) {\r\n            if (_this.options.viewportRowsCount) {\r\n                var firstRow = _this.bodyCellContainerDiv.firstElementChild;\r\n                var rowHeight = firstRow ? firstRow.offsetHeight : DEFAULT_ROW_HEIGHT;\r\n                var rowCount = _this.options.viewportRowsCount; // || DEFAULT_ROW_COUNT;\r\n                var bodyHeight_1 = rowHeight * rowCount;\r\n                domel(_this.bodyDiv)\r\n                    .setStyle('height', bodyHeight_1 + \"px\");\r\n                setTimeout(function () {\r\n                    var sbHeight = _this.bodyViewportDiv.offsetHeight - _this.bodyViewportDiv.clientHeight;\r\n                    bodyHeight_1 = bodyHeight_1 + sbHeight;\r\n                    domel(_this.bodyDiv)\r\n                        .setStyle('height', bodyHeight_1 + \"px\");\r\n                    resolve();\r\n                }, 100);\r\n                return;\r\n            }\r\n            else if (_this.containerInitialHeight > 0) {\r\n                var bodyHeight = _this.containerInitialHeight - _this.headerDiv.offsetHeight - _this.footerDiv.offsetHeight;\r\n                domel(_this.bodyDiv)\r\n                    .setStyle('height', bodyHeight + \"px\");\r\n            }\r\n            resolve();\r\n        })\r\n            .then(function () {\r\n            if (_this.options.fixHeightOnFirstRender && _this.firstRender) {\r\n                _this.slot.style.height = _this.slot.offsetHeight + \"px\";\r\n            }\r\n        });\r\n    };\r\n    EasyGrid.prototype.renderHeader = function () {\r\n        var _this = this;\r\n        this.headerDiv = domel('div')\r\n            .addClass(this.cssPrefix + \"-header\")\r\n            .toDOM();\r\n        this.headerViewportDiv = domel('div', this.headerDiv)\r\n            .addClass(this.cssPrefix + \"-header-viewport\")\r\n            .toDOM();\r\n        this.headerCellContainerDiv = domel('div', this.headerViewportDiv)\r\n            .addClass(this.cssPrefix + \"-header-cell-container\")\r\n            .toDOM();\r\n        this.headerRowDiv = domel('div', this.headerCellContainerDiv)\r\n            .addClass(this.cssPrefix + \"-header-row\")\r\n            .toDOM();\r\n        this.columns.getItems().forEach(function (column, index) {\r\n            if (!column.isVisible) {\r\n                return;\r\n            }\r\n            var hd = _this.renderColumnHeader(column, index);\r\n            _this.headerRowDiv.appendChild(hd);\r\n            if (column.isRowNum) {\r\n                domel(hd)\r\n                    .addChildElement(_this.renderAddColumnButton());\r\n            }\r\n        });\r\n        var containerWidth = this.columns.getItems().map(function (column) { return column.width; }).reduce(function (sum, current) { return sum + current; });\r\n        domel(this.headerCellContainerDiv)\r\n            .setStyle('width', containerWidth + \"px\");\r\n    };\r\n    EasyGrid.prototype.hasData = function () {\r\n        return this.dataTable.columns.count > 0;\r\n    };\r\n    EasyGrid.prototype.renderColumnHeader = function (column, index) {\r\n        var colBuilder = domel('div')\r\n            .addClass(this.cssPrefix + \"-header-cell\")\r\n            .data('col-idx', \"\" + (index + 1))\r\n            .setStyle('width', column.width + \"px\");\r\n        if (column.dataColumn) {\r\n            colBuilder\r\n                .data('col-id', \"\" + column.dataColumn.id);\r\n        }\r\n        var colDiv = colBuilder.toDOM();\r\n        domel('div', colDiv)\r\n            .addClass(this.cssPrefix + \"-header-cell-resize\");\r\n        if (!column.isRowNum) {\r\n            domel('div', colDiv)\r\n                .addClass(this.cssPrefix + \"-header-cell-label\")\r\n                .text(column.label);\r\n        }\r\n        if (this.options.allowDragDrop) {\r\n            eqDragManager.registerDraggableItem({\r\n                element: colDiv,\r\n                scope: \"gridColumnMove\",\r\n                data: { column: column },\r\n                renderer: function (dragImage) {\r\n                    dragImage.innerHTML = '';\r\n                    var attrLabel = document.createElement('div');\r\n                    attrLabel.innerText = column.label;\r\n                    dragImage.classList.add('ui-sortable-helper');\r\n                    dragImage.appendChild(attrLabel);\r\n                },\r\n                onDragStart: function (ev) {\r\n                    ev.dropEffect = DropEffect.Allow;\r\n                }\r\n            });\r\n        }\r\n        return colDiv;\r\n    };\r\n    EasyGrid.prototype.renderBody = function () {\r\n        var _this = this;\r\n        this.bodyDiv = domel('div')\r\n            .addClass(this.cssPrefix + \"-body\")\r\n            .toDOM();\r\n        this.bodyViewportDiv = domel('div', this.bodyDiv)\r\n            .addClass(this.cssPrefix + \"-body-viewport\")\r\n            .attr('tabIndex', '0')\r\n            .toDOM();\r\n        this.bodyCellContainerDiv = domel('div', this.bodyViewportDiv)\r\n            .addClass(this.cssPrefix + \"-cell-container\")\r\n            .toDOM();\r\n        if (this.dataTable) {\r\n            this.showProgress();\r\n            this.rowsOnPagePromise = this.getRowsToRender()\r\n                .then(function (rows) {\r\n                _this.hideProgress();\r\n                //prevent double rendering (bad solution, we have to figure out how to avoid this behavior properly)\r\n                _this.bodyCellContainerDiv.innerHTML = '';\r\n                _this.prevRowTotals = null;\r\n                if (rows.length) {\r\n                    var calcTotals_1 = _this.calcTotals();\r\n                    var keyCols_1 = _this.getTotalsKeyCols();\r\n                    rows.forEach(function (row, index) {\r\n                        if (calcTotals_1)\r\n                            _this.updateTotalsState(keyCols_1, row);\r\n                        var tr = _this.renderRow(row, index);\r\n                        _this.bodyCellContainerDiv.appendChild(tr);\r\n                    });\r\n                    if (calcTotals_1 && _this.isLastPage()) {\r\n                        var row = new DataRow(_this.dataTable.columns, new Array(_this.dataTable.columns.count));\r\n                        _this.updateTotalsState(keyCols_1, row, true);\r\n                    }\r\n                }\r\n                var containerWidth = _this.columns.getItems()\r\n                    .map(function (column) { return column.width; }).reduce(function (sum, current) { return sum + current; });\r\n                domel(_this.bodyCellContainerDiv)\r\n                    .setStyle('width', containerWidth + \"px\");\r\n                return rows.length;\r\n            })\r\n                .catch(function (error) { console.error(error); return 0; });\r\n        }\r\n        this.bodyViewportDiv.addEventListener('scroll', function (ev) {\r\n            domel(_this.headerViewportDiv)\r\n                .setStyle('margin-left', \"-\" + _this.bodyViewportDiv.scrollLeft + \"px\");\r\n        });\r\n        this.bodyViewportDiv.addEventListener('keydown', this.onVieportKeydown.bind(this));\r\n    };\r\n    EasyGrid.prototype.isLastPage = function () {\r\n        return this.pagination.page * this.pagination.pageSize >= this.pagination.total;\r\n    };\r\n    EasyGrid.prototype.calcTotals = function () {\r\n        return this.options.totals && (this.options.totals.calcGrandTotals\r\n            || this.calcSubTotalsCols())\r\n            && this.dataTable.columns.getItems()\r\n                .filter(function (col) { return col.isAggr; }).length > 0;\r\n    };\r\n    EasyGrid.prototype.calcSubTotalsCols = function () {\r\n        return this.options.totals.cols && Object.values(this.options.totals.cols)\r\n            .map(function (val) { return val.calcSubTotals; })\r\n            .reduce(function (prev, value) {\r\n            return prev || value;\r\n        }, false);\r\n    };\r\n    EasyGrid.prototype.getTotalsKeyCols = function () {\r\n        var keyCols = this.dataTable.columns.getItems()\r\n            .filter(function (col) { return !col.isAggr; });\r\n        keyCols.pop();\r\n        return keyCols;\r\n    };\r\n    EasyGrid.prototype.updateTotalsState = function (keyCols, newRow, isLast) {\r\n        if (isLast === void 0) { isLast = false; }\r\n        if (this.prevRowTotals && this.calcSubTotalsCols()) {\r\n            var changeLevel = -1;\r\n            for (var i = 0; i < keyCols.length; i++) {\r\n                var col = keyCols[i];\r\n                if (this.prevRowTotals.getValue(col.id) !== newRow.getValue(col.id)) {\r\n                    changeLevel = i;\r\n                    break;\r\n                }\r\n            }\r\n            if (changeLevel != -1) {\r\n                var totalsOpts = this.options.totals;\r\n                for (var i = keyCols.length; i > changeLevel; i--) {\r\n                    var col = keyCols[i - 1];\r\n                    if (totalsOpts.cols && totalsOpts.cols[col.id].calcSubTotals === false)\r\n                        continue;\r\n                    var row = new DataRow(this.dataTable.columns, this.prevRowTotals.toArray());\r\n                    var tr = this.renderTotalsRow(i, row);\r\n                    this.bodyCellContainerDiv.appendChild(tr);\r\n                }\r\n            }\r\n        }\r\n        if (isLast && this.options.totals.calcGrandTotals) {\r\n            var tr = this.renderTotalsRow(0, newRow);\r\n            this.bodyCellContainerDiv.appendChild(tr);\r\n        }\r\n        this.prevRowTotals = newRow;\r\n    };\r\n    EasyGrid.prototype.renderTotalsRow = function (level, row) {\r\n        var _this = this;\r\n        var rowBuilder = domel('div')\r\n            .addClass(this.cssPrefix + \"-row\")\r\n            .addClass(this.cssPrefix + \"-row-totals\")\r\n            .addClass(this.cssPrefix + \"-totals-lv\" + level)\r\n            .data('totals-level', \"\" + level)\r\n            .attr('tabindex', '-1');\r\n        var rowElement = rowBuilder.toDOM();\r\n        this.columns.getItems().forEach(function (column, index) {\r\n            if (!column.isVisible) {\r\n                return;\r\n            }\r\n            var colIndex = column.isRowNum ? -1 : _this.dataTable.columns.getIndex(column.dataColumn.id);\r\n            var val = (colIndex == level || level == 0 && colIndex == 0) ? _this.getTotalsTitle(level) : '';\r\n            if (colIndex == _this.dataTable.columns.count - 1) {\r\n                val = 'Calculating...';\r\n            }\r\n            rowElement.appendChild(_this.renderCell(column, colIndex, val, rowElement));\r\n        });\r\n        var totals = this.options.totals.calculator.getTotals();\r\n        totals.fillTotals(level, row)\r\n            .then(function () {\r\n            rowElement.innerHTML = '';\r\n            _this.columns.getItems().forEach(function (column, index) {\r\n                if (!column.isVisible) {\r\n                    return;\r\n                }\r\n                var colIndex = column.isRowNum ? -1 : _this.dataTable.columns.getIndex(column.dataColumn.id);\r\n                var val = (colIndex == level || level == 0 && colIndex == 0) ? _this.getTotalsTitle(level) : '';\r\n                if (!column.isRowNum && column.dataColumn.isAggr) {\r\n                    val = row.getValue(colIndex);\r\n                }\r\n                rowElement.appendChild(_this.renderCell(column, colIndex, val, rowElement));\r\n            });\r\n        })\r\n            .catch(function (error) { return console.error(error); });\r\n        return rowElement;\r\n    };\r\n    EasyGrid.prototype.getTotalsTitle = function (level) {\r\n        return (level) ? 'Sub totals: ' : 'Grand totals: ';\r\n    };\r\n    EasyGrid.prototype.onVieportKeydown = function (ev) {\r\n        if (this.options.showActiveRow) {\r\n            var rowCount = this.bodyCellContainerDiv.querySelectorAll(\".\" + this.cssPrefix + \"-row\").length;\r\n            var newValue = void 0;\r\n            switch (ev.key) {\r\n                case 'ArrowLeft':\r\n                    break;\r\n                case 'ArrowRight':\r\n                    break;\r\n                case 'ArrowUp':\r\n                    ev.preventDefault();\r\n                    newValue = this.activeRowIndex < 0 || this.activeRowIndex >= rowCount ? rowCount - 1 : this.activeRowIndex - 1;\r\n                    this.activeRowIndex = newValue >= 0 ? newValue : 0;\r\n                    break;\r\n                case 'ArrowDown':\r\n                    ev.preventDefault();\r\n                    newValue = this.activeRowIndex < 0 || this.activeRowIndex >= rowCount ? 0 : this.activeRowIndex + 1;\r\n                    this.activeRowIndex = newValue < rowCount ? newValue : rowCount - 1;\r\n                    break;\r\n            }\r\n        }\r\n    };\r\n    EasyGrid.prototype.ensureRowVisibility = function (rowOrIndex) {\r\n        var row = typeof rowOrIndex === 'number'\r\n            ? this.getDataRow(rowOrIndex)\r\n            : rowOrIndex;\r\n        if (row) {\r\n            var rowRect = row.getBoundingClientRect();\r\n            var viewportRect = this.bodyViewportDiv.getBoundingClientRect();\r\n            var rowTop = rowRect.top - viewportRect.top;\r\n            var rowBottom = rowRect.bottom - viewportRect.top;\r\n            var viewportHeight = this.bodyViewportDiv.clientHeight;\r\n            var windowHeight = window.innerHeight || document.documentElement.clientHeight;\r\n            if (rowTop > 0 &&\r\n                rowBottom <= viewportHeight &&\r\n                rowRect.top > 0 &&\r\n                rowRect.bottom < windowHeight) {\r\n                return;\r\n            }\r\n            if (rowTop < 0) {\r\n                this.bodyViewportDiv.scrollTop = this.bodyViewportDiv.scrollTop + rowTop;\r\n            }\r\n            else if (rowBottom > viewportHeight) {\r\n                this.bodyViewportDiv.scrollTop = this.bodyViewportDiv.scrollTop + rowBottom - viewportHeight;\r\n            }\r\n            rowRect = row.getBoundingClientRect();\r\n            if (rowRect.top < 0) {\r\n                document.documentElement.scrollTop = document.documentElement.scrollTop + rowRect.top;\r\n            }\r\n            else if (rowRect.bottom > windowHeight) {\r\n                document.documentElement.scrollTop = document.documentElement.scrollTop + rowRect.bottom - windowHeight;\r\n            }\r\n        }\r\n    };\r\n    EasyGrid.prototype.getRowsToRender = function () {\r\n        if (this.options.paging.enabled === false) {\r\n            return Promise.resolve(this.dataTable.getCachedRows());\r\n        }\r\n        return this.dataTable.getRows({\r\n            page: this.pagination.page,\r\n            pageSize: this.pagination.pageSize\r\n        })\r\n            .catch(function (error) {\r\n            console.error(error);\r\n            return [];\r\n        });\r\n        ;\r\n    };\r\n    EasyGrid.prototype.renderFooter = function () {\r\n        this.footerDiv = domel('div')\r\n            .addClass(this.cssPrefix + \"-footer\")\r\n            .toDOM();\r\n        this.footerPaginateDiv = this.renderPageNavigator();\r\n        this.footerDiv.appendChild(this.footerPaginateDiv);\r\n        var pageInfoBlock = this.renderPageInfoBlock();\r\n        this.footerDiv.appendChild(pageInfoBlock);\r\n    };\r\n    EasyGrid.prototype.renderPageInfoBlock = function () {\r\n        var _this = this;\r\n        var pageInfoDiv = domel('div')\r\n            .addClass(this.cssPrefix + \"-page-info\")\r\n            .toDOM();\r\n        if (this.rowsOnPagePromise) {\r\n            this.rowsOnPagePromise.then(function (count) {\r\n                var fistPageRecordNum = count ? (_this.pagination.page - 1) * _this.pagination.pageSize + 1 : 0;\r\n                var lastPageRecordNum = count ? fistPageRecordNum + count - 1 : 0;\r\n                var total = _this.dataTable.getTotal();\r\n                pageInfoDiv.innerHTML = i18n.getText('GridPageInfo')\r\n                    .replace('{FirstPageRecordNum}', \"<span>\" + fistPageRecordNum.toString() + \"</span>\")\r\n                    .replace('{LastPageRecordNum}', \"<span>\" + lastPageRecordNum.toString() + \"</span>\")\r\n                    .replace('{Total}', \"<span>\" + total.toString() + \"</span>\");\r\n            });\r\n        }\r\n        return pageInfoDiv;\r\n    };\r\n    EasyGrid.prototype.showProgress = function () {\r\n    };\r\n    EasyGrid.prototype.hideProgress = function () {\r\n    };\r\n    EasyGrid.prototype.getLocalIndexByGlobal = function (index) {\r\n        if (this.pagination) {\r\n            return index % this.pagination.pageSize;\r\n        }\r\n        else {\r\n            return index;\r\n        }\r\n    };\r\n    EasyGrid.prototype.getGlobalIndexByLocal = function (index) {\r\n        if (this.pagination) {\r\n            return (this.pagination.page - 1) * this.pagination.pageSize + index;\r\n        }\r\n        else {\r\n            return index;\r\n        }\r\n    };\r\n    EasyGrid.prototype.renderRow = function (row, index) {\r\n        var _this = this;\r\n        var indexGlobal = this.getGlobalIndexByLocal(index);\r\n        var rowBuilder = domel('div')\r\n            .addClass(this.cssPrefix + \"-row\")\r\n            .addClass(this.cssPrefix + \"-row-\" + (index % 2 == 1 ? 'odd' : 'even'))\r\n            .data('row-idx', \"\" + indexGlobal)\r\n            .attr('tabindex', '-1')\r\n            .on('click', function (ev) {\r\n            _this.activeRowIndex = index;\r\n            _this.fireEvent({\r\n                type: 'rowClick',\r\n                row: row,\r\n                rowIndex: index,\r\n                sourceEvent: ev\r\n            });\r\n        })\r\n            .on('dblclick', function (ev) {\r\n            _this.fireEvent({\r\n                type: 'rowDbClick',\r\n                row: row,\r\n                rowIndex: index,\r\n                sourceEvent: ev\r\n            });\r\n        });\r\n        if (index == 0) {\r\n            rowBuilder.addClass(this.cssPrefix + \"-row-first\");\r\n        }\r\n        var rowElement = rowBuilder.toDOM();\r\n        if (this.options.showActiveRow && index == this.activeRowIndex) {\r\n            rowBuilder.addClass(this.cssPrefix + \"-row-active\");\r\n        }\r\n        this.columns.getItems().forEach(function (column) {\r\n            if (!column.isVisible) {\r\n                return;\r\n            }\r\n            var colindex = column.isRowNum ? -1 : _this.dataTable.columns.getIndex(column.dataColumn.id);\r\n            var val = column.isRowNum ? indexGlobal + 1 : row.getValue(colindex);\r\n            rowElement.appendChild(_this.renderCell(column, colindex, val, rowElement));\r\n        });\r\n        return rowElement;\r\n    };\r\n    EasyGrid.prototype.renderCell = function (column, colIndex, value, rowElement) {\r\n        var builder = domel('div')\r\n            .addClass(this.cssPrefix + \"-cell\")\r\n            .data('col-idx', \"\" + colIndex)\r\n            .attr('tabindex', '-1')\r\n            .setStyle('width', column.width + \"px\");\r\n        if (column.align == GridColumnAlign.LEFT) {\r\n            builder.addClass(this.cssPrefix + \"-cell-align-left\");\r\n        }\r\n        else if (column.align == GridColumnAlign.RIGHT) {\r\n            builder.addClass(this.cssPrefix + \"-cell-align-right\");\r\n        }\r\n        else if (column.align == GridColumnAlign.CENTER) {\r\n            builder.addClass(this.cssPrefix + \"-cell-align-center\");\r\n        }\r\n        if (column.cellRenderer) {\r\n            column.cellRenderer(value, column, builder.toDOM(), rowElement);\r\n        }\r\n        return builder.toDOM();\r\n    };\r\n    EasyGrid.prototype.renderPageNavigator = function () {\r\n        var _this = this;\r\n        var paginateDiv = document.createElement('div');\r\n        paginateDiv.className = this.cssPrefix + \"-pagination-wrapper\";\r\n        this.pagination.total = this.dataTable.getTotal();\r\n        if (this.options.paging && this.options.paging.enabled\r\n            && this.pagination.total > this.pagination.pageSize) {\r\n            var prefix = this.paginationOptions.useBootstrap ? '' : this.cssPrefix + \"-\";\r\n            paginateDiv.innerHTML = \"\";\r\n            var pageIndex = this.pagination.page || 1;\r\n            var pageCount = Math.ceil(this.pagination.total / this.pagination.pageSize) || 1;\r\n            var buttonClickHandler = function (ev) {\r\n                var element = ev.target;\r\n                if (element.hasAttribute('data-page')) {\r\n                    var page = parseInt(element.getAttribute('data-page'));\r\n                    _this.pagination.page = page;\r\n                    _this.fireEvent({ type: \"pageChanged\", page: page });\r\n                    _this.refresh();\r\n                    _this.bodyViewportDiv.focus();\r\n                }\r\n            };\r\n            var maxButtonCount = this.paginationOptions.maxButtonCount || 10;\r\n            var zeroBasedIndex = pageIndex - 1;\r\n            var firstPageIndex = zeroBasedIndex - (zeroBasedIndex % maxButtonCount) + 1;\r\n            var lastPageIndex = firstPageIndex + maxButtonCount - 1;\r\n            if (lastPageIndex > pageCount) {\r\n                lastPageIndex = pageCount;\r\n            }\r\n            var ul = document.createElement('ul');\r\n            ul.className = prefix + \"pagination\";\r\n            var li = document.createElement('li');\r\n            li.className = prefix + \"page-item\";\r\n            var a = document.createElement('span');\r\n            a.setAttribute(\"aria-hidden\", 'true');\r\n            a.className = prefix + \"page-link\";\r\n            if (firstPageIndex == 1) {\r\n                li.className += \" disabled\";\r\n            }\r\n            else {\r\n                if (this.paginationOptions.useBootstrap) {\r\n                    a = document.createElement('a');\r\n                    a.setAttribute('href', 'javascript:void(0)');\r\n                    a.setAttribute(\"data-page\", \"\" + (firstPageIndex - 1));\r\n                }\r\n                else {\r\n                    var newA = document.createElement('a');\r\n                    newA.setAttribute('href', 'javascript:void(0)');\r\n                    newA.setAttribute(\"data-page\", \"\" + (firstPageIndex - 1));\r\n                    a = newA;\r\n                }\r\n                a.className = prefix + \"page-link\";\r\n                a.addEventListener(\"click\", buttonClickHandler);\r\n            }\r\n            a.innerHTML = \"&laquo;\";\r\n            li.appendChild(a);\r\n            ul.appendChild(li);\r\n            for (var i = firstPageIndex; i <= lastPageIndex; i++) {\r\n                li = document.createElement('li');\r\n                li.className = prefix + \"page-item\";\r\n                if (i == pageIndex)\r\n                    li.className += \" active\";\r\n                a = document.createElement('a');\r\n                a.setAttribute('href', 'javascript:void(0)');\r\n                a.innerHTML = i.toString();\r\n                a.setAttribute('data-page', i.toString());\r\n                a.className = prefix + \"page-link\";\r\n                a.addEventListener(\"click\", buttonClickHandler);\r\n                li.appendChild(a);\r\n                ul.appendChild(li);\r\n            }\r\n            li = document.createElement('li');\r\n            li.className = prefix + \"page-item\";\r\n            a = document.createElement(\"span\");\r\n            a.setAttribute('aria-hidden', 'true');\r\n            a.className = prefix + \"page-link\";\r\n            if (lastPageIndex == pageCount) {\r\n                li.className += \" disabled\";\r\n            }\r\n            else {\r\n                if (this.paginationOptions.useBootstrap) {\r\n                    a = document.createElement('a');\r\n                    a.setAttribute('href', 'javascript:void(0)');\r\n                    a.setAttribute(\"data-page\", \"\" + (lastPageIndex + 1));\r\n                }\r\n                else {\r\n                    var newA = document.createElement('a');\r\n                    newA.setAttribute('href', 'javascript:void(0)');\r\n                    newA.setAttribute(\"data-page\", \"\" + (lastPageIndex + 1));\r\n                    a = newA;\r\n                }\r\n                a.className = prefix + \"page-link\";\r\n                a.addEventListener(\"click\", buttonClickHandler);\r\n            }\r\n            a.innerHTML = \"&raquo;\";\r\n            li.appendChild(a);\r\n            ul.appendChild(li);\r\n            paginateDiv.appendChild(ul);\r\n        }\r\n        return paginateDiv;\r\n    };\r\n    EasyGrid.prototype.addEventListener = function (eventType, handler) {\r\n        return this.eventEmitter.subscribe(eventType, function (event) { return handler(event.data); });\r\n    };\r\n    EasyGrid.prototype.removeEventListener = function (eventType, handlerId) {\r\n        this.eventEmitter.unsubscribe(eventType, handlerId);\r\n    };\r\n    EasyGrid.prototype.renderAddColumnButton = function () {\r\n        var _this = this;\r\n        if (this.options.addColumns) {\r\n            return domel('div')\r\n                .addClass(this.cssPrefix + \"-addrow\")\r\n                .title(this.options.addColumnsTitle || 'Add column')\r\n                .addChild('a', function (builder) { return builder\r\n                .attr('href', 'javascript:void(0)')\r\n                .on('click', function (e) {\r\n                e.preventDefault();\r\n                _this.fireEvent({\r\n                    type: 'addColumnClick',\r\n                    sourceEvent: e\r\n                });\r\n            }); })\r\n                .toDOM();\r\n        }\r\n        return domel('span')\r\n            .addText('#')\r\n            .toDOM();\r\n    };\r\n    EasyGrid.prototype.showLandingSlot = function (pageX, pageY) {\r\n        var colElems = this.headerRowDiv.querySelectorAll(\"[class*=\" + this.cssPrefix + \"-table-col]\");\r\n        var cols = [];\r\n        for (var i = 1; i < colElems.length; i++) {\r\n            var rowElem = colElems[i];\r\n            if (rowElem.style.display === 'none')\r\n                continue;\r\n            cols.push(rowElem);\r\n        }\r\n        if (cols.length === 0) {\r\n            this.landingIndex = 0;\r\n            this.headerRowDiv.appendChild(this.landingSlot);\r\n            return;\r\n        }\r\n        var landingPos = getElementAbsolutePos(this.landingSlot);\r\n        if (pageX >= landingPos.x && pageX <= landingPos.x + this.landingSlot.offsetWidth) {\r\n            return;\r\n        }\r\n        var newLandingIndex = this.landingIndex;\r\n        for (var _i = 0, cols_1 = cols; _i < cols_1.length; _i++) {\r\n            var col = cols_1[_i];\r\n            var colPos = getElementAbsolutePos(col);\r\n            var width = col.offsetWidth;\r\n            if (pageX > colPos.x && pageX < colPos.x + width) {\r\n                // -1 as we don't need to count add button here\r\n                newLandingIndex = parseInt(col.getAttribute('data-col-idx')) - 1;\r\n            }\r\n        }\r\n        if (newLandingIndex != this.landingIndex) {\r\n            this.landingIndex = newLandingIndex;\r\n            if (this.landingIndex < cols.length) {\r\n                this.headerRowDiv.insertBefore(this.landingSlot, cols[this.landingIndex]);\r\n            }\r\n            else {\r\n                this.headerRowDiv.appendChild(this.landingSlot);\r\n            }\r\n        }\r\n    };\r\n    EasyGrid.prototype.hideLandingSlot = function () {\r\n        var _this = this;\r\n        this.landingIndex = -1;\r\n        setTimeout(function () {\r\n            if (_this.landingSlot.parentElement) {\r\n                _this.landingSlot.parentElement.removeChild(_this.landingSlot);\r\n            }\r\n        }, 10);\r\n    };\r\n    Object.defineProperty(EasyGrid.prototype, \"activeRowIndex\", {\r\n        get: function () {\r\n            return this._activeRowIndex;\r\n        },\r\n        set: function (value) {\r\n            if (value !== this._activeRowIndex) {\r\n                var oldValue = this._activeRowIndex;\r\n                this._activeRowIndex = value;\r\n                this.updateActiveRow();\r\n                this.fireEvent({\r\n                    type: 'activeRowChanged',\r\n                    oldValue: oldValue,\r\n                    newValue: this.activeRowIndex,\r\n                    rowIndex: this.getGlobalIndexByLocal(this.activeRowIndex)\r\n                });\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    EasyGrid.prototype.updateActiveRow = function () {\r\n        var _this = this;\r\n        if (this.options.showActiveRow) {\r\n            var rows = this.bodyCellContainerDiv.querySelectorAll(\"[class*=\" + this.cssPrefix + \"-row-active]\");\r\n            rows.forEach(function (el) { el.classList.remove(_this.cssPrefix + \"-row-active\"); });\r\n            var activeRow = this.getActiveRow();\r\n            if (activeRow) {\r\n                activeRow.classList.add(this.cssPrefix + \"-row-active\");\r\n                this.ensureRowVisibility(this.activeRowIndex);\r\n            }\r\n        }\r\n    };\r\n    EasyGrid.prototype.getActiveRow = function () {\r\n        return this.getDataRow(this.activeRowIndex);\r\n    };\r\n    EasyGrid.prototype.getDataRow = function (index) {\r\n        var rows = Array.from(this.bodyCellContainerDiv.querySelectorAll(\".\" + this.cssPrefix + \"-row:not(.\" + this.cssPrefix + \"-row-totals)\"));\r\n        if (index >= 0 && index < rows.length)\r\n            return rows[index];\r\n        return null;\r\n    };\r\n    EasyGrid.prototype.focus = function () {\r\n        this.bodyViewportDiv.focus();\r\n    };\r\n    return EasyGrid;\r\n}());\r\nexport { EasyGrid };\r\n//# sourceMappingURL=easy_grid.js.map","var Calendar = /** @class */ (function () {\r\n    function Calendar(slot, options) {\r\n        this.slot = slot;\r\n        this.options = options || {};\r\n        if (!this.options.yearRange) {\r\n            this.options.yearRange = 'c-10:c+10';\r\n        }\r\n    }\r\n    Object.defineProperty(Calendar.prototype, \"cssPrefix\", {\r\n        get: function () {\r\n            return 'kdtp-cal';\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Calendar.prototype.setDate = function (date) {\r\n        this.currentDate = new Date(date);\r\n    };\r\n    Calendar.prototype.getDate = function () {\r\n        return new Date(this.currentDate);\r\n    };\r\n    Calendar.prototype.dateChanged = function (apply) {\r\n        if (this.options.onDateChanged) {\r\n            this.options.onDateChanged(this.currentDate, apply);\r\n        }\r\n    };\r\n    return Calendar;\r\n}());\r\nexport { Calendar };\r\n//# sourceMappingURL=calendar.js.map","import { getElementAbsolutePos } from '../utils/ui-utils';\r\nvar DateTimePicker = /** @class */ (function () {\r\n    function DateTimePicker(options) {\r\n        this.calendar = null;\r\n        this.timePicker = null;\r\n        this.options = options;\r\n        this.render();\r\n    }\r\n    Object.defineProperty(DateTimePicker.prototype, \"cssPrefix\", {\r\n        get: function () {\r\n            return 'kdtp';\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    DateTimePicker.prototype.setDateTime = function (dateTime) {\r\n        this.currentDateTime = new Date(dateTime);\r\n        if (this.calendar) {\r\n            this.calendar.setDate(this.currentDateTime);\r\n        }\r\n        if (this.timePicker) {\r\n            this.timePicker.setTime(this.currentDateTime);\r\n        }\r\n    };\r\n    DateTimePicker.prototype.getDateTime = function () {\r\n        return new Date(this.currentDateTime);\r\n    };\r\n    DateTimePicker.prototype.render = function () {\r\n        var _this = this;\r\n        if (this.options.showCalendar) {\r\n            this.calendar = this.createCalendar({\r\n                yearRange: this.options.yearRange,\r\n                showDateTimeInput: this.options.showDateTimeInput,\r\n                timePickerIsUsed: this.options.showTimePicker,\r\n                oneClickDateSelection: this.options.oneClickDateSelection,\r\n                onDateChanged: function (date, apply) {\r\n                    _this.currentDateTime = date;\r\n                    if (_this.timePicker) {\r\n                        _this.timePicker.setTime(_this.currentDateTime);\r\n                    }\r\n                    if (_this.options.showTimePicker) {\r\n                        _this.dateTimeChanged();\r\n                    }\r\n                    if (apply) {\r\n                        _this.apply(_this.currentDateTime);\r\n                    }\r\n                }\r\n            });\r\n            if (this.calendar)\r\n                this.calendar.render();\r\n        }\r\n        if (this.options.showTimePicker) {\r\n            this.timePicker = this.createTimePicker({\r\n                onTimeChanged: function (time) {\r\n                    _this.currentDateTime.setHours(time.getHours());\r\n                    _this.currentDateTime.setMinutes(time.getMinutes());\r\n                    if (_this.calendar) {\r\n                        _this.calendar.setDate(_this.currentDateTime);\r\n                    }\r\n                    _this.dateTimeChanged();\r\n                }\r\n            });\r\n            if (this.timePicker)\r\n                this.timePicker.render();\r\n        }\r\n        this.setDateTime(new Date());\r\n    };\r\n    DateTimePicker.prototype.createCalendar = function (options) {\r\n        return null;\r\n    };\r\n    DateTimePicker.prototype.createTimePicker = function (options) {\r\n        return null;\r\n    };\r\n    DateTimePicker.prototype.show = function (anchor) {\r\n        if (this.options.beforeShow) {\r\n            this.options.beforeShow();\r\n        }\r\n        var pos = getElementAbsolutePos(anchor || document.body);\r\n        this.slot.style.top = pos.y + anchor.clientHeight + 'px';\r\n        this.slot.style.left = pos.x + 'px';\r\n    };\r\n    DateTimePicker.prototype.apply = function (date) {\r\n        if (this.options.onApply) {\r\n            this.options.onApply(date);\r\n        }\r\n        this.destroy();\r\n    };\r\n    DateTimePicker.prototype.cancel = function () {\r\n        if (this.options.onCancel) {\r\n            this.options.onCancel();\r\n        }\r\n        this.destroy();\r\n    };\r\n    DateTimePicker.prototype.destroy = function () {\r\n        if (this.slot && this.slot.parentElement) {\r\n            this.slot.parentElement.removeChild(this.slot);\r\n        }\r\n    };\r\n    DateTimePicker.prototype.dateTimeChanged = function () {\r\n        if (this.options.onDateTimeChanged) {\r\n            this.options.onDateTimeChanged(this.currentDateTime);\r\n        }\r\n    };\r\n    return DateTimePicker;\r\n}());\r\nexport { DateTimePicker };\r\n//# sourceMappingURL=date_time_picker.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { i18n, utils as dataUtils } from '@easydata/core';\r\nimport { domel } from '../utils/dom_elem_builder';\r\nimport { Calendar } from './calendar';\r\nvar DefaultCalendar = /** @class */ (function (_super) {\r\n    __extends(DefaultCalendar, _super);\r\n    function DefaultCalendar(slot, options) {\r\n        var _this = _super.call(this, slot, options) || this;\r\n        _this.daysOfWeek = [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"];\r\n        _this.months = [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"];\r\n        _this.calendarBody = null;\r\n        _this.isManualInputChanging = false;\r\n        for (var i = 0; i < _this.daysOfWeek.length; i++) {\r\n            _this.daysOfWeek[i] = i18n.getShortWeekDayName(i + 1);\r\n        }\r\n        for (var i = 0; i < _this.months.length; i++) {\r\n            _this.months[i] = i18n.getLongMonthName(i + 1);\r\n        }\r\n        return _this;\r\n    }\r\n    DefaultCalendar.prototype.setDate = function (date) {\r\n        _super.prototype.setDate.call(this, date);\r\n        this.selectedMonth = this.currentDate.getMonth();\r\n        this.selectedYear = this.currentDate.getFullYear();\r\n        this.rerenderMonth();\r\n    };\r\n    DefaultCalendar.prototype.render = function () {\r\n        var _this = this;\r\n        var header = domel('div', this.slot)\r\n            .addClass(this.cssPrefix + \"-header\");\r\n        if (this.options.showDateTimeInput) {\r\n            header\r\n                .addChildElement(this.renderManualDateInput());\r\n        }\r\n        else {\r\n            header\r\n                .addChild('span', function (builder) { return _this.headerTextElem = builder.toDOM(); });\r\n        }\r\n        domel(this.slot)\r\n            .addChildElement(this.renderCalendarButtons());\r\n        this.calendarBody = domel('div', this.slot)\r\n            .addClass(this.cssPrefix + \"-body\")\r\n            .toDOM();\r\n    };\r\n    DefaultCalendar.prototype.getInputDateFormat = function () {\r\n        var settings = i18n.getLocaleSettings();\r\n        return (this.options.timePickerIsUsed)\r\n            ? settings.editDateFormat + \" \" + settings.editTimeFormat\r\n            : settings.editDateFormat;\r\n    };\r\n    DefaultCalendar.prototype.renderManualDateInput = function () {\r\n        var _this = this;\r\n        var format = this.getInputDateFormat();\r\n        var builder = domel('input')\r\n            .attr('placeholder', format)\r\n            .addClass(this.cssPrefix + \"-header-input\");\r\n        builder\r\n            .mask(format.replace('yyyy', '9999')\r\n            .replace('MM', '99')\r\n            .replace('dd', '99')\r\n            .replace('HH', '99')\r\n            .replace('mm', '99')\r\n            .replace('ss', '99'))\r\n            .on('input', function (ev) {\r\n            builder.removeClass('error');\r\n            try {\r\n                _this.isManualInputChanging = true;\r\n                var newDate = dataUtils.strToDateTime(_this.manualInputElem.value, format);\r\n                _this.currentDate = newDate;\r\n                _this.jump(_this.currentDate.getFullYear(), _this.currentDate.getMonth());\r\n                _this.dateChanged(false);\r\n            }\r\n            catch (e) {\r\n                builder.addClass('error');\r\n            }\r\n            finally {\r\n                _this.isManualInputChanging = false;\r\n            }\r\n        })\r\n            .on('keydown', function (ev) {\r\n            if (ev.keyCode === 13) {\r\n                ev.preventDefault();\r\n                ev.stopPropagation();\r\n                if (_this.manualInputElem.className.indexOf('error') < 0\r\n                    && !_this.isManualInputChanging)\r\n                    _this.dateChanged(true);\r\n            }\r\n        })\r\n            .on('focus', function () {\r\n            setTimeout(function () {\r\n                _this.manualInputElem.selectionStart = 0;\r\n                _this.manualInputElem.selectionEnd = 0;\r\n            }, 50);\r\n        });\r\n        this.manualInputElem = builder.toDOM();\r\n        return this.manualInputElem;\r\n    };\r\n    DefaultCalendar.prototype.updateDisplayedDateValue = function () {\r\n        if (this.manualInputElem) {\r\n            if (!this.isManualInputChanging) {\r\n                var format = this.getInputDateFormat();\r\n                this.manualInputElem.value = dataUtils.dateTimeToStr(this.currentDate, format);\r\n                this.manualInputElem.focus();\r\n            }\r\n        }\r\n        else if (this.headerTextElem) {\r\n            var locale = i18n.getCurrentLocale();\r\n            this.headerTextElem.innerText = this.currentDate.toLocaleString(locale == 'en' ? undefined : locale, {\r\n                year: 'numeric',\r\n                month: 'long',\r\n                day: 'numeric',\r\n            });\r\n        }\r\n    };\r\n    DefaultCalendar.prototype.renderCalendarButtons = function () {\r\n        var _this = this;\r\n        var builder = domel('nav')\r\n            .addClass(this.cssPrefix + \"-nav\")\r\n            .addChild('div', function (builder) { return builder\r\n            .addClass(_this.cssPrefix + \"-nav-prev\")\r\n            .on('click', function () {\r\n            _this.prev();\r\n        })\r\n            .addChild('span', function (builder) { return builder.html('&lsaquo;'); }); })\r\n            .addChild('div', function (builder) { return builder\r\n            .addClass(_this.cssPrefix + \"-nav-selectors\")\r\n            .addChild('div', function (builder) { return builder\r\n            .addClass(_this.cssPrefix + \"-nav-month\")\r\n            .addChild('select', function (builder) {\r\n            builder\r\n                .on('change', function () {\r\n                _this.jump(_this.selectedYear, parseInt(_this.selectMonthElem.value));\r\n            });\r\n            var _loop_1 = function (i) {\r\n                builder.addChild('option', function (builder) { return builder\r\n                    .attr('value', i.toString())\r\n                    .text(_this.months[i]); });\r\n            };\r\n            for (var i = 0; i < _this.months.length; i++) {\r\n                _loop_1(i);\r\n            }\r\n            _this.selectMonthElem = builder.toDOM();\r\n        }); })\r\n            .addChild('div', function (builder) { return builder\r\n            .addClass(_this.cssPrefix + \"-nav-year\")\r\n            .addChild('select', function (builder) { return _this.selectYearElem = builder\r\n            .on('change', function () {\r\n            _this.jump(parseInt(_this.selectYearElem.value), _this.selectedMonth);\r\n        })\r\n            .toDOM(); }); }); })\r\n            .addChild('div', function (builder) { return builder\r\n            .addClass(_this.cssPrefix + \"-nav-next\")\r\n            .on('click', function () {\r\n            _this.next();\r\n        })\r\n            .addChild('span', function (builder) { return builder.html('&rsaquo;'); }); });\r\n        return builder.toDOM();\r\n    };\r\n    DefaultCalendar.prototype.prev = function () {\r\n        this.selectedYear = (this.selectedMonth === 0) ? this.selectedYear - 1 : this.selectedYear;\r\n        this.selectedMonth = (this.selectedMonth === 0) ? 11 : this.selectedMonth - 1;\r\n        this.rerenderMonth();\r\n    };\r\n    DefaultCalendar.prototype.next = function () {\r\n        this.selectedYear = (this.selectedMonth === 11) ? this.selectedYear + 1 : this.selectedYear;\r\n        this.selectedMonth = (this.selectedMonth + 1) % 12;\r\n        this.rerenderMonth();\r\n    };\r\n    DefaultCalendar.prototype.rerenderSelectYear = function () {\r\n        var match = /c-(\\d*):c\\+(\\d*)/g.exec(this.options.yearRange);\r\n        var minusYear = 0;\r\n        var plusYear = 1;\r\n        if (match !== null) {\r\n            minusYear = parseInt(match[1]);\r\n            plusYear = parseInt(match[2]);\r\n        }\r\n        this.selectYearElem.innerHTML = '';\r\n        for (var i = 0; i <= minusYear + plusYear; i++) {\r\n            var op = document.createElement(\"option\");\r\n            var year = this.selectedYear - minusYear + i;\r\n            op.value = year.toString();\r\n            op.innerText = year.toString();\r\n            this.selectYearElem.appendChild(op);\r\n        }\r\n    };\r\n    DefaultCalendar.prototype.jump = function (year, month) {\r\n        this.selectedYear = year;\r\n        this.selectedMonth = month;\r\n        this.rerenderMonth();\r\n    };\r\n    DefaultCalendar.prototype.rerenderMonth = function () {\r\n        var _this = this;\r\n        //header text\r\n        this.updateDisplayedDateValue();\r\n        this.rerenderSelectYear();\r\n        var firstDay = (new Date(this.selectedYear, this.selectedMonth)).getDay();\r\n        var daysInMonth = new Date(this.selectedYear, this.selectedMonth + 1, 0).getDate();\r\n        this.calendarBody.innerHTML = \"\";\r\n        this.selectYearElem.value = this.selectedYear.toString();\r\n        this.selectMonthElem.value = this.selectedMonth.toString();\r\n        this.daysOfWeek.forEach(function (day, idx) {\r\n            domel('div', _this.calendarBody)\r\n                .addClass(_this.cssPrefix + \"-weekday\")\r\n                .addClass(idx == 0 || idx == 6 ? _this.cssPrefix + \"-weekend\" : '')\r\n                .text(day);\r\n        });\r\n        // Add empty cells before first day\r\n        for (var i = 0; i < firstDay; i++) {\r\n            domel('div', this.calendarBody)\r\n                .addClass(this.cssPrefix + \"-day-empty\");\r\n        }\r\n        // Add all month days\r\n        var today = new Date();\r\n        for (var day = 1; day <= daysInMonth; day++) {\r\n            var builder = domel('div', this.calendarBody)\r\n                .addClass(this.cssPrefix + \"-day\")\r\n                .attr('data-date', day.toString())\r\n                .text(day.toString())\r\n                .on('click', function (e) {\r\n                _this.currentDate.setFullYear(_this.selectedYear);\r\n                _this.currentDate.setMonth(_this.selectedMonth);\r\n                _this.currentDate.setDate(parseInt(e.target.getAttribute('data-date')));\r\n                _this.dateChanged(_this.options.oneClickDateSelection);\r\n            });\r\n            if (day === today.getDate() && this.selectedYear === today.getFullYear() && this.selectedMonth === today.getMonth()) {\r\n                builder.addClass(this.cssPrefix + \"-day-current\");\r\n            }\r\n            if (day === this.currentDate.getDate() && this.selectedYear === this.currentDate.getFullYear() && this.selectedMonth === this.currentDate.getMonth()) {\r\n                builder.addClass(this.cssPrefix + \"-day-selected\");\r\n            }\r\n            var dayOfWeek = (firstDay + day - 1) % 7;\r\n            if (dayOfWeek == 0 || dayOfWeek == 6) {\r\n                builder.addClass(this.cssPrefix + \"-weekend\");\r\n            }\r\n        }\r\n        // Add empty cells after last day\r\n        var cellsDrawnInLastRow = (firstDay + daysInMonth) % 7;\r\n        var cellsToDraw = cellsDrawnInLastRow == 0 ? 0 : 7 - cellsDrawnInLastRow;\r\n        for (var i = 0; i < cellsToDraw; i++) {\r\n            domel('div', this.calendarBody)\r\n                .addClass(this.cssPrefix + \"-day-empty\");\r\n        }\r\n    };\r\n    DefaultCalendar.prototype.dateChanged = function (apply) {\r\n        _super.prototype.dateChanged.call(this, apply);\r\n        this.rerenderMonth();\r\n    };\r\n    return DefaultCalendar;\r\n}(Calendar));\r\nexport { DefaultCalendar };\r\n//# sourceMappingURL=default_calendar.js.map","var TimePicker = /** @class */ (function () {\r\n    function TimePicker(slot, options) {\r\n        this.slot = slot;\r\n        this.options = options || {};\r\n    }\r\n    Object.defineProperty(TimePicker.prototype, \"cssPrefix\", {\r\n        get: function () {\r\n            return 'kdtp-tp';\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    TimePicker.prototype.setTime = function (time) {\r\n        this.currentTime = new Date(time);\r\n    };\r\n    TimePicker.prototype.getTime = function () {\r\n        return new Date(this.currentTime);\r\n    };\r\n    TimePicker.prototype.timeChanged = function () {\r\n        if (this.options.onTimeChanged) {\r\n            this.options.onTimeChanged(this.currentTime);\r\n        }\r\n    };\r\n    return TimePicker;\r\n}());\r\nexport { TimePicker };\r\n//# sourceMappingURL=time_picker.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { i18n } from '@easydata/core';\r\nimport { domel } from '../utils/dom_elem_builder';\r\nimport { TimePicker } from './time_picker';\r\nvar DefaultTimePicker = /** @class */ (function (_super) {\r\n    __extends(DefaultTimePicker, _super);\r\n    function DefaultTimePicker() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    DefaultTimePicker.prototype.setTime = function (time) {\r\n        _super.prototype.setTime.call(this, time);\r\n        this.updateDisplayedTime();\r\n        this.hoursInput.valueAsNumber = time.getHours();\r\n        this.minutesInput.valueAsNumber = time.getMinutes();\r\n    };\r\n    DefaultTimePicker.prototype.render = function () {\r\n        var _this = this;\r\n        domel('div', this.slot)\r\n            .addClass(this.cssPrefix + \"-time\")\r\n            .addChild('span', function (builder) { return _this.timeText = builder.toDOM(); })\r\n            .toDOM();\r\n        var slidersBuilder = domel('div', this.slot)\r\n            .addClass(this.cssPrefix + \"-sliders\");\r\n        slidersBuilder\r\n            .addChild('div', function (builder) { return builder\r\n            .addClass(_this.cssPrefix + \"-time-row\")\r\n            .title('Hours')\r\n            .addChild('input', function (builder) { return _this.hoursInput = builder\r\n            .addClass(_this.cssPrefix + \"-input-hours\")\r\n            .type('range')\r\n            .attr('min', '0')\r\n            .attr('max', '23')\r\n            .attr('step', '1')\r\n            .on('input', function (e) {\r\n            _this.currentTime.setHours(_this.hoursInput.valueAsNumber);\r\n            _this.updateDisplayedTime();\r\n            _this.timeChanged();\r\n        })\r\n            .toDOM(); }); });\r\n        slidersBuilder\r\n            .addChild('div', function (builder) { return builder\r\n            .addClass(_this.cssPrefix + \"-time-row\")\r\n            .title('Minutes')\r\n            .addChild('input', function (builder) { return _this.minutesInput = builder\r\n            .addClass(_this.cssPrefix + \"-input-minutes\")\r\n            .type('range')\r\n            .attr('min', '0')\r\n            .attr('max', '59')\r\n            .attr('step', '1')\r\n            .on('input', function (e) {\r\n            _this.currentTime.setMinutes(_this.minutesInput.valueAsNumber);\r\n            _this.updateDisplayedTime();\r\n            _this.timeChanged();\r\n        })\r\n            .toDOM(); }); });\r\n        return this.slot;\r\n    };\r\n    DefaultTimePicker.prototype.updateDisplayedTime = function () {\r\n        var locale = i18n.getCurrentLocale();\r\n        var timeToDraw = this.currentTime.toLocaleString(locale == 'en' ? undefined : locale, {\r\n            hour: \"numeric\",\r\n            minute: \"numeric\"\r\n        });\r\n        this.timeText.innerText = timeToDraw;\r\n    };\r\n    return DefaultTimePicker;\r\n}(TimePicker));\r\nexport { DefaultTimePicker };\r\n//# sourceMappingURL=default_time_picker.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { i18n } from '@easydata/core';\r\nimport { domel } from '../utils/dom_elem_builder';\r\nimport { DateTimePicker } from './date_time_picker';\r\nimport { DefaultCalendar } from './default_calendar';\r\nimport { DefaultTimePicker } from './default_time_picker';\r\nimport { getElementAbsolutePos } from '../utils/ui-utils';\r\nvar DefaultDateTimePicker = /** @class */ (function (_super) {\r\n    __extends(DefaultDateTimePicker, _super);\r\n    function DefaultDateTimePicker() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    DefaultDateTimePicker.prototype.render = function () {\r\n        var _this = this;\r\n        this.slot = domel('div', document.body)\r\n            .addClass(\"\" + this.cssPrefix)\r\n            .attr('tabIndex', '0')\r\n            .setStyle('position', 'absolute')\r\n            .setStyle('top', '-1000px')\r\n            .setStyle('left', '-1000px')\r\n            .on('keydown', function (ev) {\r\n            if (ev.keyCode === 27) { // ESC is pressed\r\n                _this.cancel();\r\n            }\r\n            else if (ev.keyCode === 13) { // Enter is pressed\r\n                _this.apply(_this.getDateTime());\r\n            }\r\n            return false;\r\n        })\r\n            .toDOM();\r\n        _super.prototype.render.call(this);\r\n        this.renderButtons();\r\n        this.globalMouseDownHandler = function (e) {\r\n            var event = window.event || e;\r\n            var o = event.srcElement || event.target;\r\n            var isOutside = !_this.slot.contains(event.target);\r\n            if (isOutside) {\r\n                document.removeEventListener('mousedown', _this.globalMouseDownHandler, true);\r\n                _this.cancel();\r\n            }\r\n            return true;\r\n        };\r\n    };\r\n    DefaultDateTimePicker.prototype.renderButtons = function () {\r\n        var _this = this;\r\n        var builder = domel('div', this.slot)\r\n            .addClass(this.cssPrefix + \"-buttons\")\r\n            .addChild('button', function (b) { return _this.nowButton = b\r\n            .addClass(_this.cssPrefix + \"-button \" + _this.cssPrefix + \"-button-now\")\r\n            .text(i18n.getText('ButtonNow'))\r\n            .on('click', function () {\r\n            _this.setDateTime(new Date());\r\n            _this.dateTimeChanged();\r\n            return false;\r\n        })\r\n            .toDOM(); });\r\n        if (this.options.showTimePicker || !this.options.oneClickDateSelection) {\r\n            builder.addChild('button', function (b) { return _this.submitButton = b\r\n                .addClass(_this.cssPrefix + \"-button \" + _this.cssPrefix + \"-button-apply\")\r\n                .text(i18n.getText('ButtonApply'))\r\n                .on('click', function () {\r\n                _this.apply(_this.getDateTime());\r\n                return false;\r\n            })\r\n                .toDOM(); });\r\n        }\r\n        builder.addChild('button', function (b) { return _this.submitButton = b\r\n            .addClass(_this.cssPrefix + \"-button \" + _this.cssPrefix + \"-button-cancel\")\r\n            .text(i18n.getText('ButtonCancel'))\r\n            .on('click', function () {\r\n            _this.cancel();\r\n            return false;\r\n        })\r\n            .toDOM(); });\r\n    };\r\n    DefaultDateTimePicker.prototype.createCalendar = function (options) {\r\n        this.calendarSlot =\r\n            domel('div', this.slot)\r\n                .addClass(this.cssPrefix + \"-cal\")\r\n                .toDOM();\r\n        return new DefaultCalendar(this.calendarSlot, options);\r\n    };\r\n    DefaultDateTimePicker.prototype.createTimePicker = function (options) {\r\n        this.timePickerSlot =\r\n            domel('div', this.slot)\r\n                .addClass(this.cssPrefix + \"-tp\")\r\n                .toDOM();\r\n        return new DefaultTimePicker(this.timePickerSlot, options);\r\n    };\r\n    DefaultDateTimePicker.prototype.show = function (anchor) {\r\n        var _this = this;\r\n        if (this.options.showDateTimeInput) {\r\n            if (this.options.beforeShow) {\r\n                this.options.beforeShow();\r\n            }\r\n            var anchorPos = getElementAbsolutePos(anchor || document.body);\r\n            var parentPos = getElementAbsolutePos(anchor ? anchor.parentElement || anchor : document.body);\r\n            this.slot.style.top = parentPos.y + 'px';\r\n            this.slot.style.left = anchorPos.x + 'px';\r\n        }\r\n        else {\r\n            _super.prototype.show.call(this, anchor);\r\n            this.slot.focus();\r\n        }\r\n        setTimeout(function () {\r\n            document.addEventListener('mousedown', _this.globalMouseDownHandler, true);\r\n        }, 1);\r\n    };\r\n    return DefaultDateTimePicker;\r\n}(DateTimePicker));\r\nexport { DefaultDateTimePicker };\r\n//# sourceMappingURL=default_date_time_picker.js.map","import { i18n, utils } from '@easydata/core';\r\nimport { domel } from '../utils/dom_elem_builder';\r\nvar cssPrefix = \"kdlg\";\r\nvar DefaultDialogService = /** @class */ (function () {\r\n    function DefaultDialogService() {\r\n    }\r\n    DefaultDialogService.prototype.openConfirm = function (title, content, callback) {\r\n        var _this = this;\r\n        var template = \"<div id=\\\"\" + cssPrefix + \"-dialog-confirm\\\">\" + content + \"</div>\";\r\n        var options = {\r\n            title: title,\r\n            closable: false,\r\n            submitable: true,\r\n            cancelable: true,\r\n            body: template\r\n        };\r\n        if (callback) {\r\n            options.onSubmit = function () {\r\n                callback(true);\r\n            };\r\n            options.onCancel = function () {\r\n                callback(false);\r\n            };\r\n            this.open(options);\r\n            return;\r\n        }\r\n        return new Promise(function (resolve) {\r\n            options.onSubmit = function () {\r\n                resolve(true);\r\n            };\r\n            options.onCancel = function () {\r\n                resolve(false);\r\n            };\r\n            _this.open(options);\r\n        });\r\n    };\r\n    DefaultDialogService.prototype.openPrompt = function (title, content, defVal, callback) {\r\n        var _this = this;\r\n        var template = \"<div id=\\\"\" + cssPrefix + \"-dialog-form\\\" class=\\\"kfrm-form\\\">\\n            <div class=\\\"kfrm-fields label-above\\\">\\n                <label for=\\\"\" + cssPrefix + \"-dialog-form-input\\\" id=\\\"\" + cssPrefix + \"-dialog-form-content\\\">\" + content + \"</label>\\n                <input type=\\\"text\\\" name=\\\"\" + cssPrefix + \"-dialog-form-input\\\" id=\\\"\" + cssPrefix + \"-dialog-form-input\\\" />\\n            </div>\\n        </div>\";\r\n        var options = {\r\n            title: title,\r\n            submitable: true,\r\n            closable: true,\r\n            cancelable: true,\r\n            submitOnEnter: true,\r\n            body: template,\r\n            arrangeParents: false,\r\n            beforeOpen: function () {\r\n                var input = document.getElementById(cssPrefix + \"-dialog-form-input\");\r\n                if (defVal) {\r\n                    input.value = defVal;\r\n                }\r\n                input.focus();\r\n            }\r\n        };\r\n        var processInput = function (callback) {\r\n            var input = document.getElementById(cssPrefix + \"-dialog-form-input\");\r\n            var result = input.value;\r\n            if (result && result.replace(/\\s/g, '').length > 0) {\r\n                callback(result);\r\n                return true;\r\n            }\r\n            input.classList.add('eqjs-invalid');\r\n            return false;\r\n        };\r\n        if (callback) {\r\n            options.onSubmit = function () {\r\n                return processInput(callback);\r\n            };\r\n            options.onCancel = function () {\r\n                callback(\"\");\r\n            };\r\n            this.open(options);\r\n            return;\r\n        }\r\n        return new Promise(function (resolve) {\r\n            options.onSubmit = function () {\r\n                return processInput(resolve);\r\n            };\r\n            options.onCancel = function () {\r\n                resolve(\"\");\r\n            };\r\n            _this.open(options);\r\n        });\r\n    };\r\n    DefaultDialogService.prototype.open = function (options) {\r\n        var dlg = new DefaultDialog(options);\r\n        dlg.open();\r\n        return dlg;\r\n    };\r\n    return DefaultDialogService;\r\n}());\r\nexport { DefaultDialogService };\r\nvar DefaultDialog = /** @class */ (function () {\r\n    function DefaultDialog(options) {\r\n        var _this = this;\r\n        this.options = options;\r\n        this.submitHandler = function () {\r\n            if (_this.options.onSubmit && _this.options.onSubmit() === false) {\r\n                return false;\r\n            }\r\n            _this.destroy();\r\n            return true;\r\n        };\r\n        this.cancelHandler = function () {\r\n            if (_this.options.onCancel) {\r\n                _this.options.onCancel();\r\n            }\r\n            _this.destroy();\r\n        };\r\n        this.keydownHandler = function (ev) {\r\n            if (ev.keyCode == 13 && _this.isActiveDialog()) {\r\n                ev.preventDefault();\r\n                ev.stopPropagation();\r\n                if (_this.submitHandler()) {\r\n                    window.removeEventListener('keydown', _this.keydownHandler, false);\r\n                    return false;\r\n                }\r\n            }\r\n            return true;\r\n        };\r\n        var id = utils.generateId('dlg');\r\n        this.slot =\r\n            domel('div', document.body)\r\n                .attr('tab-index', '-1')\r\n                .data('dialog-id', id)\r\n                .addClass('kdlg-modal', 'is-active')\r\n                .addChild('div', function (b) { return b\r\n                .addClass('kdlg-modal-background'); })\r\n                .addChild('div', function (b) { return b\r\n                .addClass('kdlg-modal-window')\r\n                .addChild('header', function (b) {\r\n                b\r\n                    .addClass('kdlg-header')\r\n                    .addChild('p', function (b) { return b\r\n                    .addClass('kdlg-header-title')\r\n                    .addText(options.title); });\r\n                if (options.closable !== false)\r\n                    b.addChild('button', function (b) { return b\r\n                        .addClass('kdlg-modal-close')\r\n                        .on('click', function () {\r\n                        _this.cancelHandler();\r\n                    }); });\r\n            })\r\n                .addChild('section', function (b) {\r\n                b\r\n                    .addClass('kdlg-body');\r\n                if (typeof options.body === 'string') {\r\n                    b.addHtml(options.body);\r\n                }\r\n                else {\r\n                    b.addChildElement(options.body);\r\n                }\r\n            })\r\n                .addChild('footer', function (b) {\r\n                b.addClass('kdlg-footer', 'align-right');\r\n                if (options.submitable === false)\r\n                    return;\r\n                b.addChild('button', function (b) { return b\r\n                    .addClass('kfrm-button', 'is-info')\r\n                    .addText(i18n.getText('ButtonOK'))\r\n                    .on('click', function (e) {\r\n                    _this.submitHandler();\r\n                }); });\r\n                if (options.cancelable !== false)\r\n                    b.addChild('button', function (builder) { return builder\r\n                        .addClass('kfrm-button')\r\n                        .addText(i18n.getText('ButtonCancel'))\r\n                        .on('click', function (e) {\r\n                        _this.cancelHandler();\r\n                    }); });\r\n            }); })\r\n                .toDOM();\r\n    }\r\n    DefaultDialog.prototype.open = function () {\r\n        if (this.options.beforeOpen) {\r\n            this.options.beforeOpen();\r\n        }\r\n        domel(this.slot).show();\r\n        if (this.options.arrangeParents) {\r\n            this.arrangeParents(true);\r\n        }\r\n        var windowDiv = this.slot\r\n            .querySelector('.kdlg-modal-window');\r\n        if (this.options.height) {\r\n            windowDiv.style.height = typeof this.options.height === 'string'\r\n                ? this.options.height\r\n                : this.options.height + \"px\";\r\n        }\r\n        if (this.options.width) {\r\n            windowDiv.style.width = typeof this.options.width === 'string'\r\n                ? this.options.width\r\n                : this.options.width + \"px\";\r\n        }\r\n    };\r\n    DefaultDialog.prototype.submit = function () {\r\n        this.submitHandler();\r\n    };\r\n    DefaultDialog.prototype.cancel = function () {\r\n        this.cancelHandler();\r\n    };\r\n    DefaultDialog.prototype.destroy = function () {\r\n        if (this.options.arrangeParents) {\r\n            this.arrangeParents(false);\r\n        }\r\n        document.body.removeChild(this.slot);\r\n        if (this.options.submitOnEnter) {\r\n            window.removeEventListener('keydown', this.keydownHandler, false);\r\n        }\r\n        if (this.options.onDestroy) {\r\n            this.options.onDestroy();\r\n        }\r\n    };\r\n    DefaultDialog.prototype.isActiveDialog = function () {\r\n        var windowDivs = document.documentElement.querySelectorAll('.kdlg-modal');\r\n        return windowDivs[windowDivs.length - 1] === this.slot;\r\n    };\r\n    DefaultDialog.prototype.arrangeParents = function (turnOn) {\r\n        var windowDivs = document.documentElement.querySelectorAll('.kdlg-modal-window');\r\n        for (var i = 0; i < windowDivs.length - 1; i++) {\r\n            if (turnOn) {\r\n                var offset = i == 0 ? 20 : i * 40 + 20;\r\n                domel(windowDivs[i])\r\n                    .setStyle('margin-top', offset + \"px\")\r\n                    .setStyle('margin-left', offset + \"px\");\r\n            }\r\n            else {\r\n                domel(windowDivs[i])\r\n                    .removeStyle('margin-top')\r\n                    .removeStyle('margin-left');\r\n            }\r\n        }\r\n    };\r\n    return DefaultDialog;\r\n}());\r\nexport { DefaultDialog };\r\n//# sourceMappingURL=default_dialog_service.js.map","import { i18n } from '@easydata/core';\r\nfunction addEasyDataUITexts() {\r\n    i18n.updateDefaultTexts({\r\n        GridPageInfo: '{FirstPageRecordNum} - {LastPageRecordNum} of {Total} records',\r\n        ButtonApply: 'Apply',\r\n        ButtonNow: 'Now'\r\n    });\r\n}\r\naddEasyDataUITexts();\r\n//# sourceMappingURL=text_resources.js.map","// grid\r\nexport * from './grid/easy_grid';\r\nexport * from './grid/easy_grid_columns';\r\nexport * from './grid/easy_grid_cell_renderer';\r\n//datetimepicker\r\nexport * from './datetimepicker/calendar';\r\nexport * from './datetimepicker/date_time_picker';\r\nexport * from './datetimepicker/default_calendar';\r\nexport * from './datetimepicker/default_date_time_picker';\r\nexport * from './datetimepicker/default_time_picker';\r\nexport * from './datetimepicker/time_picker';\r\n// utils\r\nexport * from './utils/browser_utils';\r\nexport * from './utils/dom_elem_builder';\r\nexport * from './utils/drag_manager';\r\nexport * from './utils/mask';\r\nexport * from './utils/ui-utils';\r\n//dialogs\r\nexport * from './dialogs/default_dialog_service';\r\nimport './i18n/text_resources';\r\n//# sourceMappingURL=public_api.js.map","/** Represents type of linking of conditions in group (predicate).*/\r\nexport var LinkType;\r\n(function (LinkType) {\r\n    /**\r\n     * None of the conditions must be truth (all must be false).\r\n     * In SQL it will look like: `NOT (Condition1 OR Condition2 OR ...)`.\r\n     */\r\n    LinkType[LinkType[\"None\"] = 0] = \"None\";\r\n    /** At least one condition must be truth. In SQL they are connected by `OR` operator.*/\r\n    LinkType[LinkType[\"Any\"] = 1] = \"Any\";\r\n    /**\r\n     * Not all conditions must be truth (at least one must false).\r\n     * In SQL it will look like: `NOT(Condition1 AND Condition2 AND ...)`.\r\n     */\r\n    LinkType[LinkType[\"NotAll\"] = 2] = \"NotAll\";\r\n    /** All conditions must be truth, in result SQL they are connected by `AND` operator;*/\r\n    LinkType[LinkType[\"All\"] = 3] = \"All\";\r\n})(LinkType || (LinkType = {}));\r\n//# sourceMappingURL=link_type.js.map","import { DataType } from '@easydata/core';\r\nimport { i18n } from '@easydata/core';\r\nimport { FormatParser } from \"./format_parser\";\r\nimport { LinkType } from '../types/link_type';\r\nexport var equtils;\r\n(function (equtils) {\r\n    /**\r\n     * Adds two paths and returns the result\r\n     * Correctly processes leading and trailing slashes\r\n     * @param path1\r\n     * @param path2\r\n     */\r\n    function combinePath(path1, path2) {\r\n        var result = path1;\r\n        if (result != null && result.length > 0) {\r\n            if (result.charAt(result.length - 1) != '/')\r\n                result += \"/\";\r\n            result += path2;\r\n        }\r\n        else {\r\n            result = path2;\r\n        }\r\n        return result;\r\n    }\r\n    equtils.combinePath = combinePath;\r\n    /**\r\n     * Converts a string to a `LinkType` value\r\n     * @param str\r\n     */\r\n    function strToLinkType(str) {\r\n        if (str == \"All\") {\r\n            return LinkType.All;\r\n        }\r\n        else if (str == \"NotAll\") {\r\n            return LinkType.NotAll;\r\n        }\r\n        else if (str == \"Any\") {\r\n            return LinkType.Any;\r\n        }\r\n        else {\r\n            return LinkType.None;\r\n        }\r\n    }\r\n    equtils.strToLinkType = strToLinkType;\r\n    /**\r\n     * Converts a `LinkType` value to a string\r\n     * @param type\r\n     */\r\n    function linkTypeToStr(type) {\r\n        if (type === LinkType.All) {\r\n            return \"All\";\r\n        }\r\n        else if (type === LinkType.NotAll) {\r\n            return \"NotAll\";\r\n        }\r\n        else if (type == LinkType.Any) {\r\n            return \"Any\";\r\n        }\r\n        else {\r\n            return \"None\";\r\n        }\r\n    }\r\n    equtils.linkTypeToStr = linkTypeToStr;\r\n    /**\r\n     * Parses the operator's format string and returns a list of tokens\r\n     * @param operator\r\n     */\r\n    function parseOperatorFormat(operator) {\r\n        var format = i18n.getText('Operators', operator.id, 'format');\r\n        if (!format) {\r\n            format = i18n.getText('Operators', operator.id, 'displayFormat');\r\n        }\r\n        if (!format) {\r\n            format = operator.displayFormat;\r\n        }\r\n        var parser = new FormatParser(format);\r\n        return parser.parse();\r\n    }\r\n    equtils.parseOperatorFormat = parseOperatorFormat;\r\n    //----------- value converstion utils --------------\r\n    /**\r\n     * Converts a value from one DataType to another\r\n     * @param value\r\n     * @param fromDataType - the original data type\r\n     * @param toDataType - the data type we want to get\r\n     */\r\n    function convertValue(value, fromDataType, toDataType) {\r\n        switch (toDataType) {\r\n            case DataType.String:\r\n                return value;\r\n            case (DataType.Autoinc, DataType.Byte, DataType.Int32, DataType.Int64, DataType.Word):\r\n                var resInt = parseInt(value);\r\n                return isNaN(resInt) ? '' : resInt.toString();\r\n            case (DataType.Currency, DataType.Float):\r\n                var resFloat = parseFloat(value);\r\n                return isNaN(resFloat) ? '' : resFloat.toString();\r\n            default:\r\n                return '';\r\n        }\r\n    }\r\n    equtils.convertValue = convertValue;\r\n})(equtils || (equtils = {}));\r\n//# sourceMappingURL=utils.js.map","export var eqconsts;\r\n(function (eqconsts) {\r\n    /**\r\n     * Defines some commonly used constants\r\n     */\r\n    var ConstLists = /** @class */ (function () {\r\n        function ConstLists() {\r\n            /**\r\n             * Contains macros for the special dates (like Today, First day of the month, etc)\r\n             */\r\n            this.SpecDateValues = [\r\n                { id: '${Today}', key: 'Today', isDefault: true },\r\n                { id: '${Yesterday}', key: 'Yesterday' },\r\n                { id: '${Tomorrow}', key: 'Tomorrow' },\r\n                { id: '${FirstDayOfMonth}', key: 'FirstDayOfMonth' },\r\n                { id: '${FirstDayOfYear}', key: 'FirstDayOfYear' }\r\n            ];\r\n            /**\r\n             * Contains macros for the special times (like Now, Noon, etc)\r\n             */\r\n            this.SpecTimeValues = [\r\n                { id: '${Now}', key: 'Now', isDefault: true },\r\n                { id: '${HourStart}', key: 'HourStart' },\r\n                { id: '${Midnight}', key: 'Midnight' },\r\n                { id: '${Noon}', key: 'Noon' }\r\n            ];\r\n            /**\r\n             * Boolean values macros (true and false)\r\n             */\r\n            this.BooleanValues = [\r\n                { id: '${false}', key: 'False' },\r\n                { id: '${true}', key: 'True', isDefault: true }\r\n            ];\r\n        }\r\n        return ConstLists;\r\n    }());\r\n    /**\r\n     * Contains some constants (macros) with special date/time and boolean values.\r\n     */\r\n    eqconsts.constLists = new ConstLists();\r\n    /**\r\n     * Constants representing various types of relationships between conditions\r\n     */\r\n    eqconsts.predicateLinkTypeList = [\r\n        { id: 'All', key: 'LinkTypeAll' },\r\n        { id: 'Any', key: 'LinkTypeAny' },\r\n        { id: 'None', key: 'LinkTypeNone' },\r\n        { id: 'NotAll', key: 'LinkTypeNotAll' }\r\n    ];\r\n})(eqconsts || (eqconsts = {}));\r\n//# sourceMappingURL=constants.js.map","/**\r\n * Represents a parser for format expressions in operators\r\n */\r\nvar FormatParser = /** @class */ (function () {\r\n    function FormatParser(format) {\r\n        this.start(format);\r\n    }\r\n    /**\r\n     * Starts parsing of the format string passed in the parameter\r\n     * @param format\r\n     */\r\n    FormatParser.prototype.start = function (format) {\r\n        this.formatStr = format;\r\n        this.pos = 0;\r\n        this.exprNum = 0;\r\n        this.tokenText = '';\r\n    };\r\n    /**\r\n     * Skips all spcaes till the beginning of next token\r\n     */\r\n    FormatParser.prototype.skipSpaces = function () {\r\n        while (this.pos < this.formatStr.length && this.formatStr.charAt(this.pos) === ' ')\r\n            this.pos++;\r\n    };\r\n    /**\r\n     * Scans the source and gets the next token\r\n     */\r\n    FormatParser.prototype.next = function () {\r\n        this.skipSpaces();\r\n        if (this.pos >= this.formatStr.length)\r\n            return false;\r\n        var npos = 0;\r\n        if (this.formatStr.charAt(this.pos) === '{') {\r\n            npos = this.formatStr.indexOf('}', this.pos);\r\n            if (npos < 0)\r\n                return false;\r\n            this.tokenText = this.formatStr.substring(this.pos, npos + 1);\r\n            if (this.tokenText.indexOf('{expr') === 0) {\r\n                this.token = 'expression';\r\n                this.exprNum = parseInt(this.tokenText.substring(5, this.tokenText.length));\r\n            }\r\n            this.pos = npos + 1;\r\n        }\r\n        else if (this.formatStr.charAt(this.pos) === '[' && this.pos < this.formatStr.length - 1 && this.formatStr.charAt(this.pos + 1) === '[') {\r\n            this.pos += 2;\r\n            npos = this.formatStr.indexOf(']]', this.pos);\r\n            this.token = 'operator';\r\n            this.tokenText = this.formatStr.substring(this.pos, npos);\r\n            this.pos = npos + 2;\r\n        }\r\n        else {\r\n            this.token = 'text';\r\n            var npos1 = this.formatStr.indexOf('{', this.pos);\r\n            if (npos1 < 0)\r\n                npos1 = this.formatStr.length;\r\n            var npos2 = this.formatStr.indexOf('[[', this.pos);\r\n            if (npos2 < 0)\r\n                npos2 = this.formatStr.length;\r\n            npos = Math.min(npos1, npos2);\r\n            this.tokenText = this.formatStr.substring(this.pos, npos).trim();\r\n            this.pos = npos;\r\n        }\r\n        return true;\r\n    };\r\n    /**\r\n     * Returns current token\r\n     */\r\n    FormatParser.prototype.getToken = function () {\r\n        return {\r\n            type: this.token,\r\n            text: this.tokenText,\r\n            index: this.exprNum - 1\r\n        };\r\n    };\r\n    /**\r\n     * Parses all source string passed in constructor and returns the list of tokens\r\n     */\r\n    FormatParser.prototype.parse = function () {\r\n        var result = [];\r\n        while (this.next()) {\r\n            result.push(this.getToken());\r\n        }\r\n        return result;\r\n    };\r\n    return FormatParser;\r\n}());\r\nexport { FormatParser };\r\n//# sourceMappingURL=format_parser.js.map","/**\r\n * Represents an aggregate function\r\n */\r\nvar AggrFunction = /** @class */ (function () {\r\n    /** The default constructor. */\r\n    function AggrFunction() {\r\n        this.id = \"\";\r\n        this.caption = \"\";\r\n        this.sqlExpr = \"\";\r\n        this.displayFormat = \"\";\r\n        this.appliedTypes = [];\r\n    }\r\n    /**\r\n     * Loads an aggregate function from its JSON representation object\r\n     * @param aggrFunction The JSON representation object\r\n     */\r\n    AggrFunction.prototype.loadFromData = function (aggrFunction) {\r\n        if (aggrFunction) {\r\n            this.id = aggrFunction.id;\r\n            this.caption = aggrFunction.cptn;\r\n            this.displayFormat = aggrFunction.fmt;\r\n            this.sqlExpr = aggrFunction.expr;\r\n            this.appliedTypes = aggrFunction.dtypes || this.appliedTypes;\r\n        }\r\n    };\r\n    return AggrFunction;\r\n}());\r\nexport { AggrFunction };\r\n//# sourceMappingURL=aggr_function.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { ValueEditor } from '@easydata/core';\r\n/**\r\n * Represents a value editor.\r\n */\r\nvar EqValueEditor = /** @class */ (function (_super) {\r\n    __extends(EqValueEditor, _super);\r\n    /** The default constructor. */\r\n    function EqValueEditor() {\r\n        return _super.call(this) || this;\r\n    }\r\n    /**\r\n     * Loads value editor from its JSON representation object.\r\n     * @param data The JSON representation object.\r\n     */\r\n    EqValueEditor.prototype.loadFromData = function (data) {\r\n        _super.prototype.loadFromData.call(this, data);\r\n        if (data) {\r\n            if (data.sql) {\r\n                this.statement = data.sql;\r\n            }\r\n            if (data.extraParams) {\r\n                this.extraParams = data.extraParams;\r\n            }\r\n        }\r\n    };\r\n    return EqValueEditor;\r\n}(ValueEditor));\r\nexport { EqValueEditor };\r\n//# sourceMappingURL=value_editor.js.map","/** Represents expression kinds.*/\r\nexport var DataKind;\r\n(function (DataKind) {\r\n    /** Represents one value of some type: one constant or one attribute (field).*/\r\n    DataKind[DataKind[\"Scalar\"] = 0] = \"Scalar\";\r\n    /** The same as Scalar but represents only one constant value of some type.*/\r\n    DataKind[DataKind[\"Const\"] = 1] = \"Const\";\r\n    /** The same as Scalar but represents only one attribute.*/\r\n    DataKind[DataKind[\"Attribute\"] = 2] = \"Attribute\";\r\n    /** Represents a list of scalar values. */\r\n    DataKind[DataKind[\"List\"] = 4] = \"List\";\r\n    /** Special expression kind which represents a sub query.*/\r\n    DataKind[DataKind[\"Query\"] = 5] = \"Query\";\r\n    /** Special expression kind which represents a binding to parent column.*/\r\n    DataKind[DataKind[\"ParentColumn\"] = 6] = \"ParentColumn\";\r\n})(DataKind || (DataKind = {}));\r\n//# sourceMappingURL=data_kind.js.map","import { DataType, utils as dataUtils } from '@easydata/core';\r\nimport { EqValueEditor } from './value_editor';\r\nimport { DataKind } from '../types/data_kind';\r\n/**\r\n * Represents a logical expression or predicate, like comparisions or `LIKE` predicate.\r\n */\r\nvar Operator = /** @class */ (function () {\r\n    /** The default constructor. */\r\n    function Operator() {\r\n        this.id = \"\";\r\n        this.expr = \"\";\r\n        this.constValueFormat = \"{const}\";\r\n        this.caption = \"{Unrecognized operator}\";\r\n        this.displayFormat = \"{expr1} [[{unrecognized operator}]] {expr2}\";\r\n        this.isRange = false;\r\n        this.caseIns = false;\r\n        this.paramCount = 2;\r\n        this.defaultOperand = new Operand();\r\n        this.appliedTypes = [];\r\n        this.operands = new Array();\r\n    }\r\n    /**\r\n    * Loads operator from its JSON representation object.\r\n    * @param model The Data Model.\r\n    * @param data The JSON representation object.\r\n    */\r\n    Operator.prototype.loadFromData = function (model, data) {\r\n        if (data) {\r\n            this.id = data.id;\r\n            this.caption = data.cptn;\r\n            this.caseIns = data.caseIns;\r\n            this.isRange = data.isRange;\r\n            this.displayFormat = data.fmt;\r\n            this.paramCount = data.pcnt;\r\n            this.expr = data.expr;\r\n            this.appliedTypes = data.dtypes || this.appliedTypes;\r\n            if (data.defOperand) {\r\n                this.defaultOperand.loadFromData(model, data.defOperand);\r\n            }\r\n            if (data.editor) {\r\n                this.defaultOperand.editor = model.getEditorById(data.editor) || new EqValueEditor();\r\n            }\r\n            if (data.operands) {\r\n                for (var i = 0; i < data.operands.length; i++) {\r\n                    var newOperand = new Operand();\r\n                    newOperand.loadFromData(model, data.operands[i]);\r\n                    if (data.editor) {\r\n                        newOperand.editor = model.getEditorById(data.editor) || new EqValueEditor();\r\n                    }\r\n                    this.operands.push(newOperand);\r\n                }\r\n            }\r\n        }\r\n    };\r\n    return Operator;\r\n}());\r\nexport { Operator };\r\n/**\r\n * Represents one operand in some operator's expression\r\n */\r\nvar Operand = /** @class */ (function () {\r\n    /** The default constructor. */\r\n    function Operand() {\r\n        this.kind = DataKind.Scalar;\r\n        this.dataType = DataType.Unknown;\r\n        this.editor = new EqValueEditor();\r\n        this.defValue = \"\";\r\n    }\r\n    /**\r\n     * Loads operand from its JSON representation object.\r\n     * @param model The Data Model.\r\n     * @param data The JSON representation object.\r\n     */\r\n    Operand.prototype.loadFromData = function (model, operand) {\r\n        this.kind = operand.kind;\r\n        this.dataType = operand.dtype;\r\n        this.defValue = operand.val;\r\n        this.defText = operand.txt;\r\n        ;\r\n        if (operand.editor) {\r\n            this.editor = model.getEditorById(operand.editor) || new EqValueEditor();\r\n        }\r\n    };\r\n    /**\r\n     * Copies operand from other operand.\r\n     * @param scr The operand.\r\n     */\r\n    Operand.prototype.copyFrom = function (src) {\r\n        dataUtils.assign(this, src);\r\n    };\r\n    return Operand;\r\n}());\r\nexport { Operand };\r\n//# sourceMappingURL=operator.js.map","/** Contains several constant definitions for expressions tag */\r\nexport var ExprTag;\r\n(function (ExprTag) {\r\n    /** Unknown expression */\r\n    ExprTag[ExprTag[\"Unknown\"] = 0] = \"Unknown\";\r\n    /** Constant expression */\r\n    ExprTag[ExprTag[\"Constant\"] = 1] = \"Constant\";\r\n    /** Entity attributre expression */\r\n    ExprTag[ExprTag[\"EntityAttribute\"] = 2] = \"EntityAttribute\";\r\n    /** Parent entity attribute expression */\r\n    ExprTag[ExprTag[\"ParentEntityAttribute\"] = 3] = \"ParentEntityAttribute\";\r\n    /** Agrregate function expression */\r\n    ExprTag[ExprTag[\"AggregateFunction\"] = 4] = \"AggregateFunction\";\r\n    /** Parent column expression */\r\n    ExprTag[ExprTag[\"ParentColumn\"] = 5] = \"ParentColumn\";\r\n    /** Query expression */\r\n    ExprTag[ExprTag[\"Query\"] = 11] = \"Query\";\r\n    /** Custom sql expression */\r\n    ExprTag[ExprTag[\"CustomSql\"] = 21] = \"CustomSql\";\r\n})(ExprTag || (ExprTag = {}));\r\n//# sourceMappingURL=expr_tag.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { MetaEntity, MetaEntityAttr } from '@easydata/core';\r\n/**\r\n * Represents one entity.\r\n */\r\nvar Entity = /** @class */ (function (_super) {\r\n    __extends(Entity, _super);\r\n    /** The default constructor. */\r\n    function Entity(parent) {\r\n        var _this = _super.call(this, parent) || this;\r\n        _this.useInConditions = false;\r\n        _this.useInResult = false;\r\n        _this.useInSorting = false;\r\n        return _this;\r\n    }\r\n    /**\r\n    * Loads entity from its JSON representation object.\r\n    * @param model The Data Model.\r\n    * @param data The JSON representation object.\r\n    */\r\n    Entity.prototype.loadFromData = function (model, data) {\r\n        _super.prototype.loadFromData.call(this, model, data);\r\n        if (data) {\r\n            this.useInConditions = data.uic;\r\n            this.useInResult = data.uir;\r\n            this.useInSorting = data.uis;\r\n        }\r\n    };\r\n    Entity.prototype.scan = function (processAttribute, processEntity) {\r\n        _super.prototype.scan.call(this, function (attr, opts) { return processAttribute && processAttribute(attr, opts); }, function (entity, opts) { return processEntity && processEntity(entity, opts); });\r\n    };\r\n    return Entity;\r\n}(MetaEntity));\r\nexport { Entity };\r\n/**\r\n * Represents entity attribute.\r\n */\r\nvar EntityAttr = /** @class */ (function (_super) {\r\n    __extends(EntityAttr, _super);\r\n    /** The default constructor. */\r\n    function EntityAttr(entity) {\r\n        var _this = _super.call(this, entity) || this;\r\n        /**\r\n         * The parameters associated with this entity attribute\r\n         */\r\n        _this.params = [];\r\n        _this.useInConditions = true;\r\n        _this.useInResult = true;\r\n        _this.useInSorting = true;\r\n        _this.defaultOperator = \"\";\r\n        _this.operators = new Array();\r\n        _this.lookupAttr = \"\";\r\n        _this.expr = \"\";\r\n        return _this;\r\n    }\r\n    /**\r\n     * Loads entity attribute from JSON representation object.\r\n     * @param model The Data Model.\r\n     * @param data The JSON representation object.\r\n     */\r\n    EntityAttr.prototype.loadFromData = function (model, data) {\r\n        _super.prototype.loadFromData.call(this, model, data);\r\n        if (data) {\r\n            this.useInConditions = data.uic;\r\n            this.useInResult = data.uir;\r\n            this.useInSorting = data.uis;\r\n            this.expr = data.sql;\r\n            this.defaultOperator = data.defOperator;\r\n            this.operators = data.ops;\r\n            if (data.udata)\r\n                this.userData = data.udata;\r\n        }\r\n    };\r\n    return EntityAttr;\r\n}(MetaEntityAttr));\r\nexport { EntityAttr };\r\n//# sourceMappingURL=entity.js.map","var __assign = (this && this.__assign) || function () {\r\n    __assign = Object.assign || function(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n                t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\nimport { EditorTag } from \"@easydata/core\";\r\n/** Represents editor tags*/\r\nexport var EqEditorTag = __assign({}, EditorTag, { \r\n    /** SqlList tag value */\r\n    SqlList: \"SQLLIST\", \r\n    /** SubQuery tag value */\r\n    SubQuery: \"SUBQUERY\", \r\n    /** Bind to parent column tag value */\r\n    BindToParentColumn: \"BINDTOPARENTCOLUMN\" });\r\n//# sourceMappingURL=eq_editor_tag.js.map","var Tree = /** @class */ (function () {\r\n    function Tree(value) {\r\n        if (value === void 0) { value = null; }\r\n        this.childs = [];\r\n        this.value = null;\r\n        this.parent = null;\r\n        if (value) {\r\n            if (Array.isArray(value)) {\r\n                this.value = value[0];\r\n                if (value.length > 1) {\r\n                    this.addChild(new Tree(value.slice(1)));\r\n                }\r\n            }\r\n            else if (value instanceof Tree) {\r\n                this.value = value.value;\r\n                this.childs = value.childs;\r\n            }\r\n            else {\r\n                this.value = value;\r\n            }\r\n        }\r\n    }\r\n    Tree.prototype.contains = function (value) {\r\n        if (this.value === value)\r\n            return true;\r\n        for (var _i = 0, _a = this.childs; _i < _a.length; _i++) {\r\n            var child = _a[_i];\r\n            if (child.contains(value))\r\n                return true;\r\n        }\r\n        return false;\r\n    };\r\n    Tree.prototype.findNode = function (value) {\r\n        if (this.value === value)\r\n            return this;\r\n        for (var _i = 0, _a = this.childs; _i < _a.length; _i++) {\r\n            var child = _a[_i];\r\n            var result = child.findNode(value);\r\n            if (result)\r\n                return result;\r\n        }\r\n        return null;\r\n    };\r\n    Tree.prototype.addChild = function (child) {\r\n        child.parent = this;\r\n        this.childs.push(child);\r\n    };\r\n    Tree.prototype.setParents = function () {\r\n        for (var _i = 0, _a = this.childs; _i < _a.length; _i++) {\r\n            var child = _a[_i];\r\n            child.parent = this;\r\n            child.setParents();\r\n        }\r\n    };\r\n    return Tree;\r\n}());\r\nexport { Tree };\r\n//# sourceMappingURL=tree.js.map","export var QueryChangePart;\r\n(function (QueryChangePart) {\r\n    QueryChangePart[QueryChangePart[\"Conditions\"] = 1] = \"Conditions\";\r\n    QueryChangePart[QueryChangePart[\"Columns\"] = 2] = \"Columns\";\r\n    QueryChangePart[QueryChangePart[\"SortingColumns\"] = 4] = \"SortingColumns\";\r\n    QueryChangePart[QueryChangePart[\"Properties\"] = 32] = \"Properties\";\r\n    QueryChangePart[QueryChangePart[\"ExtraData\"] = 64] = \"ExtraData\";\r\n    QueryChangePart[QueryChangePart[\"All\"] = 127] = \"All\";\r\n})(QueryChangePart || (QueryChangePart = {}));\r\nexport var QueryChangeAction;\r\n(function (QueryChangeAction) {\r\n    QueryChangeAction[QueryChangeAction[\"Add\"] = 1] = \"Add\";\r\n    QueryChangeAction[QueryChangeAction[\"Modify\"] = 2] = \"Modify\";\r\n    QueryChangeAction[QueryChangeAction[\"Delete\"] = 4] = \"Delete\";\r\n    QueryChangeAction[QueryChangeAction[\"All\"] = 127] = \"All\";\r\n})(QueryChangeAction || (QueryChangeAction = {}));\r\n//# sourceMappingURL=query_events.js.map","import { utils as dataUtils } from '@easydata/core';\r\nimport { Expression } from './expression';\r\nimport { QueryChangePart, QueryChangeAction } from './query_events';\r\n/** Represents sorting direction. */\r\nexport var SortDirection;\r\n(function (SortDirection) {\r\n    /** No sorting. */\r\n    SortDirection[SortDirection[\"None\"] = 0] = \"None\";\r\n    /** Ascending order. */\r\n    SortDirection[SortDirection[\"Ascending\"] = 1] = \"Ascending\";\r\n    /** Descending order. */\r\n    SortDirection[SortDirection[\"Descending\"] = 2] = \"Descending\";\r\n})(SortDirection || (SortDirection = {}));\r\n/**\r\n * Represents some column which will be queried\r\n */\r\nvar Column = /** @class */ (function () {\r\n    /** the default constructor. */\r\n    function Column(query, justsorted) {\r\n        if (justsorted === void 0) { justsorted = false; }\r\n        this.query = query;\r\n        this.justsorted = justsorted;\r\n        /** Column is enabled */\r\n        this.enabled = true;\r\n        /** The parameters associated with this column */\r\n        this.params = [];\r\n        this._isHidden = false;\r\n        this._id = dataUtils.generateId('col');\r\n        this.caption = '';\r\n        this.sorting = SortDirection.None;\r\n        this.sortIndex = -1;\r\n        this.expr = new Expression(this);\r\n        this.blockId = '';\r\n    }\r\n    Object.defineProperty(Column.prototype, \"id\", {\r\n        get: function () {\r\n            return this._id;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Column.prototype.getModel = function () {\r\n        return this.query.getModel();\r\n    };\r\n    Column.prototype.getQuery = function () {\r\n        return this.query;\r\n    };\r\n    /** Indicates whether this column is read-only */\r\n    Column.prototype.isReadOnly = function () {\r\n        return false;\r\n    };\r\n    /** Indicates whether this column is just-sorted */\r\n    Column.prototype.isJustSorted = function () {\r\n        return this.justsorted;\r\n    };\r\n    Column.prototype.setReadOnly = function (value) {\r\n        //do nothing. Read-only columns are not supported here\r\n    };\r\n    /** Indicates whether this column is invisible */\r\n    Column.prototype.isHidden = function () {\r\n        return this._isHidden;\r\n    };\r\n    Column.prototype.setHidden = function (value) {\r\n        this._isHidden = value;\r\n    };\r\n    /**\r\n      * Loads column from its JSON representation object.\r\n      * @param model The Data Model.\r\n      * @param colData The JSON representation object.\r\n      */\r\n    Column.prototype.loadFromData = function (model, colData) {\r\n        if (colData) {\r\n            if (colData.id) {\r\n                this._id = colData.id;\r\n            }\r\n            this.caption = colData.cptn;\r\n            if (typeof colData.srt !== 'undefined') {\r\n                this.sorting = colData.srt;\r\n                this.sortIndex = colData.srtidx;\r\n            }\r\n            if (colData.enabled === false) {\r\n                this.enabled = colData.enabled;\r\n            }\r\n            this.expr.loadFromData(model, colData.expr);\r\n            this.blockId = colData.blockId;\r\n            if (colData.hidden) {\r\n                this.setHidden(true);\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * Saves the column to a data transfer object (ready for sending to the server-side) .\r\n     * @returns An plain object that represents the column.\r\n     */\r\n    Column.prototype.saveToData = function () {\r\n        var obj = {};\r\n        obj.id = this._id;\r\n        if (this.caption) {\r\n            obj.cptn = this.caption;\r\n        }\r\n        if (typeof this.sorting !== 'undefined') {\r\n            obj.srt = this.sorting;\r\n            obj.srtidx = this.sortIndex;\r\n        }\r\n        obj.expr = this.expr.saveToData();\r\n        if (this.blockId) {\r\n            obj.blockId = this.blockId;\r\n        }\r\n        if (this.enabled === false) {\r\n            obj.enabled = this.enabled;\r\n        }\r\n        if (this.isHidden()) {\r\n            obj.hidden = true;\r\n        }\r\n        return obj;\r\n    };\r\n    Column.prototype.fireChangedEvent = function () {\r\n        this.query.fireChangedEvent({\r\n            part: (this.justsorted)\r\n                ? QueryChangePart.SortingColumns\r\n                : QueryChangePart.Columns,\r\n            action: QueryChangeAction.Modify,\r\n            changee: this\r\n        });\r\n    };\r\n    Column.prototype.getExpressionIndex = function (expr) {\r\n        return 0;\r\n    };\r\n    Column.prototype.expressionChanged = function (expr, oldValue) {\r\n    };\r\n    return Column;\r\n}());\r\nexport { Column };\r\n//# sourceMappingURL=column.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { DataType, MetaData, utils as dataUtils } from '@easydata/core';\r\nimport { i18n } from '@easydata/core';\r\nimport { AggrFunction } from './aggr_function';\r\nimport { Operator, Operand } from './operator';\r\nimport { Entity, EntityAttr } from './entity';\r\nimport { DataKind } from '../types/data_kind';\r\nimport { EqEditorTag } from '../types/eq_editor_tag';\r\nimport { Query } from '../query/query';\r\nimport { ExprTag } from '../types/expr_tag';\r\nimport { Tree } from '../common/tree';\r\n/**\r\n * Represents a data model\r\n */\r\nvar DataModel = /** @class */ (function (_super) {\r\n    __extends(DataModel, _super);\r\n    /** The default constructor. */\r\n    function DataModel() {\r\n        var _this = _super.call(this) || this;\r\n        _this.mainEntity = null;\r\n        _this.operators = new Array();\r\n        _this.rootEntity = new Entity();\r\n        _this.aggrFunctions = new Array();\r\n        _this.dateMacros = ['${{Today}}', '${{Yesterday}}',\r\n            '${{Tomorrow}}', '${{FirstDayOfMonth}}', '${{LastDayOfMonth}}',\r\n            '${{FirstDayOfWeek}}', '${{FirstDayOfYear}}', '${{FirstDayOfNextWeek}}', '${{FirstDayOfPrevMonth}}',\r\n            '${{FirstDayOfNextMonth}}', '${{FirstDayOfNextYear}}', '${{FirstDayOfPrevYear}}', '${{FirstDayOfPrevWeek}}'];\r\n        _this.timeMacros = ['${{Now}}', '${{HourStart}}', '${{Midnight}}', '${{Noon}}'];\r\n        _this.links = [];\r\n        return _this;\r\n    }\r\n    /**\r\n     * Gets the main entity of model\r\n     * @return The main entity.\r\n     */\r\n    DataModel.prototype.getMainEntity = function () {\r\n        return this.mainEntity;\r\n    };\r\n    /**\r\n     * Loads data model from JSON.\r\n     * @param stringJson The JSON string.\r\n     */\r\n    DataModel.prototype.loadFromJSON = function (stringJson) {\r\n        var model = JSON.parse(stringJson);\r\n        this.loadFromData(model);\r\n    };\r\n    /**\r\n     * Loads data model from its JSON representation object.\r\n     * @param data The JSON representation object.\r\n     */\r\n    DataModel.prototype.loadFromData = function (data) {\r\n        _super.prototype.loadFromData.call(this, data);\r\n        //Operators\r\n        this.operators = new Array();\r\n        if (data.operators) {\r\n            for (var i = 0; i < data.operators.length; i++) {\r\n                var newOperator = new Operator();\r\n                newOperator.loadFromData(this, data.operators[i]);\r\n                this.operators.push(newOperator);\r\n            }\r\n        }\r\n        //rootEntity\r\n        this.rootEntity.loadFromData(this, data.entroot);\r\n        //Aggr Functions\r\n        this.aggrFunctions = new Array();\r\n        if (data.aggrfuncs) {\r\n            for (var i = 0; i < data.aggrfuncs.length; i++) {\r\n                var newAggrFunc = new AggrFunction();\r\n                newAggrFunc.loadFromData(data.aggrfuncs[i]);\r\n                this.aggrFunctions.push(newAggrFunc);\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * Gets the data model object.\r\n     * @returns Tha data model.\r\n     */\r\n    DataModel.prototype.getObject = function () {\r\n        return this;\r\n    };\r\n    /**\r\n     * Sets data to data model.\r\n     * @param model Its JSON representation object or JSON string.\r\n     */\r\n    DataModel.prototype.setData = function (model) {\r\n        if (typeof model === 'string') {\r\n            this.loadFromJSON(model);\r\n        }\r\n        else {\r\n            this.loadFromData(model);\r\n        }\r\n    };\r\n    /**\r\n     * Creates entity.\r\n     * @param parent The parent entity.\r\n     * @returns The Entity.\r\n     */\r\n    DataModel.prototype.createEntity = function (parent) {\r\n        return new Entity(parent);\r\n    };\r\n    /**\r\n     * Creates entity attribute.\r\n     * @param parent The parent entity.\r\n     * @returns The entity attribute.\r\n     */\r\n    DataModel.prototype.createEntityAttr = function (parent) {\r\n        return new EntityAttr(parent);\r\n    };\r\n    /**\r\n     * Creates query.\r\n     * @returns The Query.\r\n     */\r\n    DataModel.prototype.createQuery = function () {\r\n        return new Query(this);\r\n    };\r\n    /**\r\n     * Gets root entity of the data model.\r\n     * @returns The root entity.\r\n     */\r\n    DataModel.prototype.getRootEntity = function () {\r\n        return this.rootEntity;\r\n    };\r\n    /**\r\n     * Finds editor by its ID.\r\n     * @param editorId The editor ID.\r\n     * @returns The value editor or `null`.\r\n     */\r\n    DataModel.prototype.getEditorById = function (editorId) {\r\n        return _super.prototype.getEditorById.call(this, editorId);\r\n    };\r\n    /**\r\n     * Gets entity attribute by its ID.\r\n     * This function runs through all attributes inside specified model (it's root entity and all its sub-entities).\r\n     * @param attrId The attribute ID.\r\n     * @returns The attribute or `null`.\r\n     */\r\n    DataModel.prototype.getAttributeById = function (attrId) {\r\n        var attr = this.getEntityAttrById(this.getRootEntity(), attrId);\r\n        if (!attr) {\r\n            return null;\r\n        }\r\n        return attr;\r\n    };\r\n    /**\r\n     * Checks wether attribute contains such property.\r\n     * @param attrId The attribute ID.\r\n     * @param propName The property name.\r\n     * @returns `true` if the attribute contains the property, otherwise `false`.\r\n     */\r\n    DataModel.prototype.checkAttrProperty = function (attrId, propName) {\r\n        var attribute = this.getAttributeById(attrId);\r\n        if (attribute) {\r\n            if (typeof attribute[propName] === 'undefined') {\r\n                throw 'No such property: ' + propName;\r\n            }\r\n            if (attribute[propName]) {\r\n                return true;\r\n            }\r\n            else if (attribute.lookupAttr) {\r\n                attrId = attribute.lookupAttr;\r\n                attribute = this.getAttributeById(attrId);\r\n                return attribute && attribute[propName];\r\n            }\r\n            else {\r\n                return false;\r\n            }\r\n        }\r\n        else\r\n            return false;\r\n    };\r\n    /**\r\n     * Gets entity attribute by its ID.\r\n     * This function runs through all attributes inside specified entity and all its sub-entities.\r\n     * @param entity\r\n     * @param attrId\r\n     * @returns The attribute or `null`.\r\n     */\r\n    DataModel.prototype.getEntityAttrById = function (entity, attrId) {\r\n        return _super.prototype.getEntityAttrById.call(this, entity, attrId);\r\n    };\r\n    DataModel.prototype._listByEntityWithFilter = function (entity, filterFunc) {\r\n        var result = new Array();\r\n        var caption;\r\n        var ent = null;\r\n        if (entity.subEntities) {\r\n            var subEntityCount = entity.subEntities.length;\r\n            for (var entIdx = 0; entIdx < subEntityCount; entIdx++) {\r\n                ent = entity.subEntities[entIdx];\r\n                if (!filterFunc || filterFunc(ent, null)) {\r\n                    caption = i18n.getText('Entities', ent.name);\r\n                    if (!caption) {\r\n                        caption = ent.caption;\r\n                    }\r\n                    var newEnt = dataUtils.assign(new Entity(), { id: ent.name, text: caption, items: [], isEntity: true });\r\n                    newEnt.items = this._listByEntityWithFilter(ent, filterFunc);\r\n                    if (newEnt.items.length > 0)\r\n                        result.push(newEnt);\r\n                }\r\n            }\r\n        }\r\n        var attr = null;\r\n        if (entity.attributes) {\r\n            var attrCount = entity.attributes.length;\r\n            for (var attrIdx = 0; attrIdx < attrCount; attrIdx++) {\r\n                attr = entity.attributes[attrIdx];\r\n                if (!filterFunc || filterFunc(entity, attr)) {\r\n                    caption = i18n.getText('Attributes', attr.id);\r\n                    if (!caption)\r\n                        caption = attr.caption;\r\n                    var newEnt = dataUtils.assign(new Entity(), { id: attr.id, text: caption, dataType: attr.dataType });\r\n                    result.push(newEnt);\r\n                }\r\n            }\r\n        }\r\n        return result;\r\n    };\r\n    DataModel.prototype._listByEntity = function (entity, opts, filterFunc) {\r\n        opts = opts || {};\r\n        var resultEntities = [];\r\n        var resultAttributes = [];\r\n        var caption;\r\n        var ent = null;\r\n        if (entity.subEntities) {\r\n            var subEntityCount = entity.subEntities.length;\r\n            for (var entIdx = 0; entIdx < subEntityCount; entIdx++) {\r\n                ent = entity.subEntities[entIdx];\r\n                if (!filterFunc || filterFunc(ent, null)) {\r\n                    if (opts.addUIC !== false && ent.useInConditions !== false ||\r\n                        opts.addUIR !== false && ent.useInResult !== false ||\r\n                        opts.addUIS !== false && ent.useInSorting !== false) {\r\n                        caption = i18n.getText('Entities', ent.name) || ent.caption;\r\n                        var newEnt = dataUtils.assign(new Entity(), {\r\n                            id: ent.name,\r\n                            text: caption,\r\n                            items: [],\r\n                            isEntity: true,\r\n                            description: ent.description\r\n                        });\r\n                        var newOpts = dataUtils.assign({}, opts);\r\n                        newOpts.includeRootData = false;\r\n                        newEnt.items = this._listByEntity(ent, newOpts, filterFunc);\r\n                        if (newEnt.items.length > 0) {\r\n                            resultEntities.push(newEnt);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        var attr = null;\r\n        if (entity.attributes) {\r\n            var attrCount = entity.attributes.length;\r\n            for (var attrIdx = 0; attrIdx < attrCount; attrIdx++) {\r\n                attr = entity.attributes[attrIdx];\r\n                if (!filterFunc || filterFunc(entity, attr)) {\r\n                    if (opts.addUIC !== false && attr.useInConditions !== false ||\r\n                        opts.addUIR !== false && attr.useInResult !== false ||\r\n                        opts.addUIS !== false && attr.useInSorting !== false) {\r\n                        caption = i18n.getText('Attributes', attr.id) || attr.caption;\r\n                        resultAttributes.push(dataUtils.assign(new EntityAttr(entity), { id: attr.id, text: caption, dataType: attr.dataType, lookupAttr: attr.lookupAttr, description: attr.description }));\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        var sortCheck = function (a, b) {\r\n            if (a.text.toLowerCase() == b.text.toLowerCase()) {\r\n                return 0;\r\n            }\r\n            if (a.text.toLowerCase() > b.text.toLowerCase()) {\r\n                return 1;\r\n            }\r\n            return -1;\r\n        };\r\n        if (opts.sortEntities) {\r\n            resultEntities.sort(sortCheck);\r\n            resultAttributes.sort(sortCheck);\r\n        }\r\n        var result;\r\n        if (!opts.attrPlacement || opts.attrPlacement == 0) {\r\n            result = resultEntities.concat(resultAttributes);\r\n        }\r\n        else {\r\n            result = resultAttributes.concat(resultEntities);\r\n        }\r\n        if (opts.attrPlacement == 2) {\r\n            result.sort(sortCheck);\r\n        }\r\n        if (opts.includeRootData) {\r\n            caption = i18n.getText('Entities', entity.name);\r\n            if (!caption)\r\n                caption = entity.caption;\r\n            return { id: entity.name, text: caption, items: result };\r\n        }\r\n        else {\r\n            return result;\r\n        }\r\n    };\r\n    /**\r\n     * Clears data model.\r\n     */\r\n    DataModel.prototype.clear = function () {\r\n        _super.prototype.clear.call(this);\r\n        this.operators = [];\r\n        this.aggrFunctions = [];\r\n    };\r\n    /**\r\n     * Add or update an operator.\r\n     * @param desc The operator descriptor.\r\n     * @returns The operator.\r\n     */\r\n    DataModel.prototype.addOrUpdateOperator = function (desc) {\r\n        var op = dataUtils.findItemById(this.operators, desc.id);\r\n        if (!op) {\r\n            op = new Operator();\r\n            op.id = desc.id;\r\n            this.operators.push(op);\r\n        }\r\n        op.caption = desc.caption;\r\n        op.expr = desc.expr || '';\r\n        op.displayFormat = desc.format;\r\n        op.defaultOperand = new Operand();\r\n        op.defaultOperand.kind = desc.kind || DataKind.Scalar;\r\n        if (desc.appliedTypes)\r\n            op.appliedTypes = desc.appliedTypes;\r\n        if (desc.paramCount > 0) {\r\n            op.paramCount = desc.paramCount;\r\n        }\r\n        this.runThroughEntities(function (attr, opts) {\r\n            if (attr.operators.indexOf(op.id) < 0 && op.appliedTypes.indexOf(attr.dataType) >= 0) {\r\n                attr.operators.push(op.id);\r\n            }\r\n        });\r\n        return op;\r\n    };\r\n    /**\r\n     * Removes an operator.\r\n     * @param id The id.\r\n     * @param soft If `false` - removes operators from model and attributes. Otherwise only\r\n     * from attributes.\r\n     */\r\n    DataModel.prototype.removeOperator = function (id, soft) {\r\n        if (soft === void 0) { soft = false; }\r\n        var op = dataUtils.findItemById(this.operators, id);\r\n        if (op) {\r\n            if (!soft)\r\n                dataUtils.removeArrayItem(this.operators, op);\r\n            this.runThroughEntities(function (attr, opts) {\r\n                dataUtils.removeArrayItem(attr.operators, op.id);\r\n            });\r\n        }\r\n    };\r\n    /**\r\n     * Get operators for data type.\r\n     * @param type The data type\r\n     * @return The array of operator ids.\r\n     */\r\n    DataModel.prototype.getOperatorIdsByDataType = function (type) {\r\n        switch (type) {\r\n            case DataType.String:\r\n            case DataType.Memo:\r\n                return 'StartsWith,EndsWith,Contains,Equal,InList,NotStartsWith,NotEndsWith,NotContains,NotEqual,NotInList,IsNull,IsNotNull'.split(',');\r\n            case DataType.Guid:\r\n                return 'Equal,NotEqual'.split(',');\r\n            case DataType.Date:\r\n            case DataType.DateTime:\r\n                return 'DateWithinToday,DateWithinThisWeek,DateWithinPrevWeek,DateWithinThisMonth,DateWithinPrevMonth,DateWithinThisYear,DateWithinPrevYear,DateBeforePrecise,DateAfterPrecise,DatePeriodPrecise,IsNull,IsNotNull'.split(',');\r\n            case DataType.Time:\r\n                return 'TimeBeforePrecise,TimeAfterPrecise,TimePeriodPrecise,IsNull,IsNotNull'.split(',');\r\n            case DataType.Byte:\r\n            case DataType.Word:\r\n            case DataType.Int32:\r\n            case DataType.Int64:\r\n            case DataType.Float:\r\n            case DataType.Currency:\r\n            case DataType.BCD:\r\n            case DataType.Autoinc:\r\n            case DataType.Unknown:\r\n                return 'Equal,Between,LessThan,LessOrEqual,GreaterThan,GreaterOrEqual,InList,NotEqual,NotBetween,NotInList,IsNull,IsNotNull'.split(',');\r\n            case DataType.Bool:\r\n                return 'IsTrue,NotTrue'.split(',');\r\n            default:\r\n                var result = [];\r\n                for (var _i = 0, _a = this.operators; _i < _a.length; _i++) {\r\n                    var op = _a[_i];\r\n                    if (op.appliedTypes.indexOf(type) >= 0)\r\n                        result.push(op.id);\r\n                }\r\n                return result;\r\n        }\r\n    };\r\n    /**\r\n     * Builds entities tree used in query.\r\n     * @param query The query.\r\n     */\r\n    DataModel.prototype.buildQueryPath = function (query) {\r\n        var entity = this.mainEntity || this.rootEntity;\r\n        var tree = this.createTreeNodeFromEntity(entity);\r\n        tree.setParents();\r\n        return tree;\r\n    };\r\n    DataModel.prototype.createTreeNodeFromEntity = function (entity) {\r\n        var tree = new Tree(entity);\r\n        for (var _i = 0, _a = entity.subEntities; _i < _a.length; _i++) {\r\n            var subEnentity = _a[_i];\r\n            tree.addChild(this.createTreeNodeFromEntity(subEnentity));\r\n        }\r\n        return tree;\r\n    };\r\n    /**\r\n     * Get Entities used in query.\r\n     * @param query The query.\r\n     */\r\n    DataModel.prototype.getEntitiesInQuery = function (query) {\r\n        if (query.model.id !== this.id)\r\n            throw Error('Model mithmatch');\r\n        var entities = [];\r\n        var columns = query.getColumns();\r\n        for (var _i = 0, columns_1 = columns; _i < columns_1.length; _i++) {\r\n            var column = columns_1[_i];\r\n            if (!column.enabled)\r\n                continue;\r\n            this.addEntityByExpression(entities, column.expr);\r\n        }\r\n        var rootCond = query.getRootCondition();\r\n        this.fillEntitiesByCondtionGroup(entities, rootCond);\r\n        return entities;\r\n    };\r\n    DataModel.prototype.fillEntitiesByCondtionGroup = function (entities, root) {\r\n        for (var _i = 0, _a = root.getConditions(); _i < _a.length; _i++) {\r\n            var condition = _a[_i];\r\n            if (!condition.isGroup()) {\r\n                for (var _b = 0, _c = condition.expressions; _b < _c.length; _b++) {\r\n                    var expr = _c[_b];\r\n                    this.addEntityByExpression(entities, expr);\r\n                    if (expr.args) {\r\n                        for (var _d = 0, _e = expr.args; _d < _e.length; _d++) {\r\n                            var arg = _e[_d];\r\n                            this.addEntityByExpression(entities, arg);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            else {\r\n                this.fillEntitiesByCondtionGroup(entities, condition);\r\n            }\r\n        }\r\n    };\r\n    DataModel.prototype.addEntityByExpression = function (entities, expr) {\r\n        if (expr.tag !== ExprTag.EntityAttribute)\r\n            return;\r\n        var attrId = expr.baseAttrId || expr.value;\r\n        if (attrId) {\r\n            var attr = this.getAttributeById(attrId);\r\n            if (attr) {\r\n                if (attr.entity && dataUtils.indexOfArrayItem(entities, attr.entity) < 0) {\r\n                    entities.push(attr.entity);\r\n                }\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * Finds link between two entities.\r\n     * @param entityFrom The entity `from`.\r\n     * @param entityTo The entity `to`.\r\n     * @return The link.\r\n     */\r\n    DataModel.prototype.findLink = function (entityFrom, entityTo) {\r\n        for (var _i = 0, _a = this.links; _i < _a.length; _i++) {\r\n            var link = _a[_i];\r\n            if (link.entityFrom == entityFrom\r\n                && link.entityTo == entityTo)\r\n                return link;\r\n        }\r\n        return null;\r\n    };\r\n    /**\r\n     * Get links with the entity.\r\n     * @param entity The entity.\r\n     * @return The link.\r\n     */\r\n    DataModel.prototype.getLinksByEntity = function (entity) {\r\n        var result = [];\r\n        for (var _i = 0, _a = this.links; _i < _a.length; _i++) {\r\n            var link = _a[_i];\r\n            if (link.entityFrom == entity || link.entityTo == entity) {\r\n                result.push(link);\r\n            }\r\n        }\r\n        return result;\r\n    };\r\n    /**\r\n     * Gets entities tree.\r\n     * @param opts The options.\r\n     * @param filterFunc The filter function.\r\n     * Takes two parameters, Entity and EntityAttr (second parameter will be null for entities), and returns boolean (true if the corresponding entity or attribute).\r\n     * @returns The tree of the entities and their attributes according to options and the filter function\r\n     */\r\n    DataModel.prototype.getEntitiesTree = function (opts, filterFunc) {\r\n        return this._listByEntity(this.getRootEntity(), opts, filterFunc);\r\n    };\r\n    /**\r\n     * Gets entities tree due to filter.\r\n     * @param filterFunc The filter function.\r\n     * Takes two parameters, Entity and EntityAttr (second parameter will be null for entities), and returns boolean (true if the corresponding entity or attribute).\r\n     * @returns The tree of the entities and their attributes according to the filter function\r\n     */\r\n    DataModel.prototype.getEntitiesTreeWithFilter = function (filterFunc) {\r\n        return this._listByEntityWithFilter(this.getRootEntity(), filterFunc);\r\n    };\r\n    /**\r\n     * Finds full entity path by attribute\r\n     * @param attrId The attribute id.\r\n     * @param sep The separator.\r\n     * @returns The path.\r\n     */\r\n    DataModel.prototype.getFullEntityPathByAttr = function (attrId, sep) {\r\n        sep = sep || ' ';\r\n        return this.getEntityPathByAttr(this.getRootEntity(), attrId, sep, true);\r\n    };\r\n    /**\r\n    * Finds entity path by attribute\r\n    * @param entity The entity.\r\n    * @param attrId The attribute id.\r\n    * @param sep The separator.\r\n    * @param root The root option.\r\n    * @returns The path.\r\n    */\r\n    DataModel.prototype.getEntityPathByAttr = function (entity, attrId, sep, root) {\r\n        return _super.prototype.getEntityPathByAttr.call(this, entity, attrId, sep, root);\r\n    };\r\n    /**\r\n     * Gets the attribute text.\r\n     * @param attr The attribute.\r\n     * @param format The format.\r\n     * @returns Formatted text.\r\n     */\r\n    DataModel.prototype.getAttributeText = function (attr, format) {\r\n        return _super.prototype.getAttributeText.call(this, attr, format);\r\n    };\r\n    DataModel.prototype.getFirstUICAttr = function () {\r\n        return this.getFirstUICAttrInEntity(this.getRootEntity());\r\n    };\r\n    /**\r\n     * Gets first `UIC` attribute in specified entity\r\n     * (`UIC` stands for `use in conditions` - so such attribute can be used in conditions)\r\n     * @param entity Entity object to search our attribute in.\r\n     * @returns The entity attribute or `null`\r\n     */\r\n    DataModel.prototype.getFirstUICAttrInEntity = function (entity) {\r\n        if (entity.useInConditions !== false) {\r\n            if (entity.attributes) {\r\n                var attrCount = entity.attributes.length;\r\n                for (var i = 0; i < attrCount; i++) {\r\n                    if (entity.attributes[i].useInConditions) {\r\n                        return entity.attributes[i];\r\n                    }\r\n                }\r\n            }\r\n            if (entity.subEntities) {\r\n                var subEntityCount = entity.subEntities.length;\r\n                for (var i = 0; i < subEntityCount; i++) {\r\n                    var result = this.getFirstUICAttrInEntity(entity.subEntities[i]);\r\n                    if (result) {\r\n                        return result;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return null;\r\n    };\r\n    /**\r\n     * Scans model's entity tree and calls the callback functions for each attribute and entity.\r\n     * @param processAttribute The callback function which is called for each attribute in model's entity tree.\r\n     * The processed attribute is passed in the first function parameter.\r\n     * @param processEntity The callback function which is called for each entity in tree.\r\n     * The processed entity is passed in the first function parameter.\r\n     */\r\n    DataModel.prototype.runThroughEntities = function (processAttribute, processEntity) {\r\n        this.getRootEntity().scan(processAttribute, processEntity);\r\n    };\r\n    /**\r\n     * Finds first attribute by filter.\r\n     * @param filterFunc The filter function. Takes EntityAttr object in parameter and returns boolean\r\n     */\r\n    DataModel.prototype.getFirstAttributeByFilter = function (filterFunc) {\r\n        var res = null;\r\n        this.runThroughEntities(function (attr, opts) {\r\n            if (filterFunc(attr)) {\r\n                opts.stop = true;\r\n                res = attr;\r\n            }\r\n        }, null);\r\n        return res;\r\n    };\r\n    /**\r\n     * Finds operator in model by its ID.\r\n     * This function runs through all operators inside specified model and returns the one with specified ID.\r\n     * @param operatorId An operator ID.\r\n     * @returns The operator or `null`.\r\n     */\r\n    DataModel.prototype.findOperatorById = function (operatorId) {\r\n        if (this.operators.length > 0) {\r\n            var opCount = this.operators.length;\r\n            for (var idx = 0; idx < opCount; idx++) {\r\n                if (this.operators[idx].id == operatorId) {\r\n                    return this.operators[idx];\r\n                }\r\n            }\r\n        }\r\n        return null;\r\n    };\r\n    /**\r\n     * Finds operator in model by its ID.\r\n     * his function runs through all operators inside specified model and returns the one with specified ID.\r\n     * @param operatorId Operator ID.\r\n     * @returns The operator or special `NullOperator` object if operator is not found.\r\n     */\r\n    DataModel.prototype.getOperatorById = function (operatorId) {\r\n        var op = this.findOperatorById(operatorId);\r\n        if (!op)\r\n            op = new Operator();\r\n        return op;\r\n    };\r\n    DataModel.prototype.getDefaultOperatorIdForAttr = function (attr) {\r\n        if (attr.defaultOperator) {\r\n            return attr.defaultOperator;\r\n        }\r\n        else if (attr.operators.length > 0) {\r\n            return attr.operators[0];\r\n        }\r\n        else {\r\n            return (new Operator()).id;\r\n        }\r\n    };\r\n    /**\r\n     * Gets caption of the aggregate function.\r\n     * @param funcId The function id.\r\n     * @returns The caption.\r\n     */\r\n    DataModel.prototype.getAggrFunctionCaption = function (funcId) {\r\n        var funcTexts = i18n.getText('AggregateFunctions', funcId);\r\n        var funcCaption = funcTexts ? funcTexts.caption : i18n.getText('Aggr' + funcId.replace(' ', '') + '_Caption');\r\n        if (funcCaption) {\r\n            return funcCaption;\r\n        }\r\n        var func = dataUtils.findItemById(this.aggrFunctions, funcId);\r\n        if (!func || !func.caption)\r\n            return funcId;\r\n        return func.caption;\r\n    };\r\n    /**\r\n     * Gets format of the aggregate function.\r\n     * @param funcId The function id.\r\n     * @returns The caption.\r\n     */\r\n    DataModel.prototype.getAggrFunctionFormat = function (funcId) {\r\n        var funcTexts = i18n.getText('AggregateFunctions', funcId);\r\n        var funcFormat = funcTexts ? funcTexts.displayFormat : i18n.getText('Aggr' + funcId.replace(' ', '') + '_Format');\r\n        if (funcFormat) {\r\n            return funcFormat;\r\n        }\r\n        var func = dataUtils.findItemById(this.aggrFunctions, funcId);\r\n        if (!func || !func.displayFormat)\r\n            return '';\r\n        return func.displayFormat;\r\n    };\r\n    /**\r\n     * Gets default operator for an attribute.\r\n     * @param attr The attribute.\r\n     * @returns The operator.\r\n     */\r\n    DataModel.prototype.getDefaultOperatorForAttr = function (attr) {\r\n        var operatorId = this.getDefaultOperatorIdForAttr(attr);\r\n        return this.getOperatorById(operatorId);\r\n    };\r\n    /**\r\n     * Gets operand.\r\n     * @param attr The attribute.\r\n     * @param operator The operator.\r\n     * @param index The index.\r\n     * @returns The operand.\r\n     */\r\n    DataModel.prototype.getOperand = function (attr, operator, index) {\r\n        var defOperand = new Operand();\r\n        if (operator && operator.defaultOperand) {\r\n            defOperand.copyFrom(operator.defaultOperand);\r\n            if (!defOperand.defValue) {\r\n                defOperand.defValue = '';\r\n            }\r\n            if (!defOperand.defText) {\r\n                defOperand.defText = '';\r\n            }\r\n        }\r\n        else {\r\n            defOperand.kind = DataKind.Scalar;\r\n            defOperand.dataType = attr.dataType;\r\n            defOperand.defValue = '';\r\n            defOperand.defText = '';\r\n            defOperand.editor = null;\r\n        }\r\n        var result = defOperand;\r\n        if (result.dataType === DataType.Unknown && attr) {\r\n            result.dataType = attr.dataType;\r\n        }\r\n        if (operator && (index >= 0)) {\r\n            if (operator.operands && operator.operands[index - 1]) {\r\n                result = dataUtils.assign(result, operator.operands[index - 1]);\r\n            }\r\n        }\r\n        ;\r\n        if (!result.editor) {\r\n            if (defOperand.editor) {\r\n                result.editor = defOperand.editor;\r\n            }\r\n            else if (defOperand.kind === DataKind.Query) {\r\n                result.editor.tag = EqEditorTag.SubQuery;\r\n            }\r\n            else if (attr && attr.defaultEditor) {\r\n                result.editor = attr.defaultEditor;\r\n            }\r\n            else if (result.dataType === DataType.Date || result.dataType === DataType.DateTime\r\n                || result.dataType === DataType.Time) {\r\n                result.editor.tag = EqEditorTag.DateTime;\r\n            }\r\n            else {\r\n                result.editor.tag = EqEditorTag.Edit;\r\n            }\r\n        }\r\n        return result;\r\n    };\r\n    /**\r\n     * Gets the list of aggegate functions.\r\n     * @returns AN array of aggregate functions.\r\n     */\r\n    DataModel.prototype.getAggrFunctions = function () {\r\n        return this.aggrFunctions;\r\n    };\r\n    /**\r\n     * Gets date by its macro value.\r\n     * @param macro The macro value.\r\n     * @returns The date or `null`\r\n     */\r\n    DataModel.prototype.getDateMacroValue = function (macro) {\r\n        if (this.isDateMacro(macro)) {\r\n            var d = new Date();\r\n            var macroName = macro.match(/\\${{(.*?)}}/)[1];\r\n            switch (macroName) {\r\n                case 'Today':\r\n                    break;\r\n                case 'Yesterday':\r\n                    d.setDate(d.getDate() - 1);\r\n                    break;\r\n                case 'Tomorrow':\r\n                    d.setDate(d.getDate() + 1);\r\n                    break;\r\n                case 'FirstDayOfMonth':\r\n                    d.setDate(1);\r\n                    break;\r\n                case 'LastDayOfMonth':\r\n                    d.setMonth(d.getMonth() + 1, 0);\r\n                    break;\r\n                case 'FirstDayOfPrevWeek':\r\n                    var day = d.getDay();\r\n                    day = (day == 0) ? 1 : 8 - day; //We start week from Monday, but js - from Sunday\r\n                    d.setDate(d.getDate() - day);\r\n                    break;\r\n                case 'FirstDayOfWeek':\r\n                    var day = d.getDay();\r\n                    day = (day == 0) ? 6 : day - 1; //We start week from Monday, but js - from Sunday\r\n                    d.setDate(d.getDate() - day);\r\n                    break;\r\n                case 'FirstDayOfYear':\r\n                    d.setMonth(0, 1);\r\n                    break;\r\n                case 'FirstDayOfNextWeek':\r\n                    var day = d.getDay();\r\n                    day = (day == 0) ? 1 : 8 - day; //We start week from Monday, but js - from Sunday\r\n                    d.setDate(d.getDate() + day);\r\n                    break;\r\n                case 'FirstDayOfNextMonth':\r\n                    d.setMonth(d.getMonth() + 1, 1);\r\n                    break;\r\n                case 'FirstDayOfPrevMonth':\r\n                    d.setMonth(d.getMonth() - 1, 1);\r\n                    break;\r\n                case 'FirstDayOfPrevYear':\r\n                    d.setFullYear(d.getFullYear() - 1, 0, 1);\r\n                    break;\r\n                case 'FirstDayOfNextYear':\r\n                    d.setFullYear(d.getFullYear() + 1, 0, 1);\r\n                    break;\r\n            }\r\n            ;\r\n            return d;\r\n        }\r\n        return null;\r\n    };\r\n    /**\r\n     * Checks wether macro value is date.\r\n     * @param macro The macro value.\r\n     * @retruns `true` if the macro value is date, otherwise `false`.\r\n     */\r\n    DataModel.prototype.isDateMacro = function (macro) {\r\n        return dataUtils.indexOfArrayItem(this.dateMacros, macro) >= 0;\r\n    };\r\n    /**\r\n    * Gets date  or macro by macro value.\r\n    * @param macroValue The macro value.\r\n    * @returns The date or macro valu.\r\n    */\r\n    DataModel.prototype.getDateOrMacroValue = function (macroValue) {\r\n        var d = this.getDateMacroValue(macroValue);\r\n        return d ? d : macroValue;\r\n    };\r\n    /**\r\n    * Gets time by its macro value.\r\n    * @param macro The macro value.\r\n    * @returns The date or `null`.\r\n    */\r\n    DataModel.prototype.getTimeMacroValue = function (macro) {\r\n        var d = new Date();\r\n        if (this.isTimeMacro(macro)) {\r\n            var macroName = macro.match(/\\${{(.*?)}}/)[1];\r\n            switch (macroName) {\r\n                case 'Now':\r\n                    break;\r\n                case 'HourStart':\r\n                    d.setMinutes(0, 0, 0);\r\n                    break;\r\n                case 'Midnight':\r\n                    d.setHours(0, 0, 0, 0);\r\n                    break;\r\n                case 'Noon':\r\n                    d.setHours(12, 0, 0, 0);\r\n                    break;\r\n            }\r\n            ;\r\n            return d;\r\n        }\r\n        return null;\r\n    };\r\n    /**\r\n    * Checks wether macro value is time.\r\n    * @param macro The macro value.\r\n    * @retruns `true` if the macro value is time, otherwise `false`.\r\n    */\r\n    DataModel.prototype.isTimeMacro = function (macro) {\r\n        return dataUtils.indexOfArrayItem(this.timeMacros, macro) >= 0;\r\n    };\r\n    /**\r\n     * Gets time or macro by macro value.\r\n     * @param macroValue The macro value.\r\n     * @returns The time or macro valu.\r\n     */\r\n    DataModel.prototype.getTimeOrMacroValue = function (time) {\r\n        var t = this.getTimeMacroValue(time);\r\n        return t ? t : time;\r\n    };\r\n    /**\r\n     * Gets all date marcos.\r\n     * @returns The array of marcos\r\n     */\r\n    DataModel.prototype.getAllDateMacros = function () {\r\n        return this.dateMacros;\r\n    };\r\n    /**\r\n     * Gets all time marcos.\r\n     * @returns The array of marcos\r\n     */\r\n    DataModel.prototype.getAllTimeMacros = function () {\r\n        return this.timeMacros;\r\n    };\r\n    return DataModel;\r\n}(MetaData));\r\nexport { DataModel };\r\n//# sourceMappingURL=data_model.js.map","import { DataType } from '@easydata/core';\r\nimport { equtils } from '../utils/utils';\r\nimport { DataKind } from '../types/data_kind';\r\nimport { ExprTag } from '../types/expr_tag';\r\nimport { Query } from './query';\r\n/**\r\n * Represents expression object.\r\n */\r\nvar Expression = /** @class */ (function () {\r\n    /** The default constructor. */\r\n    function Expression(parent) {\r\n        var _this = this;\r\n        this.parent = parent;\r\n        /** The tag. */\r\n        this.tag = ExprTag.Constant;\r\n        /** The data kind. */\r\n        this.kind = DataKind.Scalar;\r\n        /** The data type. */\r\n        this.dataType = DataType.String;\r\n        /** The value. */\r\n        this._value = ''; //DO NOT forget remove any\r\n        /**\r\n         * The distinct option. (e.g `SELECT DISTINCT`)\r\n         */\r\n        this.distinct = false;\r\n        this._isDefaultValue = false;\r\n        this.getText = function () { return _this.text || _this._value; };\r\n        this.args = new Array();\r\n    }\r\n    Expression.prototype.getParent = function () {\r\n        return this.parent;\r\n    };\r\n    Expression.prototype.getModel = function () {\r\n        return this.parent.getQuery().getModel();\r\n    };\r\n    /**\r\n     * Loads expression from its JSON representation object.\r\n     * @param model The Data Model.\r\n     * @param data The JSON representation object.\r\n     */\r\n    Expression.prototype.loadFromData = function (model, data) {\r\n        if (data) {\r\n            this.tag = data.tag;\r\n            if (data.val) {\r\n                this._value = data.val;\r\n                this.text = data.txt;\r\n            }\r\n            else if (data.id) {\r\n                this.kind = DataKind.Attribute;\r\n                this._value = data.id;\r\n                this.text = data.txt;\r\n            }\r\n            if (typeof data.dtype !== 'undefined') {\r\n                this.dataType = data.dtype;\r\n            }\r\n            if (this.tag == ExprTag.EntityAttribute\r\n                || this.tag == ExprTag.ParentEntityAttribute) {\r\n                this.kind = DataKind.Attribute;\r\n                //Do not load other info for EntityAttr\r\n                return;\r\n            }\r\n            if (typeof data.kind !== 'undefined') {\r\n                this.kind = data.kind;\r\n            }\r\n            if (data.query) {\r\n                this.subQuery = new Query(model);\r\n                this.subQuery.loadFromDataOrJson(data.query);\r\n            }\r\n            if (typeof data.distinct !== 'undefined') {\r\n                this.distinct = data.distinct;\r\n            }\r\n            if (data.func) {\r\n                this.func = data.func;\r\n                if (data.args) {\r\n                    for (var i = 0; i < data.args.length; i++) {\r\n                        var arg = new Expression(this.parent);\r\n                        arg.loadFromData(model, data.args[i]);\r\n                        this.args.push(arg);\r\n                    }\r\n                }\r\n            }\r\n            if (data.sql) {\r\n                this.sql = data.sql;\r\n                this.baseAttrId = data.baseAttrId;\r\n            }\r\n        }\r\n    };\r\n    /**\r\n    * Saves expression from JSON representation object.\r\n    * @returns The JSON representation object.\r\n    */\r\n    Expression.prototype.saveToData = function () {\r\n        var obj = {\r\n            tag: this.tag\r\n        };\r\n        if (typeof this.dataType !== \"undefined\") {\r\n            obj.dtype = this.dataType;\r\n        }\r\n        //Do not save other info for EntityAttr\r\n        if (this.tag == ExprTag.EntityAttribute) {\r\n            if (this._value) {\r\n                obj.id = this._value;\r\n                obj.val = this._value;\r\n            }\r\n            if (this.text) {\r\n                obj.txt = this.text;\r\n            }\r\n            return obj;\r\n        }\r\n        if (this.subQuery) {\r\n            obj.query = this.subQuery.toJSONData();\r\n        }\r\n        if (typeof this.kind !== \"undefined\") {\r\n            obj.kind = this.kind;\r\n        }\r\n        if (this._value) {\r\n            obj.val = this._value;\r\n        }\r\n        if (this.text) {\r\n            obj.txt = this.text;\r\n        }\r\n        if (this.distinct) {\r\n            obj.distinct = this.distinct;\r\n        }\r\n        if (this.func) {\r\n            obj.func = this.func;\r\n            obj.args = [];\r\n            for (var i = 0; i < this.args.length; i++) {\r\n                obj.args.push(this.args[i].saveToData());\r\n            }\r\n        }\r\n        if (this.sql) {\r\n            obj.sql = this.sql;\r\n            obj.baseAttrId = this.baseAttrId;\r\n        }\r\n        return obj;\r\n    };\r\n    Expression.prototype.getIndex = function () {\r\n        return this.parent.getExpressionIndex(this);\r\n    };\r\n    Object.defineProperty(Expression.prototype, \"value\", {\r\n        get: function () {\r\n            return this._value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Expression.prototype.setValue = function (val, silent) {\r\n        if (silent === void 0) { silent = false; }\r\n        this.setContent(val, undefined, silent);\r\n    };\r\n    Expression.prototype.setContent = function (val, txt, silent) {\r\n        if (silent === void 0) { silent = false; }\r\n        var oldValue = this.value;\r\n        if (this.kind == DataKind.Attribute && val) {\r\n            var attr = this.getModel().getAttributeById(val);\r\n            if (!attr) {\r\n                throw \"No such entity attribute:\" + val;\r\n            }\r\n            this.dataType = attr.dataType;\r\n        }\r\n        this._value = val;\r\n        if (typeof txt !== 'undefined') {\r\n            this.text = txt;\r\n        }\r\n        else if (typeof this.text !== 'undefined') {\r\n            this.text = val;\r\n        }\r\n        this._isDefaultValue = false;\r\n        if (!silent) {\r\n            this.parent.expressionChanged(this, oldValue);\r\n        }\r\n    };\r\n    Expression.prototype.isEmpty = function () {\r\n        return !(this.text || this._value);\r\n    };\r\n    Expression.prototype.hasText = function () {\r\n        return this.text && this.text.length > 0;\r\n    };\r\n    Expression.prototype.tryCopyValueFrom = function (expr) {\r\n        if (this.kind == expr.kind) {\r\n            if (this.dataType == expr.dataType) {\r\n                this.setContent(expr.value.length ? expr.value : this._value, (expr.text && expr.text.length) ? expr.text : this.text, true);\r\n            }\r\n            else {\r\n                var val = equtils.convertValue(expr.value, expr.dataType, this.dataType);\r\n                this.setContent(val.length ? val : this._value, (expr.text && expr.text.length) ? expr.text : this.text, true);\r\n            }\r\n            this.subQuery = expr.subQuery;\r\n            this.sql = expr.sql;\r\n            this.baseAttrId = expr.baseAttrId;\r\n        }\r\n        else if (!this._isDefaultValue) {\r\n            this.setContent('', '', true);\r\n            this.subQuery = null;\r\n            this.sql = null;\r\n            this.baseAttrId = null;\r\n        }\r\n    };\r\n    return Expression;\r\n}());\r\nexport { Expression };\r\n//# sourceMappingURL=expression.js.map","/**\r\n * Represents a type of condition.\r\n * Current we have 2 possible types: a simple condition or a predicate - a group of conditions\r\n*/\r\nexport var CondTag;\r\n(function (CondTag) {\r\n    /** An unknown type of condition (just in case).*/\r\n    CondTag[CondTag[\"Unknown\"] = 0] = \"Unknown\";\r\n    /** A simple condition (e.g. SomeField > SomeValue).*/\r\n    CondTag[CondTag[\"Simple\"] = 1] = \"Simple\";\r\n    /** A predicate (a group of conditions).*/\r\n    CondTag[CondTag[\"Group\"] = 51] = \"Group\";\r\n})(CondTag || (CondTag = {}));\r\n//# sourceMappingURL=cond_tag.js.map","export var ConditionPart;\r\n(function (ConditionPart) {\r\n    ConditionPart[ConditionPart[\"EntityAttr\"] = 2] = \"EntityAttr\";\r\n    ConditionPart[ConditionPart[\"Operator\"] = 4] = \"Operator\";\r\n    ConditionPart[ConditionPart[\"Value\"] = 8] = \"Value\";\r\n    ConditionPart[ConditionPart[\"All\"] = 14] = \"All\";\r\n})(ConditionPart || (ConditionPart = {}));\r\n//# sourceMappingURL=cond_part.js.map","import { DataType, utils as dataUtils } from '@easydata/core';\r\nimport { Expression } from './expression';\r\nimport { DataKind } from '../types/data_kind';\r\nimport { LinkType } from '../types/link_type';\r\nimport { CondTag } from '../types/cond_tag';\r\nimport { ExprTag } from '../types/expr_tag';\r\nimport { QueryChangePart, QueryChangeAction } from './query_events';\r\nimport { EqEditorTag } from '../types/eq_editor_tag';\r\nimport { ConditionPart } from '../types/cond_part';\r\n/**\r\n * Represents some condition.\r\n */\r\nvar Condition = /** @class */ (function () {\r\n    /**\r\n     * The default constructor.\r\n     * @param tag The condition tag\r\n     */\r\n    function Condition(query, tag) {\r\n        this.query = query;\r\n        /**\r\n         *  The linking type.\r\n         */\r\n        this.linkType = LinkType.All; //only for predicates\r\n        this.parent = null;\r\n        this._id = dataUtils.generateId('cond');\r\n        this.justAdded = false;\r\n        this.tag = tag || CondTag.Unknown;\r\n        this.enabled = true;\r\n        this.operatorId = '';\r\n        this.blockId = '';\r\n        this.expressions = new Array();\r\n        this.conditions = new Array();\r\n    }\r\n    Object.defineProperty(Condition.prototype, \"id\", {\r\n        get: function () {\r\n            return this._id;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Condition.prototype, \"enabled\", {\r\n        get: function () {\r\n            return this._enabled && (!this.getParent() || this.getParent().enabled);\r\n        },\r\n        set: function (value) {\r\n            this._enabled = value && (!this.getParent() || this.getParent().enabled);\r\n            this.conditions && this.conditions.forEach(function (cond) {\r\n                cond.enabled = value;\r\n            });\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Condition.prototype.getQuery = function () {\r\n        return this.query;\r\n    };\r\n    Condition.prototype.getModel = function () {\r\n        return this.query.getModel();\r\n    };\r\n    Condition.prototype.getParent = function () {\r\n        return this.parent;\r\n    };\r\n    Condition.prototype.setParent = function (parent) {\r\n        this.parent = parent;\r\n    };\r\n    Condition.prototype.getConditions = function () {\r\n        return this.conditions;\r\n    };\r\n    Condition.prototype.isEmpty = function () {\r\n        return this.conditions.length === 0;\r\n    };\r\n    Condition.prototype.isGroup = function () {\r\n        return (this.tag == CondTag.Group) || (this.parent == null);\r\n    };\r\n    Condition.prototype.getLevel = function () {\r\n        var parent = this.getParent();\r\n        return parent ? parent.getLevel() + 1 : 0;\r\n    };\r\n    /**\r\n     * Indicates whether this condition is read-only.\r\n     */\r\n    Condition.prototype.isReadOnly = function () {\r\n        return false;\r\n    };\r\n    Condition.prototype.setReadOnly = function (value) {\r\n    };\r\n    /**\r\n     * The value indicating whether this condition is parameterized.\r\n     */\r\n    Condition.prototype.isParameterized = function () {\r\n        return false;\r\n    };\r\n    Condition.prototype.setParameterized = function (value) {\r\n    };\r\n    /**\r\n     * Indicates whether this condition must be placed into `JOIN` clause in result `SQL`.\r\n     */\r\n    Condition.prototype.isInJoin = function () {\r\n        return false;\r\n    };\r\n    Condition.prototype.setInJoin = function (value) {\r\n    };\r\n    Condition.prototype.clearConditions = function () {\r\n        this.conditions = [];\r\n    };\r\n    Condition.prototype.addCondition = function (cond) {\r\n        cond.setParent(this);\r\n        return this.conditions.push(cond);\r\n    };\r\n    Condition.prototype.removeConditionAt = function (index) {\r\n        this.conditions.splice(index, 1);\r\n    };\r\n    /**\r\n    * Loads condtion from its JSON representation object.\r\n    * @param model The Data Model.\r\n    * @param data The JSON representation object.\r\n    */\r\n    Condition.prototype.loadFromData = function (model, data) {\r\n        if (data) {\r\n            this.tag = data.tag;\r\n            if (!this.tag) {\r\n                this.tag = (!this.parent || this.conditions.length > 0) ? CondTag.Group : CondTag.Simple;\r\n            }\r\n            if (typeof data.enabled !== 'undefined') {\r\n                this.enabled = data.enabled;\r\n            }\r\n            if (typeof data.disabled !== 'undefined') {\r\n                this.enabled = !data.disabled;\r\n            }\r\n            if (this.tag == CondTag.Simple) {\r\n                this.operatorId = data.op;\r\n                if (data.exprs) {\r\n                    for (var i = 0; i < data.exprs.length; i++) {\r\n                        var newExpr = new Expression(this);\r\n                        newExpr.loadFromData(model, data.exprs[i]);\r\n                        this.expressions.push(newExpr);\r\n                    }\r\n                }\r\n            }\r\n            this.linkType = data.linking;\r\n        }\r\n    };\r\n    /**\r\n     * Saves condition to JSON representation object.\r\n     * @returns The JSON representation object.\r\n     */\r\n    Condition.prototype.saveToData = function () {\r\n        var obj = {};\r\n        obj.tag = this.tag;\r\n        if (!this.enabled) {\r\n            obj.enabled = this.enabled;\r\n        }\r\n        if (this.tag == CondTag.Simple) {\r\n            obj.op = this.operatorId;\r\n            obj.exprs = [];\r\n            for (var i = 0; i < this.expressions.length; i++) {\r\n                obj.exprs.push(this.expressions[i].saveToData());\r\n            }\r\n        }\r\n        if (this.tag == CondTag.Group) {\r\n            //if condition group\r\n            obj.linking = this.linkType;\r\n        }\r\n        return obj;\r\n    };\r\n    Condition.prototype.fireChangedEvent = function (condPart) {\r\n        if (condPart === void 0) { condPart = ConditionPart.All; }\r\n        this.query.fireChangedEvent({\r\n            part: QueryChangePart.Conditions,\r\n            action: QueryChangeAction.Modify,\r\n            changee: this,\r\n            condPart: condPart\r\n        });\r\n    };\r\n    Condition.prototype.getExpressionIndex = function (expr) {\r\n        return this.expressions.indexOf(expr, 0);\r\n    };\r\n    Condition.prototype.expressionChanged = function (expr, oldValue) {\r\n        if (expr.getIndex() == 0 && expr.tag == ExprTag.EntityAttribute) {\r\n            //this is a base entity attribute, we need to re-pack the whole condition\r\n            this.tuneOperatorForAttr(expr.value);\r\n        }\r\n    };\r\n    Condition.prototype.getOperatorId = function () {\r\n        return this.operatorId;\r\n    };\r\n    Condition.prototype.setOperatorId = function (newOperatorId, silent) {\r\n        if (silent === void 0) { silent = false; }\r\n        var oldOperatorId = this.operatorId;\r\n        this.operatorId = newOperatorId;\r\n        if (!silent) {\r\n            var model = this.getModel();\r\n            var operator = model.getOperatorById(newOperatorId);\r\n            var attrId = this.expressions[0].value;\r\n            var attr = model.getAttributeById(attrId);\r\n            this.tuneValueExpressions(attr, operator, attr.id, oldOperatorId);\r\n        }\r\n    };\r\n    Condition.prototype.tuneOperatorForAttr = function (oldAttrId) {\r\n        var model = this.getModel();\r\n        var attrId = this.expressions[0].value;\r\n        var attr = model.getAttributeById(attrId);\r\n        if (attr != null) {\r\n            var newOperator = this.getModel().getDefaultOperatorForAttr(attr);\r\n            var oldOperatorId = this.operatorId;\r\n            this.operatorId = newOperator.id;\r\n            this.tuneValueExpressions(attr, newOperator, oldAttrId, oldOperatorId);\r\n        }\r\n    };\r\n    Condition.prototype.tuneValueExpressions = function (attr, operator, oldAttrId, oldOperatorId) {\r\n        var model = this.getModel();\r\n        if (!operator)\r\n            return;\r\n        var exprCount = this.expressions.length;\r\n        var oldAttr = oldAttrId ? model.getAttributeById(oldAttrId) : null;\r\n        var oldOperator = null;\r\n        if (oldOperatorId) {\r\n            oldOperator = model.getOperatorById(oldOperatorId);\r\n        }\r\n        if (oldOperator && oldOperator.paramCount == operator.paramCount) {\r\n            //add  necessary expressions\r\n            var i = 1;\r\n            while (i < operator.paramCount) {\r\n                var oldOperand = model.getOperand(attr, oldOperator, i);\r\n                var operand = model.getOperand(attr, operator, i);\r\n                if (operand.dataType == DataType.Unknown) {\r\n                    operand.dataType = attr.dataType;\r\n                }\r\n                if (i >= exprCount) {\r\n                    var valExpr = this.createValueExpr(operand);\r\n                    this.expressions.push(valExpr);\r\n                }\r\n                else {\r\n                    var oldExpr = this.expressions[i];\r\n                    //create new value expression according to the corresponding operand\r\n                    var newExpr = this.createValueExpr(operand);\r\n                    if (this.areCompitableEditors(oldOperand.editor, operand.editor)) {\r\n                        newExpr.tryCopyValueFrom(oldExpr);\r\n                    }\r\n                    this.expressions[i] = newExpr;\r\n                }\r\n                i++;\r\n            }\r\n            if (exprCount > i) {\r\n                //remove all redundant expressions\r\n                this.expressions.splice(i, exprCount - i);\r\n            }\r\n        }\r\n        else {\r\n            this.expressions.splice(1, this.expressions.length - 1);\r\n            for (var i = 1; i < operator.paramCount; i++) {\r\n                var operand = model.getOperand(attr, operator, i);\r\n                if (operand.dataType == DataType.Unknown) {\r\n                    operand.dataType = attr.dataType;\r\n                }\r\n                var valExpr = this.createValueExpr(operand);\r\n                this.expressions.push(valExpr);\r\n            }\r\n        }\r\n    };\r\n    Condition.prototype.areCompitableEditors = function (oldEditor, newEditor) {\r\n        if (newEditor.tag == EqEditorTag.CustomList || newEditor.tag == EqEditorTag.List\r\n            || newEditor.tag == EqEditorTag.SqlList) {\r\n            return false;\r\n        }\r\n        return true;\r\n    };\r\n    Condition.prototype.addExpressionByOperand = function (operand, val) {\r\n        if (val === void 0) { val = null; }\r\n        var expr = this.createValueExpr(operand, val);\r\n        this.expressions.push(expr);\r\n        return expr;\r\n    };\r\n    Condition.prototype.createValueExpr = function (operand, val) {\r\n        if (val === void 0) { val = null; }\r\n        var valueNotDefined = val === null || typeof val === 'undefined';\r\n        var value = val ? val : operand.defValue;\r\n        var text = val ? val : operand.defText;\r\n        var result = new Expression(this);\r\n        if (operand.kind === DataKind.Query) {\r\n            result.tag = ExprTag.Query;\r\n            result.dataType = operand.dataType;\r\n            result.kind = operand.kind;\r\n            result.setContent(value, text, true);\r\n        }\r\n        else if (operand.kind === DataKind.Attribute) {\r\n            if (!valueNotDefined) {\r\n                var defAttr = this.getModel().getFirstAttributeByFilter(function (attr) {\r\n                    return attr.useInConditions == true && (!operand.dataType || attr.dataType == operand.dataType);\r\n                });\r\n                value = defAttr ? defAttr.id : null;\r\n            }\r\n            result.tag = ExprTag.EntityAttribute;\r\n            result.kind = operand.kind;\r\n            result.dataType = operand.dataType;\r\n            result.setContent(value, text, true);\r\n        }\r\n        else {\r\n            if (valueNotDefined) {\r\n                if (operand.defValue && operand.defValue != \"\") {\r\n                    value = operand.defValue;\r\n                }\r\n                else {\r\n                    if (operand.editor && operand.editor.defValue) {\r\n                        value = operand.editor.defValue;\r\n                    }\r\n                    else {\r\n                        value = '';\r\n                    }\r\n                }\r\n                if (operand.editor) {\r\n                    text = operand.editor.getValueText(value);\r\n                }\r\n            }\r\n            result.tag = ExprTag.Constant;\r\n            result.dataType = operand.dataType;\r\n            result.kind = operand.kind;\r\n            result.setContent(value, text, true);\r\n            result._isDefaultValue = valueNotDefined;\r\n        }\r\n        return result;\r\n    };\r\n    return Condition;\r\n}());\r\nexport { Condition };\r\n//# sourceMappingURL=condition.js.map","/** Represents groups of widgets. Used to identify widgets */\r\nexport var WidgetGroup;\r\n(function (WidgetGroup) {\r\n    /** None widget group. */\r\n    WidgetGroup[WidgetGroup[\"None\"] = 0] = \"None\";\r\n    /** The group of widgets responsible for the Model. */\r\n    WidgetGroup[WidgetGroup[\"Model\"] = 1] = \"Model\";\r\n    /** The group of widgets responsible for the Query. */\r\n    WidgetGroup[WidgetGroup[\"Query\"] = 2] = \"Query\";\r\n    /** The group of widgets responsible for the Result. */\r\n    WidgetGroup[WidgetGroup[\"Result\"] = 4] = \"Result\";\r\n    /** The group of widgets responsible for the statement. */\r\n    WidgetGroup[WidgetGroup[\"Statement\"] = 8] = \"Statement\";\r\n    /** The group of widgets responsible for tracking Query status. */\r\n    WidgetGroup[WidgetGroup[\"QueryStatus\"] = 16] = \"QueryStatus\";\r\n    /** All. */\r\n    WidgetGroup[WidgetGroup[\"All\"] = 65535] = \"All\";\r\n})(WidgetGroup || (WidgetGroup = {}));\r\n//# sourceMappingURL=widget_group.js.map","export var EqAction;\r\n(function (EqAction) {\r\n    EqAction[\"LoadModel\"] = \"LoadModel\";\r\n    EqAction[\"LoadQuery\"] = \"LoadQuery\";\r\n    EqAction[\"LoadQueryList\"] = \"LoadQueryList\";\r\n    EqAction[\"NewQuery\"] = \"NewQuery\";\r\n    EqAction[\"SaveQuery\"] = \"SaveQuery\";\r\n    EqAction[\"RemoveQuery\"] = \"RemoveQuery\";\r\n    EqAction[\"SyncQuery\"] = \"SyncQuery\";\r\n    EqAction[\"ExecuteQuery\"] = \"ExecuteQuery\";\r\n    EqAction[\"FetchData\"] = \"FetchData\";\r\n    EqAction[\"GetValueList\"] = \"GetValueList\";\r\n    EqAction[\"ExportResult\"] = \"ExportResult\";\r\n    EqAction[\"GetQueryFile\"] = \"GetQueryFile\";\r\n    EqAction[\"UploadQueryFile\"] = \"UploadQueryFile\";\r\n})(EqAction || (EqAction = {}));\r\n//# sourceMappingURL=eq_actions.js.map","export var EqActionResult;\r\n(function (EqActionResult) {\r\n    EqActionResult[EqActionResult[\"Error\"] = 0] = \"Error\";\r\n    EqActionResult[EqActionResult[\"Success\"] = 1] = \"Success\";\r\n})(EqActionResult || (EqActionResult = {}));\r\n//# sourceMappingURL=messages.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { EventEmitter, utils as dataUtils } from '@easydata/core';\r\nimport { i18n } from '@easydata/core';\r\nimport { equtils } from '../utils/utils';\r\nimport { DataModel } from '../dm/data_model';\r\nimport { Expression } from './expression';\r\nimport { Column, SortDirection } from './column';\r\nimport { Condition } from './condition';\r\nimport { DataKind } from '../types/data_kind';\r\nimport { LinkType } from '../types/link_type';\r\nimport { ExprTag } from '../types/expr_tag';\r\nimport { CondTag } from '../types/cond_tag';\r\nimport { QueryChangePart } from './query_events';\r\n/**\r\n * The error that appears when the query is not valid\r\n */\r\nvar InvalidQueryError = /** @class */ (function (_super) {\r\n    __extends(InvalidQueryError, _super);\r\n    /**\r\n     * Creates an instance of error type.\r\n     * @param message The error message\r\n     */\r\n    function InvalidQueryError(message) {\r\n        var _this = _super.call(this, message) || this;\r\n        if (Error.captureStackTrace) {\r\n            Error.captureStackTrace(_this, InvalidQueryError);\r\n        }\r\n        _this.name = 'InvalidQueryError';\r\n        return _this;\r\n    }\r\n    return InvalidQueryError;\r\n}(Error));\r\nexport { InvalidQueryError };\r\n/**\r\n * Represents Query.\r\n */\r\nvar Query = /** @class */ (function () {\r\n    /**\r\n     * The default constructor.\r\n     * @param model The data model.\r\n     * @param data JSON representation object.\r\n     * @param options The options.\r\n     * @throws {InvalidQueryError} The error throws when query is not valid.\r\n     */\r\n    function Query(model, data, options) {\r\n        /**\r\n         * Contains user-defined extra data for current query.\r\n         */\r\n        this.extraData = {};\r\n        this.innerData = {};\r\n        this.isNewbie = true;\r\n        this._isModified = false;\r\n        this.parentQuery = null;\r\n        this.drillDowns = [];\r\n        this.eventEmitter = new EventEmitter(this);\r\n        this.root = new Condition(this, CondTag.Group);\r\n        this.extraConditions = new Condition(this, CondTag.Group);\r\n        this.columns = new Array();\r\n        this.justsorted = new Array();\r\n        if (!this.id) {\r\n            this.regenerateId();\r\n        }\r\n        this.setDefaultName();\r\n        this.description = \"\";\r\n        this.modelId = \"\";\r\n        this.modelName = \"\";\r\n        this.model = (model) ? model : new DataModel();\r\n        if (data) {\r\n            this.loadFromData(data);\r\n        }\r\n        this.attributeExprTag = (options) ? options.attrTag || ExprTag.EntityAttribute : ExprTag.EntityAttribute;\r\n        this.clientListRequestHandler = (options) ? options.clientListRequestHandler : new Array();\r\n        this.serverListRequestHandler = (options) ? options.serverListRequestHandler : new Array();\r\n        this.timezoneOffset = (new Date()).getTimezoneOffset();\r\n        if (options) {\r\n            this.parentQuery = options.parent;\r\n        }\r\n    }\r\n    Query.prototype.isModified = function () {\r\n        return this._isModified;\r\n    };\r\n    Query.prototype.resetModified = function () {\r\n        this._isModified = false;\r\n    };\r\n    Query.prototype.isEx = function () {\r\n        return false;\r\n    };\r\n    /**\r\n     * Resets the query: clears all its conditions and columns, regenerate the ID and sets the default name.\r\n     * @param silent Indicates whether we need to avoid firing the QueryChanged event.\r\n     */\r\n    Query.prototype.reset = function (clearQuery) {\r\n        if (clearQuery === void 0) { clearQuery = true; }\r\n        if (clearQuery) {\r\n            this.clear();\r\n        }\r\n        this.regenerateId();\r\n        this.setDefaultName();\r\n        this._isModified = false;\r\n        this.isNewbie = true;\r\n    };\r\n    Query.prototype.hasEnabledAggrColumns = function () {\r\n        return this.columns.filter(function (col) { return col.enabled\r\n            && col.expr.tag === ExprTag.AggregateFunction; }).length > 0;\r\n    };\r\n    Query.prototype.setDefaultName = function () {\r\n        this.setName(i18n.getText('NewQueryName'));\r\n        return this.getName();\r\n    };\r\n    /**\r\n     * Validates wether the query corresponds to the model.\r\n     * @param options Validate options.\r\n     * @throws {InvalidQueryError} If query is not valid.\r\n     */\r\n    Query.prototype.validate = function (options) {\r\n        options = options || {};\r\n        var entityAttrNotExistError = \"EntityAttribute isn't declared in the model: \";\r\n        var wrongExprTag = \"The expression has wrond tag: \";\r\n        if (!this.model) {\r\n            throw new InvalidQueryError(\"Model is not declared\");\r\n        }\r\n        if (this.columns) {\r\n            for (var _i = 0, _a = this.columns; _i < _a.length; _i++) {\r\n                var column = _a[_i];\r\n                if (column.expr.tag == ExprTag.EntityAttribute\r\n                    || column.expr.tag === ExprTag.ParentEntityAttribute) {\r\n                    var attr = this.model.getAttributeById(column.expr.value);\r\n                    if (!attr) {\r\n                        throw new InvalidQueryError(entityAttrNotExistError + column.expr.value);\r\n                    }\r\n                }\r\n                else if (column.expr.tag === ExprTag.AggregateFunction) {\r\n                    var attr = this.model.getAttributeById(column.expr.args[0].value);\r\n                    if (!attr) {\r\n                        throw new InvalidQueryError(entityAttrNotExistError + column.expr.args[0].value);\r\n                    }\r\n                }\r\n                else if (column.expr.tag !== ExprTag.CustomSql) {\r\n                    throw new InvalidQueryError(wrongExprTag + column.expr.tag);\r\n                }\r\n            }\r\n        }\r\n        if (this.root && this.root.getConditions()) {\r\n            this.validateConditionGroup(this.root, options);\r\n        }\r\n    };\r\n    /**\r\n     * Validates wether the query corresponds to the model.\r\n     * @param options Validate options.\r\n     * @returns `true` if it is valid, otherwise `false`\r\n     */\r\n    Query.prototype.tryValidate = function (options) {\r\n        try {\r\n            this.validate(options);\r\n            return true;\r\n        }\r\n        catch (e) {\r\n            if (e.name == 'InvalidQueryError') {\r\n                return false;\r\n            }\r\n            else {\r\n                throw e;\r\n            }\r\n        }\r\n    };\r\n    Query.prototype.validateConditionGroup = function (curCond, options) {\r\n        if (curCond.isGroup()) {\r\n            for (var _i = 0, _a = curCond.getConditions(); _i < _a.length; _i++) {\r\n                var condition = _a[_i];\r\n                if (!condition.enabled)\r\n                    continue;\r\n                this.validateConditionGroup(condition, options);\r\n            }\r\n        }\r\n        else if (curCond.expressions[0].tag === ExprTag.EntityAttribute) {\r\n            var attrId = curCond.expressions[0].value;\r\n            var attr = this.model.getAttributeById(attrId);\r\n            if (!attr) {\r\n                throw new InvalidQueryError(\"EntityAttribute isn't declared in the model: \" + attrId);\r\n            }\r\n            if (!options.checkExpressions)\r\n                return;\r\n            for (var i = 1; i < curCond.expressions.length; i++) {\r\n                var expr = curCond.expressions[i];\r\n                if (expr.tag !== ExprTag.Constant)\r\n                    continue;\r\n                //validate number exprs\r\n                if (dataUtils.isNumericType(expr.dataType)) {\r\n                    if (!expr.value.length) {\r\n                        throw new InvalidQueryError(\"Expression constant is empty in condition: \" + curCond.id);\r\n                    }\r\n                    var values = [];\r\n                    if (expr.kind === DataKind.List) {\r\n                        values = expr.value.split(/\\s*,\\s*/);\r\n                    }\r\n                    else {\r\n                        values = [expr.value];\r\n                    }\r\n                    for (var _b = 0, values_1 = values; _b < values_1.length; _b++) {\r\n                        var value = values_1[_b];\r\n                        var parsedVal = +value;\r\n                        if (isNaN(parsedVal)) {\r\n                            throw new InvalidQueryError(\"Expression constant is NaN in condition:\" + curCond.id);\r\n                        }\r\n                        if (dataUtils.isIntType(expr.dataType) && parsedVal != parseInt(value, 10)) {\r\n                            throw new InvalidQueryError(\"Expression constant is wrong interger in condition: \" + curCond.id);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * Sets data to the query.\r\n     * @param data JSON representation object or JSON string\r\n     * @param changeStatus Indicate whether we should change the \"isModified\" status (by default == `true`)\r\n     */\r\n    Query.prototype.loadFromDataOrJson = function (data, changeStatus) {\r\n        if (changeStatus === void 0) { changeStatus = true; }\r\n        if (data) {\r\n            if (typeof data === \"string\") {\r\n                this.loadFromJson(data, changeStatus);\r\n            }\r\n            else {\r\n                this.loadFromData(data, changeStatus);\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * Loads query from JSON.\r\n     * @param json The JSON string.\r\n     * @throws {InvalidQueryError} The error throws when query is not valid.\r\n     */\r\n    Query.prototype.loadFromJson = function (json, changeStatus) {\r\n        if (changeStatus === void 0) { changeStatus = true; }\r\n        var data = JSON.parse(json);\r\n        this.loadFromData(data, changeStatus);\r\n    };\r\n    /**\r\n     * Loads query from data representation.\r\n     * @param data\r\n     * @param changeStatus\r\n     * @throws {InvalidQueryError} The error throws when query is not valid.\r\n     */\r\n    Query.prototype.loadFromData = function (data, changeStatus) {\r\n        if (changeStatus === void 0) { changeStatus = true; }\r\n        var noErrors = false;\r\n        this.clear();\r\n        this.clearDrillDowns();\r\n        if (data) {\r\n            this.id = data.id;\r\n            this.root.loadFromData(this.model, data.root);\r\n            if (data.root && data.root.conds) {\r\n                for (var i = 0; i < data.root.conds.length; i++) {\r\n                    var condData = data.root.conds[i];\r\n                    if (condData.conds && !this.isEx()) {\r\n                        console.error(\"Community version doesn't support working with groups.\");\r\n                        continue;\r\n                    }\r\n                    var cond = this.createCondition();\r\n                    cond.loadFromData(this.model, condData);\r\n                    this.root.addCondition(cond);\r\n                }\r\n            }\r\n            this.name = data.name;\r\n            this.description = data.desc;\r\n            this.justsorted = [];\r\n            if (data.justsortcols) {\r\n                for (var i = 0; i < data.justsortcols.length; i++) {\r\n                    var newCol = this.createColumn(true);\r\n                    newCol.loadFromData(this.model, data.justsortcols[i]);\r\n                    this.justsorted.push(newCol);\r\n                }\r\n            }\r\n            if (data.cols) {\r\n                for (var i = 0; i < data.cols.length; i++) {\r\n                    var newCol = this.createColumn();\r\n                    newCol.loadFromData(this.model, data.cols[i]);\r\n                    this.columns.push(newCol);\r\n                }\r\n            }\r\n            if (data.extraData) {\r\n                this.extraData = data.extraData;\r\n            }\r\n            this.innerData = data.innerData || this.innerData;\r\n            if (data.dds && data.dds.length) {\r\n                for (var _i = 0, _a = data.dds; _i < _a.length; _i++) {\r\n                    var dd = _a[_i];\r\n                    var query = this.addDrillDown();\r\n                    query.loadFromData(dd);\r\n                }\r\n            }\r\n        }\r\n        noErrors = true;\r\n        if (noErrors) {\r\n            if (changeStatus) {\r\n                this.isNewbie = false;\r\n                this._isModified = false;\r\n            }\r\n        }\r\n        this.validate();\r\n    };\r\n    /**\r\n     *\r\n     */\r\n    Query.prototype.addDrillDown = function () {\r\n        var query = this.model.createQuery();\r\n        query.parentQuery = this;\r\n        this.drillDowns.push(query);\r\n        return query;\r\n    };\r\n    Query.prototype.getDrillDowns = function () {\r\n        return this.drillDowns;\r\n    };\r\n    Query.prototype.getParentQuery = function () {\r\n        return this.parentQuery;\r\n    };\r\n    /**\r\n     *\r\n     */\r\n    Query.prototype.findColumnById = function (colId) {\r\n        for (var _i = 0, _a = this.columns; _i < _a.length; _i++) {\r\n            var col = _a[_i];\r\n            if (col.id === colId)\r\n                return col;\r\n        }\r\n        return null;\r\n    };\r\n    /**\r\n     * Gets DataModel object associated with this query.\r\n     * @retruns The data model.\r\n     */\r\n    Query.prototype.getModel = function () {\r\n        return this.model;\r\n    };\r\n    /**\r\n     * Sets DataModel object associated with this query.\r\n     * @param model The data model.\r\n     */\r\n    Query.prototype.setModel = function (model) {\r\n        this.model = model;\r\n    };\r\n    /**\r\n     * Loads data model.\r\n     * @param model JSON representation object or JSON string.\r\n     */\r\n    Query.prototype.loadModelData = function (model) {\r\n        this.model.setData(model);\r\n    };\r\n    /**\r\n     * Returns JSON representation of this query.\r\n     * @retruns JSON string.\r\n     */\r\n    Query.prototype.toJSON = function () {\r\n        return JSON.stringify(this.toJSONData());\r\n    };\r\n    /**\r\n     * Returns JSON representation of this query.\r\n     * @retruns JSON representation object.\r\n     */\r\n    Query.prototype.toJSONData = function () {\r\n        var _this = this;\r\n        var obj = {\r\n            modelId: this.model ? this.model.getId() : null,\r\n            modelName: this.model ? this.model.getName() : null\r\n        };\r\n        obj.id = this.id;\r\n        obj.name = this.name;\r\n        if (this.description) {\r\n            obj.desc = this.description;\r\n        }\r\n        obj.cols = [];\r\n        for (var i = 0; i < this.columns.length; i++) {\r\n            obj.cols.push(this.columns[i].saveToData());\r\n        }\r\n        obj.justsortcols = [];\r\n        for (var i = 0; i < this.justsorted.length; i++) {\r\n            obj.justsortcols.push(this.justsorted[i].saveToData());\r\n        }\r\n        if (this.extraData) {\r\n            obj.extraData = this.extraData;\r\n        }\r\n        if (this.innerData) {\r\n            obj.innerData = this.innerData;\r\n        }\r\n        var rootCondToData = function (condGroup) {\r\n            var result = condGroup.saveToData();\r\n            result.conds = [];\r\n            var conditions = condGroup.getConditions();\r\n            for (var i = 0; i < conditions.length; i++) {\r\n                if (conditions[i].isGroup() && !_this.isEx()) {\r\n                    console.error(\"Community version doesn't support working with groups.\");\r\n                    continue;\r\n                }\r\n                result.conds.push(conditions[i].saveToData());\r\n            }\r\n            return result;\r\n        };\r\n        obj.root = rootCondToData(this.root);\r\n        obj.extraConds = rootCondToData(this.extraConditions);\r\n        if (this.drillDowns.length > 0) {\r\n            obj.dds = [];\r\n            for (var _i = 0, _a = this.drillDowns; _i < _a.length; _i++) {\r\n                var dd = _a[_i];\r\n                obj.dds.push(dd.toJSONData());\r\n            }\r\n        }\r\n        obj.timezoneOffset = this.timezoneOffset;\r\n        return obj;\r\n    };\r\n    /**\r\n     * Checks wether query does not contains any condtion.\r\n     * @retruns `true` if query does not contain any condition, otherwise `false`.\r\n     */\r\n    Query.prototype.isEmptyConditions = function () {\r\n        return this.root.isEmpty();\r\n    };\r\n    /**\r\n     * Checks wether query does not contains any column.\r\n     * @retruns `true` if query does not contain any column, otherwise `false`.\r\n     */\r\n    Query.prototype.isEmptyColumns = function () {\r\n        return !this.columns || this.columns.length === 0;\r\n    };\r\n    /**\r\n     * Checks wether query does not contains any column and any condition.\r\n     * @retruns `true` if query does not contain any column and any condition, otherwise `false`.\r\n     */\r\n    Query.prototype.isEmpty = function () {\r\n        return this.isEmptyColumns() && this.isEmptyConditions();\r\n    };\r\n    /**\r\n     * Clears the query (all conditions, columns, extraData, etc).\r\n     */\r\n    Query.prototype.clear = function () {\r\n        this.clearColumns();\r\n        this.clearConditions();\r\n        this.clearExtraConditions();\r\n        this.innerData = {};\r\n        this.extraData = {};\r\n    };\r\n    /**\r\n     * Clears all columns in query\r\n     */\r\n    Query.prototype.clearColumns = function () {\r\n        this.columns = [];\r\n        this.justsorted = [];\r\n    };\r\n    /**\r\n     * Clears all conditions in query.\r\n     */\r\n    Query.prototype.clearConditions = function () {\r\n        this.root.clearConditions();\r\n        this.root.linkType = LinkType.All;\r\n        this.root.enabled = true;\r\n    };\r\n    /**\r\n     * Clears all extra conditions in query\r\n     */\r\n    Query.prototype.clearExtraConditions = function () {\r\n        this.extraConditions.clearConditions();\r\n    };\r\n    /**\r\n     * Clears all drill downs\r\n     */\r\n    Query.prototype.clearDrillDowns = function () {\r\n        this.drillDowns = [];\r\n    };\r\n    /**\r\n     * Gets query ID.\r\n     * @returns The ID>\r\n     */\r\n    Query.prototype.getId = function () {\r\n        return this.id;\r\n    };\r\n    /**\r\n     * Sets query ID.\r\n     * @param id New Query ID.\r\n     */\r\n    Query.prototype.setId = function (id) {\r\n        this.id = id;\r\n    };\r\n    /**\r\n     * Regenerates current query ID.\r\n     * @param id New Query ID.\r\n     */\r\n    Query.prototype.regenerateId = function () {\r\n        this.id = dataUtils.generateId(\"quer\");\r\n    };\r\n    /**\r\n     * Gets name of the query.\r\n     * @retruns The name.\r\n     */\r\n    Query.prototype.getName = function () {\r\n        return this.name;\r\n    };\r\n    /**\r\n     * Sets name of the query\r\n     * @param name New name.\r\n     */\r\n    Query.prototype.setName = function (name) {\r\n        this.name = name;\r\n    };\r\n    /**\r\n     * Gets description of the query.\r\n     * @retruns The description.\r\n     */\r\n    Query.prototype.getDescription = function () {\r\n        return this.description;\r\n    };\r\n    /**\r\n     * Sets description of the query\r\n     * @param description New description.\r\n     */\r\n    Query.prototype.setDescription = function (description) {\r\n        this.description = description;\r\n    };\r\n    /**\r\n     * Get array of columns.\r\n     * @retruns Columns.\r\n     */\r\n    Query.prototype.getColumns = function () {\r\n        return this.columns;\r\n    };\r\n    /**\r\n     * Get array of columns used only in sorting.\r\n     * @retruns Columns.\r\n     */\r\n    Query.prototype.getJustSortedColumns = function () {\r\n        return this.justsorted;\r\n    };\r\n    /**\r\n     * Gets array of columns used in sorting\r\n     * @retruns Columns\r\n     */\r\n    Query.prototype.getSortedColumns = function () {\r\n        var sortedCols = new Array();\r\n        var cols = this.getColumns()\r\n            .concat(this.getJustSortedColumns());\r\n        for (var i = 0; i < cols.length; i++) {\r\n            var col = cols[i];\r\n            if (col.sortIndex >= 0) {\r\n                sortedCols.push(col);\r\n            }\r\n        }\r\n        sortedCols.sort(function (col1, col2) {\r\n            return col1.sortIndex - col2.sortIndex;\r\n        });\r\n        return sortedCols;\r\n    };\r\n    /**\r\n     * Gets Colummn sorting index.\r\n     * @param col The column.\r\n     * @retruns The index.\r\n     */\r\n    Query.prototype.getColumnSortIndex = function (col) {\r\n        if (col.sorting != SortDirection.None) {\r\n            if (col.sortIndex < 0) {\r\n                var cols = this.getColumns()\r\n                    .concat(this.getJustSortedColumns());\r\n                return dataUtils.indexOfArrayItem(cols, col);\r\n            }\r\n            else {\r\n                return col.sortIndex;\r\n            }\r\n        }\r\n        return -1;\r\n    };\r\n    Query.prototype.createColumn = function (justsorted) {\r\n        if (justsorted === void 0) { justsorted = false; }\r\n        return new Column(this, justsorted);\r\n    };\r\n    /**\r\n     * Adds a new column with specified parameters\r\n     * @param desriptor The descriptor of the new column. Can contain different parameters like:\r\n     * `attribute` - a reference to a EntityAttr object,\r\n     * `attributeId` - an ID of the entity attribute we need (if we don't indicate `attribute`),\r\n     * `index`, sorting`, 'sortIndex` and other\r\n     *\r\n     * @param author The author of this operation. This parameter is used in EasyQuery widgets only to indicate which of the initiates the change.\r\n     * @retruns The column.\r\n     * @example\r\n     * query.addColumn({\r\n     *     attributeId: 'Customers.CompanyName',\r\n     *     sortIndex: SortDirection.Ascending\r\n     * }});\r\n     */\r\n    Query.prototype.addColumn = function (descriptor, author) {\r\n        var columns = (descriptor.justsorted)\r\n            ? this.justsorted\r\n            : this.columns;\r\n        var newColumn;\r\n        if (descriptor.column) {\r\n            newColumn = descriptor.column;\r\n        }\r\n        else {\r\n            newColumn = this.createColumn(descriptor.justsorted);\r\n            var attr = void 0;\r\n            if (descriptor.attribute) {\r\n                attr = descriptor.attribute;\r\n            }\r\n            else if (descriptor.attributeId) {\r\n                attr = this.model.getAttributeById(descriptor.attributeId);\r\n                if (!attr) {\r\n                    throw new Error(\"Incorrect attribute id (\" + descriptor.attributeId + \"): addColumn\");\r\n                }\r\n            }\r\n            else {\r\n                throw new Error(\"Not enought data: addColumn\");\r\n            }\r\n            if (descriptor.aggrFuncId && descriptor.cusomtSql) {\r\n                console.warn(\"Column cannot be created using aggrFuncId and customSql at the same time. \" +\r\n                    \"cusomSql will be used.\");\r\n            }\r\n            if (descriptor.cusomtSql) {\r\n                newColumn.caption = 'Custom SQL Column';\r\n                newColumn.expr.tag = ExprTag.CustomSql;\r\n                newColumn.expr.baseAttrId = attr.id;\r\n                newColumn.expr.sql = descriptor.cusomtSql;\r\n            }\r\n            else if (descriptor.aggrFuncId) {\r\n                newColumn.caption = attr.caption + ' '\r\n                    + this.model.getAggrFunctionCaption(descriptor.aggrFuncId);\r\n                newColumn.expr.tag = ExprTag.AggregateFunction;\r\n                newColumn.expr.func = descriptor.aggrFuncId;\r\n                newColumn.expr.distinct = false;\r\n                var arg = new Expression(newColumn);\r\n                arg.setValue(attr.id, true);\r\n                arg.tag = ExprTag.EntityAttribute;\r\n                newColumn.expr.args.push(arg);\r\n                ;\r\n            }\r\n            else {\r\n                newColumn.caption = attr.caption;\r\n                newColumn.expr.setValue(attr.id, true);\r\n                newColumn.expr.tag = ExprTag.EntityAttribute;\r\n            }\r\n            newColumn.caption = descriptor.caption || newColumn.caption;\r\n            newColumn.sorting = descriptor.sorting || SortDirection.None;\r\n            newColumn.sortIndex = descriptor.sortIndex || -1;\r\n            newColumn.enabled = dataUtils.getIfDefined(descriptor.enabled, true);\r\n            newColumn.setReadOnly(dataUtils.getIfDefined(descriptor.readonly, false));\r\n        }\r\n        if (descriptor.index && descriptor.index >= 0 && descriptor.index < columns.length) {\r\n            columns.splice(descriptor.index, 0, newColumn);\r\n        }\r\n        else {\r\n            columns.push(newColumn);\r\n        }\r\n        return newColumn;\r\n    };\r\n    /**\r\n     * Adds a new column with specified index.\r\n     * @param column The column or array of columns\r\n     * @param index The index of new column\r\n     * @param author The author.\r\n     * @example\r\n     * const column = new Column();\r\n     * column.caption = \"Company name\";\r\n     *\r\n     * query.addColumn(column, 1)\r\n     */\r\n    Query.prototype.addColumnObj = function (column, index, author) {\r\n        var columns = this.columns;\r\n        if (typeof column.length == \"undefined\") {\r\n            if (typeof index == \"number\") {\r\n                columns.splice(index, 0, column);\r\n            }\r\n            else {\r\n                columns.push(column);\r\n            }\r\n        }\r\n        else {\r\n            if (typeof index == \"number\") {\r\n                columns.push.apply(columns, [index, 0].concat(column));\r\n            }\r\n            else {\r\n                columns.push.apply(columns, [].concat(column));\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * Changes column to Aggregate function, custom expression or simple column.\r\n     * @param column The column to change.\r\n     * @param tag New column expression tag.\r\n     * @param args The arguments (Contains aggregate function id)\r\n     */\r\n    Query.prototype.changeColumnType = function (column, tag, args) {\r\n        if (column.isJustSorted())\r\n            return;\r\n        args = args || {};\r\n        if (tag === ExprTag.AggregateFunction) {\r\n            if (!args.funcId)\r\n                throw Error(\"'funcId' argument is not defined\");\r\n            if (column.expr.tag == ExprTag.AggregateFunction) {\r\n                column.expr.func = args.funcId;\r\n                return;\r\n            }\r\n            var exprValue = column.expr.value;\r\n            column.caption = '';\r\n            var expr = new Expression(column);\r\n            expr.tag = ExprTag.AggregateFunction;\r\n            expr.func = args.funcId;\r\n            expr.distinct = false;\r\n            var arg = new Expression(column);\r\n            //arg.id = exprValue;\r\n            arg.setValue(exprValue, true);\r\n            arg.tag = ExprTag.EntityAttribute;\r\n            expr.args.push(arg);\r\n            column.expr = expr;\r\n        }\r\n        else if (tag === ExprTag.CustomSql) {\r\n            var attrId = (column.expr.tag == ExprTag.AggregateFunction)\r\n                ? column.expr.args[0].value\r\n                : column.expr.value;\r\n            column.caption = '';\r\n            var sqlText = '';\r\n            if (this.model) {\r\n                sqlText = this.model.getAttributeById(attrId).expr;\r\n            }\r\n            var customSqlExpr = new Expression(column);\r\n            customSqlExpr.tag = ExprTag.CustomSql;\r\n            customSqlExpr.sql = sqlText;\r\n            customSqlExpr.baseAttrId = attrId;\r\n            column.expr = customSqlExpr;\r\n        }\r\n        else if (tag === ExprTag.EntityAttribute) {\r\n            if (column.expr.tag === ExprTag.EntityAttribute\r\n                || column.expr.tag === ExprTag.ParentEntityAttribute) {\r\n                return;\r\n            }\r\n            var exprId = (column.expr.tag === ExprTag.CustomSql)\r\n                ? column.expr.baseAttrId\r\n                : column.expr.args[0].value;\r\n            column.caption = '';\r\n            var expr = new Expression(column);\r\n            expr.tag = ExprTag.EntityAttribute;\r\n            //expr.id = exprId;\r\n            expr.setValue(exprId, true);\r\n            column.expr = expr;\r\n        }\r\n    };\r\n    /**\r\n     * Moves the column with specified index to another position.\r\n     * @param index1 The index of the column that should be moved.\r\n     * @param index2 The index of the position the column should be moved to\r\n     * @param author The author\r\n     */\r\n    Query.prototype.moveColumn = function (index1, index2) {\r\n        var columns = this.getColumns();\r\n        dataUtils.moveArrayItem(columns, index1, index2);\r\n    };\r\n    /**\r\n     * Removes the column.\r\n     * @param column The column to be removed.\r\n     * @param author The author\r\n     */\r\n    Query.prototype.removeColumn = function (column, author) {\r\n        var columns = (column.isJustSorted())\r\n            ? this.getJustSortedColumns()\r\n            : this.getColumns();\r\n        dataUtils.removeArrayItem(columns, column);\r\n    };\r\n    /**\r\n     * Adds a condition group - a group of simple conditions (predicates) linked by AND or OR\r\n     * @param descriptor The descriptor of the new condition group.\r\n     * @returns The new search condition.\r\n     */\r\n    Query.prototype.addConditionGroup = function (descriptor, addChildCondition) {\r\n        if (addChildCondition === void 0) { addChildCondition = true; }\r\n        console.error(\"Community version doesn't support working with groups.\");\r\n        return null;\r\n    };\r\n    Query.prototype.addExtraConditionGroup = function (descriptor, addChildCondition) {\r\n        if (addChildCondition === void 0) { addChildCondition = true; }\r\n        console.error(\"Community version doesn't support working with groups.\");\r\n        return null;\r\n    };\r\n    Query.prototype.createCondition = function (tag) {\r\n        if (tag === void 0) { tag = CondTag.Simple; }\r\n        return new Condition(this, tag);\r\n    };\r\n    /**\r\n     *  Adds a new simple condition (a predicate)\r\n     * @param descriptor The descriptor which defines different parameters of the new condition\r\n     * @returns The new condition.\r\n     */\r\n    Query.prototype.addSimpleCondition = function (descriptor) {\r\n        var parent = descriptor.parent || this.getRootCondition();\r\n        var model = this.getModel();\r\n        if (!model)\r\n            return null;\r\n        if (!descriptor.attribute && !descriptor.attributeId) {\r\n            throw new Error(\"Either `attribute` or `attributeId` parameter must have a value\");\r\n        }\r\n        if (!descriptor.attribute) {\r\n            descriptor.attribute = model.getAttributeById(descriptor.attributeId);\r\n            if (!descriptor.attribute) {\r\n                throw new Error(\"Could not find this attribute: \" + descriptor.attributeId);\r\n            }\r\n        }\r\n        if (!descriptor.operator && descriptor.operatorId) {\r\n            descriptor.operator = model.getOperatorById(descriptor.operatorId);\r\n        }\r\n        if (!descriptor.operator) {\r\n            descriptor.operator = model.getDefaultOperatorForAttr(descriptor.attribute);\r\n        }\r\n        var cond = this.createSimpleConditionObject(descriptor.attribute, descriptor.operator, descriptor.value);\r\n        parent.addCondition(cond);\r\n        cond.enabled = dataUtils.getIfDefined(descriptor.enabled, true);\r\n        cond.setReadOnly(dataUtils.getIfDefined(descriptor.readonly, false));\r\n        return cond;\r\n    };\r\n    Query.prototype.addSimpleExtraCondition = function (descriptor) {\r\n        descriptor.parent = descriptor.parent || this.extraConditions;\r\n        return this.addSimpleCondition(descriptor);\r\n    };\r\n    Query.prototype.createSimpleConditionObject = function (attr, operator, inputValues) {\r\n        if (!attr || !attr.useInConditions) {\r\n            var attrCaption = attr ? attr.caption : 'NULL';\r\n            throw \"Can't add a condition with such attribute: \" + attrCaption;\r\n        }\r\n        var cond = this.createCondition(CondTag.Simple);\r\n        cond.setOperatorId(operator.id, true);\r\n        var attrExpr = new Expression(cond);\r\n        attrExpr.setValue(attr.id, true);\r\n        attrExpr.tag = this.attributeExprTag;\r\n        attrExpr.kind = DataKind.Attribute;\r\n        attrExpr.dataType = attr.dataType;\r\n        cond.expressions.push(attrExpr);\r\n        var model = this.getModel();\r\n        var valCount = operator.paramCount;\r\n        var values = dataUtils.fillArray(new Array(valCount - 1), null);\r\n        if (inputValues !== null && typeof inputValues !== \"undefined\") {\r\n            if (Array.isArray(inputValues)) {\r\n                dataUtils.copyArrayTo(inputValues, values);\r\n            }\r\n            else if (valCount > 0) {\r\n                values[0] = inputValues;\r\n            }\r\n        }\r\n        var valLength = values.length;\r\n        for (var i = 0; i < valLength; i++) {\r\n            var operand = model.getOperand(attr, operator, i + 1);\r\n            cond.addExpressionByOperand(operand, values[i]);\r\n        }\r\n        return cond;\r\n    };\r\n    /**\r\n     * Removes several columns passed as array.\r\n     * @param columnsToRemove The list of columns to be removed.\r\n     * @param author The author.\r\n     */\r\n    Query.prototype.removeColumns = function (columnsToRemove, author) {\r\n        var justSortedColumns = columnsToRemove.filter(function (c) { return c.isJustSorted(); });\r\n        var columns = columnsToRemove.filter(function (c) { return !c.isJustSorted(); });\r\n        function removeFromArray(arr, arrToRemove) {\r\n            var ctrLen = arrToRemove.length;\r\n            for (var i = 0; i < ctrLen; i++) {\r\n                var index = arr.indexOf(arrToRemove[i]);\r\n                if (index >= 0) {\r\n                    arr.splice(index, 1);\r\n                }\r\n            }\r\n        }\r\n        if (columns.length > 0) {\r\n            removeFromArray(this.getColumns(), columns);\r\n        }\r\n        if (justSortedColumns.length > 0) {\r\n            removeFromArray(this.getJustSortedColumns(), justSortedColumns);\r\n        }\r\n    };\r\n    /**\r\n     * Fires process event.\r\n     * @param data The data.\r\n     */\r\n    Query.prototype.fireProcessEvent = function (data) {\r\n        this.eventEmitter.fire('query.process', data);\r\n    };\r\n    Query.prototype.fireChangedEvent = function (params, postpone, wasModified) {\r\n        if (typeof (postpone) != 'undefined' || typeof (wasModified) != 'undefined') {\r\n            params.postpone = postpone || 0;\r\n            params.wasModified = wasModified;\r\n            console.warn('Method with \\'postpone\\' and \\'wasModified\\' args is deprecated. Pass params in data object');\r\n        }\r\n        this._isModified = typeof (params.wasModified) != 'undefined'\r\n            ? params.wasModified\r\n            : true;\r\n        var eventData = params || {\r\n            part: QueryChangePart.All\r\n        };\r\n        this.eventEmitter.fire('query.change', eventData, params.postpone || 0);\r\n    };\r\n    Query.prototype.fireColumnsChangedEvent = function (action, column, justsorted) {\r\n        if (justsorted === void 0) { justsorted = false; }\r\n        this.fireChangedEvent({\r\n            part: (justsorted)\r\n                ? QueryChangePart.SortingColumns\r\n                : QueryChangePart.Columns,\r\n            action: action,\r\n            changee: column\r\n        });\r\n    };\r\n    Query.prototype.fireConditionsChangedEvent = function (action, condition) {\r\n        this.fireChangedEvent({\r\n            part: QueryChangePart.Conditions,\r\n            action: action,\r\n            changee: condition\r\n        });\r\n    };\r\n    /**\r\n     * Runs through condition with this callback.\r\n     * @param processCondition The function to process condition.\r\n     */\r\n    Query.prototype.runThroughConditions = function (processCondition) {\r\n        var processGroup = function (predicate) {\r\n            for (var i = 0; i < predicate.getConditions().length; i++) {\r\n                var cond = predicate.getConditions()[i];\r\n                if (cond.isGroup()) {\r\n                    processGroup(cond);\r\n                }\r\n                else {\r\n                    if (processCondition)\r\n                        processCondition(cond);\r\n                }\r\n            }\r\n        };\r\n        processGroup(this.getRootCondition());\r\n    };\r\n    /**\r\n     * Gets one value for the attribute\r\n     * @param attrId The attribute ID.\r\n     * @retruns The value.\r\n     */\r\n    Query.prototype.getOneValueForAttr = function (attrId) {\r\n        var res = null;\r\n        this.runThroughConditions(function (cond) {\r\n            if (cond.enabled) {\r\n                var expr = cond.expressions[0];\r\n                var opid = cond.getOperatorId();\r\n                if (expr.value == attrId && cond.expressions[1] &&\r\n                    (opid == \"Equal\" || opid == \"InList\" || opid == \"StartsWith\")) {\r\n                    res = cond.expressions[1].value;\r\n                }\r\n            }\r\n        });\r\n        return res;\r\n    };\r\n    /**\r\n     * Gets root predicate\r\n     * @retruns The condition.\r\n     */\r\n    Query.prototype.getRootCondition = function () {\r\n        return this.root;\r\n    };\r\n    /**\r\n     * Add process callback\r\n     * @param callback The callback.\r\n     * @retruns The callback ID.\r\n     */\r\n    Query.prototype.addProcessCallback = function (callback) {\r\n        return this.eventEmitter.subscribe('query.process', callback);\r\n    };\r\n    /**\r\n     * Remove process callback\r\n     * @param callbackId The callback ID.\r\n     */\r\n    Query.prototype.removeProcessCallback = function (callbackId) {\r\n        this.eventEmitter.unsubscribe('query.process', callbackId);\r\n    };\r\n    /**\r\n     * Add changed callback\r\n     * @param callback The callback ID.\r\n     */\r\n    Query.prototype.addChangedCallback = function (callback) {\r\n        return this.eventEmitter.subscribe('query.change', callback);\r\n    };\r\n    /**\r\n     * Remove changed callback\r\n     * @param callbackId The callback ID.\r\n     */\r\n    Query.prototype.removeChangedCallback = function (callbackId) {\r\n        this.eventEmitter.unsubscribe('query.change', callbackId);\r\n    };\r\n    /**\r\n     * Retruns conditions text\r\n     */\r\n    Query.prototype.getConditionsText = function () {\r\n        var model = this.getModel();\r\n        if (!model)\r\n            return '';\r\n        var getConditionGroupText = function (predicate) {\r\n            var result = '', conjKey = \"Conj\" + equtils.linkTypeToStr(predicate.linkType), conjText = i18n.getText(conjKey), condText, i;\r\n            for (i = 0; i < predicate.getConditions().length; i++) {\r\n                condText = \"\";\r\n                var cond = predicate.getConditions()[i];\r\n                if (cond.enabled || typeof (cond.enabled) === \"undefined\") {\r\n                    if (cond.isGroup()) {\r\n                        condText = getConditionGroupText(cond);\r\n                        if (condText) {\r\n                            condText = \"(\" + condText + \")\";\r\n                        }\r\n                    }\r\n                    else {\r\n                        var opId = cond.getOperatorId();\r\n                        var operator = model.getOperatorById(opId);\r\n                        var parts = equtils.parseOperatorFormat(operator);\r\n                        var plen = parts.length;\r\n                        for (var pi = 0; pi < plen; pi++) {\r\n                            var part = parts[pi];\r\n                            var txt = part.text;\r\n                            if (part.type == \"expression\") {\r\n                                var expr = cond.expressions[part.index];\r\n                                if (expr.kind == DataKind.Attribute || expr.tag == ExprTag.EntityAttribute) {\r\n                                    var attr = model.getAttributeById(expr.value);\r\n                                    txt = model.getAttributeText(attr, \"{entity} {attr}\");\r\n                                }\r\n                                else {\r\n                                    txt = expr.getText();\r\n                                }\r\n                            }\r\n                            if (pi > 0)\r\n                                condText += \" \";\r\n                            condText += txt;\r\n                        }\r\n                    }\r\n                }\r\n                if (condText) {\r\n                    if (i > 0 && result) {\r\n                        result += \" \" + conjText + \" \";\r\n                    }\r\n                    result += condText;\r\n                }\r\n            }\r\n            if (predicate.linkType == LinkType.None || predicate.linkType == LinkType.NotAll) {\r\n                result = \"not ( \" + result + \" )\";\r\n            }\r\n            return result;\r\n        };\r\n        return getConditionGroupText(this.getRootCondition());\r\n    };\r\n    return Query;\r\n}());\r\nexport { Query };\r\n//# sourceMappingURL=query.js.map","import { utils as dataUtils } from '@easydata/core';\r\nimport { Query } from '../query/query';\r\nvar BrowserQueryStorage = /** @class */ (function () {\r\n    function BrowserQueryStorage(context) {\r\n        this.context = context;\r\n    }\r\n    BrowserQueryStorage.prototype.init = function (options) {\r\n        var keyPrefix = 'eq';\r\n        if (options && options.keyPrefix) {\r\n            keyPrefix = options.keyPrefix;\r\n        }\r\n        this.queryListKey = keyPrefix + '-querylist';\r\n        this.queryKeyPrefix = keyPrefix;\r\n    };\r\n    BrowserQueryStorage.prototype.getQueryList = function (options) {\r\n        var _this = this;\r\n        return new Promise(function (resolve, reject) {\r\n            try {\r\n                var itemsString = localStorage.getItem(_this.queryListKey);\r\n                if (itemsString) {\r\n                    resolve(JSON.parse(itemsString));\r\n                }\r\n                resolve([]);\r\n            }\r\n            catch (err) {\r\n                reject(err);\r\n            }\r\n            ;\r\n        });\r\n    };\r\n    BrowserQueryStorage.prototype.newQuery = function (options) {\r\n        var _this = this;\r\n        return new Promise(function (resolve, reject) {\r\n            var query = new Query(_this.context.getModel());\r\n            query.reset();\r\n            if (options && options.name) {\r\n                query.setName(options.name);\r\n            }\r\n            else {\r\n                query.setDefaultName();\r\n            }\r\n            resolve(query.toJSONData());\r\n        });\r\n    };\r\n    BrowserQueryStorage.prototype.loadQuery = function (options) {\r\n        var _this = this;\r\n        return new Promise(function (resolve, reject) {\r\n            try {\r\n                var queryItem = localStorage.getItem(_this.queryKeyPrefix + '-' + options.queryId);\r\n                if (queryItem) {\r\n                    resolve(JSON.parse(queryItem));\r\n                }\r\n                reject(new Error('Query is not found: ' + options.queryId));\r\n            }\r\n            catch (err) {\r\n                reject(err);\r\n            }\r\n        });\r\n    };\r\n    BrowserQueryStorage.prototype.saveQuery = function (options) {\r\n        var _this = this;\r\n        return new Promise(function (resolve, reject) {\r\n            try {\r\n                var modelId = options.modelId || _this.context.getModel().getId();\r\n                var query = options.query || _this.context.getQuery();\r\n                var queryList = [];\r\n                var itemsString = localStorage.getItem(_this.queryListKey);\r\n                if (itemsString) {\r\n                    queryList = JSON.parse(itemsString);\r\n                }\r\n                var item = dataUtils.findItemById(queryList, query.getId());\r\n                if (!item) {\r\n                    queryList.push({ id: query.getId(), name: query.getName(), text: query.getDescription() });\r\n                }\r\n                item.name = query.getName();\r\n                item.text = query.getDescription();\r\n                localStorage.setItem(_this.queryListKey, JSON.stringify(queryList));\r\n                localStorage.setItem(_this.queryKeyPrefix + '-' + query.getId(), query.toJSON());\r\n                resolve(null);\r\n            }\r\n            catch (err) {\r\n                reject(err);\r\n            }\r\n        });\r\n    };\r\n    BrowserQueryStorage.prototype.removeQuery = function (options) {\r\n        var _this = this;\r\n        return new Promise(function (resolve, reject) {\r\n            try {\r\n                var modelId = options.modelId || _this.context.getModel().getId();\r\n                var queryId_1 = options.queryId || _this.context.getQuery().getId();\r\n                var queryList = [];\r\n                var itemsString = localStorage.getItem(_this.queryListKey);\r\n                if (itemsString) {\r\n                    queryList = JSON.parse(itemsString);\r\n                }\r\n                queryList = queryList.filter(function (item) { return item.id != queryId_1; });\r\n                localStorage.setItem(_this.queryListKey, JSON.stringify(queryList));\r\n                localStorage.removeItem(_this.queryKeyPrefix + '-' + queryId_1);\r\n                resolve();\r\n            }\r\n            catch (err) {\r\n                reject(err);\r\n            }\r\n        });\r\n    };\r\n    return BrowserQueryStorage;\r\n}());\r\nexport { BrowserQueryStorage };\r\n//# sourceMappingURL=query_storage.js.map","var EqModelLoader = /** @class */ (function () {\r\n    function EqModelLoader(context) {\r\n        this.context = context;\r\n        this.modelPromise = null;\r\n    }\r\n    EqModelLoader.prototype.init = function (options) {\r\n    };\r\n    EqModelLoader.prototype.getContext = function () {\r\n        return this.context;\r\n    };\r\n    EqModelLoader.prototype.createModelLoadingPromise = function () {\r\n        var _this = this;\r\n        this.modelPromise = new Promise(function (resolve, reject) {\r\n            _this.modelLoadingResolveFunc = resolve;\r\n            _this.modelLoadingRejectFunc = reject;\r\n        });\r\n    };\r\n    /**\r\n     * Returns the `Promise` of the model loading process\r\n     */\r\n    EqModelLoader.prototype.getModelPromise = function () {\r\n        return this.modelPromise\r\n            || Promise.reject(new Error(\"Model has been never loaded.\"));\r\n    };\r\n    EqModelLoader.prototype.startModelLoading = function (options) {\r\n        this.createModelLoadingPromise();\r\n        this.sendLoadModelRequest(options);\r\n        return this.modelPromise;\r\n    };\r\n    return EqModelLoader;\r\n}());\r\nexport { EqModelLoader };\r\n//# sourceMappingURL=model_loader.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { EqModelLoader } from '../main/model_loader';\r\nvar EqServerModelLoader = /** @class */ (function (_super) {\r\n    __extends(EqServerModelLoader, _super);\r\n    function EqServerModelLoader(context) {\r\n        return _super.call(this, context) || this;\r\n    }\r\n    EqServerModelLoader.prototype.init = function () {\r\n    };\r\n    EqServerModelLoader.prototype.sendLoadModelRequest = function (options) {\r\n        var _this = this;\r\n        var context = this.getContext();\r\n        var http = context.getServices().getHttpClient();\r\n        var url = context.resolveEndpoint('GetModel', { modelId: options.modelId });\r\n        http.get(url)\r\n            .then(function (responseData) {\r\n            if (!responseData.model) {\r\n                _this.modelLoadingRejectFunc(new Error('Wrong response format for \"GetModel\" request'));\r\n            }\r\n            _this.modelLoadingResolveFunc(responseData.model);\r\n        })\r\n            .catch(function (error) {\r\n            _this.modelLoadingRejectFunc(error);\r\n        });\r\n    };\r\n    return EqServerModelLoader;\r\n}(EqModelLoader));\r\nexport { EqServerModelLoader };\r\n//# sourceMappingURL=eqs_model_loader.js.map","var EqServerQueryExecutor = /** @class */ (function () {\r\n    function EqServerQueryExecutor(context) {\r\n        this.context = context;\r\n    }\r\n    EqServerQueryExecutor.prototype.executeQuery = function (options) {\r\n        var query = options.query || this.context.getQuery();\r\n        var queryId = query.getId();\r\n        var requestData = {\r\n            'query': query.toJSONData(),\r\n            'options': options.options\r\n        };\r\n        if (options.chunk) {\r\n            requestData['chunk'] = options.chunk;\r\n        }\r\n        if (options.data) {\r\n            requestData['data'] = options.data;\r\n        }\r\n        var url = this.context.resolveEndpoint('ExecuteQuery', { modelId: query.getModel().getId(), queryId: queryId });\r\n        var http = this.context.getServices().getHttpClient();\r\n        return http.post(url, requestData)\r\n            .then(function (data) { return data; });\r\n    };\r\n    return EqServerQueryExecutor;\r\n}());\r\nexport { EqServerQueryExecutor };\r\n//# sourceMappingURL=eqs_query_executor.js.map","var EqServerQuerySynchronizer = /** @class */ (function () {\r\n    function EqServerQuerySynchronizer(context) {\r\n        this.context = context;\r\n    }\r\n    EqServerQuerySynchronizer.prototype.syncQuery = function (options) {\r\n        options = options || {};\r\n        var query = options.query || this.context.getQuery();\r\n        var ops = options.options || {};\r\n        var requestData = {\r\n            'query': query.toJSONData(),\r\n            'options': ops,\r\n        };\r\n        if (options.data) {\r\n            requestData.data = options.data;\r\n        }\r\n        var url = this.context.resolveEndpoint('SyncQuery', { modelId: query.getModel().getId(), queryId: query.getId() });\r\n        var http = this.context.getServices().getHttpClient();\r\n        return http.post(url, requestData)\r\n            .then(function (responseData) { return responseData; });\r\n    };\r\n    return EqServerQuerySynchronizer;\r\n}());\r\nexport { EqServerQuerySynchronizer };\r\n//# sourceMappingURL=eqs_query_synchronizer.js.map","import { utils as dataUtils } from '@easydata/core';\r\nvar EqServerValueListResolver = /** @class */ (function () {\r\n    function EqServerValueListResolver(context) {\r\n        this.context = context;\r\n    }\r\n    EqServerValueListResolver.prototype.loadValueList = function (options) {\r\n        var modelId = options.modelId || this.context.getModel().getId();\r\n        var requestData = dataUtils.assign({ modelId: modelId }, options.params);\r\n        var editorId = requestData.editorId;\r\n        var http = this.context.getServices().getHttpClient();\r\n        var url = this.context.resolveEndpoint('GetValueList', { modelId: modelId, listId: editorId });\r\n        var queryParams = {};\r\n        if (options && options.params && options.params.queryParams) {\r\n            queryParams = options.params.queryParams;\r\n        }\r\n        return http.get(url, { queryParams: queryParams })\r\n            .then(function (responseData) {\r\n            if (responseData && responseData.values) {\r\n                return responseData.values;\r\n            }\r\n            else {\r\n                throw new Error('Wrong response format. No \"values\" property');\r\n            }\r\n        });\r\n    };\r\n    return EqServerValueListResolver;\r\n}());\r\nexport { EqServerValueListResolver };\r\n//# sourceMappingURL=eqs_value_list_resolver.js.map","var EqQueryFileLoader = /** @class */ (function () {\r\n    function EqQueryFileLoader(context) {\r\n        this.context = context;\r\n    }\r\n    EqQueryFileLoader.prototype.getQueryFile = function (options) {\r\n        var query = options.query || this.context.getQuery();\r\n        var url = this.context.resolveEndpoint('GetQueryFile', { modelId: query.getModel().getId(),\r\n            format: options.format || 'xml' });\r\n        var http = this.context.getServices().getHttpClient();\r\n        var actionResult = http.post(url, {\r\n            query: query.toJSONData()\r\n        });\r\n        var request = actionResult.getRequest();\r\n        return actionResult.then(function (responseData) {\r\n            var blob = new Blob([responseData]);\r\n            var fileName = request.getXMLHttpRequest()\r\n                .getResponseHeader(\"Content-Disposition\").match(/filename=\"(.*)\"/)[1];\r\n            if (options.fileName) {\r\n                fileName = options.fileName\r\n                    + fileName.substring(fileName.lastIndexOf('.'));\r\n            }\r\n            if (window.navigator.msSaveOrOpenBlob) {\r\n                // Internet Explorer\r\n                window.navigator.msSaveOrOpenBlob(blob, fileName);\r\n            }\r\n            else {\r\n                var a = document.createElement(\"a\");\r\n                document.body.appendChild(a);\r\n                a.style.display = \"none\";\r\n                a.href = window.URL.createObjectURL(blob);\r\n                a.download = fileName;\r\n                a.click();\r\n                window.URL.revokeObjectURL(a.href);\r\n                document.body.removeChild(a);\r\n            }\r\n        });\r\n    };\r\n    EqQueryFileLoader.prototype.uploadQueryFile = function (options) {\r\n        options = options || {};\r\n        var query = options.query || this.context.getQuery();\r\n        var url = this.context.resolveEndpoint('UploadQueryFile', { modelId: query.getModel().getId() });\r\n        var http = this.context.getServices().getHttpClient();\r\n        return http.post(url, options.data, {\r\n            dataType: 'form-data'\r\n        })\r\n            .then(function (responseData) {\r\n            return responseData.query;\r\n        });\r\n    };\r\n    return EqQueryFileLoader;\r\n}());\r\nexport { EqQueryFileLoader };\r\n//# sourceMappingURL=eqs_query_file_loader.js.map","import { ExprTag } from '../types/expr_tag';\r\nvar EqTotalsContainer = /** @class */ (function () {\r\n    function EqTotalsContainer(context) {\r\n        this.context = context;\r\n        this.levels = {};\r\n    }\r\n    EqTotalsContainer.prototype.setTotals = function (level, data) {\r\n        var desc = this.getLevelDesc(level);\r\n        desc.data = data;\r\n        if (desc.recivedCallbacks) {\r\n            for (var _i = 0, _a = desc.recivedCallbacks; _i < _a.length; _i++) {\r\n                var callback = _a[_i];\r\n                callback(desc.data);\r\n            }\r\n        }\r\n        desc.recivedCallbacks = [];\r\n    };\r\n    EqTotalsContainer.prototype.fillTotals = function (level, row) {\r\n        var _this = this;\r\n        var curQuery = this.context.getQuery();\r\n        // get key columns for the level\r\n        var cols = curQuery.getColumns().filter(function (col) { return col.enabled\r\n            && col.expr.tag == ExprTag.EntityAttribute; });\r\n        cols.pop();\r\n        var keyColumns = cols.slice(0, level);\r\n        // compose key\r\n        var key = {};\r\n        for (var _i = 0, keyColumns_1 = keyColumns; _i < keyColumns_1.length; _i++) {\r\n            var keyCol = keyColumns_1[_i];\r\n            key[keyCol.id] = row.getValue(keyCol.id);\r\n        }\r\n        return new Promise(function (resolve, reject) {\r\n            var desc = _this.getLevelDesc(level);\r\n            var processFunc = function (data) {\r\n                // map values\r\n                var value = data.get(JSON.stringify(key));\r\n                if (value) {\r\n                    for (var field in value) {\r\n                        row.setValue(field, value[field]);\r\n                    }\r\n                    resolve();\r\n                }\r\n                else {\r\n                    reject();\r\n                }\r\n            };\r\n            if (desc.data) {\r\n                processFunc(desc.data);\r\n            }\r\n            else {\r\n                desc.recivedCallbacks.push(processFunc);\r\n            }\r\n        });\r\n    };\r\n    EqTotalsContainer.prototype.getLevelDesc = function (level) {\r\n        var desc = this.levels[level];\r\n        if (!desc) {\r\n            desc = {\r\n                recivedCallbacks: []\r\n            };\r\n        }\r\n        this.levels[level] = desc;\r\n        return desc;\r\n    };\r\n    return EqTotalsContainer;\r\n}());\r\nexport { EqTotalsContainer };\r\nvar DefaultTotalCalculator = /** @class */ (function () {\r\n    function DefaultTotalCalculator(context) {\r\n        this.context = context;\r\n    }\r\n    DefaultTotalCalculator.prototype.getTotals = function () {\r\n        return new EqTotalsContainer(this.context);\r\n    };\r\n    DefaultTotalCalculator.prototype.calculate = function (options) {\r\n        console.warn(\"Grand totals and sub totals calculation can be used in Enterprise version only\");\r\n        return Promise.resolve();\r\n    };\r\n    return DefaultTotalCalculator;\r\n}());\r\nexport { DefaultTotalCalculator };\r\n//# sourceMappingURL=eq_totals_container.js.map","import { HttpClient } from '@easydata/core';\r\nimport { Query } from '../query/query';\r\nimport { DataModel } from '../dm/data_model';\r\nimport { BrowserQueryStorage } from '../main/query_storage';\r\nimport { EqServerModelLoader } from '../eqs/eqs_model_loader';\r\nimport { EqServerQueryExecutor } from '../eqs/eqs_query_executor';\r\nimport { EqServerQuerySynchronizer } from '../eqs/eqs_query_synchronizer';\r\nimport { EqServerValueListResolver } from '../eqs/eqs_value_list_resolver';\r\nimport { EqQueryFileLoader } from '../eqs/eqs_query_file_loader';\r\nimport { DefaultTotalCalculator } from '../data/eq_totals_container';\r\nvar EqServiceProvider = /** @class */ (function () {\r\n    function EqServiceProvider() {\r\n        this.modelLoader = null;\r\n        this.queryStorage = null;\r\n        this.querySynchronizer = null;\r\n        this.queryExecutor = null;\r\n        this.valueListResolver = null;\r\n        this.queryFileLoader = null;\r\n        this.totalCalculator = null;\r\n        this.httpClient = new HttpClient();\r\n        this.httpClient.defaultHeaders['x-eqjs-version'] = '7.0.0';\r\n        this.modelResolver = function (_) { return new DataModel(); };\r\n        this.queryResolver = function (context) { return new Query(context.getModel()); };\r\n        this.modelLoaderResolver = function (context) { return new EqServerModelLoader(context); };\r\n        this.queryStorageResolver = function (context) { return new BrowserQueryStorage(context); };\r\n        this.querySynchronizerResolver = function (context) { return new EqServerQuerySynchronizer(context); };\r\n        this.vlrResolver = function (context) { return new EqServerValueListResolver(context); };\r\n        this.queryExecutorResolver = function (context) { return new EqServerQueryExecutor(context); };\r\n        this.queryFileLoaderResolver = function (context) { return new EqQueryFileLoader(context); };\r\n        this.totalCalculatoResolver = function (context) { return new DefaultTotalCalculator(context); };\r\n    }\r\n    EqServiceProvider.prototype.reset = function () {\r\n        this.modelLoader = null;\r\n        this.queryStorage = null;\r\n        this.querySynchronizer = null;\r\n    };\r\n    EqServiceProvider.prototype.getHttpClient = function () {\r\n        return this.httpClient;\r\n    };\r\n    EqServiceProvider.prototype.createDataModel = function (context) {\r\n        if (!this.modelResolver) {\r\n            throw 'Model resolver is not defined';\r\n        }\r\n        return this.modelResolver(context);\r\n    };\r\n    EqServiceProvider.prototype.createQuery = function (context) {\r\n        if (!this.queryResolver) {\r\n            throw 'Query resolver is not defined';\r\n        }\r\n        return this.queryResolver(context);\r\n    };\r\n    EqServiceProvider.prototype.getModelLoader = function (context) {\r\n        if (!this.modelLoader) {\r\n            if (!this.modelLoaderResolver) {\r\n                throw 'ModelLoaderResolver is not defined';\r\n            }\r\n            this.modelLoader = this.modelLoaderResolver(context);\r\n        }\r\n        return this.modelLoader;\r\n    };\r\n    EqServiceProvider.prototype.getQueryStorage = function (context) {\r\n        if (!this.queryStorage) {\r\n            if (!this.queryStorageResolver) {\r\n                throw 'QueryStorageResolver is not defined';\r\n            }\r\n            this.queryStorage = this.queryStorageResolver(context);\r\n        }\r\n        return this.queryStorage;\r\n    };\r\n    EqServiceProvider.prototype.getQuerySynchronizer = function (context) {\r\n        if (!this.querySynchronizer) {\r\n            if (!this.querySynchronizerResolver) {\r\n                throw 'QuerySynchronizerResolver is not defined';\r\n            }\r\n            this.querySynchronizer = this.querySynchronizerResolver(context);\r\n        }\r\n        return this.querySynchronizer;\r\n    };\r\n    EqServiceProvider.prototype.getQueryExecutor = function (context) {\r\n        if (!this.queryExecutor) {\r\n            if (!this.queryExecutorResolver) {\r\n                throw 'QueryExecutorResolver is not defined';\r\n            }\r\n            this.queryExecutor = this.queryExecutorResolver(context);\r\n        }\r\n        return this.queryExecutor;\r\n    };\r\n    EqServiceProvider.prototype.getValueListResolver = function (context) {\r\n        if (!this.valueListResolver) {\r\n            if (!this.vlrResolver) {\r\n                throw 'Resolver for ValueListResolver is not defined';\r\n            }\r\n            this.valueListResolver = this.vlrResolver(context);\r\n        }\r\n        return this.valueListResolver;\r\n    };\r\n    EqServiceProvider.prototype.getQueryFileLoader = function (context) {\r\n        if (!this.queryFileLoader) {\r\n            if (!this.queryFileLoaderResolver) {\r\n                throw 'Resolver for QueryFileLoader is not defined';\r\n            }\r\n            this.queryFileLoader = this.queryFileLoaderResolver(context);\r\n        }\r\n        return this.queryFileLoader;\r\n    };\r\n    EqServiceProvider.prototype.getTotalCalculator = function (context) {\r\n        if (!this.totalCalculator) {\r\n            if (!this.totalCalculatoResolver) {\r\n                throw 'Resolver for TotalCalculator is not defined';\r\n            }\r\n            this.totalCalculator = this.totalCalculatoResolver(context);\r\n        }\r\n        return this.totalCalculator;\r\n    };\r\n    EqServiceProvider.prototype.registerDataModelResolver = function (resolver) {\r\n        this.modelResolver = resolver;\r\n    };\r\n    EqServiceProvider.prototype.registerQueryResolver = function (resolver) {\r\n        this.queryResolver = resolver;\r\n    };\r\n    EqServiceProvider.prototype.registerModelLoaderResolver = function (resolver) {\r\n        this.modelLoaderResolver = resolver;\r\n    };\r\n    EqServiceProvider.prototype.registerQueryStorageResolver = function (resolver) {\r\n        this.queryStorageResolver = resolver;\r\n    };\r\n    EqServiceProvider.prototype.registerQueryExecutorResolver = function (resolver) {\r\n        this.queryExecutorResolver = resolver;\r\n    };\r\n    EqServiceProvider.prototype.registerQuerySyncronizerResolver = function (resolver) {\r\n        this.querySynchronizerResolver = resolver;\r\n    };\r\n    EqServiceProvider.prototype.registerValueListResolver = function (resolver) {\r\n        this.vlrResolver = resolver;\r\n    };\r\n    EqServiceProvider.prototype.registerQueryFileLoaderResolver = function (resolver) {\r\n        this.queryFileLoaderResolver = resolver;\r\n    };\r\n    EqServiceProvider.prototype.registerTotalCalculator = function (resolver) {\r\n        this.totalCalculatoResolver = resolver;\r\n    };\r\n    return EqServiceProvider;\r\n}());\r\nexport { EqServiceProvider };\r\n//# sourceMappingURL=eq_services.js.map","import { EasyDataTable } from '@easydata/core';\r\nvar EasyQueryDataLoader = /** @class */ (function () {\r\n    function EasyQueryDataLoader(context) {\r\n        this.context = context;\r\n    }\r\n    EasyQueryDataLoader.prototype.loadChunk = function (params) {\r\n        var _this = this;\r\n        // We have to refactor page logic in view to make it simplier to integrate \r\n        // different grids\r\n        this.dataLoadPromise = new Promise(function (resolve, reject) {\r\n            _this.context.fetchDataChunk({\r\n                chunk: params,\r\n                success: function (result) {\r\n                    var dataTable = new EasyDataTable({\r\n                        loader: _this.context.dataLoader,\r\n                        chunkSize: _this.context.resultTable.chunkSize\r\n                    });\r\n                    var resultSet = result.resultSet;\r\n                    for (var _i = 0, _a = resultSet.cols; _i < _a.length; _i++) {\r\n                        var col = _a[_i];\r\n                        dataTable.columns.add(col);\r\n                    }\r\n                    dataTable.setTotal(result.meta.totalRecords);\r\n                    for (var _b = 0, _c = resultSet.rows; _b < _c.length; _b++) {\r\n                        var row = _c[_b];\r\n                        dataTable.addRow(row);\r\n                    }\r\n                    var totalRecords = 0;\r\n                    if (result.meta && result.meta.totalRecords) {\r\n                        totalRecords = result.meta.totalRecords;\r\n                    }\r\n                    resolve({\r\n                        table: dataTable,\r\n                        total: totalRecords,\r\n                        hasNext: !params.needTotal || params.offset + params.limit < totalRecords\r\n                    });\r\n                },\r\n                error: function (error) { return reject(error); }\r\n            });\r\n        });\r\n        return this.dataLoadPromise;\r\n    };\r\n    return EasyQueryDataLoader;\r\n}());\r\nexport { EasyQueryDataLoader };\r\n//# sourceMappingURL=eq_data_loader.js.map","var EqServerExporter = /** @class */ (function () {\r\n    function EqServerExporter(context) {\r\n        this.context = context;\r\n    }\r\n    EqServerExporter.prototype.setFormat = function (format) {\r\n        this.format = format;\r\n    };\r\n    EqServerExporter.prototype.export = function (options) {\r\n        options = options || {};\r\n        var http = this.context.getServices().getHttpClient();\r\n        var format = this.format || \"csv\";\r\n        var query = options.query || this.context.getQuery();\r\n        var queryId = query.getId();\r\n        var modelId = query.getModel().getId();\r\n        var data = {\r\n            'query': query.toJSONData(),\r\n            'settings': options.settings\r\n        };\r\n        var url = this.context.resolveEndpoint('ExportResult', { modelId: modelId, queryId: queryId, format: format });\r\n        var actionResult = http.post(url, data);\r\n        var request = actionResult.getRequest();\r\n        return actionResult.then(function (responseData) {\r\n            var blob = new Blob([responseData]);\r\n            var filename = request.getXMLHttpRequest()\r\n                .getResponseHeader(\"Content-Disposition\").match(/filename=\"(.*)\"/)[1];\r\n            if (window.navigator.msSaveOrOpenBlob) {\r\n                // Internet Explorer\r\n                window.navigator.msSaveOrOpenBlob(blob, filename);\r\n            }\r\n            else {\r\n                var a = document.createElement(\"a\");\r\n                document.body.appendChild(a);\r\n                a.style.display = \"none\";\r\n                a.href = window.URL.createObjectURL(blob);\r\n                a.download = filename;\r\n                a.click();\r\n                window.URL.revokeObjectURL(a.href);\r\n                document.body.removeChild(a);\r\n            }\r\n        });\r\n    };\r\n    return EqServerExporter;\r\n}());\r\nexport { EqServerExporter };\r\n//# sourceMappingURL=eqs_exporter.js.map","var __assign = (this && this.__assign) || function () {\r\n    __assign = Object.assign || function(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n                t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\nimport { EasyDataTable, EventEmitter, utils as dataUtils } from '@easydata/core';\r\nimport { i18n } from '@easydata/core';\r\nimport { EqServiceProvider } from '../common/eq_services';\r\nimport { QueryChangePart } from '../query/query_events';\r\nimport { EqActionResult } from './messages';\r\nimport { WidgetGroup } from '../types/widget_group';\r\nimport { equtils } from '../utils/utils';\r\nimport { EqAction } from './eq_actions';\r\nimport { EqServerExporter } from '../eqs/eqs_exporter';\r\nimport { EasyQueryDataLoader } from '../data/eq_data_loader';\r\nimport { ExprTag } from '../types/expr_tag';\r\nimport { SortDirection } from '../query/column';\r\n/**\r\n * Encapsulates all information about EasyQuery components on some webpage\r\n * and provides some basic operation over those components\r\n * Each context includes the following main components:\r\n *  - one data model,\r\n *  - one query,\r\n *  - one result set\r\n *  - several UI widgets.\r\n */\r\nvar EqContext = /** @class */ (function () {\r\n    function EqContext() {\r\n        var _this = this;\r\n        this.internalListCache = {};\r\n        this.useBootstrap = false;\r\n        this.loadModelOnStart = true;\r\n        this.loadQueryOnStart = false;\r\n        this.calcTotals = false;\r\n        //----------- endpoint processing functions --------------\r\n        this.endpointVarsRegex = /\\{.*?\\}/g;\r\n        this._predefinedListRequestHandlers = {\r\n            '_DSDE': function (params, onResult) {\r\n                var data = _this.getModel().getAllDateMacros()\r\n                    .map(function (macro) {\r\n                    var macroName = macro.match(/\\${{(.*?)}}/)[1];\r\n                    return { id: macro, text: i18n.getText(macroName) };\r\n                });\r\n                onResult(data);\r\n                return true;\r\n            },\r\n            '_DSTE': function (params, onResult) {\r\n                var data = _this.getModel().getAllTimeMacros()\r\n                    .map(function (macro) {\r\n                    var macroName = macro.match(/\\${{(.*?)}}/)[1];\r\n                    return { id: macro, text: i18n.getText(macroName) };\r\n                });\r\n                onResult(data);\r\n                return true;\r\n            }\r\n        };\r\n        this._listRequestHandler = function (params, onResult) {\r\n            if (params == null || !params.listName)\r\n                return;\r\n            var query = _this.getQuery();\r\n            var newParams = dataUtils.assign({ listName: params.listName }, params.editorParams);\r\n            var procParams = {};\r\n            var attrPattern = /@{{(.+?)}}/;\r\n            for (var prop in newParams) {\r\n                if (!procParams[prop])\r\n                    continue;\r\n                var dynamicParam = newParams[prop].match(attrPattern);\r\n                if (dynamicParam) {\r\n                    var paramValue = query.getOneValueForAttr(dynamicParam[1]);\r\n                    if (!paramValue) {\r\n                        paramValue = '';\r\n                    }\r\n                    procParams[prop] = newParams[prop].replace(attrPattern, paramValue);\r\n                }\r\n            }\r\n            var requestPrams = {\r\n                listName: procParams.listName,\r\n                editorId: params.editorId,\r\n                queryParams: procParams\r\n            };\r\n            var list = _this.getListFromCache(params);\r\n            if (list && list.length > 0) {\r\n                onResult(list);\r\n                return;\r\n            }\r\n            var processed = false;\r\n            var predefinedHandler = _this._predefinedListRequestHandlers[params.editorId];\r\n            if (predefinedHandler) {\r\n                processed = predefinedHandler(params, onResult);\r\n            }\r\n            if (!processed && _this.clientListRequestHandler) {\r\n                processed = _this.clientListRequestHandler(params, onResult);\r\n            }\r\n            if (!processed) {\r\n                _this.loadValueList({\r\n                    params: requestPrams,\r\n                    success: function (data) {\r\n                        if (data) {\r\n                            _this.addListToCache(params, data);\r\n                        }\r\n                        onResult(data);\r\n                    },\r\n                    error: function (message) {\r\n                        onResult(null);\r\n                    }\r\n                });\r\n            }\r\n        };\r\n        this.eqServices = new EqServiceProvider();\r\n        this.widgets = new Array();\r\n        this.eventEmitter = new EventEmitter(this);\r\n        this.exporters = new Map();\r\n        this.endpoints = new Map();\r\n        this.dataLoader = new EasyQueryDataLoader(this);\r\n        this.resultTable = new EasyDataTable({\r\n            loader: this.dataLoader\r\n        });\r\n        this.resultTable.id = 'ResultTable';\r\n    }\r\n    EqContext.prototype.getServices = function () {\r\n        return this.eqServices;\r\n    };\r\n    EqContext.prototype.registerExporter = function (format, resolver) {\r\n        this.exporters.set(format, resolver);\r\n    };\r\n    EqContext.prototype.getExporter = function (format) {\r\n        var resolver = this.exporters.get(format);\r\n        if (resolver) {\r\n            return resolver(this);\r\n        }\r\n        return null;\r\n    };\r\n    EqContext.prototype.getExportFormats = function () {\r\n        return Array.from(this.exporters.keys());\r\n    };\r\n    EqContext.prototype.addDefaultExporters = function () {\r\n        this.registerExporter('csv', function (context) {\r\n            var exporter = new EqServerExporter(context);\r\n            exporter.setFormat('csv');\r\n            return exporter;\r\n        });\r\n        this.registerExporter('excel-html', function (context) {\r\n            var exporter = new EqServerExporter(context);\r\n            exporter.setFormat('excel-html');\r\n            return exporter;\r\n        });\r\n    };\r\n    EqContext.prototype.resolveEndpoint = function (endpointKey, options) {\r\n        options = options || {};\r\n        var result = this.endpoints.get(endpointKey);\r\n        if (!result) {\r\n            throw endpointKey + ' endpoint is not defined';\r\n        }\r\n        var matches = result.match(this.endpointVarsRegex);\r\n        if (matches) {\r\n            for (var _i = 0, matches_1 = matches; _i < matches_1.length; _i++) {\r\n                var match = matches_1[_i];\r\n                var opt = match.substring(1, match.length - 1);\r\n                var optVal = options[opt];\r\n                if (!optVal) {\r\n                    if (opt == 'modelId') {\r\n                        optVal = this.getModel().getId();\r\n                    }\r\n                    else if (opt == 'queryId') {\r\n                        optVal = this.getQuery().getId();\r\n                    }\r\n                    else {\r\n                        throw \"Parameter [\" + opt + \"] is not defined\";\r\n                    }\r\n                }\r\n                result = result.replace(match, optVal);\r\n            }\r\n        }\r\n        return result;\r\n    };\r\n    EqContext.prototype.setEndpoint = function (key, value) {\r\n        this.endpoints.set(key, value);\r\n    };\r\n    EqContext.prototype.setEnpointIfNotExist = function (key, value) {\r\n        if (!this.endpoints.has(key))\r\n            this.endpoints.set(key, value);\r\n    };\r\n    EqContext.prototype.setDefaultEndpoints = function (endpointBase) {\r\n        this.setEnpointIfNotExist('GetModel', equtils.combinePath(endpointBase, 'models/{modelId}'));\r\n        this.setEnpointIfNotExist('GetQuery', equtils.combinePath(endpointBase, 'models/{modelId}/queries/{queryId}'));\r\n        this.setEnpointIfNotExist('SaveQuery', equtils.combinePath(endpointBase, 'models/{modelId}/queries/{queryId}'));\r\n        this.setEnpointIfNotExist('SyncQuery', equtils.combinePath(endpointBase, 'models/{modelId}/queries/{queryId}/sync'));\r\n        this.setEnpointIfNotExist('NewQuery', equtils.combinePath(endpointBase, 'models/{modelId}/queries'));\r\n        this.setEnpointIfNotExist('RemoveQuery', equtils.combinePath(endpointBase, 'models/{modelId}/queries/{queryId}'));\r\n        this.setEnpointIfNotExist('GetQueryList', equtils.combinePath(endpointBase, 'models/{modelId}/queries'));\r\n        this.setEnpointIfNotExist('ExecuteQuery', equtils.combinePath(endpointBase, 'models/{modelId}/queries/{queryId}/execute'));\r\n        this.setEnpointIfNotExist('GetValueList', equtils.combinePath(endpointBase, 'models/{modelId}/valuelists/{listId}'));\r\n        this.setEnpointIfNotExist('ExportResult', equtils.combinePath(endpointBase, 'models/{modelId}/queries/{queryId}/export/{format}'));\r\n        this.setEnpointIfNotExist('GetQueryFile', equtils.combinePath(endpointBase, 'models/{modelId}/getqueryfile/{format}'));\r\n        this.setEnpointIfNotExist('UploadQueryFile', equtils.combinePath(endpointBase, 'models/{modelId}/uploadqueryfile'));\r\n    };\r\n    /**\r\n     * Initializes the context\r\n     * @param options\r\n     */\r\n    EqContext.prototype.init = function (options) {\r\n        var _this = this;\r\n        options = options || {};\r\n        if (typeof (options.chunkSize) !== 'undefined') {\r\n            this.resultTable.chunkSize = options.chunkSize;\r\n        }\r\n        var query = this.getQuery();\r\n        if (options.defaultQueryId) {\r\n            query.setId(options.defaultQueryId);\r\n        }\r\n        if (options.listCache) {\r\n            this.setExternalListCache(options.listCache);\r\n        }\r\n        if (options.locale) {\r\n            i18n.setCurrentLocale(options.locale);\r\n        }\r\n        if (options.localeSettings) {\r\n            i18n.updateLocaleSettings(options.localeSettings);\r\n        }\r\n        this.baseEndpoint = 'api/easyquery';\r\n        //for backward compatibility with version 5.x\r\n        var brokerOptions = options.broker;\r\n        if (brokerOptions) {\r\n            if (brokerOptions.serviceUrl) {\r\n                this.baseEndpoint = brokerOptions.serviceUrl;\r\n            }\r\n            if (brokerOptions.endpoint) {\r\n                this.baseEndpoint = brokerOptions.endpoint;\r\n            }\r\n            if (brokerOptions.onLoadModel) {\r\n                this.beforeLoadModel = brokerOptions.onLoadModel;\r\n            }\r\n            if (brokerOptions.onLoadQuery) {\r\n                this.beforeLoadQuery = brokerOptions.onLoadQuery;\r\n            }\r\n            if (brokerOptions.onSyncQuery) {\r\n                this.beforeSyncQuery = brokerOptions.onSyncQuery;\r\n            }\r\n            if (brokerOptions.onExecuteQuery) {\r\n                this.beforeExecuteQuery = brokerOptions.onExecuteQuery;\r\n            }\r\n            if (brokerOptions.onExportResult) {\r\n                this.beforeExportResult = brokerOptions.onExportResult;\r\n            }\r\n            if (brokerOptions.onRequest) {\r\n                var http = this.getServices().getHttpClient();\r\n                http.beforeEachRequest = function (request) { return brokerOptions.onRequest(request.getXMLHttpRequest()); };\r\n            }\r\n        }\r\n        ;\r\n        if (options.endpoint) {\r\n            this.baseEndpoint = options.endpoint;\r\n        }\r\n        this.setDefaultEndpoints(this.baseEndpoint);\r\n        this.loadQueryOnStart = false;\r\n        if (options.loadQueryOnStart) {\r\n            this.loadQueryOnStart = options.loadQueryOnStart;\r\n        }\r\n        this.loadModelOnStart = true;\r\n        if (typeof options.loadModelOnStart !== 'undefined') {\r\n            this.loadModelOnStart = options.loadModelOnStart;\r\n        }\r\n        if (options.handlers) {\r\n            if (options.handlers.onInit) {\r\n                this.addEventListener('ready', function () { return options.handlers.onInit(_this); });\r\n            }\r\n            if (options.handlers.onLoadModel) {\r\n                this.addEventListener('loadModel', options.handlers.onLoadModel);\r\n            }\r\n            if (options.handlers.onLoadQuery) {\r\n                this.addEventListener('loadQuery', options.handlers.onLoadQuery);\r\n            }\r\n            if (options.handlers.onInitialModelLoad) {\r\n                this.addEventListener('initialModelLoad', options.handlers.onInitialModelLoad);\r\n            }\r\n            if (options.handlers.onProcessStart) {\r\n                this.addEventListener('processStart', options.handlers.onProcessStart);\r\n            }\r\n            if (options.handlers.onProcessEnd) {\r\n                this.addEventListener('processEnd', options.handlers.onProcessEnd);\r\n            }\r\n            if (options.handlers.onError) {\r\n                this.addEventListener('error', options.handlers.onError);\r\n            }\r\n            else {\r\n                this.addEventListener('error', function (msg) {\r\n                    msg.result = EqActionResult.Error;\r\n                    var msgTitle = msg && msg ? msg.action + ' error' : 'Error';\r\n                    var msgText = msg && msg.text ? msg.text : '';\r\n                    if (msg.sourceError.message !== msgText) {\r\n                        msgText += '\\n' + msg.sourceError;\r\n                    }\r\n                    console.error(msgTitle + ': ' + msgText);\r\n                });\r\n            }\r\n            if (options.handlers.listRequestHandler) {\r\n                this.clientListRequestHandler = options.handlers.listRequestHandler;\r\n            }\r\n            if (options.handlers.beforeLoadModel) {\r\n                this.beforeLoadModel = options.handlers.beforeLoadModel;\r\n            }\r\n            if (options.handlers.beforeLoadQuery) {\r\n                this.beforeLoadQuery = options.handlers.beforeLoadQuery;\r\n            }\r\n            if (options.handlers.beforeSyncQuery) {\r\n                this.beforeSyncQuery = options.handlers.beforeSyncQuery;\r\n            }\r\n            if (options.handlers.beforeExecuteQuery) {\r\n                this.beforeExecuteQuery = options.handlers.beforeExecuteQuery;\r\n            }\r\n            if (options.handlers.beforeExportResult) {\r\n                this.beforeExportResult = options.handlers.beforeExportResult;\r\n            }\r\n        }\r\n        this.calcTotals = options.calcTotals || false;\r\n        this.initialQuery = options.initialQuery;\r\n        this.defaultQueryId = options.defaultQueryId || '';\r\n        this.defaultModelId = options.defaultModelId || '__default';\r\n        var modelLoader = this.eqServices.getModelLoader(this);\r\n        modelLoader.init(options);\r\n        var queryStorage = this.eqServices.getQueryStorage(this);\r\n        queryStorage.init(options);\r\n        if (options.useDefaultExporters !== false) {\r\n            this.addDefaultExporters();\r\n        }\r\n        //init widgets\r\n        this.widgets.forEach(function (widget) {\r\n            var widgetOptions = {};\r\n            if (options.widgets && options.widgets[widget.getWidgetType()]) {\r\n                widgetOptions = options.widgets[widget.getWidgetType()];\r\n            }\r\n            widget.init(_this, widgetOptions);\r\n        });\r\n        if (this.loadModelOnStart) {\r\n            this.loadDefaultModel();\r\n        }\r\n        else {\r\n            this.fireEvent('ready');\r\n        }\r\n    };\r\n    /**\r\n     * Add a new widget to the context.\r\n     * After that the widget will start to receive messages from other context components.\r\n     * @param widget\r\n     */\r\n    EqContext.prototype.addWidget = function (widget) {\r\n        this.widgets.push(widget);\r\n    };\r\n    /**\r\n     * Returns all widgets with current type.\r\n     * @param widgetType The widget type\r\n     */\r\n    EqContext.prototype.getAllWidgetsByType = function (widgetType) {\r\n        return this.widgets\r\n            .filter(function (widget) { return widget.getWidgetType() === widgetType; });\r\n    };\r\n    /**\r\n     * Returns first registerd widget with current type\r\n     * @param widgetType The widget type\r\n     */\r\n    EqContext.prototype.getWidgetByType = function (widgetType) {\r\n        var widgets = this.getAllWidgetsByType(widgetType);\r\n        return widgets.length > 0 ? widgets[0] : null;\r\n    };\r\n    /**\r\n     * This method is called automatically when some change was made either in context's data model or query\r\n     * @param groups\r\n     */\r\n    EqContext.prototype.refreshWidgets = function (groups) {\r\n        if (groups === void 0) { groups = WidgetGroup.All; }\r\n        this.widgets.forEach(function (widget) {\r\n            if (widget.belongsToGroup(groups)) {\r\n                widget.refresh();\r\n            }\r\n        });\r\n    };\r\n    /**\r\n     * Register a new handler for 'query changed' event\r\n     * @param callback\r\n     */\r\n    EqContext.prototype.addQueryChangedCallback = function (callback) {\r\n        this.getQuery().addChangedCallback(callback);\r\n    };\r\n    /**\r\n     * Removes the function from the list of registerd handlers for 'query changed' event\r\n     * @param callback\r\n     */\r\n    EqContext.prototype.removeQueryChangedCallback = function (callback) {\r\n        this.getQuery().removeChangedCallback(callback);\r\n    };\r\n    /**\r\n     * Creates a new query object using the current instance of EqServices\r\n     */\r\n    EqContext.prototype.createQuery = function () {\r\n        return this.eqServices.createQuery(this);\r\n    };\r\n    /**\r\n     * Gets the current query\r\n     */\r\n    EqContext.prototype.getQuery = function () {\r\n        if (!this.query) {\r\n            this.query = this.createQuery();\r\n        }\r\n        return this.query;\r\n    };\r\n    /**\r\n     * Gets the current data model\r\n     */\r\n    EqContext.prototype.getModel = function () {\r\n        if (!this.dataModel) {\r\n            this.dataModel = this.eqServices.createDataModel(this);\r\n        }\r\n        return this.dataModel;\r\n    };\r\n    /**\r\n     * Sets the content of the current data model\r\n    */\r\n    EqContext.prototype.loadModelFromData = function (modelPlainData) {\r\n        this.getQuery().loadModelData(modelPlainData);\r\n        this.dataModel = this.getQuery().getModel();\r\n    };\r\n    /**\r\n     * Sets the ID of the default model\r\n     * @param modelId\r\n     */\r\n    EqContext.prototype.setDefaultModelId = function (modelId) {\r\n        this.defaultModelId = modelId;\r\n    };\r\n    /**\r\n     * Notifies context components about starting of some long process (e.g. model loading)\r\n     * This method raises onProcessStart event in the context and all its widgets\r\n     * @param message\r\n     * @param groups\r\n     */\r\n    EqContext.prototype.startProcess = function (message, groups) {\r\n        this.eventEmitter.fire('processStart', message);\r\n        this.widgets.forEach(function (widget) {\r\n            if (widget.belongsToGroup(groups)) {\r\n                widget.onProcessStart();\r\n            }\r\n        });\r\n    };\r\n    /**\r\n     * Notifies all context components about the finishing of some long process\r\n     * @param message\r\n     * @param groups\r\n     */\r\n    EqContext.prototype.endProcess = function (message, groups) {\r\n        this.eventEmitter.fire('processEnd', message);\r\n        if (message.result === EqActionResult.Error) {\r\n            this.throwError(message);\r\n        }\r\n        this.widgets.forEach(function (widget) {\r\n            if (widget.belongsToGroup(groups)) {\r\n                widget.onProcessEnd();\r\n            }\r\n        });\r\n    };\r\n    /**\r\n     * Throws the error passed in the function parameter.\r\n     * If onError event handler is defined - we call that method.\r\n     * Otherwise - just place the error message to the browser console.\r\n     * @param error\r\n     */\r\n    EqContext.prototype.throwError = function (msg) {\r\n        msg.result = EqActionResult.Error;\r\n        this.eventEmitter.fire('error', msg);\r\n    };\r\n    /**\r\n     * If `defaultModelId` property is define - this method calls `loadModel` function in the broker\r\n     * to load the model with such ID.\r\n     *\r\n     */\r\n    EqContext.prototype.loadDefaultModel = function () {\r\n        var _this = this;\r\n        this.loadModel({\r\n            modelId: this.defaultModelId,\r\n            silent: true,\r\n            success: function () {\r\n                _this.refreshWidgets(WidgetGroup.Model);\r\n                var query = _this.getQuery();\r\n                _this.fireEvent('initialModelLoad', query.getModel());\r\n                if (_this.initialQuery) {\r\n                    query.loadFromData(_this.initialQuery, false);\r\n                }\r\n                if (_this.loadQueryOnStart) {\r\n                    _this.loadQuery({\r\n                        queryId: _this.defaultQueryId,\r\n                        modelId: _this.defaultModelId,\r\n                        success: function () {\r\n                            _this.refreshWidgets(WidgetGroup.Query);\r\n                            //if we load query on start - then we should call 'ready' event only after its successful loading\r\n                            _this.fireEvent('ready');\r\n                        }\r\n                    });\r\n                }\r\n                else {\r\n                    _this.refreshWidgets(WidgetGroup.Query);\r\n                    _this.fireEvent('ready');\r\n                }\r\n            }\r\n        });\r\n    };\r\n    /**\r\n     * Clears the content of the current query\r\n     */\r\n    EqContext.prototype.clearQuery = function () {\r\n        var query = this.getQuery();\r\n        query.clear();\r\n        query.fireChangedEvent({\r\n            part: QueryChangePart.All\r\n        });\r\n    };\r\n    /**\r\n     * Clears all query results (the data set and the statement, if any)\r\n     */\r\n    EqContext.prototype.clearResult = function () {\r\n        this.resultTable.clear(); // do not set resultTable to null. Just clear\r\n        this.resultStatement = null;\r\n        this.resultContent = null;\r\n    };\r\n    /**\r\n     * Sets the external 'list cache' provider - an object which implements `ExternalListCache` inteface\r\n     * @param cache\r\n     */\r\n    EqContext.prototype.setExternalListCache = function (cache) {\r\n        this.externalListCache = cache;\r\n    };\r\n    EqContext.prototype.getListFromCache = function (params) {\r\n        var key = this.getListCacheKey(params);\r\n        if (this.externalListCache) {\r\n            return this.externalListCache.get(key);\r\n        }\r\n        else {\r\n            return this.internalListCache[key];\r\n        }\r\n    };\r\n    EqContext.prototype.getListCacheKey = function (params) {\r\n        var key = params.listName == 'SQL' ? 'SQL_' + params.editorId : params.listName;\r\n        if (params.queryParams) {\r\n            key += '_' + Object.keys(params.queryParams).filter(function (k) { return k != 'listName'; })\r\n                .map(function (k) { return params.queryParams[k]; })\r\n                .join('_');\r\n        }\r\n        return key;\r\n    };\r\n    EqContext.prototype.addListToCache = function (params, list) {\r\n        var key = this.getListCacheKey(params);\r\n        if (this.externalListCache) {\r\n            this.externalListCache.set(key, list);\r\n        }\r\n        else {\r\n            this.internalListCache[key] = list;\r\n        }\r\n    };\r\n    /**\r\n     * Clears the current list cache.\r\n     */\r\n    EqContext.prototype.resetListCache = function () {\r\n        if (this.externalListCache) {\r\n            this.externalListCache.clear();\r\n        }\r\n        else {\r\n            this.internalListCache = {};\r\n        }\r\n    };\r\n    /**\r\n     * Gets the handler for 'GetList' requests\r\n     */\r\n    EqContext.prototype.getListRequestHandler = function () {\r\n        return this._listRequestHandler;\r\n    };\r\n    /**\r\n     * Adds the translations of the EasyQuery messages for some locale\r\n     * @param locale - the ISO code of the locale (like `en` or `uk`)\r\n     * @param localeInfo - Locale settings and translations of EasyQuery texts and messages.\r\n     * We expected an object with the struture of LocaleInfo interface here.\r\n     */\r\n    EqContext.prototype.addLocale = function (locale, localeInfo) {\r\n        i18n.addLocale(locale, localeInfo);\r\n    };\r\n    EqContext.prototype.addEventListener = function (eventType, handler) {\r\n        return this.eventEmitter.subscribe(eventType, function (event) { return handler(event.data); });\r\n    };\r\n    /**\r\n     * Remove event handler for event type .\r\n     * @param eventType The event type.\r\n     * @param handlerId The handler id.\r\n     */\r\n    EqContext.prototype.removeEventListener = function (eventType, handlerId) {\r\n        this.eventEmitter.unsubscribe(eventType, handlerId);\r\n    };\r\n    EqContext.prototype.fireEvent = function (eventType, data) {\r\n        this.eventEmitter.fire(eventType, data);\r\n    };\r\n    EqContext.prototype.getBaseEndpoint = function () {\r\n        return this.baseEndpoint;\r\n    };\r\n    /**\r\n     * Sends a `loadValueList` requesthe server and processes the response.\r\n     * @param options A map of options to pass to `loadValueList` function.\r\n     */\r\n    EqContext.prototype.loadValueList = function (options) {\r\n        var _this = this;\r\n        options = options || {};\r\n        this.startProcess({\r\n            action: EqAction.GetValueList,\r\n            text: 'Loading values'\r\n        }, WidgetGroup.Result);\r\n        var valueListResolver = this.eqServices.getValueListResolver(this);\r\n        valueListResolver.loadValueList(options)\r\n            .then(function (values) {\r\n            _this.endProcess({\r\n                result: EqActionResult.Success,\r\n                action: EqAction.GetValueList,\r\n                text: 'Values loaded'\r\n            }, WidgetGroup.Result);\r\n            if (options.success) {\r\n                options.success(values);\r\n            }\r\n        })\r\n            .catch(function (error) {\r\n            var editorId = options && options.params ? options.params.editorId : 'undefined';\r\n            var errorMessage = \"Can't load the value list for editor \" + editorId + \".\\n \" + error.message;\r\n            _this.endProcess({\r\n                result: EqActionResult.Error,\r\n                action: EqAction.GetValueList,\r\n                text: errorMessage,\r\n                sourceError: error\r\n            }, WidgetGroup.Result);\r\n            if (options.error) {\r\n                options.error(errorMessage, 'GetValueList');\r\n            }\r\n        });\r\n    };\r\n    /**\r\n     * Starts the process of the model loading.\r\n     * This method can initiate a request to EasyQueryServer backend or get the model from OData or GraphQL endpoint\r\n     * The content of the `options` parameter depends on concrete loader implementation.\r\n     * @param options A map of options to pass to `loadModel` function (can be ommited)\r\n     * @example\r\n     * context.loadModel()\r\n     *    .then(model => {\r\n     *       alert(\"Model loaded!\");\r\n     *    });\r\n     */\r\n    EqContext.prototype.loadModel = function (options) {\r\n        var _this = this;\r\n        if (this.beforeLoadModel) {\r\n            this.beforeLoadModel(this, options);\r\n        }\r\n        var modelId = options.modelId || '__default';\r\n        var silent = options.silent || false;\r\n        this.startProcess({\r\n            action: EqAction.LoadModel,\r\n            text: 'Loading model: ' + modelId\r\n        }, WidgetGroup.Model);\r\n        var modelLoader = this.eqServices.getModelLoader(this);\r\n        return modelLoader.startModelLoading(options)\r\n            .then(function (value) {\r\n            if (value) {\r\n                _this.loadModelFromData(value);\r\n            }\r\n            _this.endProcess({\r\n                result: EqActionResult.Success,\r\n                action: EqAction.LoadModel,\r\n                text: 'Model loaded: ' + modelId\r\n            }, WidgetGroup.Model);\r\n            if (!silent) {\r\n                _this.clearQuery();\r\n                _this.clearResult();\r\n                _this.refreshWidgets();\r\n            }\r\n            if (options.success) {\r\n                options.success(_this.getModel());\r\n            }\r\n            _this.fireEvent('loadModel', _this.getModel());\r\n            return _this.getModel();\r\n        })\r\n            .catch(function (error) {\r\n            var errorMessage = \"Can't load model \" + modelId + \".\\n \" + error.message;\r\n            _this.endProcess({\r\n                result: EqActionResult.Error,\r\n                action: EqAction.LoadModel,\r\n                text: errorMessage,\r\n                sourceError: error\r\n            }, WidgetGroup.Model);\r\n            if (options.error) {\r\n                options.error(errorMessage, \"LoadModel\");\r\n            }\r\n            return _this.getModel();\r\n        });\r\n    };\r\n    EqContext.prototype.callWhenModelLoaded = function (callFunc) {\r\n        var modelLoader = this.eqServices.getModelLoader(this);\r\n        modelLoader.getModelPromise().then(function () {\r\n            callFunc();\r\n        });\r\n    };\r\n    /**\r\n     * Loads the query\r\n     * @param options\r\n     * The content of the `options` parameter depends on `QueryStorage` implementation.\r\n     * Usually it contains `success`, `error` callbacks and `id` option of query to load.\r\n     * @example\r\n     * context.loadQuery({\r\n     *      id: \"query-id\"\r\n     * });\r\n     */\r\n    EqContext.prototype.loadQuery = function (options) {\r\n        var _this = this;\r\n        options = options || {};\r\n        var modelLoader = this.eqServices.getModelLoader(this);\r\n        this.clearResult();\r\n        modelLoader.getModelPromise()\r\n            .then(function () {\r\n            options = options || {};\r\n            var queryId = options.queryId;\r\n            var silent = options.silent || false;\r\n            if (_this.beforeLoadQuery) {\r\n                _this.beforeLoadQuery(_this, options);\r\n            }\r\n            _this.startProcess({\r\n                action: EqAction.LoadQuery,\r\n                text: \"Query loading: \" + queryId\r\n            }, WidgetGroup.Query);\r\n            var queryStorage = _this.eqServices.getQueryStorage(_this);\r\n            queryStorage.loadQuery(options)\r\n                .then(function (data) {\r\n                _this.endProcess({\r\n                    result: EqActionResult.Success,\r\n                    action: EqAction.LoadQuery,\r\n                    text: 'Query loaded: ' + queryId\r\n                }, WidgetGroup.Query);\r\n                if (data)\r\n                    _this.query.loadFromData(data);\r\n                _this.query.resetModified();\r\n                if (!silent) {\r\n                    _this.query.fireChangedEvent({\r\n                        part: QueryChangePart.Properties,\r\n                        wasModified: _this.query.isModified()\r\n                    });\r\n                    _this.refreshWidgets();\r\n                }\r\n                _this.fireEvent('loadQuery', _this.query);\r\n                if (options.success) {\r\n                    options.success(_this.query);\r\n                }\r\n            })\r\n                .catch(function (error) {\r\n                var query = _this.getQuery();\r\n                error.message = \"Can't sync query [\" + query.getId() + \"]\\n\" + (error.message || \"\");\r\n                _this.endProcess({\r\n                    result: EqActionResult.Error,\r\n                    action: EqAction.LoadQuery,\r\n                    text: error.message,\r\n                    sourceError: error\r\n                }, WidgetGroup.Query);\r\n            });\r\n        })\r\n            .catch(function (error) {\r\n            console.error(error);\r\n        });\r\n    };\r\n    /**\r\n     * Loads the list of queries available for the current user.\r\n     * @param options\r\n     * The content of the `options` parameter depends on `QueryStorage` implementation.\r\n     * Usually it contains `success`, `error` callbacks\r\n     */\r\n    EqContext.prototype.loadQueryList = function (options) {\r\n        var _this = this;\r\n        var modelLoader = this.eqServices.getModelLoader(this);\r\n        modelLoader.getModelPromise()\r\n            .then(function () {\r\n            _this.startQueryListLoading(options);\r\n        })\r\n            .catch(function (error) {\r\n            var errorMessage = \"Can't load the list of available queries.\\n \" + error.message;\r\n            _this.throwError({\r\n                action: EqAction.LoadQueryList,\r\n                text: errorMessage,\r\n                sourceError: error\r\n            });\r\n        });\r\n    };\r\n    EqContext.prototype.startQueryListLoading = function (options) {\r\n        var _this = this;\r\n        options = options || {};\r\n        var queryStorage = this.eqServices.getQueryStorage(this);\r\n        var queryListLoadingPromise = queryStorage.getQueryList(options);\r\n        queryListLoadingPromise\r\n            .then(function (queries) {\r\n            if (options.success) {\r\n                options.success(queries);\r\n            }\r\n        })\r\n            .catch(function (error) {\r\n            var errorMessage = \"Can't load the list of available queries.\\n \" + error.message;\r\n            if (options.error) {\r\n                options.error(errorMessage, 'LoadQueryList');\r\n            }\r\n            else {\r\n                _this.throwError({\r\n                    action: EqAction.LoadQueryList,\r\n                    text: errorMessage,\r\n                    sourceError: error\r\n                });\r\n            }\r\n        });\r\n    };\r\n    /**\r\n     * Creates a new query and returns its content back to the client-side.\r\n     * @param options\r\n     * The content of the `options` parameter depends on `QueryStorage` implementation.\r\n     * Usually it contains `success`, `error` callbacks and `silent` option\r\n     * @example\r\n     * context.newQuery({\r\n     *    silent: true\r\n     * });\r\n     */\r\n    EqContext.prototype.newQuery = function (options) {\r\n        var _this = this;\r\n        options = options || {};\r\n        var clearQuery = typeof options.clearQuery !== 'undefined' ? options.clearQuery : true;\r\n        this.query.reset(clearQuery);\r\n        if (options.queryId) {\r\n            this.query.setId(options.queryId);\r\n        }\r\n        if (options.name) {\r\n            this.query.setName(options.name);\r\n        }\r\n        var silent = options.silent || false;\r\n        var useStorage = true;\r\n        if (typeof options.useStorage !== 'undefined') {\r\n            useStorage = options.useStorage;\r\n        }\r\n        var onNewQuery = function () {\r\n            var query = _this.getQuery();\r\n            query.isNewbie = true;\r\n            if (!silent) {\r\n                query.fireChangedEvent({\r\n                    part: QueryChangePart.All,\r\n                    wasModified: query.isModified()\r\n                });\r\n            }\r\n        };\r\n        if (useStorage) {\r\n            this.startProcess({\r\n                action: EqAction.NewQuery,\r\n                text: 'New query creation...'\r\n            }, WidgetGroup.Query);\r\n            var queryStorage = this.eqServices.getQueryStorage(this);\r\n            queryStorage.newQuery(options)\r\n                .then(function () {\r\n                _this.endProcess({\r\n                    result: EqActionResult.Success,\r\n                    action: EqAction.NewQuery,\r\n                    text: 'A new query has been created'\r\n                }, WidgetGroup.Query);\r\n                onNewQuery();\r\n                if (options.success) {\r\n                    options.success();\r\n                }\r\n            })\r\n                .catch(function (error) {\r\n                var errorMessage = \"Can't create a new query.\\n\" + error.message;\r\n                _this.endProcess({\r\n                    result: EqActionResult.Error,\r\n                    action: EqAction.NewQuery,\r\n                    text: errorMessage,\r\n                    sourceError: error\r\n                }, WidgetGroup.Query);\r\n                if (options.error) {\r\n                    options.error(errorMessage, \"NewQuery\");\r\n                }\r\n            });\r\n        }\r\n        else {\r\n            onNewQuery();\r\n        }\r\n        return this.query;\r\n    };\r\n    /**\r\n     * Saves the current query to some storage on the server-side.\r\n     * @param options\r\n     * The content of the `options` parameter depends on `QueryStorage` implementation.\r\n     * Usually it contains `success` and `error` callbacks\r\n     */\r\n    EqContext.prototype.saveQuery = function (options) {\r\n        var _this = this;\r\n        options = options || {};\r\n        var query = this.getQuery();\r\n        this.startProcess({\r\n            action: EqAction.SaveQuery,\r\n            text: 'Query saving: ' + query.getId()\r\n        }, WidgetGroup.Query);\r\n        var queryStorage = this.eqServices.getQueryStorage(this);\r\n        queryStorage.saveQuery(options)\r\n            .then(function (data) {\r\n            _this.endProcess({\r\n                action: EqAction.SaveQuery,\r\n                result: EqActionResult.Success,\r\n                text: \"Query saved: \" + query.getId()\r\n            }, WidgetGroup.Query);\r\n            if (data) {\r\n                query.loadFromData(data);\r\n            }\r\n            query.resetModified();\r\n            query.isNewbie = false;\r\n            if (options.success) {\r\n                options.success();\r\n            }\r\n        })\r\n            .catch(function (error) {\r\n            var errorMessage = \"Can't save query \" + query.getId() + \".\\n \" + error.message;\r\n            _this.endProcess({\r\n                action: EqAction.SaveQuery,\r\n                result: EqActionResult.Error,\r\n                text: errorMessage,\r\n                sourceError: error\r\n            }, WidgetGroup.Query);\r\n            if (options.error) {\r\n                options.error(errorMessage, \"SaveQuery\");\r\n            }\r\n        });\r\n    };\r\n    /**\r\n     * Removes the current query from some storage on the server-side.\r\n     * @param options\r\n     * The content of the `options` parameter depends on `QueryStorage` implementation.\r\n     * Usually it contains `success` and `error` callbacks\r\n     */\r\n    EqContext.prototype.removeQuery = function (options) {\r\n        var _this = this;\r\n        options = options || {};\r\n        var query = this.getQuery();\r\n        this.startProcess({\r\n            action: EqAction.RemoveQuery,\r\n            text: 'Query deleting: ' + query.getId()\r\n        }, WidgetGroup.Query);\r\n        var queryStorage = this.eqServices.getQueryStorage(this);\r\n        queryStorage.removeQuery(options)\r\n            .then(function () {\r\n            query.reset();\r\n            _this.endProcess({\r\n                action: EqAction.RemoveQuery,\r\n                result: EqActionResult.Success,\r\n                text: \"Query deleted: \" + query.getId()\r\n            }, WidgetGroup.Query);\r\n            if (options.success) {\r\n                options.success();\r\n            }\r\n        })\r\n            .catch(function (error) {\r\n            var errorMessage = \"Can't remove query \" + query.getId() + \".\\n \" + error.message;\r\n            _this.endProcess({\r\n                action: EqAction.RemoveQuery,\r\n                result: EqActionResult.Error,\r\n                text: errorMessage,\r\n                sourceError: error\r\n            }, WidgetGroup.Query);\r\n            if (options.error) {\r\n                options.error(errorMessage, 'RemoveQuery');\r\n            }\r\n        });\r\n    };\r\n    /**\r\n     * Syncronizes the current query.\r\n     * @param options\r\n     * The content of the `options` parameter depends on `QuerySyncronizer` implementation.\r\n     * Usually it contains `success` and `error` callbacks\r\n     */\r\n    EqContext.prototype.syncQuery = function (options) {\r\n        var _this = this;\r\n        options = options || {};\r\n        var query = this.getQuery();\r\n        if (this.beforeSyncQuery) {\r\n            this.beforeSyncQuery(this, options);\r\n        }\r\n        this.startProcess({\r\n            action: EqAction.SyncQuery,\r\n            text: 'Query syncing: ' + query.getId()\r\n        }, WidgetGroup.Query);\r\n        var querySyncrhonizer = this.eqServices.getQuerySynchronizer(this);\r\n        querySyncrhonizer.syncQuery(options)\r\n            .then(function (result) {\r\n            _this.endProcess({\r\n                result: EqActionResult.Success,\r\n                action: EqAction.SyncQuery,\r\n                text: 'Query synced: ' + query.getId()\r\n            }, WidgetGroup.Query);\r\n            _this.resultStatement = result && result.statement\r\n                ? result.statement\r\n                : '';\r\n            _this.refreshWidgets(WidgetGroup.Statement);\r\n            if (result) {\r\n                if (result.querySaved) {\r\n                    var q = result.query;\r\n                    if (q) {\r\n                        query.setId(q.id);\r\n                        query.setName(q.name);\r\n                        query.setDescription(q.desc);\r\n                        query.extraData = q.extraData;\r\n                    }\r\n                    query.resetModified();\r\n                    _this.refreshWidgets(WidgetGroup.QueryStatus);\r\n                }\r\n                if (options.success) {\r\n                    options.success(result);\r\n                }\r\n            }\r\n        })\r\n            .catch(function (error) {\r\n            var errorMessage = \"Can't synchronize query \" + query.getId() + \".\\n \" + error.message;\r\n            _this.endProcess({\r\n                result: EqActionResult.Error,\r\n                action: EqAction.SyncQuery,\r\n                text: errorMessage,\r\n                sourceError: error\r\n            }, WidgetGroup.Query);\r\n            if (options.error) {\r\n                options.error(errorMessage, 'SyncQuery');\r\n            }\r\n        });\r\n    };\r\n    EqContext.prototype.processQueryForTotals = function () {\r\n        var cols = this.query.getColumns()\r\n            .filter(function (col) { return col.expr.tag == ExprTag.EntityAttribute && col.enabled; });\r\n        cols.pop();\r\n        cols.forEach(function (col, index) {\r\n            if (col.sorting == SortDirection.None) {\r\n                col.sorting = SortDirection.Ascending;\r\n            }\r\n            col.sortIndex = index;\r\n        });\r\n        this.query.fireColumnsChangedEvent();\r\n    };\r\n    /**\r\n     * Executes the current query and processes the result.\r\n     * @param options\r\n     * The content of the `options` parameter depends on `QueryExecutor` implementation.\r\n     * Usually it contains `success` and `error` callbacks\r\n     * @example\r\n     * context.executeQuery({ success: function(result) {\r\n     *   //do whatever you want with result\r\n     * }})\r\n     *\r\n     */\r\n    EqContext.prototype.executeQuery = function (options) {\r\n        var _this = this;\r\n        options = options || {};\r\n        options.chunk = options.chunk ||\r\n            {\r\n                offset: 0,\r\n                limit: this.resultTable.chunkSize,\r\n                needTotal: true\r\n            };\r\n        if (!this.query.tryValidate({\r\n            checkExpressions: true\r\n        })) {\r\n            return;\r\n        }\r\n        if (this.calcTotals && this.query.hasEnabledAggrColumns()) {\r\n            this.processQueryForTotals();\r\n        }\r\n        this.fetchDataChunk(__assign({}, options, { success: function (result) {\r\n                if (result.statement) {\r\n                    _this.resultStatement = result.statement;\r\n                    _this.refreshWidgets(WidgetGroup.Statement);\r\n                }\r\n                _this.resultContent = result;\r\n                if (result.resultSet) {\r\n                    _this.resultTable.clear();\r\n                    var resultSet = result.resultSet;\r\n                    for (var _i = 0, _a = resultSet.cols; _i < _a.length; _i++) {\r\n                        var col = _a[_i];\r\n                        _this.resultTable.columns.add(col);\r\n                    }\r\n                    _this.resultTable.setTotal(result.meta.totalRecords);\r\n                    for (var _b = 0, _c = resultSet.rows; _b < _c.length; _b++) {\r\n                        var row = _c[_b];\r\n                        _this.resultTable.addRow(row);\r\n                    }\r\n                }\r\n                if (options.success) {\r\n                    options.success(result);\r\n                }\r\n            } }));\r\n    };\r\n    EqContext.prototype.getQueryFile = function (options) {\r\n        var _this = this;\r\n        var query = this.getQuery();\r\n        this.startProcess({\r\n            action: EqAction.GetQueryFile,\r\n            text: 'Getting query file: ' + query.getId()\r\n        }, WidgetGroup.Query);\r\n        var queryFileLoader = this.getServices().getQueryFileLoader(this);\r\n        queryFileLoader.getQueryFile(options)\r\n            .then(function () {\r\n            _this.endProcess({\r\n                result: EqActionResult.Success,\r\n                action: EqAction.GetQueryFile,\r\n                text: 'Getting query file: ' + query.getId()\r\n            }, WidgetGroup.Result);\r\n            if (options.success) {\r\n                options.success();\r\n            }\r\n        })\r\n            .catch(function (error) {\r\n            var errorMessage = \"Can't get file for query \" + query.getId() + \".\\n \" + error.message;\r\n            _this.endProcess({\r\n                result: EqActionResult.Error,\r\n                action: EqAction.GetQueryFile,\r\n                text: errorMessage,\r\n                sourceError: error\r\n            }, WidgetGroup.Query);\r\n            if (options.error) {\r\n                options.error(errorMessage, 'GetQueryFile');\r\n            }\r\n        });\r\n    };\r\n    EqContext.prototype.uploadQueryFile = function (options) {\r\n        var _this = this;\r\n        var query = this.getQuery();\r\n        this.startProcess({\r\n            action: EqAction.UploadQueryFile,\r\n            text: 'Uploading query file: ' + query.getId()\r\n        }, WidgetGroup.Query);\r\n        var queryFileLoader = this.getServices().getQueryFileLoader(this);\r\n        queryFileLoader.uploadQueryFile(options)\r\n            .then(function (data) {\r\n            query.loadFromData(data);\r\n            _this.refreshWidgets();\r\n            _this.endProcess({\r\n                result: EqActionResult.Success,\r\n                action: EqAction.UploadQueryFile,\r\n                text: 'Uploading query file: ' + query.getId()\r\n            }, WidgetGroup.Result);\r\n            _this.fireEvent('loadQuery', query);\r\n            if (options.success) {\r\n                options.success();\r\n            }\r\n        })\r\n            .catch(function (error) {\r\n            var errorMessage = \"Can't upload a file for query \" + query.getId() + \".\\n \" + error.message;\r\n            _this.endProcess({\r\n                result: EqActionResult.Error,\r\n                action: EqAction.UploadQueryFile,\r\n                text: errorMessage,\r\n                sourceError: error\r\n            }, WidgetGroup.Query);\r\n            if (options.error) {\r\n                options.error(errorMessage, 'UploadQueryFile');\r\n            }\r\n        });\r\n    };\r\n    EqContext.prototype.fetchDataChunk = function (options) {\r\n        var _this = this;\r\n        if (this.beforeExecuteQuery) {\r\n            this.beforeExecuteQuery(this, options);\r\n        }\r\n        var queryId = this.getQuery().getId();\r\n        this.startProcess({\r\n            action: EqAction.FetchData,\r\n            text: 'Fetching data for query: ' + queryId\r\n        }, WidgetGroup.Result);\r\n        var queryExecutor = this.eqServices.getQueryExecutor(this);\r\n        queryExecutor.executeQuery(options)\r\n            .then(function (result) {\r\n            if (result.statement) {\r\n                _this.resultStatement = result.statement;\r\n            }\r\n            _this.resultContent = result;\r\n            if (_this.calcTotals && _this.query.hasEnabledAggrColumns()) {\r\n                var calculator = _this.getServices().getTotalCalculator(_this);\r\n                calculator.calculate({\r\n                    maxLevel: _this.query.getColumns()\r\n                        .filter(function (col) { return col.expr.tag == ExprTag.EntityAttribute\r\n                        && col.enabled; }).length\r\n                });\r\n            }\r\n            _this.endProcess({\r\n                result: EqActionResult.Success,\r\n                action: EqAction.FetchData,\r\n                text: 'Data fetching finished for query: ' + queryId\r\n            }, WidgetGroup.Result);\r\n            if (options.success) {\r\n                options.success(result);\r\n            }\r\n        })\r\n            .catch(function (error) {\r\n            var errorMessage = \"Data fetching error for query \" + queryId + \". \\n\" + error.message;\r\n            _this.endProcess({\r\n                result: EqActionResult.Error,\r\n                action: EqAction.FetchData,\r\n                text: errorMessage,\r\n                sourceError: error\r\n            }, WidgetGroup.Result);\r\n            if (options.error) {\r\n                options.error(errorMessage, EqAction.FetchData);\r\n            }\r\n        });\r\n    };\r\n    /**\r\n     * Executes the drill-down query and processes the result.\r\n     * @param options\r\n     */\r\n    EqContext.prototype.executeDrillDown = function (options) {\r\n        var _this = this;\r\n        options = options || {};\r\n        options.chunk = options.chunk ||\r\n            {\r\n                offset: 0,\r\n                limit: this.resultTable.chunkSize,\r\n                needTotal: true\r\n            };\r\n        var query = options.query;\r\n        var queryId = query.getId();\r\n        this.startProcess({\r\n            action: EqAction.ExecuteQuery,\r\n            text: 'DrillDown executing: ' + queryId\r\n        }, WidgetGroup.Result);\r\n        var queryExecutor = this.eqServices.getQueryExecutor(this);\r\n        queryExecutor.executeQuery(options)\r\n            .then(function (result) {\r\n            _this.endProcess({\r\n                result: EqActionResult.Success,\r\n                action: EqAction.ExecuteQuery,\r\n                text: 'DrillDown execution error: ' + queryId\r\n            }, WidgetGroup.Result);\r\n            if (options.success) {\r\n                options.success(result);\r\n            }\r\n        })\r\n            .catch(function (error) {\r\n            var errorMessage = \"Drill-down data fetching error for query \" + queryId + \". \\n\" + error.message;\r\n            _this.endProcess({\r\n                result: EqActionResult.Error,\r\n                action: EqAction.ExecuteQuery,\r\n                text: errorMessage,\r\n            }, WidgetGroup.Result);\r\n            if (options.error) {\r\n                options.error(errorMessage, 'DrillDown');\r\n            }\r\n            else {\r\n                _this.throwError({\r\n                    action: EqAction.ExecuteQuery,\r\n                    text: errorMessage\r\n                });\r\n            }\r\n        });\r\n    };\r\n    /**\r\n     * Executes the current query and exports the result to the specified format.\r\n     * @param options\r\n     * The content of the `options` parameter depends on `EqExporter` implementation.\r\n     * Usually it contains `format` property which defines the format of the exported data (e.g. `csv`),\r\n     * `success` and `error` callbacks\r\n     * @example\r\n     * context.exportResult({\r\n     *      format: csv\r\n     * });\r\n     *\r\n     */\r\n    EqContext.prototype.exportResult = function (options) {\r\n        var _this = this;\r\n        options = options || {};\r\n        if (this.beforeExportResult) {\r\n            this.beforeExportResult(this, options);\r\n        }\r\n        var format = options.format;\r\n        if (format) {\r\n            var exporter = this.getExporter(format);\r\n            if (exporter) {\r\n                var queryId_1 = this.getQuery().getId();\r\n                this.startProcess({\r\n                    action: EqAction.ExportResult,\r\n                    text: 'Exporting result for query: ' + queryId_1\r\n                }, WidgetGroup.Result);\r\n                var localeSettings = i18n.getLocaleSettings();\r\n                options.settings = {\r\n                    dateFormat: localeSettings.shortDateFormat,\r\n                    timeFormat: localeSettings.shortTimeFormat\r\n                };\r\n                exporter.export(options)\r\n                    .then(function (result) {\r\n                    _this.endProcess({\r\n                        result: EqActionResult.Success,\r\n                        action: EqAction.ExportResult,\r\n                        text: \"The result set for query [\" + queryId_1 + \"] has been successfully exported\"\r\n                    }, WidgetGroup.Result);\r\n                    if (options.success) {\r\n                        options.success();\r\n                    }\r\n                })\r\n                    .catch(function (error) {\r\n                    var errorMessage = \"Error on exporting data for query  \" + queryId_1 + \". \\n\" + error.message;\r\n                    _this.endProcess({\r\n                        result: EqActionResult.Error,\r\n                        action: EqAction.ExportResult,\r\n                        text: errorMessage,\r\n                        sourceError: error\r\n                    }, WidgetGroup.Result);\r\n                    if (options.error) {\r\n                        options.error(errorMessage, 'ExportResult');\r\n                    }\r\n                });\r\n            }\r\n        }\r\n    };\r\n    return EqContext;\r\n}());\r\nexport { EqContext };\r\n//# sourceMappingURL=context.js.map","import { utils } from '@easydata/core';\r\n/**\r\n * Represents a widget - a visual element with \"knows\" how to render itself.\r\n * Some widgets just display some information from the context (like the generated SQL or the result set).\r\n * Others - allow user to interact with them to define query conditions or columns.\r\n */\r\nvar Widget = /** @class */ (function () {\r\n    /**\r\n     Initializes a new instance of the `Widget` class\r\n     * @param slot - an HTML element in which we should place our widget.\r\n     */\r\n    function Widget(slot) {\r\n        this.slot = slot;\r\n        this._id = utils.generateId(this.getWidgetType());\r\n    }\r\n    Object.defineProperty(Widget.prototype, \"id\", {\r\n        get: function () {\r\n            return this._id;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Initializes the widget and assign it to some context\r\n     * @param context\r\n     * @param options\r\n     */\r\n    Widget.prototype.init = function (context, options) {\r\n        this.context = context;\r\n    };\r\n    /**\r\n     * Returns current context (the one this widget belongs to)\r\n     */\r\n    Widget.prototype.getContext = function () {\r\n        return this.context;\r\n    };\r\n    /**\r\n     * Refreshes the widget's content\r\n     */\r\n    Widget.prototype.refresh = function () {\r\n        this.refreshCore();\r\n    };\r\n    /**\r\n     * This function is called from `refresh` function.\r\n     * It does nothing in the base `Widget` class\r\n     * but can be overridden in derived classes\r\n     * to implement the functionality specific for a particular widget\r\n     */\r\n    Widget.prototype.refreshCore = function () {\r\n    };\r\n    /**\r\n     * This function is called on the start of some process this widget participates in.\r\n     * For example, some widgets can show a spinner or a progress bar\r\n     * at the beginning of some long process (e.g. model loading).\r\n     */\r\n    Widget.prototype.onProcessStart = function () {\r\n        this.onProcessStartCore();\r\n    };\r\n    /**\r\n     * This function is called from `onProcessStart` function.\r\n     * It does nothing in the base `Widget` class\r\n     * but can be overridden in derived classes\r\n     * to implement the functionality specific for a particular widget.\r\n     */\r\n    Widget.prototype.onProcessStartCore = function () {\r\n    };\r\n    /**\r\n     * This function is called on the end of some process this widget participates in.\r\n     * For example, some widgets should be updated on model loading\r\n     * or after the execution of the current query\r\n     */\r\n    Widget.prototype.onProcessEnd = function () {\r\n        this.onProcessEndCore();\r\n    };\r\n    /**\r\n     * This function is called from `onProcessEnd` function.\r\n     * It does nothing in the base `Widget` class\r\n     * but can be overridden in derived classes\r\n     * to implement the functionality specific for a particular widget.\r\n     */\r\n    Widget.prototype.onProcessEndCore = function () {\r\n    };\r\n    /**\r\n     * Returns `true` if the widget belongs to one of the groups specified in the parameter\r\n     * @param groups\r\n     */\r\n    Widget.prototype.belongsToGroup = function (groups) {\r\n        if (typeof groups != 'undefined' && groups != null) {\r\n            if ((groups & this.group) === 0)\r\n                return false;\r\n        }\r\n        return true;\r\n    };\r\n    Widget.prototype.destroy = function () {\r\n        this.destroyCore();\r\n    };\r\n    Widget.prototype.destroyCore = function () {\r\n    };\r\n    return Widget;\r\n}());\r\nexport { Widget };\r\n//# sourceMappingURL=widget.js.map","var EqVersionInfo = /** @class */ (function () {\r\n    function EqVersionInfo(major, minor, update) {\r\n        this.major = major;\r\n        this.minor = minor;\r\n        this.update = update;\r\n    }\r\n    EqVersionInfo.prototype.toString = function () {\r\n        return this.major + \".\" + this.minor + \".\" + this.update;\r\n    };\r\n    return EqVersionInfo;\r\n}());\r\nexport var versionInfo = new EqVersionInfo(6, 2, 0);\r\n//# sourceMappingURL=version_info.js.map","import { i18n } from '@easydata/core';\r\nfunction addEasyQueryCoreTexts() {\r\n    i18n.updateDefaultTexts({\r\n        NewQueryName: '[New query]',\r\n        //DateTime macroses\r\n        Today: 'Today',\r\n        Yesterday: 'Yesterday',\r\n        Tomorrow: 'Tomorrow',\r\n        FirstDayOfMonth: 'First day of the month',\r\n        LastDayOfMonth: 'Last day of the month',\r\n        FirstDayOfWeek: 'First day of the week',\r\n        FirstDayOfYear: 'First day of the year',\r\n        FirstDayOfNextWeek: 'First day of the next week',\r\n        FirstDayOfNextMonth: 'First day of the next month',\r\n        FirstDayOfNextYear: 'First day of the next year',\r\n        Now: 'Now',\r\n        HourStart: 'This hour start',\r\n        Midnight: 'Midnight',\r\n        Noon: 'Noon',\r\n        Entities: {},\r\n        Attributes: {},\r\n        Operators: {},\r\n        AggreateFunctions: {}\r\n    });\r\n}\r\naddEasyQueryCoreTexts();\r\n//# sourceMappingURL=text_resources.js.map","export * from './utils/utils';\r\nexport * from './utils/constants';\r\nexport * from './common/eq_services';\r\nexport * from './common/tree';\r\nexport * from './data/eq_data_loader';\r\nexport * from './data/google_data_converter';\r\nexport * from './data/eq_totals_container';\r\nexport * from './types/data_kind';\r\nexport * from './types/link_type';\r\nexport * from './types/cond_tag';\r\nexport * from './types/cond_part';\r\nexport * from './types/expr_tag';\r\nexport * from './types/eq_editor_tag';\r\nexport * from './types/widget_group';\r\nexport * from './dm/aggr_function';\r\nexport * from './dm/data_model';\r\nexport * from './dm/entity';\r\nexport * from './dm/operator';\r\nexport * from './dm/value_editor';\r\nexport * from './main/eq_actions';\r\nexport * from './main/model_loader';\r\nexport * from './main/query_storage';\r\nexport * from './main/context';\r\nexport * from './main/widget';\r\nexport * from './main/messages';\r\nexport * from './query/column';\r\nexport * from './query/condition';\r\nexport * from './query/expression';\r\nexport * from './query/query';\r\nexport * from './query/query_events';\r\nexport * from './eqs/eqs_exporter';\r\nexport * from './eqs/eqs_model_loader';\r\nexport * from './eqs/eqs_query_executor';\r\nexport * from './eqs/eqs_query_synchronizer';\r\nexport * from './eqs/eqs_value_list_resolver';\r\nexport * from './eqs/eqs_query_file_loader';\r\nexport * from './utils/format_parser';\r\nexport * from './utils/version_info';\r\n//for backward compatibility\r\nexport { i18n } from '@easydata/core';\r\nimport './i18n/text_resources';\r\n//# sourceMappingURL=public_api.js.map","import { eqCssMobile } from './utils';\r\nexport var browserUtils;\r\n(function (browserUtils) {\r\n    var _isFirefox = null;\r\n    var _isIE = null;\r\n    function IsIE() {\r\n        return eval('/*@cc_on!@*/false || !!document.documentMode');\r\n        // if (_isIE === null) {\r\n        //     const ua = navigator.userAgent;\r\n        //     /* MSIE used to detect old browsers and Trident used to newer ones*/\r\n        //     _isIE = ua.indexOf(\"MSIE \") > -1 || ua.indexOf(\"Trident/\") > -1;\r\n        // }\r\n        // return _isIE;\r\n    }\r\n    browserUtils.IsIE = IsIE;\r\n    function IsFirefox() {\r\n        if (_isFirefox === null) {\r\n            var ua = navigator.userAgent;\r\n            _isFirefox = ua.toLowerCase().indexOf('firefox') > -1;\r\n        }\r\n        return _isFirefox;\r\n    }\r\n    browserUtils.IsFirefox = IsFirefox;\r\n    var _detectedIsMobileMode = false;\r\n    var _isMobileMode = undefined;\r\n    var detectIsMobileMode = function () {\r\n        var oldValue = isMobileMode();\r\n        _detectedIsMobileMode = window.matchMedia('only screen and (max-width: 840px)').matches\r\n            || window.matchMedia('only screen and (max-height: 420px)').matches;\r\n        var newValue = isMobileMode();\r\n        if (newValue !== oldValue && mobileModeChangeHandler) {\r\n            mobileModeChangeHandler(newValue);\r\n        }\r\n    };\r\n    detectIsMobileMode();\r\n    window.addEventListener('resize', function () { return detectIsMobileMode(); });\r\n    function isMobileMode() {\r\n        if (_isMobileMode !== undefined) {\r\n            return _isMobileMode;\r\n        }\r\n        else {\r\n            return _detectedIsMobileMode;\r\n        }\r\n    }\r\n    browserUtils.isMobileMode = isMobileMode;\r\n    function setIsMobileMode(value) {\r\n        var oldValue = isMobileMode();\r\n        _isMobileMode = value;\r\n        var newValue = isMobileMode();\r\n        if (newValue !== oldValue && mobileModeChangeHandler) {\r\n            mobileModeChangeHandler(newValue);\r\n        }\r\n    }\r\n    browserUtils.setIsMobileMode = setIsMobileMode;\r\n    var mobileModeChangeHandler;\r\n    function onMobileModeChanged(callback) {\r\n        mobileModeChangeHandler = callback;\r\n    }\r\n    browserUtils.onMobileModeChanged = onMobileModeChanged;\r\n    function getMobileCssClass() {\r\n        return isMobileMode() ? eqCssMobile : null;\r\n    }\r\n    browserUtils.getMobileCssClass = getMobileCssClass;\r\n})(browserUtils || (browserUtils = {}));\r\n//# sourceMappingURL=browser_utils.js.map","import { domel } from '@easydata/ui';\r\nexport function getViewportSize() {\r\n    var width = Math.max(document.documentElement.clientWidth || 0, window.innerWidth || 0);\r\n    var height = Math.max(document.documentElement.clientHeight || 0, window.innerHeight || 0);\r\n    return {\r\n        width: width,\r\n        height: height\r\n    };\r\n}\r\n// simetimes setting focus in the main thread doesn't work correctly (in Firefox). So we need to 'hack' it.\r\nexport function safeFocus(element) {\r\n    setTimeout(function (_) {\r\n        if (element) {\r\n            element.focus();\r\n        }\r\n    }, 100);\r\n}\r\nexport var eqCssPrefix = 'eqjs';\r\nexport var eqCssMobile = 'eqjs-mobile';\r\nexport function makeElementMaximizable(element) {\r\n    domel(element)\r\n        .addClass(eqCssPrefix + \"-maximizable\")\r\n        .addChild('div', function (b) {\r\n        b.addClass(eqCssPrefix + \"-max-button\")\r\n            .on('click', function (e) {\r\n            e.preventDefault();\r\n            domel(element)\r\n                .toggleClass(eqCssPrefix + \"-maximized\");\r\n        });\r\n    });\r\n}\r\n//# sourceMappingURL=utils.js.map","\"use strict\";\n\n/*\n  MIT License http://www.opensource.org/licenses/mit-license.php\n  Author Tobias Koppers @sokra\n*/\n// css base code, injected by the css-loader\nmodule.exports = function (useSourceMap) {\n  var list = []; // return the list of modules as css string\n\n  list.toString = function toString() {\n    return this.map(function (item) {\n      var content = cssWithMappingToString(item, useSourceMap);\n\n      if (item[2]) {\n        return '@media ' + item[2] + '{' + content + '}';\n      } else {\n        return content;\n      }\n    }).join('');\n  }; // import a list of modules into the list\n\n\n  list.i = function (modules, mediaQuery) {\n    if (typeof modules === 'string') {\n      modules = [[null, modules, '']];\n    }\n\n    var alreadyImportedModules = {};\n\n    for (var i = 0; i < this.length; i++) {\n      var id = this[i][0];\n\n      if (id != null) {\n        alreadyImportedModules[id] = true;\n      }\n    }\n\n    for (i = 0; i < modules.length; i++) {\n      var item = modules[i]; // skip already imported module\n      // this implementation is not 100% perfect for weird media query combinations\n      // when a module is imported multiple times with different media queries.\n      // I hope this will never occur (Hey this way we have smaller bundles)\n\n      if (item[0] == null || !alreadyImportedModules[item[0]]) {\n        if (mediaQuery && !item[2]) {\n          item[2] = mediaQuery;\n        } else if (mediaQuery) {\n          item[2] = '(' + item[2] + ') and (' + mediaQuery + ')';\n        }\n\n        list.push(item);\n      }\n    }\n  };\n\n  return list;\n};\n\nfunction cssWithMappingToString(item, useSourceMap) {\n  var content = item[1] || '';\n  var cssMapping = item[3];\n\n  if (!cssMapping) {\n    return content;\n  }\n\n  if (useSourceMap && typeof btoa === 'function') {\n    var sourceMapping = toComment(cssMapping);\n    var sourceURLs = cssMapping.sources.map(function (source) {\n      return '/*# sourceURL=' + cssMapping.sourceRoot + source + ' */';\n    });\n    return [content].concat(sourceURLs).concat([sourceMapping]).join('\\n');\n  }\n\n  return [content].join('\\n');\n} // Adapted from convert-source-map (MIT)\n\n\nfunction toComment(sourceMap) {\n  // eslint-disable-next-line no-undef\n  var base64 = btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))));\n  var data = 'sourceMappingURL=data:application/json;charset=utf-8;base64,' + base64;\n  return '/*# ' + data + ' */';\n}","/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n\nvar stylesInDom = {};\n\nvar\tmemoize = function (fn) {\n\tvar memo;\n\n\treturn function () {\n\t\tif (typeof memo === \"undefined\") memo = fn.apply(this, arguments);\n\t\treturn memo;\n\t};\n};\n\nvar isOldIE = memoize(function () {\n\t// Test for IE <= 9 as proposed by Browserhacks\n\t// @see http://browserhacks.com/#hack-e71d8692f65334173fee715c222cb805\n\t// Tests for existence of standard globals is to allow style-loader\n\t// to operate correctly into non-standard environments\n\t// @see https://github.com/webpack-contrib/style-loader/issues/177\n\treturn window && document && document.all && !window.atob;\n});\n\nvar getTarget = function (target, parent) {\n  if (parent){\n    return parent.querySelector(target);\n  }\n  return document.querySelector(target);\n};\n\nvar getElement = (function (fn) {\n\tvar memo = {};\n\n\treturn function(target, parent) {\n                // If passing function in options, then use it for resolve \"head\" element.\n                // Useful for Shadow Root style i.e\n                // {\n                //   insertInto: function () { return document.querySelector(\"#foo\").shadowRoot }\n                // }\n                if (typeof target === 'function') {\n                        return target();\n                }\n                if (typeof memo[target] === \"undefined\") {\n\t\t\tvar styleTarget = getTarget.call(this, target, parent);\n\t\t\t// Special case to return head of iframe instead of iframe itself\n\t\t\tif (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {\n\t\t\t\ttry {\n\t\t\t\t\t// This will throw an exception if access to iframe is blocked\n\t\t\t\t\t// due to cross-origin restrictions\n\t\t\t\t\tstyleTarget = styleTarget.contentDocument.head;\n\t\t\t\t} catch(e) {\n\t\t\t\t\tstyleTarget = null;\n\t\t\t\t}\n\t\t\t}\n\t\t\tmemo[target] = styleTarget;\n\t\t}\n\t\treturn memo[target]\n\t};\n})();\n\nvar singleton = null;\nvar\tsingletonCounter = 0;\nvar\tstylesInsertedAtTop = [];\n\nvar\tfixUrls = require(\"./urls\");\n\nmodule.exports = function(list, options) {\n\tif (typeof DEBUG !== \"undefined\" && DEBUG) {\n\t\tif (typeof document !== \"object\") throw new Error(\"The style-loader cannot be used in a non-browser environment\");\n\t}\n\n\toptions = options || {};\n\n\toptions.attrs = typeof options.attrs === \"object\" ? options.attrs : {};\n\n\t// Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\n\t// tags it will allow on a page\n\tif (!options.singleton && typeof options.singleton !== \"boolean\") options.singleton = isOldIE();\n\n\t// By default, add <style> tags to the <head> element\n        if (!options.insertInto) options.insertInto = \"head\";\n\n\t// By default, add <style> tags to the bottom of the target\n\tif (!options.insertAt) options.insertAt = \"bottom\";\n\n\tvar styles = listToStyles(list, options);\n\n\taddStylesToDom(styles, options);\n\n\treturn function update (newList) {\n\t\tvar mayRemove = [];\n\n\t\tfor (var i = 0; i < styles.length; i++) {\n\t\t\tvar item = styles[i];\n\t\t\tvar domStyle = stylesInDom[item.id];\n\n\t\t\tdomStyle.refs--;\n\t\t\tmayRemove.push(domStyle);\n\t\t}\n\n\t\tif(newList) {\n\t\t\tvar newStyles = listToStyles(newList, options);\n\t\t\taddStylesToDom(newStyles, options);\n\t\t}\n\n\t\tfor (var i = 0; i < mayRemove.length; i++) {\n\t\t\tvar domStyle = mayRemove[i];\n\n\t\t\tif(domStyle.refs === 0) {\n\t\t\t\tfor (var j = 0; j < domStyle.parts.length; j++) domStyle.parts[j]();\n\n\t\t\t\tdelete stylesInDom[domStyle.id];\n\t\t\t}\n\t\t}\n\t};\n};\n\nfunction addStylesToDom (styles, options) {\n\tfor (var i = 0; i < styles.length; i++) {\n\t\tvar item = styles[i];\n\t\tvar domStyle = stylesInDom[item.id];\n\n\t\tif(domStyle) {\n\t\t\tdomStyle.refs++;\n\n\t\t\tfor(var j = 0; j < domStyle.parts.length; j++) {\n\t\t\t\tdomStyle.parts[j](item.parts[j]);\n\t\t\t}\n\n\t\t\tfor(; j < item.parts.length; j++) {\n\t\t\t\tdomStyle.parts.push(addStyle(item.parts[j], options));\n\t\t\t}\n\t\t} else {\n\t\t\tvar parts = [];\n\n\t\t\tfor(var j = 0; j < item.parts.length; j++) {\n\t\t\t\tparts.push(addStyle(item.parts[j], options));\n\t\t\t}\n\n\t\t\tstylesInDom[item.id] = {id: item.id, refs: 1, parts: parts};\n\t\t}\n\t}\n}\n\nfunction listToStyles (list, options) {\n\tvar styles = [];\n\tvar newStyles = {};\n\n\tfor (var i = 0; i < list.length; i++) {\n\t\tvar item = list[i];\n\t\tvar id = options.base ? item[0] + options.base : item[0];\n\t\tvar css = item[1];\n\t\tvar media = item[2];\n\t\tvar sourceMap = item[3];\n\t\tvar part = {css: css, media: media, sourceMap: sourceMap};\n\n\t\tif(!newStyles[id]) styles.push(newStyles[id] = {id: id, parts: [part]});\n\t\telse newStyles[id].parts.push(part);\n\t}\n\n\treturn styles;\n}\n\nfunction insertStyleElement (options, style) {\n\tvar target = getElement(options.insertInto)\n\n\tif (!target) {\n\t\tthrow new Error(\"Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.\");\n\t}\n\n\tvar lastStyleElementInsertedAtTop = stylesInsertedAtTop[stylesInsertedAtTop.length - 1];\n\n\tif (options.insertAt === \"top\") {\n\t\tif (!lastStyleElementInsertedAtTop) {\n\t\t\ttarget.insertBefore(style, target.firstChild);\n\t\t} else if (lastStyleElementInsertedAtTop.nextSibling) {\n\t\t\ttarget.insertBefore(style, lastStyleElementInsertedAtTop.nextSibling);\n\t\t} else {\n\t\t\ttarget.appendChild(style);\n\t\t}\n\t\tstylesInsertedAtTop.push(style);\n\t} else if (options.insertAt === \"bottom\") {\n\t\ttarget.appendChild(style);\n\t} else if (typeof options.insertAt === \"object\" && options.insertAt.before) {\n\t\tvar nextSibling = getElement(options.insertAt.before, target);\n\t\ttarget.insertBefore(style, nextSibling);\n\t} else {\n\t\tthrow new Error(\"[Style Loader]\\n\\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\\n Must be 'top', 'bottom', or Object.\\n (https://github.com/webpack-contrib/style-loader#insertat)\\n\");\n\t}\n}\n\nfunction removeStyleElement (style) {\n\tif (style.parentNode === null) return false;\n\tstyle.parentNode.removeChild(style);\n\n\tvar idx = stylesInsertedAtTop.indexOf(style);\n\tif(idx >= 0) {\n\t\tstylesInsertedAtTop.splice(idx, 1);\n\t}\n}\n\nfunction createStyleElement (options) {\n\tvar style = document.createElement(\"style\");\n\n\tif(options.attrs.type === undefined) {\n\t\toptions.attrs.type = \"text/css\";\n\t}\n\n\tif(options.attrs.nonce === undefined) {\n\t\tvar nonce = getNonce();\n\t\tif (nonce) {\n\t\t\toptions.attrs.nonce = nonce;\n\t\t}\n\t}\n\n\taddAttrs(style, options.attrs);\n\tinsertStyleElement(options, style);\n\n\treturn style;\n}\n\nfunction createLinkElement (options) {\n\tvar link = document.createElement(\"link\");\n\n\tif(options.attrs.type === undefined) {\n\t\toptions.attrs.type = \"text/css\";\n\t}\n\toptions.attrs.rel = \"stylesheet\";\n\n\taddAttrs(link, options.attrs);\n\tinsertStyleElement(options, link);\n\n\treturn link;\n}\n\nfunction addAttrs (el, attrs) {\n\tObject.keys(attrs).forEach(function (key) {\n\t\tel.setAttribute(key, attrs[key]);\n\t});\n}\n\nfunction getNonce() {\n\tif (typeof __webpack_nonce__ === 'undefined') {\n\t\treturn null;\n\t}\n\n\treturn __webpack_nonce__;\n}\n\nfunction addStyle (obj, options) {\n\tvar style, update, remove, result;\n\n\t// If a transform function was defined, run it on the css\n\tif (options.transform && obj.css) {\n\t    result = typeof options.transform === 'function'\n\t\t ? options.transform(obj.css) \n\t\t : options.transform.default(obj.css);\n\n\t    if (result) {\n\t    \t// If transform returns a value, use that instead of the original css.\n\t    \t// This allows running runtime transformations on the css.\n\t    \tobj.css = result;\n\t    } else {\n\t    \t// If the transform function returns a falsy value, don't add this css.\n\t    \t// This allows conditional loading of css\n\t    \treturn function() {\n\t    \t\t// noop\n\t    \t};\n\t    }\n\t}\n\n\tif (options.singleton) {\n\t\tvar styleIndex = singletonCounter++;\n\n\t\tstyle = singleton || (singleton = createStyleElement(options));\n\n\t\tupdate = applyToSingletonTag.bind(null, style, styleIndex, false);\n\t\tremove = applyToSingletonTag.bind(null, style, styleIndex, true);\n\n\t} else if (\n\t\tobj.sourceMap &&\n\t\ttypeof URL === \"function\" &&\n\t\ttypeof URL.createObjectURL === \"function\" &&\n\t\ttypeof URL.revokeObjectURL === \"function\" &&\n\t\ttypeof Blob === \"function\" &&\n\t\ttypeof btoa === \"function\"\n\t) {\n\t\tstyle = createLinkElement(options);\n\t\tupdate = updateLink.bind(null, style, options);\n\t\tremove = function () {\n\t\t\tremoveStyleElement(style);\n\n\t\t\tif(style.href) URL.revokeObjectURL(style.href);\n\t\t};\n\t} else {\n\t\tstyle = createStyleElement(options);\n\t\tupdate = applyToTag.bind(null, style);\n\t\tremove = function () {\n\t\t\tremoveStyleElement(style);\n\t\t};\n\t}\n\n\tupdate(obj);\n\n\treturn function updateStyle (newObj) {\n\t\tif (newObj) {\n\t\t\tif (\n\t\t\t\tnewObj.css === obj.css &&\n\t\t\t\tnewObj.media === obj.media &&\n\t\t\t\tnewObj.sourceMap === obj.sourceMap\n\t\t\t) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tupdate(obj = newObj);\n\t\t} else {\n\t\t\tremove();\n\t\t}\n\t};\n}\n\nvar replaceText = (function () {\n\tvar textStore = [];\n\n\treturn function (index, replacement) {\n\t\ttextStore[index] = replacement;\n\n\t\treturn textStore.filter(Boolean).join('\\n');\n\t};\n})();\n\nfunction applyToSingletonTag (style, index, remove, obj) {\n\tvar css = remove ? \"\" : obj.css;\n\n\tif (style.styleSheet) {\n\t\tstyle.styleSheet.cssText = replaceText(index, css);\n\t} else {\n\t\tvar cssNode = document.createTextNode(css);\n\t\tvar childNodes = style.childNodes;\n\n\t\tif (childNodes[index]) style.removeChild(childNodes[index]);\n\n\t\tif (childNodes.length) {\n\t\t\tstyle.insertBefore(cssNode, childNodes[index]);\n\t\t} else {\n\t\t\tstyle.appendChild(cssNode);\n\t\t}\n\t}\n}\n\nfunction applyToTag (style, obj) {\n\tvar css = obj.css;\n\tvar media = obj.media;\n\n\tif(media) {\n\t\tstyle.setAttribute(\"media\", media)\n\t}\n\n\tif(style.styleSheet) {\n\t\tstyle.styleSheet.cssText = css;\n\t} else {\n\t\twhile(style.firstChild) {\n\t\t\tstyle.removeChild(style.firstChild);\n\t\t}\n\n\t\tstyle.appendChild(document.createTextNode(css));\n\t}\n}\n\nfunction updateLink (link, options, obj) {\n\tvar css = obj.css;\n\tvar sourceMap = obj.sourceMap;\n\n\t/*\n\t\tIf convertToAbsoluteUrls isn't defined, but sourcemaps are enabled\n\t\tand there is no publicPath defined then lets turn convertToAbsoluteUrls\n\t\ton by default.  Otherwise default to the convertToAbsoluteUrls option\n\t\tdirectly\n\t*/\n\tvar autoFixUrls = options.convertToAbsoluteUrls === undefined && sourceMap;\n\n\tif (options.convertToAbsoluteUrls || autoFixUrls) {\n\t\tcss = fixUrls(css);\n\t}\n\n\tif (sourceMap) {\n\t\t// http://stackoverflow.com/a/26603875\n\t\tcss += \"\\n/*# sourceMappingURL=data:application/json;base64,\" + btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) + \" */\";\n\t}\n\n\tvar blob = new Blob([css], { type: \"text/css\" });\n\n\tvar oldSrc = link.href;\n\n\tlink.href = URL.createObjectURL(blob);\n\n\tif(oldSrc) URL.revokeObjectURL(oldSrc);\n}\n","export var browserUtils;\r\n(function (browserUtils) {\r\n    var _isFirefox = null;\r\n    var _isIE = null;\r\n    function IsIE() {\r\n        // return eval('/*@cc_on!@*/false || !!document.documentMode');\r\n        if (_isIE === null) {\r\n            var ua = navigator.userAgent;\r\n            /* MSIE used to detect old browsers and Trident used to newer ones*/\r\n            _isIE = ua.indexOf(\"MSIE \") > -1 || ua.indexOf(\"Trident/\") > -1;\r\n        }\r\n        return _isIE;\r\n    }\r\n    browserUtils.IsIE = IsIE;\r\n    function IsEdge() {\r\n        return !IsIE() && eval('!!window.StyleMedia');\r\n    }\r\n    browserUtils.IsEdge = IsEdge;\r\n    function IsFirefox() {\r\n        if (_isFirefox === null) {\r\n            var ua = navigator.userAgent;\r\n            _isFirefox = ua.toLowerCase().indexOf('firefox') > -1;\r\n        }\r\n        return _isFirefox;\r\n    }\r\n    browserUtils.IsFirefox = IsFirefox;\r\n    var _detectedIsMobileMode = false;\r\n    var _isMobileMode = undefined;\r\n    var detectIsMobileMode = function () {\r\n        var oldValue = isMobileMode();\r\n        _detectedIsMobileMode = window.matchMedia('only screen and (max-width: 840px)').matches\r\n            || window.matchMedia('only screen and (max-height: 420px)').matches;\r\n        var newValue = isMobileMode();\r\n        if (newValue !== oldValue && mobileModeChangeHandler) {\r\n            mobileModeChangeHandler(newValue);\r\n        }\r\n    };\r\n    detectIsMobileMode();\r\n    window.addEventListener('resize', function () { return detectIsMobileMode(); });\r\n    function isMobileMode() {\r\n        if (_isMobileMode !== undefined) {\r\n            return _isMobileMode;\r\n        }\r\n        else {\r\n            return _detectedIsMobileMode;\r\n        }\r\n    }\r\n    browserUtils.isMobileMode = isMobileMode;\r\n    function setIsMobileMode(value) {\r\n        var oldValue = isMobileMode();\r\n        _isMobileMode = value;\r\n        var newValue = isMobileMode();\r\n        if (newValue !== oldValue && mobileModeChangeHandler) {\r\n            mobileModeChangeHandler(newValue);\r\n        }\r\n    }\r\n    browserUtils.setIsMobileMode = setIsMobileMode;\r\n    var mobileModeChangeHandler;\r\n    function onMobileModeChanged(callback) {\r\n        mobileModeChangeHandler = callback;\r\n    }\r\n    browserUtils.onMobileModeChanged = onMobileModeChanged;\r\n    function getMobileCssClass() {\r\n        return isMobileMode() ? 'k-mobile' : null;\r\n    }\r\n    browserUtils.getMobileCssClass = getMobileCssClass;\r\n})(browserUtils || (browserUtils = {}));\r\n//# sourceMappingURL=browser_utils.js.map","import { DataType } from \"@easydata/core\";\r\n/**\r\n * Represents Google data table class\r\n */\r\nvar GoogleDataConverter = /** @class */ (function () {\r\n    /**\r\n     * The default constructor.\r\n     * @param data The table instance or its JSON representation.\r\n     */\r\n    function GoogleDataConverter(data) {\r\n        if (!data) {\r\n            data = {\r\n                cols: [],\r\n                rows: []\r\n            };\r\n        }\r\n        if (typeof data === \"string\") {\r\n            this.loadFromJSON(data);\r\n        }\r\n        else {\r\n            this.tableObj = data;\r\n        }\r\n    }\r\n    /**\r\n     * Loads data table from JSON.\r\n     * @param json The JSON representation.\r\n     */\r\n    GoogleDataConverter.prototype.loadFromJSON = function (json) {\r\n        this.tableObj = JSON.parse(json);\r\n    };\r\n    /**\r\n     * Saves data table to JSON.\r\n     * @returns The JSON representation.\r\n     */\r\n    GoogleDataConverter.prototype.toJSON = function () {\r\n        return JSON.stringify(this.tableObj);\r\n    };\r\n    /**\r\n     * Gets the google data table object.\r\n     * @returns The data table.\r\n     */\r\n    GoogleDataConverter.prototype.getObject = function () {\r\n        return this.tableObj;\r\n    };\r\n    /**\r\n     * Cheсks wether the table is empty\r\n     * @returns `true` if the table is empty, `false` if it is not.\r\n     */\r\n    GoogleDataConverter.prototype.isEmpty = function () {\r\n        return this.getNumberOfColumns() == 0 || this.getNumberOfRows() == 0;\r\n    };\r\n    /**\r\n     * Gets the number of columns\r\n     * @returns The number.\r\n     */\r\n    GoogleDataConverter.prototype.getNumberOfColumns = function () {\r\n        return this.tableObj.cols.length;\r\n    };\r\n    /**\r\n     * Gets the column object.\r\n     * @param colIndex The column index.\r\n     * @returns The column object.\r\n     */\r\n    GoogleDataConverter.prototype.getColumnObject = function (colIndex) {\r\n        return colIndex < this.tableObj.cols.length ? this.tableObj.cols[colIndex] : null;\r\n    };\r\n    /**\r\n     * Gets the column ID.\r\n     * @param colIndex The column index.\r\n     * @returns The column ID.\r\n     */\r\n    GoogleDataConverter.prototype.getColumnId = function (colIndex) {\r\n        var col = this.getColumnObject(colIndex);\r\n        return col ? col.id : null;\r\n    };\r\n    /**\r\n     * Gets the column LABEL.\r\n     * @param colIndex The column index.\r\n     * @returns The column ID.\r\n     */\r\n    GoogleDataConverter.prototype.getColumnLabel = function (colIndex) {\r\n        var col = this.getColumnObject(colIndex);\r\n        return col ? col.label : null;\r\n    };\r\n    /**\r\n     *  Gets the column type.\r\n     * @param colIndex The column index.\r\n     * @returns The column type.\r\n     */\r\n    GoogleDataConverter.prototype.getColumnType = function (colIndex) {\r\n        var col = this.getColumnObject(colIndex);\r\n        return col ? col.type : null;\r\n    };\r\n    /**\r\n     * Gets the column properties.\r\n     * @param colIndex The column index.\r\n     * @returns The column properties.\r\n     */\r\n    GoogleDataConverter.prototype.getColumnProperties = function (colIndex) {\r\n        var col = this.getColumnObject(colIndex);\r\n        return col ? col.p : null;\r\n    };\r\n    /**\r\n     * Gets the number of rows.\r\n     * @returns The number.\r\n     */\r\n    GoogleDataConverter.prototype.getNumberOfRows = function () {\r\n        return this.tableObj.rows.length;\r\n    };\r\n    GoogleDataConverter.prototype.convertValue = function (value, colIndex) {\r\n        var colType = this.googleDataTypeToDataType(this.getColumnType(colIndex));\r\n        if ([DataType.Date, DataType.DateTime, DataType.Time].includes(colType)) {\r\n            return eval(\"new \" + value);\r\n        }\r\n        return value;\r\n    };\r\n    /**\r\n     *  Gets the value.\r\n     * @param rowIndex\r\n     * @param colIndex\r\n     */\r\n    GoogleDataConverter.prototype.getValue = function (rowIndex, colIndex) {\r\n        var row = rowIndex < this.tableObj.rows.length ? this.tableObj.rows[rowIndex] : null;\r\n        if (row) {\r\n            var cell = colIndex < this.tableObj.cols.length ? row.c[colIndex] : null;\r\n            if (cell) {\r\n                return this.convertValue(cell.v, colIndex);\r\n            }\r\n        }\r\n        return null;\r\n    };\r\n    GoogleDataConverter.prototype.getRow = function (rowIndex) {\r\n        var _this = this;\r\n        var googleRow = rowIndex < this.tableObj.rows.length ? this.tableObj.rows[rowIndex] : null;\r\n        var googleCells = googleRow.c;\r\n        var row = googleCells.map(function (obj, idx) { return _this.convertValue(obj.v, idx); }, this);\r\n        return row;\r\n    };\r\n    GoogleDataConverter.prototype.convertTo = function (dataTable) {\r\n        var colCount = this.getNumberOfColumns();\r\n        for (var i = 0; i < colCount; i++) {\r\n            dataTable.columns.add({\r\n                id: this.getColumnId(i),\r\n                label: this.getColumnLabel(i),\r\n                type: this.googleDataTypeToDataType(this.getColumnType(i))\r\n            });\r\n        }\r\n        var rowCount = this.getNumberOfRows();\r\n        for (var i = 0; i < rowCount; i++) {\r\n            dataTable.addRow(this.getRow(i));\r\n        }\r\n    };\r\n    GoogleDataConverter.prototype.googleDataTypeToDataType = function (googleDataType) {\r\n        switch (googleDataType) {\r\n            case 'string':\r\n                return DataType.String;\r\n            case 'number':\r\n                return DataType.Float;\r\n            case 'boolean':\r\n                return DataType.Bool;\r\n            case 'date':\r\n                return DataType.Date;\r\n            case 'datetime':\r\n                return DataType.DateTime;\r\n            case 'timeofday':\r\n                return DataType.Time;\r\n            default:\r\n                return DataType.String;\r\n        }\r\n    };\r\n    return GoogleDataConverter;\r\n}());\r\nexport { GoogleDataConverter };\r\n//# sourceMappingURL=google_data_converter.js.map","require('../node_modules/@easyquery/ui/dist/assets/css/easyquery.css');\r\nrequire('../node_modules/@easyquery/ui/dist/assets/css/eq-icons-default.css');\r\nrequire('../node_modules/@easyquery/ui/dist/assets/css/easyquery-mobile.css');\r\nrequire('../node_modules/@easyquery/ui/dist/assets/css/eqview.css');\r\nrequire('../node_modules/@easyquery/ui/dist/assets/css/easychart.css');\r\nrequire('../node_modules/@easyquery/ui/dist/assets/css/eq-grid.css');\r\nrequire('../node_modules/@easyquery/ui/dist/assets/css/eq-grid-mobile.css');\r\nrequire('../node_modules/@easyquery/ui/dist/assets/css/easyfacets.css');\r\nrequire('../node_modules/@easydata/ui/dist/assets/css/easy-grid.css');\r\nrequire('../node_modules/@easydata/ui/dist/assets/css/easy-dialog.css');\r\nrequire('../node_modules/@easydata/ui/dist/assets/css/easy-forms.css');","\nvar content = require(\"!!../../../../../css-loader/dist/cjs.js??ref--6!./easyquery.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../css-loader/dist/cjs.js??ref--6!./easyquery.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../css-loader/dist/cjs.js??ref--6!./easyquery.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../../css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \"* {\\r\\n    box-sizing: border-box;\\r\\n}\\r\\n\\r\\n.eqjs-menu-itemDiv hr {\\r\\n    margin:0;\\r\\n}\\r\\n\\r\\n.eqjs-qp-panel {\\r\\n    background: #f9f9f9;\\r\\n    height: 100%;\\r\\n    position: relative;\\r\\n    font: normal 14px Trebuchet MS, Tahoma, Verdana, Geneva, Arial, Helvetica, sans-serif;\\r\\n    display: flex;\\r\\n    flex-direction: column;\\r\\n    flex-wrap: nowrap;\\r\\n}\\r\\n\\r\\n.eqjs-qp-panel *, .eqjs-qc-panel *, .eqjs-ep-panel *, .eqjs-cb-panel * {\\r\\n    outline: none !important;\\r\\n}\\r\\n\\r\\n.eqjs-qp-panel *:focus, .eqjs-qc-panel *:focus, .eqjs-ep-panel *:focus, .eqjs-cb-panel *:focus {\\r\\n    border: 1px dotted #0099CC;\\r\\n}\\r\\n\\r\\n.eqjs-ep-panel input[type=checkbox]:focus {\\r\\n    outline: 1px dotted #0099CC;\\r\\n}\\r\\n\\r\\n.eqjs-cb-row-column-entattr.active a:focus {\\r\\n    border-color: white;    \\r\\n}\\r\\n\\r\\n.eqjs-addrow {\\r\\n    padding: 10px 0 0 0;\\r\\n}\\r\\n\\r\\n.eqjs-qp-addrow, .eqjs-qc-addrow {\\r\\n\\tflex-grow: 1;\\r\\n}\\r\\n\\r\\n.eqjs-addrow a {\\r\\n    margin: 0 10px;\\r\\n    display: inline-block;\\r\\n}\\r\\n\\r\\n\\r\\n.eqjs-addrow-empty {\\r\\n    padding: 5px 0 0 0;\\r\\n}\\r\\n\\r\\n.eqjs-addrow a {\\r\\n    font-weight: bold;\\r\\n    font-size: 13px;\\r\\n    color: #333333;\\r\\n    text-decoration: none;\\r\\n    border-bottom: 1px dashed;\\r\\n}\\r\\n\\r\\n.eqjs-addrow > a:hover{\\r\\n    border-bottom: 1px solid;\\r\\n}\\r\\n\\r\\n\\r\\n.eqjs-qc-panel {\\r\\n    background: #f9f9f9;\\r\\n    height: 100%;\\r\\n    position: relative;\\r\\n    font: normal 14px Trebuchet MS, Tahoma, Verdana, Geneva, Arial, Helvetica, sans-serif;\\r\\n    display: flex;\\r\\n    flex-direction: column;\\r\\n    flex-wrap: nowrap;\\r\\n}\\r\\n\\r\\n.eqjs-qc-header {\\r\\n    font: normal 15px Calibri;\\r\\n    border-bottom: 1px solid silver;\\r\\n    padding: 0 0 2px 0;\\r\\n    overflow: hidden;\\r\\n    white-space: nowrap;\\r\\n    flex: 0 0 auto;\\r\\n}\\r\\n\\r\\n.eqjs-qc-header div {\\r\\n    font: bold 15px Calibri;\\r\\n    color: #666;\\r\\n    display: inline-block;\\r\\n}\\r\\n\\r\\n.eqjs-qc-header-expression {\\r\\n    margin-left: 28px;\\r\\n    min-width: 300px;\\r\\n    width: auto;\\r\\n}\\r\\n\\r\\n.eqjs-qp-row {\\r\\n    min-height: 28px;\\r\\n    position:relative;\\r\\n    display: flex;\\r\\n}\\r\\n\\r\\n.eqjs-qp-level-offset {\\r\\n    display: inline-block;\\r\\n    width: 20px;\\r\\n}\\r\\n\\r\\n.eqjs-qc-row{\\r\\n    padding-left: 10px;\\r\\n    min-height: 27px;\\r\\n    cursor: pointer;\\r\\n    position: relative;\\r\\n}\\r\\n\\r\\n.eqjs-qc-col-landing-slot, .eqjs-qp-cond-landing-slot {\\r\\n    border-left: 2px solid #fb9c2f;\\r\\n    border-right: 2px solid #fb9c2f;\\r\\n    height: 18px;\\r\\n    padding: 8px 0;\\r\\n    margin: 0 2px;\\r\\n}\\r\\n\\r\\n.eqjs-qc-col-landing-slot > div, .eqjs-qp-cond-landing-slot > div {\\r\\n    height: 2px;\\r\\n    width: 100%;\\r\\n    background-color: #fb9c2f;\\r\\n}\\r\\n\\r\\n.eqjs-qp-row:hover, .eqjs-qc-row:hover, .eqjs-cb-row:hover, .eqjs-sb-row:hover {\\r\\n    background: #ece9e9;\\r\\n}\\r\\n\\r\\n.eqjs-qp-row.active, .eqjs-qc-row.active, .eqjs-cb-row.active, .eqjs-sb-row.active .ui-sortable-helper {\\r\\n    background: #ece9e9;\\r\\n}\\r\\n\\r\\n.ui-sortable-helper {\\r\\n    background-color: white;\\r\\n    padding: 3px 20px;\\r\\n    border: 2px solid #fb9c2f;\\r\\n    border-radius: 4px;\\r\\n}\\r\\n\\r\\n.eqjs-qp-row-group {\\r\\n    margin-left:0px;\\r\\n}\\r\\n\\r\\n.eqjs-qp-row-group-root {\\r\\n    font-weight: bold;\\r\\n    font-size: 13px;\\r\\n    padding: 0 0 0 10px;\\r\\n}\\r\\n\\r\\n.eqjs-qp-row-group-root .eqjs-qp-grvalueelement a {\\r\\n    font-size: 13px;\\r\\n    font-weight: bold;\\r\\n}\\r\\n\\r\\n.eqjs-qp-group-root {\\r\\n\\toverflow: auto;\\r\\n    display: flex;\\r\\n    flex-direction: column;\\r\\n    flex-wrap: nowrap;\\r\\n}\\r\\n\\r\\n.eqjs-qp-conditions-root {\\r\\n\\tmax-height: none;\\r\\n}\\r\\n\\r\\n.eqjs-qp-group-root > .eqjs-qp-conditions{\\r\\n    overflow-y: auto;\\r\\n    padding: 0 0 6px 0;\\r\\n    position: relative;\\r\\n}\\r\\n\\r\\n.eqjs-qp-group {\\r\\n    display: flex;\\r\\n    flex-direction: column;\\r\\n}\\r\\n\\r\\n.eqjs-qp-row-condition.eqjs-qp-condition-injoin {\\r\\n    margin-left: 1px;\\r\\n    box-shadow: inset 3px 0px 0px 0px #3abb1b;\\r\\n}\\r\\n\\r\\n.eqjs-qp-row-condition.eqjs-qp-condition-parameterized {\\r\\n    margin-left: 1px;\\r\\n    box-shadow: inset 3px 0px 0px 0px #a74cf1;\\r\\n}\\r\\n\\r\\n.eqjs-qp-row-condition.eqjs-qp-condition-parameterized.eqjs-qp-condition-injoin {\\r\\n    margin-left: 1px;\\r\\n    box-shadow: inset 3px 0px 0px 0px #a74cf1, inset 4px 0px 0px 0px white, inset 7px 0px 0px 0px #3abb1b;\\r\\n}\\r\\n\\r\\n.eqjs-qp-condelement {\\r\\n    margin: 5px 8px 0 0;\\r\\n    padding: 1px;\\r\\n    vertical-align: top;\\r\\n    font-size: 14px;\\r\\n    font-weight: normal;\\r\\n\\tflex: 0 0 auto;\\r\\n\\toverflow: hidden;\\r\\n\\ttext-overflow: ellipsis;\\r\\n}\\r\\n\\r\\n.eqjs-qp-condelement.eqjs-qp-attrelement-wide {\\r\\n    flex-shrink: 1;\\r\\n}\\r\\n\\r\\n.eqjs-qp-condelement.eqjs-qp-valueelement {\\r\\n    flex-shrink: 2;\\r\\n}\\r\\n\\r\\n.eqjs-qc-colelement {\\r\\n    display : inline-block;\\r\\n    margin: 3px 8px 0 0;\\r\\n    vertical-align: top;\\r\\n    font-size: 14px;\\r\\n    font-weight: normal;\\r\\n}\\r\\n\\r\\n.eqjs-qc-hidden .eqjs-qc-colelement {\\r\\n    opacity: 0.5;\\r\\n}\\r\\n\\r\\n.eqjs-qc-expr-block{\\r\\n    display:inline-block;\\r\\n    min-width:300px;\\r\\n    margin-left: 28px;\\r\\n}\\r\\n\\r\\n.eqjs-qc-params-block, .eqjs-qc-params-block span {\\r\\n    display:inline-block;\\r\\n    vertical-align: middle;\\r\\n    font-size: 14px;\\r\\n    font-weight: normal;\\r\\n}\\r\\n\\r\\n.eqjs-qc-params-block {\\r\\n    margin-right: 8px;\\r\\n}\\r\\n\\r\\n.eqjs-qc-params-block .eqjs-qp-valueelement {\\r\\n    margin-right: 0;\\r\\n}\\r\\n\\r\\n.eqjs-qc-params-block .eqjs-qp-valueelement input[type=\\\"text\\\"] {\\r\\n    padding: 0;\\r\\n}\\r\\n\\r\\n\\r\\n.eqjs-qc-column-checkbox{\\r\\n    width: 16px;\\r\\n    height: 16px;\\r\\n}\\r\\n\\r\\n.eqjs-qc-column-checkbox.enabled{\\r\\n    width: 16px;\\r\\n    height: 16px;\\r\\n}\\r\\n\\r\\n.eqjs-qp-grelement {\\r\\n    margin: 5px 8px 0 0;\\r\\n    vertical-align: top;\\r\\n    font-size: 14px;\\r\\n    height: fit-content;\\r\\n\\tflex: 0 0 auto;\\r\\n\\twidth: auto;\\r\\n}\\r\\n\\r\\n.eqjs-qp-condelement > a, a.eqjs-qp-condelement, .eqjs-qp-grelement > a, a.eqjs-qp-grelement {\\r\\n    border-bottom: 1px dotted #AEAEAE;\\r\\n    color: #0099CC;\\r\\n    text-decoration: none;\\r\\n    white-space: nowrap;\\r\\n\\theight: fit-content;\\r\\n}\\r\\n\\r\\n.eqjs-qc-colelement > a, a.eqjs-qc-colelement {\\r\\n    border-bottom: 1px dotted #AEAEAE;\\r\\n    color: #0099CC;\\r\\n    display: inline-block;\\r\\n    overflow: hidden;\\r\\n    text-decoration: none;\\r\\n    text-overflow: ellipsis;\\r\\n    white-space: nowrap;\\r\\n}\\r\\n\\r\\n.eqjs-qp-condelement > a:hover, a.eqjs-qp-condelement:hover, .eqjs-qp-grelement > a:hover, a.eqjs-qp-grelement:hover, .eqjs-qc-colelement > a:hover, a.eqjs-qc-colelement:hover {\\r\\n    border-bottom: 1px solid #aeaeae;\\r\\n}\\r\\n\\r\\n.eqjs-qp-valueelement {\\r\\n\\tflex: 0 1 auto;\\r\\n}\\r\\n\\r\\n.eqjs-qp-valueelement a, a.eqjs-qp-valueelement {\\r\\n    color: #074B7A;\\r\\n}\\r\\n\\r\\n.eqjs-qc-attrelement > a, a.eqjs-qc-attrelement {\\r\\n    max-width: 285px;\\r\\n}\\r\\n\\r\\n.eqjs-qc-captionelement > a, a.eqjs-qc-captionelement {\\r\\n    max-width: 285px;\\r\\n}\\r\\n\\r\\n.eqjs-qp-disabled .eqjs-qp-valueelement span, .eqjs-qp-readonly .eqjs-qp-valueelement span{\\r\\n    max-width: 167px;\\r\\n    overflow: hidden;\\r\\n    text-overflow: ellipsis;\\r\\n    white-space: nowrap;\\r\\n    display: inline-block;\\r\\n}\\r\\n\\r\\n.eqjs-qp-valueelement input[type=\\\"text\\\"]{\\r\\n    font-size: 15px;\\r\\n    padding: 2px 5px;\\r\\n    border: 1px solid silver;\\r\\n    outline: none;\\r\\n    background: #fff;\\r\\n    position: absolute;\\r\\n    top: 0;\\r\\n    bottom: 0;\\r\\n}\\r\\n\\r\\n.eqjs-qp-disabled span, .eqjs-qc-disabled span  {\\r\\n    color: #9E9E9E;\\r\\n    font-weight: normal;\\r\\n    margin-bottom: 2px;\\r\\n}\\r\\n\\r\\n.eqjs-qp-readonly span {\\r\\n    color: #333333;\\r\\n}\\r\\n\\r\\n.eqjs-qp-error {\\r\\n    color: red;\\r\\n    font-weight:bold;\\r\\n}\\r\\n\\r\\n.eqjs-qp-ve-loader {\\r\\n    width:16px;\\r\\n    height:11px;\\r\\n}\\r\\n\\r\\n/* levels */\\r\\n.eqjs-qp-level-1 {\\r\\n    padding-left: 10px;\\r\\n}\\r\\n\\r\\n.eqjs-qp-level-2 {\\r\\n    padding-left: 20px;\\r\\n}\\r\\n\\r\\n.eqjs-qp-level-3 {\\r\\n    padding-left: 30px;\\r\\n}\\r\\n\\r\\n.eqjs-qp-level-4 {\\r\\n    padding-left: 40px;\\r\\n}\\r\\n\\r\\n.eqjs-qp-level-5 {\\r\\n    padding-left: 50px;\\r\\n}\\r\\n\\r\\n.eqjs-qp-level-6 {\\r\\n    padding-left: 60px;\\r\\n}\\r\\n\\r\\n.eqjs-qp-level-7 {\\r\\n    padding-left: 70px;\\r\\n}\\r\\n\\r\\n.eqjs-qp-level-8 {\\r\\n    padding-left: 80px;\\r\\n}\\r\\n\\r\\n.eqjs-qp-level-9 {\\r\\n    padding-left: 90px;\\r\\n}\\r\\n\\r\\n.eqjs-qp-level-10 {\\r\\n    padding-left: 100px;\\r\\n}\\r\\n\\r\\n.eqjs-qp-level-11 {\\r\\n    padding-left: 110px;\\r\\n}\\r\\n\\r\\n.eqjs-qp-level-12 {\\r\\n    padding-left: 120px;\\r\\n}\\r\\n\\r\\n.eqjs-qp-level-13 {\\r\\n    padding-left: 130px;\\r\\n}\\r\\n\\r\\n.eqjs-qp-level-14 {\\r\\n    padding-left: 140px;\\r\\n}\\r\\n\\r\\n.eqjs-qp-level-15 {\\r\\n    padding-left: 150px;\\r\\n}\\r\\n\\r\\n/* levels end */\\r\\n\\r\\n.ui-widget {\\r\\n    font-size: 0.8em;\\r\\n}\\r\\n\\r\\n/* dialog */\\r\\n.ui-dialog{\\r\\n    overflow: visible !important;    \\r\\n}\\r\\n\\r\\n.eqjs-qp-ve-subquery{\\r\\n    overflow: visible !important;\\r\\n    overflow: visible !important;\\r\\n}\\r\\n\\r\\n.eqjs-qp-condition-buttonsBlock {\\r\\n    width: auto;\\r\\n    display: none;\\r\\n\\tmargin-left: auto;\\r\\n}\\r\\n\\r\\n.eqjs-qp-row[data-show-buttons] > .eqjs-qp-condition-buttonsBlock {\\r\\n    display: flex;\\r\\n}\\r\\n\\r\\n.eqjs-column-buttonsBlock{\\r\\n    max-width: 100px;\\r\\n    position: absolute;\\r\\n    right: 3px;\\r\\n    top: 0;\\r\\n    width: auto;\\r\\n}\\r\\n\\r\\n.eqjs-button-placeholder, .eqjs-qp-button-placeholder {\\r\\n\\tmargin: 3px 2px 0 2px;\\r\\n    width: 22px;\\r\\n    height: 22px;\\r\\n}\\r\\n\\r\\n.eqjs-gp-column-button {\\r\\n    width: 23px;\\r\\n    height: 23px;\\r\\n}\\r\\n\\r\\n.eqjs-gp-column-button-menu {\\r\\n    float: right;\\r\\n}\\r\\n\\r\\n.eqjs-gp-col-landing-slot {\\r\\n    width: 2px;\\r\\n    background-color: #fb9c2f !important;\\r\\n}\\r\\n\\r\\n.eqjs-qc-sortbutton-placeholder {\\r\\n    float: none;\\r\\n    position: absolute;\\r\\n}\\r\\n\\r\\n.eqjs-button {\\r\\n    cursor: pointer;\\r\\n    width: 100%;\\r\\n    height: 100%;\\r\\n}\\r\\n\\r\\n.eqjs-qp-condition-button, .eqjs-qc-column-button, .eqjs-qc-sortbutton {\\r\\n    cursor: pointer;\\r\\n    width: 100%;\\r\\n    height: 100%;\\r\\n}\\r\\n\\r\\n.eqjs-qc-row  .eqjs-qc-buttonsBlock {\\r\\n    display: none;\\r\\n}\\r\\n\\r\\n.eqjs-qc-row  .eqjs-column-sortbutton {\\r\\n    display: none;\\r\\n}\\r\\n\\r\\n.eqjs-qc-row[data-show-buttons]  .eqjs-qc-buttonsBlock {\\r\\n    display: flex;\\r\\n}\\r\\n\\r\\n.eqjs-qc-row[data-show-buttons]  .eqjs-column-sortbutton {\\r\\n    display: block;\\r\\n}\\r\\n\\r\\n.eqjs-qp-condition-checkbox{\\r\\n    width: 16px;\\r\\n    height: 16px;\\r\\n}\\r\\n\\r\\n.eqjs-qp-condition-checkbox.enabled{\\r\\n    width: 16px;\\r\\n    height: 16px;\\r\\n}\\r\\n\\r\\n.eqjs-ep-panel {\\r\\n    background: #f9f9f9;\\r\\n    height: 100%;\\r\\n    min-height: 200px;\\r\\n    position: relative;\\r\\n}\\r\\n\\r\\n.eqjs-ep-entity{\\r\\n    clear: both;    \\r\\n}\\r\\n\\r\\n.eqjs-ep-panel > div.eqjs-ep-entity{\\r\\n    bottom: 41px;\\r\\n    left: 0;\\r\\n    overflow-x: auto;\\r\\n    position: absolute;\\r\\n    right: 0;\\r\\n    top: 30px;\\r\\n}\\r\\n\\r\\n.eqjs-ep-filter-box{\\r\\n    left: 0;\\r\\n    padding: 4px;\\r\\n    position: absolute;\\r\\n    right: 0;\\r\\n    top: 0;\\r\\n    height: 30px;\\r\\n}\\r\\n\\r\\n.eqjs-ep-filter-box-input{\\r\\n\\twidth: 100%;\\r\\n}\\r\\n\\r\\n.eqjs-ep-entity-block{\\r\\n    display: block;\\r\\n    color: black;\\r\\n    font: normal 12px Arial;\\r\\n    margin: 0 10px;\\r\\n}\\r\\n\\r\\n.eqjs-ep-entity-node{\\r\\n    border-bottom: 1px solid #E4E4E4;\\r\\n    padding: 3px 0;\\r\\n\\twhite-space:nowrap;\\r\\n}\\r\\n\\r\\n.eqjs-ep-entity-node-label{\\r\\n    display: inline-block;\\r\\n    cursor: pointer;\\r\\n    font: bold 15px Calibri;\\r\\n    white-space:nowrap;\\r\\n\\tmargin: 0;\\r\\n}\\r\\n\\r\\n.eqjs-ep-entity-node-label input{\\r\\n    margin: 0 5px 0 0;\\r\\n\\tvertical-align: bottom;\\r\\n\\tposition: relative;\\r\\n\\ttop: -3px;\\r\\n}\\r\\n\\r\\n.eqjs-ep-entity-block input{\\r\\n    margin: 0 5px;\\r\\n}\\r\\n\\r\\n.eqjs-ep-entity-offset{\\r\\n    display: inline-block;\\r\\n    width: 15px;\\r\\n}\\r\\n\\r\\n.eqjs-ep-entity-attr-label{\\r\\n    color: #333;\\r\\n    font-size: 14px;\\r\\n    font-weight:normal;\\r\\n    padding: 5px 0 0 5px;\\r\\n    display: inline-block;\\r\\n    cursor: pointer;\\r\\n    white-space:nowrap;\\r\\n\\tmargin: 0;\\r\\n}\\r\\n\\r\\n.eqjs-ep-entity-attr-label.draggable {\\r\\n    cursor: move;\\r\\n}\\r\\n\\r\\n/* root entity attribute class */\\r\\n.eqjs-ep-entity-attr-root {\\r\\n    position: relative;\\r\\n}\\r\\n\\r\\n.eqjs-ep-entity-attr-label input{\\r\\n    margin: 0 5px 0 0;\\r\\n\\tvertical-align: bottom;\\r\\n\\tposition: relative;\\r\\n\\ttop: -3px;\\r\\n}\\r\\n\\r\\n.eqjs-ep-entity-node-button{\\r\\n    display:inline-block;\\r\\n    padding: 4px 10px 7px;\\r\\n}\\r\\n\\r\\n.eqjs-ep-tool-panel{\\r\\n    bottom: 0;\\r\\n    left: 0;\\r\\n    padding-top: 8px;\\r\\n    position: absolute;\\r\\n    right: 0;\\r\\n    height: 41px;\\r\\n}\\r\\n\\r\\n.eqjs-ep-tool-panel div.eqjs-ep-tool-panel-left-side{\\r\\n    float: left;\\r\\n    width: 50%;\\r\\n}\\r\\n\\r\\n.eqjs-ep-tool-panel div.eqjs-ep-tool-panel-right-side{\\r\\n    float: right;\\r\\n    width: 50%;\\r\\n}\\r\\n\\r\\n.eqjs-ep-tool-panel div div{\\r\\n    float: inherit;\\r\\n    width: 24px;\\r\\n    height: 24px;\\r\\n    cursor: pointer;\\r\\n    margin: 0 10%;\\r\\n}\\r\\n\\r\\n.eqjs-highlight{\\r\\n    height: 20px;\\r\\n}\\r\\n\\r\\n.eqjs-drophover {\\r\\n    border: 1px dotted black;\\r\\n}\\r\\n\\r\\n.eqjs-ep-entity > .eqjs-ep-entity-children{\\r\\n    float: left;\\r\\n    width: 100%;\\r\\n}\\r\\n\\r\\n.eqjs-menu-close-btn {\\r\\n    position:absolute;\\r\\n    bottom: 0;\\r\\n    cursor: pointer;\\r\\n    text-align: center;\\r\\n    font-size: 1.1em;\\r\\n    width: 100%;\\r\\n    height: 40px;\\r\\n    border-top: 1px solid #666;\\r\\n}\\r\\n\\r\\n.eqjs-menu-rootLevel{\\r\\n    background-color: #888;\\r\\n}\\r\\n\\r\\n.eqjs-menu-levelDiv{\\r\\n    background: #fff;\\r\\n    border: 1px solid silver;\\r\\n    padding: 5px 0;\\r\\n    position: relative;\\r\\n}\\r\\n\\r\\n.eqjs-menu-searchDiv{\\r\\n    border-bottom: 1px solid silver;\\r\\n    background-color: white;\\r\\n    cursor: pointer;\\r\\n    padding: 5px 10px;\\r\\n}\\r\\n\\r\\n.eqjs-menu-searchBox{\\r\\n    width: 93%;\\r\\n    padding: 2px 5px;\\r\\n    font-weight: normal;\\r\\n    font-size: 15px;\\r\\n}\\r\\n\\r\\n.eqjs-menu-searchBox.ui-dialog {\\r\\n    position: relative;\\r\\n}\\r\\n\\r\\n.eqjs-menu-scrollDiv{\\r\\n    min-width: 140px;\\r\\n    white-space: nowrap;\\r\\n    overflow: auto;\\r\\n    font-size: 14px;\\r\\n}\\r\\n\\r\\n.eqjs-menu-scrollDiv:focus {\\r\\n    outline:none;\\r\\n}\\r\\n\\r\\n.eqjs-menu-itemDiv input{\\r\\n    margin: 4px 10px 0 0;\\r\\n    vertical-align: top;\\r\\n}\\r\\n\\r\\n.eqjs-menu-itemDiv{\\r\\n    font-size: 1em;\\r\\n    color: #333333;\\r\\n    padding: 5px 10px 5px 20px;\\r\\n    cursor: pointer;\\r\\n    overflow: hidden;\\r\\n    text-overflow: ellipsis;\\r\\n}\\r\\n\\r\\n.eqjs-menu-itemDiv.eqjs-menu-selected {\\r\\n    padding-left: 3px;\\r\\n}\\r\\n\\r\\n.eqjs-menu-itemDiv.eqjs-menu-selected:before {\\r\\n    content:  \\\"\\\\2713 \\\";\\r\\n    margin-right: 5px;\\r\\n}\\r\\n\\r\\n.eqjs-menu-itemDiv-arrow {\\r\\n    position: absolute;\\r\\n    right: 10px;\\r\\n}\\r\\n\\r\\n\\r\\n.eqjs-menu-itemDiv-hasChildren{\\r\\n    padding: 5px 20px 5px 20px;\\r\\n    font-size: 1em;\\r\\n}\\r\\n\\r\\n.eqjs-menu-itemDiv-filter-hasChildren {\\r\\n    padding: 5px 20px 5px 20px;\\r\\n    font-size: 1em;\\r\\n    font-weight: bold;\\r\\n}\\r\\n\\r\\n.eqjs-menu-itemDiv-highlight {\\r\\n    color: black;\\r\\n    background-color: yellow;\\r\\n}\\r\\n\\r\\n.eqjs-menu-itemDiv:hover, .eqjs-menu-itemDiv.active{\\r\\n    background: #ecf3f5;\\r\\n    color: #1776b1;\\r\\n}\\r\\n\\r\\n.eqjs-menu-itemDiv-text{\\r\\n    float: left;\\r\\n}\\r\\n\\r\\n.eqjs-menu-applyDiv{\\r\\n    padding: 5px;\\r\\n    border-bottom: 1px solid silver;\\r\\n    margin: 0 0 5px 0;\\r\\n}\\r\\n\\r\\n.eqjs-menu-applyDiv button{\\r\\n    padding: 0 5px;\\r\\n    cursor: pointer;\\r\\n}\\r\\n\\r\\n.eqjs-menu-cancel{\\r\\n    margin: 0 0 0 15px;\\r\\n}\\r\\n\\r\\n\\r\\n/* Columns panel */\\r\\n\\r\\n.eqjs-qc-columns{\\r\\n    overflow-y: auto;\\r\\n    padding: 4px 0;\\r\\n    display: flex;\\r\\n    flex-direction: column;\\r\\n    flex-wrap: nowrap;\\r\\n}\\r\\n\\r\\n.eqjs-qc-column-drag{\\r\\n    opacity: 0.7;\\r\\n    cursor: n-resize !important;\\r\\n    background: #F1F1F1;\\r\\n    width: 664px;\\r\\n    position:relative;\\r\\n}\\r\\n\\r\\n.eqjs-qc-column-drag-forbidden{\\r\\n    background: #F7819F;\\r\\n}\\r\\n\\r\\n.eqjs-qc-column-sort{\\r\\n    opacity: 0.7;\\r\\n    cursor: n-resize !important;\\r\\n    background: #E8F3FF;\\r\\n    padding: 0 20px !important;\\r\\n}\\r\\n\\r\\n.eqjs-fb-container {\\r\\n    position: relative;\\r\\n}\\r\\n\\r\\n.eqjs-fb-header {\\r\\n    height: 30px;\\r\\n    line-height: 30px;\\r\\n    background-color: grey;\\r\\n    color: white;\\r\\n    font-weight: bold;\\r\\n}\\r\\n\\r\\n.eqjs-fb-header-link:hover {\\r\\n    cursor: pointer;\\r\\n    text-decoration: underline;\\r\\n}\\r\\n\\r\\n\\r\\n.eqjs-fb-querypanelblock {\\r\\n    border: 1px solid #aaa;\\r\\n}\\r\\n\\r\\n.eqjs-fb-querypanel {\\r\\n    background: none repeat scroll 0 0 #f9f9f9;\\r\\n    border-bottom: 1px dotted #AAA;\\r\\n}\\r\\n\\r\\n.eqjs-fb-querypanel > .eqjs-qp-group-root > .eqjs-qp-conditions {\\r\\n    max-height: 200px !important;\\r\\n}\\r\\n\\r\\n.eqjs-fb-querypanel .eqjs-qp-addrow {\\r\\n    margin-bottom: 8px;\\r\\n}\\r\\n\\r\\n.eqjs-fb-header-icon {\\r\\n    width: 30px;\\r\\n    height: 100%;\\r\\n    display: inline-block;\\r\\n    background-color: #099cff !important;\\r\\n}\\r\\n\\r\\n.eqjs-fb-header-icon span {\\r\\n    padding-left: 8px;\\r\\n    padding-top: 8px;\\r\\n}\\r\\n\\r\\n.eqjs-fb-header-arrowblock {\\r\\n    width: 26px;\\r\\n    height: 100%;\\r\\n    display: inline-block;\\r\\n    padding-top: 11px;\\r\\n    padding-left: 6px;\\r\\n}\\r\\n\\r\\n.eqjs-fb-header-arrow {\\r\\n\\tborder-color: white transparent;\\r\\n\\tborder-style: solid;\\r\\n\\tborder-width: 7px 7px 0px 7px;\\r\\n\\theight: 0px;\\r\\n\\twidth: 0px;\\r\\n}\\r\\n\\r\\n.eqjs-fb-header-arrowUp {\\r\\n\\tborder-width: 0px 7px 7px 7px !important;\\r\\n}\\r\\n\\r\\n.eqjs-fb-header-textblock {\\r\\n    display: inline-block;\\r\\n    padding-left: 6px;\\r\\n    padding-right: 2px;\\r\\n}\\r\\n\\r\\n.eqjs-fb-header-textblock a {\\r\\n    color: white;\\r\\n    font-weight: bold;\\r\\n}\\r\\n\\r\\n.eqjs-fb-header-text {\\r\\n    display: inline-block;\\r\\n    overflow: hidden;\\r\\n    text-overflow: ellipsis;\\r\\n    white-space: nowrap;\\r\\n    width: 100%;\\r\\n}\\r\\n\\r\\n.eqjs-fb-buttonsblock {\\r\\n    margin-top: 4px;\\r\\n    margin-bottom: 4px;\\r\\n    padding-left: 4px;\\r\\n}\\r\\n\\r\\n.eqjs-fb-button {\\r\\n    -moz-user-select: none;\\r\\n    background-image: none;\\r\\n    border: 1px solid transparent;\\r\\n    border-radius: 4px;\\r\\n    cursor: pointer;\\r\\n    display: inline-block;\\r\\n    font-size: 14px;\\r\\n    font-weight: 400;\\r\\n    line-height: 1.42857;\\r\\n    margin-bottom: 0;\\r\\n    padding: 2px 12px;\\r\\n    text-align: center;\\r\\n    vertical-align: middle;\\r\\n    white-space: nowrap;\\r\\n    color: #fff;\\r\\n    box-shadow: 0 1px 0 rgba(255, 255, 255, 0.15) inset, 0 1px 1px rgba(0, 0, 0, 0.075);\\r\\n    text-shadow: 0 -1px 0 rgba(0, 0, 0, 0.2);\\r\\n    text-decoration: none;\\r\\n    margin-right:10px;\\r\\n}\\r\\n\\r\\n.eqjs-fb-button:hover, .eqjs-fb-button:active, .eqjs-fb-button:focus {\\r\\n    text-decoration: none;\\r\\n    outline: 0 none;\\r\\n    color: #fff;\\r\\n}\\r\\n\\r\\n.eqjs-fb-button-apply {\\r\\n    background-image: linear-gradient(to bottom, #5cb85c 0px, #419641 100%);\\r\\n    background-repeat: repeat-x;\\r\\n    border-color: #3e8f3e;\\r\\n}\\r\\n\\r\\n.eqjs-fb-button-clear {\\r\\n    background-image: linear-gradient(to bottom, #428bca 0px, #2d6ca2 100%);\\r\\n    background-repeat: repeat-x;\\r\\n    border-color: #2b669a;\\r\\n}\\r\\n\\r\\n.eqjs-fb-button-apply:hover, .eqjs-fb-button-apply:active, .eqjs-fb-button-apply:focus {\\r\\n    background-color: #419641;\\r\\n    border-color: #3e8f3e;\\r\\n}\\r\\n\\r\\n.eqjs-fb-button-clear:hover, .eqjs-fb-button-clear:active, .eqjs-fb-button-clear:focus {\\r\\n    background-color: #2d6ca2;\\r\\n    border-color: #2b669a;\\r\\n}\\r\\n\\r\\n/*  Progress indicator  */\\r\\n.eqjs-progress-win8 {\\r\\n    width: 40px;\\r\\n    height: 40px;\\r\\n    margin: auto;\\r\\n    position: absolute;\\r\\n    top: 0; left: 0; bottom: 0; right: 0;\\r\\n}\\r\\n\\r\\n.eqjs-progress-win8 .wBall {\\r\\n    position: absolute;\\r\\n    width: 38px;\\r\\n    height: 38px;\\r\\n    opacity: 0;\\r\\n    -moz-transform: rotate(225deg);\\r\\n    -moz-animation: orbit 7.15s infinite;\\r\\n    -webkit-transform: rotate(225deg);\\r\\n    -webkit-animation: orbit 7.15s infinite;\\r\\n    -ms-transform: rotate(225deg);\\r\\n    -ms-animation: orbit 7.15s infinite;\\r\\n    -o-transform: rotate(225deg);\\r\\n    -o-animation: orbit 7.15s infinite;\\r\\n    transform: rotate(225deg);\\r\\n    animation: orbit 7.15s infinite;\\r\\n}\\r\\n\\r\\n.eqjs-progress-win8 .wBall .wInnerBall {\\r\\n    position: absolute;\\r\\n    width: 5px;\\r\\n    height: 5px;\\r\\n    background: #000000;\\r\\n    left: 0px;\\r\\n    top: 0px;\\r\\n    -moz-border-radius: 5px;\\r\\n    -webkit-border-radius: 5px;\\r\\n    -ms-border-radius: 5px;\\r\\n    -o-border-radius: 5px;\\r\\n    border-radius: 5px;\\r\\n}\\r\\n\\r\\n.eqjs-progress-win8 #wBall_1 {\\r\\n-moz-animation-delay: 1.56s;\\r\\n-webkit-animation-delay: 1.56s;\\r\\n-ms-animation-delay: 1.56s;\\r\\n-o-animation-delay: 1.56s;\\r\\nanimation-delay: 1.56s;\\r\\n}\\r\\n\\r\\n.eqjs-progress-win8 #wBall_2 {\\r\\n-moz-animation-delay: 0.31s;\\r\\n-webkit-animation-delay: 0.31s;\\r\\n-ms-animation-delay: 0.31s;\\r\\n-o-animation-delay: 0.31s;\\r\\nanimation-delay: 0.31s;\\r\\n}\\r\\n\\r\\n.eqjs-progress-win8 #wBall_3 {\\r\\n-moz-animation-delay: 0.62s;\\r\\n-webkit-animation-delay: 0.62s;\\r\\n-ms-animation-delay: 0.62s;\\r\\n-o-animation-delay: 0.62s;\\r\\nanimation-delay: 0.62s;\\r\\n}\\r\\n\\r\\n.eqjs-progress-win8 #wBall_4 {\\r\\n-moz-animation-delay: 0.94s;\\r\\n-webkit-animation-delay: 0.94s;\\r\\n-ms-animation-delay: 0.94s;\\r\\n-o-animation-delay: 0.94s;\\r\\nanimation-delay: 0.94s;\\r\\n}\\r\\n\\r\\n.eqjs-progress-win8 #wBall_5 {\\r\\n-moz-animation-delay: 1.25s;\\r\\n-webkit-animation-delay: 1.25s;\\r\\n-ms-animation-delay: 1.25s;\\r\\n-o-animation-delay: 1.25s;\\r\\nanimation-delay: 1.25s;\\r\\n}\\r\\n\\r\\n@-moz-keyframes orbit {\\r\\n    0% {\\r\\n        opacity: 1;\\r\\n        z-index: 99;\\r\\n        -moz-transform: rotate(180deg);\\r\\n        -moz-animation-timing-function: ease-out;\\r\\n    }\\r\\n\\r\\n    7% {\\r\\n        opacity: 1;\\r\\n        -moz-transform: rotate(300deg);\\r\\n        -moz-animation-timing-function: linear;\\r\\n        -moz-origin: 0%;\\r\\n    }\\r\\n\\r\\n    30% {\\r\\n        opacity: 1;\\r\\n        -moz-transform: rotate(410deg);\\r\\n        -moz-animation-timing-function: ease-in-out;\\r\\n        -moz-origin: 7%;\\r\\n    }\\r\\n\\r\\n    39% {\\r\\n        opacity: 1;\\r\\n        -moz-transform: rotate(645deg);\\r\\n        -moz-animation-timing-function: linear;\\r\\n        -moz-origin: 30%;\\r\\n    }\\r\\n\\r\\n    70% {\\r\\n        opacity: 1;\\r\\n        -moz-transform: rotate(770deg);\\r\\n        -moz-animation-timing-function: ease-out;\\r\\n        -moz-origin: 39%;\\r\\n    }\\r\\n\\r\\n    75% {\\r\\n        opacity: 1;\\r\\n        -moz-transform: rotate(900deg);\\r\\n        -moz-animation-timing-function: ease-out;\\r\\n        -moz-origin: 70%;\\r\\n    }\\r\\n\\r\\n    76% {\\r\\n        opacity: 0;\\r\\n        -moz-transform: rotate(900deg);\\r\\n    }\\r\\n\\r\\n    100% {\\r\\n        opacity: 0;\\r\\n        -moz-transform: rotate(900deg);\\r\\n    }\\r\\n}\\r\\n\\r\\n@-webkit-keyframes orbit {\\r\\n    0% {\\r\\n        opacity: 1;\\r\\n        z-index: 99;\\r\\n        -webkit-transform: rotate(180deg);\\r\\n        -webkit-animation-timing-function: ease-out;\\r\\n    }\\r\\n\\r\\n    7% {\\r\\n        opacity: 1;\\r\\n        -webkit-transform: rotate(300deg);\\r\\n        -webkit-animation-timing-function: linear;\\r\\n        -webkit-origin: 0%;\\r\\n    }\\r\\n\\r\\n    30% {\\r\\n        opacity: 1;\\r\\n        -webkit-transform: rotate(410deg);\\r\\n        -webkit-animation-timing-function: ease-in-out;\\r\\n        -webkit-origin: 7%;\\r\\n    }\\r\\n\\r\\n    39% {\\r\\n        opacity: 1;\\r\\n        -webkit-transform: rotate(645deg);\\r\\n        -webkit-animation-timing-function: linear;\\r\\n        -webkit-origin: 30%;\\r\\n    }\\r\\n\\r\\n    70% {\\r\\n        opacity: 1;\\r\\n        -webkit-transform: rotate(770deg);\\r\\n        -webkit-animation-timing-function: ease-out;\\r\\n        -webkit-origin: 39%;\\r\\n    }\\r\\n\\r\\n    75% {\\r\\n        opacity: 1;\\r\\n        -webkit-transform: rotate(900deg);\\r\\n        -webkit-animation-timing-function: ease-out;\\r\\n        -webkit-origin: 70%;\\r\\n    }\\r\\n\\r\\n    76% {\\r\\n        opacity: 0;\\r\\n        -webkit-transform: rotate(900deg);\\r\\n    }\\r\\n\\r\\n    100% {\\r\\n        opacity: 0;\\r\\n        -webkit-transform: rotate(900deg);\\r\\n    }\\r\\n}\\r\\n\\r\\n@-ms-keyframes orbit {\\r\\n    0% {\\r\\n        opacity: 1;\\r\\n        z-index: 99;\\r\\n        -ms-transform: rotate(180deg);\\r\\n        -ms-animation-timing-function: ease-out;\\r\\n    }\\r\\n\\r\\n    7% {\\r\\n        opacity: 1;\\r\\n        -ms-transform: rotate(300deg);\\r\\n        -ms-animation-timing-function: linear;\\r\\n        -ms-origin: 0%;\\r\\n    }\\r\\n\\r\\n    30% {\\r\\n        opacity: 1;\\r\\n        -ms-transform: rotate(410deg);\\r\\n        -ms-animation-timing-function: ease-in-out;\\r\\n        -ms-origin: 7%;\\r\\n    }\\r\\n\\r\\n    39% {\\r\\n        opacity: 1;\\r\\n        -ms-transform: rotate(645deg);\\r\\n        -ms-animation-timing-function: linear;\\r\\n        -ms-origin: 30%;\\r\\n    }\\r\\n\\r\\n    70% {\\r\\n        opacity: 1;\\r\\n        -ms-transform: rotate(770deg);\\r\\n        -ms-animation-timing-function: ease-out;\\r\\n        -ms-origin: 39%;\\r\\n    }\\r\\n\\r\\n    75% {\\r\\n        opacity: 1;\\r\\n        -ms-transform: rotate(900deg);\\r\\n        -ms-animation-timing-function: ease-out;\\r\\n        -ms-origin: 70%;\\r\\n    }\\r\\n\\r\\n    76% {\\r\\n        opacity: 0;\\r\\n        -ms-transform: rotate(900deg);\\r\\n    }\\r\\n\\r\\n    100% {\\r\\n        opacity: 0;\\r\\n        -ms-transform: rotate(900deg);\\r\\n    }\\r\\n}\\r\\n\\r\\n@-o-keyframes orbit {\\r\\n    0% {\\r\\n        opacity: 1;\\r\\n        z-index: 99;\\r\\n        -o-transform: rotate(180deg);\\r\\n        -o-animation-timing-function: ease-out;\\r\\n    }\\r\\n\\r\\n    7% {\\r\\n        opacity: 1;\\r\\n        -o-transform: rotate(300deg);\\r\\n        -o-animation-timing-function: linear;\\r\\n        -o-origin: 0%;\\r\\n    }\\r\\n\\r\\n    30% {\\r\\n        opacity: 1;\\r\\n        -o-transform: rotate(410deg);\\r\\n        -o-animation-timing-function: ease-in-out;\\r\\n        -o-origin: 7%;\\r\\n    }\\r\\n\\r\\n    39% {\\r\\n        opacity: 1;\\r\\n        -o-transform: rotate(645deg);\\r\\n        -o-animation-timing-function: linear;\\r\\n        -o-origin: 30%;\\r\\n    }\\r\\n\\r\\n    70% {\\r\\n        opacity: 1;\\r\\n        -o-transform: rotate(770deg);\\r\\n        -o-animation-timing-function: ease-out;\\r\\n        -o-origin: 39%;\\r\\n    }\\r\\n\\r\\n    75% {\\r\\n        opacity: 1;\\r\\n        -o-transform: rotate(900deg);\\r\\n        -o-animation-timing-function: ease-out;\\r\\n        -o-origin: 70%;\\r\\n    }\\r\\n\\r\\n    76% {\\r\\n        opacity: 0;\\r\\n        -o-transform: rotate(900deg);\\r\\n    }\\r\\n\\r\\n    100% {\\r\\n        opacity: 0;\\r\\n        -o-transform: rotate(900deg);\\r\\n    }\\r\\n}\\r\\n\\r\\n@keyframes orbit {\\r\\n    0% {\\r\\n        opacity: 1;\\r\\n        z-index: 99;\\r\\n        transform: rotate(180deg);\\r\\n        animation-timing-function: ease-out;\\r\\n    }\\r\\n\\r\\n    7% {\\r\\n        opacity: 1;\\r\\n        transform: rotate(300deg);\\r\\n        animation-timing-function: linear;\\r\\n        origin: 0%;\\r\\n    }\\r\\n\\r\\n    30% {\\r\\n        opacity: 1;\\r\\n        transform: rotate(410deg);\\r\\n        animation-timing-function: ease-in-out;\\r\\n        origin: 7%;\\r\\n    }\\r\\n\\r\\n    39% {\\r\\n        opacity: 1;\\r\\n        transform: rotate(645deg);\\r\\n        animation-timing-function: linear;\\r\\n        origin: 30%;\\r\\n    }\\r\\n\\r\\n    70% {\\r\\n        opacity: 1;\\r\\n        transform: rotate(770deg);\\r\\n        animation-timing-function: ease-out;\\r\\n        origin: 39%;\\r\\n    }\\r\\n\\r\\n    75% {\\r\\n        opacity: 1;\\r\\n        transform: rotate(900deg);\\r\\n        animation-timing-function: ease-out;\\r\\n        origin: 70%;\\r\\n    }\\r\\n\\r\\n    76% {\\r\\n        opacity: 0;\\r\\n        transform: rotate(900deg);\\r\\n    }\\r\\n\\r\\n    100% {\\r\\n        opacity: 0;\\r\\n        transform: rotate(900deg);\\r\\n    }\\r\\n}\\r\\n/*  End of Progress indicator  */\\r\\n\\r\\n\\r\\n\\r\\n/* ColumnsBar START */\\r\\n.eqjs-cb-panel, .eqjs-sb-panel {\\r\\n    display: flex;\\r\\n    background: #f9f9f9;\\r\\n    min-height: 40px;\\r\\n    position: relative;\\r\\n    font: normal 14px Trebuchet MS, Tahoma, Verdana, Geneva, Arial, Helvetica, sans-serif;\\r\\n}\\r\\n\\r\\n.eqjs-cb-header, .eqjs-sb-header {\\r\\n    display: none;\\r\\n}\\r\\n\\r\\n.eqjs-cb-columns, .eqjs-sb-columns {\\r\\n    position: relative;\\r\\n    white-space: normal;\\r\\n    overflow-y: unset;\\r\\n    min-height: 40px;\\r\\n    padding: 0;\\r\\n    max-height: 1000px !important;\\r\\n}\\r\\n\\r\\n.eqjs-gp-addrow,\\r\\n.eqjs-cb-addrow,\\r\\n.eqjs-sb-addrow {\\r\\n    margin: 5px 2px 2px 2px;\\r\\n    position: relative;\\r\\n    flex: 0 0 auto;\\r\\n    vertical-align: baseline;\\r\\n    height: 23px;\\r\\n    width: 23px;\\r\\n    padding:0;\\r\\n}\\r\\n\\r\\n.eqjs-gp-addrow a,\\r\\n.eqjs-cb-addrow a,\\r\\n.eqjs-sb-addrow a {\\r\\n  background: scroll 0 0 rgba(0, 0, 0, 0);\\r\\n  border-bottom: none;\\r\\n  width: 100%;\\r\\n  height: 100%;\\r\\n  margin:0;\\r\\n\\r\\n  text-indent: 100%;\\r\\n  white-space: nowrap;\\r\\n  overflow: hidden;\\r\\n}\\r\\n\\r\\n.eqjs-gp-addrow > a:hover,\\r\\n.eqjs-cb-addrow > a:hover,\\r\\n.eqjs-sb-addrow > a:hover{\\r\\n    border-bottom: none;\\r\\n}\\r\\n\\r\\n.eqjs-cb-row, .eqjs-sb-row {\\r\\n    position: relative;\\r\\n    height: 27px;\\r\\n    cursor: pointer;\\r\\n    display: inline-block;\\r\\n    margin: 2px;\\r\\n    background-color: white;\\r\\n    border: 1px solid #0099CC;\\r\\n    min-width: 80px;\\r\\n    font: normal 14px Trebuchet MS, Tahoma, Verdana, Geneva, Arial, Helvetica, sans-serif;\\r\\n    color: #0099CC;\\r\\n}\\r\\n\\r\\n.eqjs-cb-row.eqjs-cb-disabled {\\r\\n    background-color: lightgray;\\r\\n    border: 1px dotted #999;\\r\\n    color: #999;\\r\\n}\\r\\n\\r\\n.eqjs-cb-row.eqjs-cb-readonly {\\r\\n    background-color: white;\\r\\n    border: 1px dotted #999;\\r\\n    color: #999;\\r\\n}\\r\\n\\r\\n.eqjs-cb-row  .eqjs-cb-buttonsBlock {\\r\\n    display: none;\\r\\n}\\r\\n\\r\\n.eqjs-cb-row  .eqjs-column-sortbutton {\\r\\n    display: none;\\r\\n}\\r\\n\\r\\n.eqjs-cb-row[data-show-buttons]  .eqjs-cb-buttonsBlock {\\r\\n    display: flex;\\r\\n}\\r\\n\\r\\n.eqjs-cb-row[data-show-buttons]  .eqjs-column-sortbutton {\\r\\n    display: block;\\r\\n}\\r\\n\\r\\n.eqjs-cb-expr-block {\\r\\n    display:none;\\r\\n}\\r\\n\\r\\n.eqjs-cb-colelement,\\r\\n.eqjs-sb-colelement {\\r\\n    display: inline-block;\\r\\n    margin: 4px 8px 0 0;\\r\\n    vertical-align: top;\\r\\n    font-size: 14px;\\r\\n    font-weight: normal;\\r\\n}\\r\\n\\r\\n.eqjs-cb-colelement:first-child,\\r\\n.eqjs-sb-colelement:first-child {\\r\\n    margin-left: 8px !important;\\r\\n}\\r\\n\\r\\n.eqjs-cb-colelement > a,\\r\\n.eqjs-sb-colelement > a {\\r\\n    border-bottom: none;\\r\\n    pointer-events: none;\\r\\n    vertical-align: middle;\\r\\n}\\r\\n\\r\\n.eqjs-cb-colelement > a,\\r\\n.eqjs-sb-colelement > a {\\r\\n    color: #0099CC;\\r\\n}\\r\\n\\r\\n.eqjs-cb-captionelement input {\\r\\n    margin-top: -4px;\\r\\n}\\r\\n\\r\\n.eqjs-cb-captionelement input:focus {\\r\\n    border: 1px dashed #0099cc;\\r\\n    box-shadow: none;\\r\\n    outline: none;    \\r\\n}\\r\\n\\r\\n.eqjs-cb-row.active a, .eqjs-cb-row:hover a {\\r\\n    color: white;\\r\\n}\\r\\n\\r\\n.eqjs-cb-row.active, .eqjs-cb-row:hover {\\r\\n    background-color: #0099CC;\\r\\n    color: white;\\r\\n    padding-left: 0;\\r\\n}\\r\\n\\r\\n.eqjs-cb-row, .eqjs-cb-row.active, .eqjs-cb-row:hover {\\r\\n    border-radius: 0.25em;\\r\\n    font-size: 75%;\\r\\n    font-weight: 700;\\r\\n    text-align: center;\\r\\n    vertical-align: baseline;\\r\\n    white-space: nowrap;\\r\\n}\\r\\n\\r\\n.eqjs-cb-row.eqjs-cb-disabled.active, .eqjs-cb-row.eqjs-cb-disabled:hover {\\r\\n    background-color: lightgray;\\r\\n    color: #666;\\r\\n    border-color: #666;\\r\\n}\\r\\n\\r\\n.eqjs-cb-row.eqjs-cb-readonly.active, .eqjs-cb-row.eqjs-cb-readonly:hover {\\r\\n    background-color: white;\\r\\n    color: #666;\\r\\n    border-color: #666;\\r\\n}\\r\\n\\r\\n.eqjs-cb-row .eqjs-button-placeholder {\\r\\n    margin: 2px 0 2px 1px;\\r\\n}\\r\\n\\r\\n.eqjs-cb-row.active .eqjs-cb-button-placeholder, .eqjs-cb-row:hover .eqjs-cb-button-placeholder {\\r\\n    display: inline-block;\\r\\n}\\r\\n\\r\\n.eqjs-cb-row .eqjs-cb-sortimage-placeholder,\\r\\n.eqjs-sb-row .eqjs-sb-sortimage-placeholder {\\r\\n\\tmargin: 2px 0;\\r\\n\\theight: 100%;\\r\\n}\\r\\n\\r\\n.eqjs-cb-img-sorting,\\r\\n.eqjs-sb-img-sorting {\\r\\n    width: 24px;\\r\\n    height: 24px;\\r\\n}\\r\\n\\r\\n.eqjs-cb-buttonsBlock {\\r\\n    position: absolute;\\r\\n    right: 0;\\r\\n    height: 27px;\\r\\n    top: -27px;\\r\\n    max-width: none;\\r\\n    left: 0;\\r\\n    display: flex;\\r\\n    flex-direction: row;\\r\\n    justify-content: flex-end;\\r\\n}\\r\\n\\r\\n.eqjs-cb-buttonsBlock div {\\r\\n    width: 22px;\\r\\n    height: 22px;\\r\\n    margin: 2px 0 2px 2px;\\r\\n}\\r\\n\\r\\n.ui-sortable-helper .eqjs-cb-buttonsBlock {\\r\\n    display: none !important;\\r\\n}\\r\\n\\r\\n.eqjs-cb-columns,\\r\\n.eqjs-sb-columns {\\r\\n    display: inline-flex;\\r\\n    flex-wrap: wrap;\\r\\n    flex: 1 1 auto;\\r\\n}\\r\\n\\r\\n.eqjs-cb-columns .eqjs-highlight,\\r\\n.eqjs-sb-columns .eqjs-highlight {\\r\\n    height: 27px;\\r\\n    top: 2px;\\r\\n    width: 100px;\\r\\n    position: relative;\\r\\n    background: #ffc107 !important;\\r\\n}\\r\\n\\r\\n/* ColumnsBar END */\\r\\n\\r\\n\\r\\n/* QueryName Widget */\\r\\n.eqjs-query-name {\\r\\n    position: relative;\\r\\n    margin-top: 0 !important;\\r\\n}\\r\\n\\r\\n.eqjs-query-name-text {\\r\\n    white-space: nowrap;\\r\\n    text-overflow: ellipsis;\\r\\n    overflow: hidden;\\r\\n    margin: 0 !important;\\r\\n    padding: 5px 10px 5px 5px;\\r\\n    width: 100%;\\r\\n}\\r\\n\\r\\n.eqjs-query-name:hover .eqjs-query-name-text {\\r\\n    box-shadow: none;\\r\\n}\\r\\n\\r\\n.eqjs-query-name-asterisk {\\r\\n    position: absolute;\\r\\n    right: 3px;\\r\\n    top: 0;\\r\\n    z-index: 10000;\\r\\n\\r\\n    color: red;\\r\\n    font-size: 1rem;\\r\\n    font-weight: 700;\\r\\n}\\r\\n\\r\\n.eqjs-query-name .eqjs-query-name-tooltip {\\r\\n    visibility: hidden;\\r\\n}\\r\\n\\r\\n.eqjs-query-name-theme {\\r\\n    font: normal 12pt \\\"Segoe UI Light\\\", \\\"Segoe Light\\\", \\\"Segoe UI\\\", Arial, Helvetica, sans-serif;\\r\\n    font-weight: 600;\\r\\n}\\r\\n\\r\\n/* QueryName Widget END */\\r\\n\\r\\n/* Process Bar start */\\r\\n.eqjs-process-bar {\\r\\n    display: 'none';\\r\\n    height: 4px;\\r\\n    width: 100%;\\r\\n    position: fixed;\\r\\n    top: 0;\\r\\n\\tleft: 0;\\r\\n    z-index: 65000;\\r\\n    overflow: hidden;\\r\\n    background-color: #ddd;\\r\\n  }\\r\\n  .eqjs-process-bar:before{\\r\\n    display: block;\\r\\n    position: absolute;\\r\\n    content: \\\"\\\";\\r\\n    left: -200px;\\r\\n    width: 200px;\\r\\n    height: 4px;\\r\\n    background-color: #2980b9;\\r\\n    animation: eqjs-process-bar-loading 2s linear infinite;\\r\\n  }\\r\\n  \\r\\n  @keyframes eqjs-process-bar-loading {\\r\\n      from {left: -200px; width: 30%;}\\r\\n      50% {width: 30%;}\\r\\n      70% {width: 70%;}\\r\\n      80% { left: 50%;}\\r\\n      95% {left: 120%;}\\r\\n      to {left: 100%;}\\r\\n  }\\r\\n/* Process Bar end */\\r\\n\\r\\na.eqjs-disabled {\\r\\n    color: currentColor;\\r\\n    cursor: not-allowed;\\r\\n    opacity: 0.5;\\r\\n    text-decoration: none;\\r\\n} \\r\\n\\r\\n\\r\\ninput.eqjs-invalid {\\r\\n    border:1px solid red !important;\\r\\n}\\r\\n\\r\\n\\r\\n\\r\\n.eqjs-maximized {\\r\\n    position: fixed !important;\\r\\n    background-color: white;\\r\\n    left: 0;\\r\\n    top: 0;\\r\\n    width: 100%;\\r\\n    height: 100%;\\r\\n    z-index: 1000;\\r\\n    transition: 1s;\\r\\n}\\r\\n\\r\\n.eqjs-maximizable {\\r\\n    position: relative;\\r\\n}\\r\\n\\r\\n.eqjs-max-button {\\r\\n    position: absolute;\\r\\n    width: 24px;\\r\\n    height: 24px;\\r\\n    background-color: white;\\r\\n    right: 4px;\\r\\n    top: 4px;\\r\\n    z-index: 10000;\\r\\n    border: 1px solid gray;\\r\\n    border-radius: 4px;\\r\\n    cursor: pointer;\\r\\n    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAAr0lEQVQ4jaWTwQ2DMAxFn1EPDMAyVTl1g94Yg7IIWyBVHKrORWfo7yWUyBKKK76UQ+z8/+3EMUkcwSlyyMw64ObCL0lTSMDhCjRABUxICi+gBwQswCwp1kJqowdG4A5cfomg85Cch7Sf1woi5DYnp1gHdFGBGmh38wXnumjgS3I97zp7ge1SNnIfuuBcIHvnENkLLP+SJVFls9IAb+BsZo80/0Wsk/gEPhGChx39zl8oCGZnXNzK6gAAAABJRU5ErkJggg==');\\r\\n    background-position: 3px 3px;\\r\\n    background-repeat: no-repeat;\\r\\n    opacity: 0.6;\\r\\n}\\r\\n\\r\\n.eqjs-max-button:hover {\\r\\n    opacity: 1;\\r\\n}\\r\\n\\r\\n.eqjs-maximized > .eqjs-max-button {\\r\\n    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAAvklEQVQ4jaWTuw3CMBCGvz8lygA0rJIBKKMUDJABIhgH5mAAVknDBJT8FHlgmSg2cNLJOp3v870s2/wjxS9BklpJhyyApEpSH9gdcAZKAGyvKtAM1wzQAQa62Z8LWAr+FmDg+OHPANQBYNJ+8is1RkkbYB81/G77BrwBkipgG1x6Alfbj9UXglT7hVTrVIlFANrZFnAK+OlFixo2j2o8m2STl4JHOx8AtMQbNvSkSgFkm/FjlLYvyZojSe5BSl4yFEh5bRiMkwAAAABJRU5ErkJggg==');\\r\\n}\\r\\n\\r\\n.eqjs-progress-line {\\r\\n    width: 100%;\\r\\n    background-color: #e0e0e0;\\r\\n    padding: 3px;\\r\\n    border-radius: 3px;\\r\\n    box-shadow: inset 0 1px 3px rgba(0, 0, 0, .2);\\r\\n}\\r\\n\\r\\n.eqjs-progress-line .fill {\\r\\n    display: block;\\r\\n    height: 22px;\\r\\n    background-color: #659cef;\\r\\n    border-radius: 3px;\\r\\n    \\r\\n    transition: width 500ms ease-in-out;\\r\\n}\\r\\n\", \"\"]);\n\n","\n/**\n * When source maps are enabled, `style-loader` uses a link element with a data-uri to\n * embed the css on the page. This breaks all relative urls because now they are relative to a\n * bundle instead of the current page.\n *\n * One solution is to only use full urls, but that may be impossible.\n *\n * Instead, this function \"fixes\" the relative urls to be absolute according to the current page location.\n *\n * A rudimentary test suite is located at `test/fixUrls.js` and can be run via the `npm test` command.\n *\n */\n\nmodule.exports = function (css) {\n  // get current location\n  var location = typeof window !== \"undefined\" && window.location;\n\n  if (!location) {\n    throw new Error(\"fixUrls requires window.location\");\n  }\n\n\t// blank or null?\n\tif (!css || typeof css !== \"string\") {\n\t  return css;\n  }\n\n  var baseUrl = location.protocol + \"//\" + location.host;\n  var currentDir = baseUrl + location.pathname.replace(/\\/[^\\/]*$/, \"/\");\n\n\t// convert each url(...)\n\t/*\n\tThis regular expression is just a way to recursively match brackets within\n\ta string.\n\n\t /url\\s*\\(  = Match on the word \"url\" with any whitespace after it and then a parens\n\t   (  = Start a capturing group\n\t     (?:  = Start a non-capturing group\n\t         [^)(]  = Match anything that isn't a parentheses\n\t         |  = OR\n\t         \\(  = Match a start parentheses\n\t             (?:  = Start another non-capturing groups\n\t                 [^)(]+  = Match anything that isn't a parentheses\n\t                 |  = OR\n\t                 \\(  = Match a start parentheses\n\t                     [^)(]*  = Match anything that isn't a parentheses\n\t                 \\)  = Match a end parentheses\n\t             )  = End Group\n              *\\) = Match anything and then a close parens\n          )  = Close non-capturing group\n          *  = Match anything\n       )  = Close capturing group\n\t \\)  = Match a close parens\n\n\t /gi  = Get all matches, not the first.  Be case insensitive.\n\t */\n\tvar fixedCss = css.replace(/url\\s*\\(((?:[^)(]|\\((?:[^)(]+|\\([^)(]*\\))*\\))*)\\)/gi, function(fullMatch, origUrl) {\n\t\t// strip quotes (if they exist)\n\t\tvar unquotedOrigUrl = origUrl\n\t\t\t.trim()\n\t\t\t.replace(/^\"(.*)\"$/, function(o, $1){ return $1; })\n\t\t\t.replace(/^'(.*)'$/, function(o, $1){ return $1; });\n\n\t\t// already a full url? no change\n\t\tif (/^(#|data:|http:\\/\\/|https:\\/\\/|file:\\/\\/\\/|\\s*$)/i.test(unquotedOrigUrl)) {\n\t\t  return fullMatch;\n\t\t}\n\n\t\t// convert the url to a full url\n\t\tvar newUrl;\n\n\t\tif (unquotedOrigUrl.indexOf(\"//\") === 0) {\n\t\t  \t//TODO: should we add protocol?\n\t\t\tnewUrl = unquotedOrigUrl;\n\t\t} else if (unquotedOrigUrl.indexOf(\"/\") === 0) {\n\t\t\t// path should be relative to the base url\n\t\t\tnewUrl = baseUrl + unquotedOrigUrl; // already starts with '/'\n\t\t} else {\n\t\t\t// path should be relative to current directory\n\t\t\tnewUrl = currentDir + unquotedOrigUrl.replace(/^\\.\\//, \"\"); // Strip leading './'\n\t\t}\n\n\t\t// send back the fixed url(...)\n\t\treturn \"url(\" + JSON.stringify(newUrl) + \")\";\n\t});\n\n\t// send back the fixed css\n\treturn fixedCss;\n};\n","\nvar content = require(\"!!../../../../../css-loader/dist/cjs.js??ref--6!./eq-icons-default.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../css-loader/dist/cjs.js??ref--6!./eq-icons-default.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../css-loader/dist/cjs.js??ref--6!./eq-icons-default.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../../css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \".eqjs-qc-column-checkbox {\\r\\n    background: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAiUlEQVR42qXM3QYFIRiF4d3dJpIhI5FKJCOSSHe7f9gn4ztZo3Wwzt6HvTbHfhdCeD8Nvw27Ad57OI4xUsA5BwMpJQpYa2Eg50wBYwwMlFIocJ4nDFzXRQGtNQzUWilwHAcMtNYooJSCgd47BaSUMDDGoIAQAgbmnBTgnMPAWosCcP3fDdjZNvABvRhVEQglsV8AAAAASUVORK5CYII=') no-repeat;\\r\\n}\\r\\n\\r\\n.eqjs-qc-column-checkbox.enabled {\\r\\n    background: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAuklEQVR42qWScQfFIBTF27dNzIxMxtREkpjE7Nu+98q7U+96T0/nj3Vv55wfsYF0akgfpdTj3+KrM1QAKWVzed93DNi2rRmgtcaAdV1/lowxBDJpRgAhxNeytTafkEk7AizLkk3nHIEZdlCZQQDOeTa99/lMO8ywg9I9AszznM3jONATwAOlDAJM03QHQgj3XN6XPgKM41iFYozk8670EIAx1vgXEHKeJwZQSpsB13VhQHP7rQrQo27AE+MRcBFOD9LhAAAAAElFTkSuQmCC') no-repeat;\\r\\n}\\r\\n\\r\\n.eqjs-qp-ve-loader {\\r\\n    background: url('data:image/gif;base64,R0lGODlhEAALAPQAAP///xd3sd3q89Tl8Ovz9xx6shd3sUCPvo282G6qzsDZ6TWJu1qex5TA2nGsz8Pb6jmLvBp5sl2gyOjx9tvp8vT4+kmUwd/r8/P3+rzX6KjM4c7i7u/1+QAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCwAAACwAAAAAEAALAAAFLSAgjmRpnqSgCuLKAq5AEIM4zDVw03ve27ifDgfkEYe04kDIDC5zrtYKRa2WQgAh+QQJCwAAACwAAAAAEAALAAAFJGBhGAVgnqhpHIeRvsDawqns0qeN5+y967tYLyicBYE7EYkYAgAh+QQJCwAAACwAAAAAEAALAAAFNiAgjothLOOIJAkiGgxjpGKiKMkbz7SN6zIawJcDwIK9W/HISxGBzdHTuBNOmcJVCyoUlk7CEAAh+QQJCwAAACwAAAAAEAALAAAFNSAgjqQIRRFUAo3jNGIkSdHqPI8Tz3V55zuaDacDyIQ+YrBH+hWPzJFzOQQaeavWi7oqnVIhACH5BAkLAAAALAAAAAAQAAsAAAUyICCOZGme1rJY5kRRk7hI0mJSVUXJtF3iOl7tltsBZsNfUegjAY3I5sgFY55KqdX1GgIAIfkECQsAAAAsAAAAABAACwAABTcgII5kaZ4kcV2EqLJipmnZhWGXaOOitm2aXQ4g7P2Ct2ER4AMul00kj5g0Al8tADY2y6C+4FIIACH5BAkLAAAALAAAAAAQAAsAAAUvICCOZGme5ERRk6iy7qpyHCVStA3gNa/7txxwlwv2isSacYUc+l4tADQGQ1mvpBAAIfkECQsAAAAsAAAAABAACwAABS8gII5kaZ7kRFGTqLLuqnIcJVK0DeA1r/u3HHCXC/aKxJpxhRz6Xi0ANAZDWa+kEAA7AAAAAAAAAAAA') no-repeat;\\r\\n}\\r\\n\\r\\n.eqjs-qp-condition-button-enable, .eqjs-column-button-enable{\\r\\n    background: url('data:image/png;base64,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') no-repeat;\\r\\n}\\r\\n\\r\\n.eqjs-qp-condition-button-delete, .eqjs-column-button-delete{\\r\\n    background: url('data:image/png;base64,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') no-repeat;\\r\\n}\\r\\n\\r\\n.eqjs-qp-condition-button-addPredicate{\\r\\n    background: url('data:image/png;base64,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') no-repeat;\\r\\n}\\r\\n\\r\\n.eqjs-qp-condition-button-addCondition, .eqjs-cb-addrow a, .eqjs-sb-addrow a, .eqjs-srtb-addrow a, .eqjs-gp-addrow a{\\r\\n    background: url('data:image/png;base64,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') no-repeat;\\r\\n}\\r\\n\\r\\n.eqjs-gp-column-button-menu,\\r\\n.eqjs-qp-condition-button-menu,\\r\\n.eqjs-column-button-menu{\\r\\n    background: url('data:image/png;base64,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') no-repeat;\\r\\n}\\r\\n\\r\\n.eqjs-qp-condition-checkbox{\\r\\n    background: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAiUlEQVR42qXM3QYFIRiF4d3dJpIhI5FKJCOSSHe7f9gn4ztZo3Wwzt6HvTbHfhdCeD8Nvw27Ad57OI4xUsA5BwMpJQpYa2Eg50wBYwwMlFIocJ4nDFzXRQGtNQzUWilwHAcMtNYooJSCgd47BaSUMDDGoIAQAgbmnBTgnMPAWosCcP3fDdjZNvABvRhVEQglsV8AAAAASUVORK5CYII=') no-repeat;\\r\\n}\\r\\n\\r\\n.eqjs-qp-condition-checkbox.enabled{\\r\\n    background: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAuklEQVR42qWScQfFIBTF27dNzIxMxtREkpjE7Nu+98q7U+96T0/nj3Vv55wfsYF0akgfpdTj3+KrM1QAKWVzed93DNi2rRmgtcaAdV1/lowxBDJpRgAhxNeytTafkEk7AizLkk3nHIEZdlCZQQDOeTa99/lMO8ywg9I9AszznM3jONATwAOlDAJM03QHQgj3XN6XPgKM41iFYozk8670EIAx1vgXEHKeJwZQSpsB13VhQHP7rQrQo27AE+MRcBFOD9LhAAAAAElFTkSuQmCC') no-repeat;\\r\\n}\\r\\n\\r\\n.eqjs-column-button-type{\\r\\n    background: url('data:image/png;base64,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') no-repeat;\\r\\n}\\r\\n\\r\\n.eqjs-column-sortbutton-none{\\r\\n    background: url('data:image/png;base64,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') no-repeat;\\r\\n}\\r\\n\\r\\n.eqjs-column-sortbutton-asc{\\r\\n    background: url('data:image/png;base64,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') no-repeat;\\r\\n}\\r\\n\\r\\n.eqjs-column-sortbutton-desc{\\r\\n    background: url('data:image/png;base64,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') no-repeat;\\r\\n}\\r\\n\\r\\n.eqjs-ep-entity-node-button{\\r\\n    background: url('data:image/png;base64,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') no-repeat center;\\r\\n}\\r\\n\\r\\n.eqjs-ep-entity-node-button-open{\\r\\n    background: url('data:image/png;base64,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') no-repeat center;\\r\\n}\\r\\n\\r\\n.eqjs-ep-tool-panel-select-all{\\r\\n    background: url('data:image/png;base64,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') no-repeat;\\r\\n}\\r\\n\\r\\n.eqjs-ep-tool-panel-select-all:hover{\\r\\n    background: url('data:image/png;base64,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') no-repeat;\\r\\n}\\r\\n\\r\\n.eqjs-ep-tool-panel-deselect-all{\\r\\n    background: url('data:image/png;base64,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') no-repeat;\\r\\n}\\r\\n\\r\\n.eqjs-ep-tool-panel-deselect-all:hover{\\r\\n    background: url('data:image/png;base64,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') no-repeat;\\r\\n}\\r\\n\\r\\n.eqjs-ep-tool-panel-add-columns{\\r\\n    background: url('data:image/png;base64,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') no-repeat;\\r\\n}\\r\\n\\r\\n.eqjs-ep-tool-panel-add-columns:hover{\\r\\n    background: url('data:image/png;base64,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') no-repeat;\\r\\n}\\r\\n\\r\\n.eqjs-ep-tool-panel-add-cond{\\r\\n    background: url('data:image/png;base64,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') no-repeat;\\r\\n}\\r\\n\\r\\n.eqjs-ep-tool-panel-add-cond:hover{\\r\\n    background: url('data:image/png;base64,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') no-repeat;\\r\\n}\\r\\n\\r\\n.eqjs-fb-header-icon {\\r\\n  background: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABmJLR0QA/wD/AP+gvaeTAAAAYElEQVQ4jd2SwQ2AQAgEWXuwPlu5r63YnCWMHx+XnJwQfLlfmIEEZHcALBlJyjKjpLrBUt2gF+xJduwHGrE0VxuQ+HBA8g5PJI/w9BH603pP8+kZfyrYzOwsTQBW4PDqF8s0kLND0MqbAAAAAElFTkSuQmCC') no-repeat;\\r\\n}\\r\\n\\r\\n\\r\\n/* positions */\\r\\n.eqjs-qp-condition-button:hover, .eqjs-column-button:hover, .eqjs-column-sortbutton:hover, .eqjs-cb-addrow > a:hover, .eqjs-sb-addrow > a:hover,  .eqjs-gp-addrow > a:hover{\\r\\n    background-position: -25px 0 !important;\\r\\n}\\r\\n\\r\\n.eqjs-qp-condition-button-enable.enabled, .eqjs-column-button-enable.enabled, .eqjs-column-sortbutton-asc, .eqjs-column-sortbutton-desc{\\r\\n    background-position: -51px 0;\\r\\n}\\r\\n\\r\\n.eqjs-qp-condition-button-enable.enabled:hover, .eqjs-column-button-enable.enabled:hover {\\r\\n    background-position: -76px 0 !important;\\r\\n}\\r\\n\\r\\n.eqjs-qp-condition-button-enable, .eqjs-column-button-enable, .eqjs-qp-condition-button-addCondition, .active .eqjs-column-sortbutton-asc, .active .eqjs-column-sortbutton-desc{\\r\\n    background-position: 0 0;\\r\\n}\\r\\n\\r\\n.eqjs-fb-button-apply:hover, .eqjs-fb-button-apply:active, .eqjs-fb-button-apply:focus, .eqjs-fb-button-clear:hover, .eqjs-fb-button-clear:active, .eqjs-fb-button-clear:focus{\\r\\n    background-position: 0 -15px;\\r\\n}\\r\\n\\r\\n.eqjs-cb-img-sorting{\\r\\n    background-position: -56px 0 !important;\\r\\n}\\r\\n\\r\\n.eqjs-sb-img-sorting{\\r\\n    background-position: 0 0 !important;\\r\\n}\\r\\n\\r\\n.eqjs-fb-header-icon {\\r\\n\\tbackground-position: 50%;\\r\\n}\\r\\n\\r\\n\", \"\"]);\n\n","\nvar content = require(\"!!../../../../../css-loader/dist/cjs.js??ref--6!./easyquery-mobile.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../css-loader/dist/cjs.js??ref--6!./easyquery-mobile.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../css-loader/dist/cjs.js??ref--6!./easyquery-mobile.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../../css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \"\\r\\n/* ColumnsBar */\\r\\n.eqjs-mobile .eqjs-cb-row .eqjs-button-placeholder {\\r\\n    margin: 0 2px;\\r\\n}\\r\\n\\r\\n.eqjs-mobile .eqjs-button-placeholder {\\r\\n    width: 30px;\\r\\n    height: 30px;\\r\\n}\\r\\n\\r\\n.eqjs-cb-row.eqjs-mobile,\\r\\n.eqjs-sb-row.eqjs-mobile {\\r\\n    height: auto;\\r\\n    margin: 4px 3px;\\r\\n    padding: 8px 0;\\r\\n    min-width: 55px;\\r\\n}\\r\\n\\r\\n.eqjs-cb-colelement.eqjs-mobile,\\r\\n.eqjs-sb-colelement.eqjs-mobile {\\r\\n    margin: 0 8px 0 0;\\r\\n    font-size: 15px;\\r\\n}\\r\\n\\r\\n.eqjs-cb-colelement.eqjs-mobile > a,\\r\\n.eqjs-sb-colelement.eqjs-mobile > a {\\r\\n    vertical-align: inherit;\\r\\n}\\r\\n\\r\\n.eqjs-cb-addrow.eqjs-mobile,\\r\\n.eqjs-sb-addrow.eqjs-mobile {\\r\\n    width: 30px;\\r\\n    height: 30px;\\r\\n    margin: 4px 4px 0 3px;\\r\\n}\\r\\n\\r\\n.eqjs-cb-addrow.eqjs-mobile a, .eqjs-cb-addrow.eqjs-mobile a:hover,\\r\\n.eqjs-sb-addrow.eqjs-mobile a, .eqjs-sb-addrow.eqjs-mobile a:hover {\\r\\n    background-position: 0 0 !important;\\r\\n}\\r\\n\\r\\n.eqjs-cb-columns.eqjs-mobile,\\r\\n.eqjs-sb-columns.eqjs-mobile {\\r\\n    padding: 5px 3px;\\r\\n}\\r\\n\\r\\n.eqjs-cb-panel.eqjs-mobile,\\r\\n.eqjs-sb-panel.eqjs-mobile {\\r\\n    padding: 0 !important;\\r\\n}\\r\\n\\r\\n.eqjs-cb-row .eqjs-cb-sortimage-placeholder.eqjs-mobile,\\r\\n.eqjs-sb-row .eqjs-sb-sortimage-placeholder.eqjs-mobile {\\r\\n    margin: -3px 0 0 0;\\r\\n}\\r\\n\\r\\n\\r\\n\\r\\n/* Buttons */\\r\\n.eqjs-cb-column-buttonsBlock.eqjs-mobile {\\r\\n    position: absolute;\\r\\n    right: 3px;\\r\\n    left: 3px;\\r\\n    height: 54px;\\r\\n    border: 1px solid #0099cc;\\r\\n    border-radius: 6px;\\r\\n    background-color: #FFFFE0;\\r\\n    z-index: 10000;\\r\\n    transform: translate(0, -32px);\\r\\n    max-width: none;\\r\\n    display: flex;\\r\\n}\\r\\n\\r\\n.eqjs-cb-column-buttonsBlock.eqjs-mobile.show-below {\\r\\n    transform: translate(0, 14px);\\r\\n}\\r\\n\\r\\n.eqjs-cb-column-buttonsBlock.eqjs-mobile i {\\r\\n    position: absolute;\\r\\n    top:100%;\\r\\n    margin-left:-20px;\\r\\n    width:40px;\\r\\n    height:20px;\\r\\n    overflow:hidden;\\r\\n}\\r\\n\\r\\n.eqjs-cb-column-buttonsBlock.eqjs-mobile.show-below i {\\r\\n    position: absolute;\\r\\n    top:initial;\\r\\n    bottom:100%;\\r\\n    margin-left:-20px;\\r\\n    width:40px;\\r\\n    height:20px;\\r\\n    overflow:hidden;\\r\\n}\\r\\n\\r\\n.eqjs-cb-column-buttonsBlock.eqjs-mobile i::after {\\r\\n    content: '';\\r\\n    position: absolute;\\r\\n    background-color: #FFFFE0;\\r\\n    border: 1px solid #0099cc;\\r\\n    width:20px;\\r\\n    height:20px;\\r\\n    left:50%;\\r\\n    transform:translate(-50%,-50%) rotate(45deg);\\r\\n}\\r\\n\\r\\n.eqjs-cb-column-buttonsBlock.eqjs-mobile.show-below i::after {\\r\\n    content: '';\\r\\n    position: absolute;\\r\\n    background-color: #FFFFE0;\\r\\n    border: 1px solid #0099cc;\\r\\n    width:20px;\\r\\n    height:20px;\\r\\n    left:50%;\\r\\n    transform:translate(-50%,50%) rotate(45deg);\\r\\n}\\r\\n\\r\\n\\r\\n.eqjs-cb-addrow.eqjs-mobile a,\\r\\n.eqjs-sb-addrow.eqjs-mobile a {\\r\\n    background: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2RpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo0Njk5ODYxN0I4RkNFOTExOEFBM0M3OTA0NkU5N0I2RCIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDoxOTY2MUFDRUZDQkUxMUU5OTc2N0I1NUVGNTkwRDY1NSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDoxOTY2MUFDREZDQkUxMUU5OTc2N0I1NUVGNTkwRDY1NSIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1IFdpbmRvd3MiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo0Nzk5ODYxN0I4RkNFOTExOEFBM0M3OTA0NkU5N0I2RCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo0Njk5ODYxN0I4RkNFOTExOEFBM0M3OTA0NkU5N0I2RCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Pg3rCBgAAADfSURBVHjaYmSYdZ4BCuyBuAiIjYFYmoG64CkQnwXiPiA+CBJggkpUAPEBIPajgaUMUDP9oHaA7GJgBPoY5NO9QMzMQB/wF4gdQD5uoaOlDFC7WkAW6zLQHxiALOYfAIv5mRgGCLCQl0Z5Gf57KcO5jLMvkGzEgPl41OLhbzHeVK1jIM5w2VSSoCH/Uw2wijNuuwusHj6PBjUDrHb6P1qAjFo8mqpHg5pci78PgL3fmaAtfHqDsyCLOwbA4g6QxVuBeCIdLQXZtRWWuAqAOAiIT0G7GLQAp6B2gOxiAAgwAF/XKrMmSkwEAAAAAElFTkSuQmCC') no-repeat;\\r\\n}\\r\\n\\r\\n.eqjs-mobile .eqjs-cb-column-sortbutton-none {\\r\\n    background: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2RpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo0Njk5ODYxN0I4RkNFOTExOEFBM0M3OTA0NkU5N0I2RCIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDpFRjY4REE1MkZGRjQxMUU5OEQ5NEYxQkE0MzU3MTAzMiIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpFRjY4REE1MUZGRjQxMUU5OEQ5NEYxQkE0MzU3MTAzMiIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1IFdpbmRvd3MiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo0ODk5ODYxN0I4RkNFOTExOEFBM0M3OTA0NkU5N0I2RCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo0Njk5ODYxN0I4RkNFOTExOEFBM0M3OTA0NkU5N0I2RCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PiNTCjUAAAFjSURBVHjaYvz//z/DQAAmhgECoxYPf4tZiFH09cT1/zxfRRm+OoswcDEwMKLL3997+b/Svb9QHgdDY6oGQx0WdaRZfPv2f56rPxkY/j1j4ObnZfhvwk6HoP716n/Fma9AS0EcIHHlPsPktwz/aWzxl/+bdzxn6PyCJPT7B0Pe7nsMhxgotxynxd+OPmLwe4nF/M+fGez3vmH4RqHlOC3mstZi/J9qwLhJHMl8Hl6Gg6n6DP+dRRi5CCSe0Xw8avGoxSSB/5du/WdcBCynH/1DEv3JUL/oMgPjhgf/L+DJ6xRZzKgnxbBJAGjpH2TzgezfzAzZxgoMBnjyOoVBzcPo6yHJUMvLiGqkrgLDFFn8BQzlccwmxthkzIUwSVaM4asZF50Sl6oq4xddYHXJy8twwEmCgZjilJFQ8/bHu0//X/6Exh4TG4OYOAcOg//8//mLhYGdjbgynHG0XT1q8bCzGCDAABDGbp/Wh83TAAAAAElFTkSuQmCC') no-repeat;\\r\\n}\\r\\n\\r\\n.eqjs-mobile .eqjs-cb-column-button-delete {\\r\\n    background: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2RpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo0Njk5ODYxN0I4RkNFOTExOEFBM0M3OTA0NkU5N0I2RCIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDozM0M5OTk3NUZGRjgxMUU5QjhCMkI2NjIxRDY0M0I4QyIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDozM0M5OTk3NEZGRjgxMUU5QjhCMkI2NjIxRDY0M0I4QyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1IFdpbmRvd3MiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo0ODk5ODYxN0I4RkNFOTExOEFBM0M3OTA0NkU5N0I2RCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo0Njk5ODYxN0I4RkNFOTExOEFBM0M3OTA0NkU5N0I2RCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PrtIPjoAAAU2SURBVHja7Fc7bxxVFD73Me9d79rrtR3HNo7j4DyQwkMBoggBAhIqoAEJKT8AiTQUVCEFEjVEiIoCEYmCKlaKSAEKIKA0QRGPSImMY0LidWJ77X3YM7Mzcx+cGdshFGu020RCjDSemb33nud3vnNMtNbwIC4KD+hqqzhJEhAiwTd1/01AiWx9ph6++MHVyodrfvhkHG/t0wS0BMBzGr+VVm0V83+3jWw8lBqtRuJgKBSLdESmfl1+C36rHjMBeo/tKJTLNk9cThtFRq4Coz7Bcxrap5G0y7EQAjgjttQwer3ZOjA933jz1Fz9MPhyAMLEghjPUYaOSQKcCihYGjzyw/vDuS+PT/bPTOTMWRRfaRfUtorR2p7rteCFd6+vnDw/U3scGjE6gUIY3gSjwEh6ejPC+BR4S/zg+HvZbpza2/fFicnC6QHXne1IcUuK145cnHvvypXqY+CaAiwmMWkhhlyiASY6shFLkrnENq1N9yR4OAdMm5+8NH767YcH3+kox7hAjw/mZq8U60P4YaNrHMIoQu9qYBs2KnEgkQY4RoTKOUjNMAUUTaiCxzHsFkzlrahjVHPGvn1luPcsULMMPimAZzdgsjQLnleGiA1D3gXYO7AAxOjD7z5wHQ77B+bAccchIH1g8Jv7PD7deR0rWcOCWMQ3E/PHD4zkr1WfHv4IcsYN8IV9aKzndnBk9FPIWXUEmtE7Vvx58fDY59DvRBBh2bnWqq/o750rRoyYjKyCxVdSALmM3yoVvJ8gj/nG+hwzObUY5bgvSEH2qsPuOpz/gjn202RDzuRlk9ldMBcBA0gNqF5IBV2OxSj+VkJDwgx8SvNIqBzmPCt0lxFvXUgTgcVT5Jc5kwUDAdm5xxQMkxvQYysQeD6WeWSlXpBSbBXEJl2litWAySpBnDBYi/LAGOznpEUZtLrymAER6HEukx2rWmrMbs8upHWsNz3dukaZEqEmLuKBplL7KAmRYJKumoRBiQ82n8kIIomHNOZ2ymAL6do/YsiIHPPsSisRg0jXBhoLEyYJcCXuUjHI5wyymIElUMSPZXHEgMJGlO9XTPVOx7yzHCcNiNBJi8OenNXESHWRY1RmM6Kf7XN1RpGa9PsS7JLF7gClGUNubkPuIsomenFFUittUCltjpntw7y94kwwIfs8U2MTAPSkWI9FLZb6Uhp65EhK/g41Ehgbx/VnshxYfG3QNea2k78NqrH1Kli/G0TfZLsEyKVEV7mSy1jHWpHNszqTwlxKdi1FcmeGB07rBU6WulOcLlIiV9bCaygoDXchULDrIdeU6JFMG9E9XBOq0M7WNT++kxUXhcCkUEnniY4HAfL9H2nzB6gFEYaygYxUbCk1NOqaMYKJJ+j1vapTSaCVvMwJncg8ZrTu0BSU3eT4VgNgfh1DjLVs8zUkEKgJtSiVvI1GBJQQjmE2UBHFltkwDOO7eaz6LPQ2lSXb9LtT3I80228BFLCoXM6xBUIoZG7Cs0Kss9gB3XIs9mc2BfTYC4zRQz821/dlQNQYp1hWt1PcNtRP5M3sWWIk+lrAItbPjjOV5uurQXQDc2p9tbwup2+uHoRQerht4uytlRPQTHaDgXiP4/nPZu6KJiLw5MGRzkYfH4mAYMHUomRo5FLlDFxdPYqdSSMrYbckKB2fWL9YPjwjlHQeEfhXKv38UzvOnX908A2c15KcwTrz2DM2ZiuLGNGFR0oXXkZahJvNKSRBJ503Mv4W2eCjN97RPa4bsCd/8ePJ4jmHI4FsM96S//+T+M8r/kuAAQDKIU6GdlAyfgAAAABJRU5ErkJggg==') no-repeat;\\r\\n}\\r\\n\\r\\n.eqjs-mobile .eqjs-cb-column-button-type {\\r\\n    background: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2RpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo0Njk5ODYxN0I4RkNFOTExOEFBM0M3OTA0NkU5N0I2RCIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDpCOTNBODU2MEZGRjIxMUU5ODE5RkZDNzk3MDE3MkFDNSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpCOTNBODU1RkZGRjIxMUU5ODE5RkZDNzk3MDE3MkFDNSIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1IFdpbmRvd3MiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo0ODk5ODYxN0I4RkNFOTExOEFBM0M3OTA0NkU5N0I2RCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo0Njk5ODYxN0I4RkNFOTExOEFBM0M3OTA0NkU5N0I2RCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Pud7uPcAAAEMSURBVHjaYvz//z/DQAAmhgECA2YxCzGKGGdfINY8Byh9ACbwP9WAZj5WAOIFIDuAeD8U/4eK0SyoE4D4PhDHY5EDiTXQwmKQpfOR+BeBOBCIE5HEDCiKYxxxiWzpQqhDYKAAiPXxBTe5Fi/AYynMp6C4f0DNoA4AYnko+yEWS2HgAbUTVwASu4GeBUgAkm8X0MtiUKLih7I30LzkwhHMH9CC+gIpjiHW4gaopfpIYvVoag7SwuJ6ItQcoEVQF0ILBXm0hHWAHEtJsXgCNF+uRypAGihJXKSkagNyg5VSixWILZWGjcX2UPojPdtcDmgFxYA09uhq8QVoC+MjpWU0vAE52qAftZhWACDAAKIDOGACHIO9AAAAAElFTkSuQmCC') no-repeat;\\r\\n}\\r\\n\\r\\n.eqjs-mobile .eqjs-cb-column-button-close-block {\\r\\n    position: absolute;\\r\\n    right: 2px;\\r\\n    top: 2px;\\r\\n    width: 12px;\\r\\n    height: 12px;\\r\\n    background: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMCAYAAABWdVznAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyBpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBXaW5kb3dzIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjU5Q0M5MDJCRkZFRDExRTlBRUJCODkzNTI5RUEzRTUwIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjU5Q0M5MDJDRkZFRDExRTlBRUJCODkzNTI5RUEzRTUwIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6NTlDQzkwMjlGRkVEMTFFOUFFQkI4OTM1MjlFQTNFNTAiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6NTlDQzkwMkFGRkVEMTFFOUFFQkI4OTM1MjlFQTNFNTAiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz45TUrxAAAAuUlEQVR42mL8//8/AymABURsZTQyB1L2QNyFQ10ZEB/1/n/uKBNUwAmIO4G4B4viPqicC9wGqIAwEBcDMSOUhikuhNKtyBr+AXEJEINsLALiH1CNhVBbS1H8gARAir8DcRWU3wbE1cgKmLC4mREHG6sNMDe3QRVXAjEb1LkoGpigboW5GeYMNmgAMEP98YcFKZxBinuRPQg1GaS4AIg/AHEjTMNhIK4F4hYsfgIZ9BaqhoGR1KQBEGAAmoYoMbhpLS4AAAAASUVORK5CYII=') no-repeat;\\r\\n    background-position: 0 0 !important;\\r\\n}\\r\\n\\r\\n.eqjs-mobile .eqjs-cb-column-button {\\r\\n    width: 38px;\\r\\n    height: 38px;\\r\\n    margin: 7px 0 0 7px;\\r\\n    border: 1px solid #0099cc;\\r\\n    border-radius: 5px;\\r\\n    background-color: white;\\r\\n    background-position: 50% 50% !important;\\r\\n}\\r\\n/* Buttons end */\\r\\n/* ColumnsBar - end */\\r\\n\\r\\n\\r\\n/* QueryPanel */\\r\\n\\r\\n.eqjs-qp-panel.eqjs-mobile {\\r\\n    padding-left: 0;\\r\\n    padding-right: 0;\\r\\n}\\r\\n\\r\\n.eqjs-qp-conditions-root.eqjs-mobile {\\r\\n    max-height: none !important;\\r\\n}\\r\\n\\r\\n.eqjs-qp-row.eqjs-mobile {\\r\\n    background-color: white;\\r\\n    border: 1px dotted lightgray;\\r\\n    border-radius: 4px;\\r\\n    margin-bottom: 4px;\\r\\n    padding: 10px;\\r\\n    flex-wrap: wrap;\\r\\n}\\r\\n\\r\\n.eqjs-qp-condelement.eqjs-mobile, .eqjs-mobile a.eqjs-qp-grelement, .eqjs-mobile .eqjs-qp-grelement, .eqjs-mobile .eqjs-qp-condelement {\\r\\n    font-size: 15px;\\r\\n}\\r\\n\\r\\n.eqjs-qp-row.eqjs-mobile.active {\\r\\n    border: 1px solid #0099cc;\\r\\n}\\r\\n\\r\\n.eqjs-qp-conditions.eqjs-mobile {\\r\\n    border-left: 1px dotted lightgray;\\r\\n    margin-left: 3px;\\r\\n    padding-left: 10px;\\r\\n}\\r\\n\\r\\n\\r\\n.eqjs-qp-condition-buttonsBlock.eqjs-mobile {\\r\\n    position: absolute;\\r\\n    top: 3px;\\r\\n    right: 3px;\\r\\n    background-color: transparent;\\r\\n}\\r\\n\\r\\n.eqjs-mobile .eqjs-qp-condition-button-menu {\\r\\n    background-position: -25px 0 !important;\\r\\n}\\r\\n\\r\\n.eqjs-mobile .eqjs-qp-valueelement input[type=\\\"text\\\"] {\\r\\n    top: auto;\\r\\n    bottom: auto;\\r\\n    width: 100%;\\r\\n    height: 1.2rem;\\r\\n    left: 0;\\r\\n}\\r\\n\\r\\n/* QueryPanel end */\\r\\n\\r\\n/* ColumnsPanel */\\r\\n\\r\\n.eqjs-qc-panel.eqjs-mobile {\\r\\n    padding-left: 0;\\r\\n    padding-right: 0;\\r\\n}\\r\\n\\r\\n.eqjs-qc-columns.eqjs-mobile {\\r\\n    max-height: none !important;\\r\\n}\\r\\n\\r\\n.eqjs-qc-row.eqjs-mobile {\\r\\n    background-color: white;\\r\\n    border: 1px dotted lightgray;\\r\\n    border-radius: 4px;\\r\\n    margin-bottom: 4px;\\r\\n    padding: 10px;\\r\\n}\\r\\n\\r\\n.eqjs-qc-colelement.eqjs-mobile, .eqjs-qc-colelement.eqjs-mobile > a {\\r\\n    font-size: 15px;\\r\\n}\\r\\n\\r\\n.eqjs-qc-row.eqjs-mobile.active {\\r\\n    border: 1px solid #0099cc;\\r\\n}\\r\\n\\r\\n\\r\\n.eqjs-column-buttonsBlock.eqjs-mobile {\\r\\n    top: 3px;\\r\\n}\\r\\n\\r\\n.eqjs-mobile .eqjs-column-button-menu {\\r\\n    background-position: -25px 0 !important;\\r\\n}\\r\\n\\r\\n.eqjs-qc-expr-block.eqjs-mobile {\\r\\n    min-width: unset;\\r\\n    margin-left: 0;\\r\\n}\\r\\n\\r\\n.eqjs-mobile .eqjs-qc-button-placeholder {\\r\\n    width: 22px;\\r\\n    height: 22px;\\r\\n}\\r\\n\\r\\n/* QueryPanel end */\", \"\"]);\n\n","\nvar content = require(\"!!../../../../../css-loader/dist/cjs.js??ref--6!./eqview.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../css-loader/dist/cjs.js??ref--6!./eqview.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../css-loader/dist/cjs.js??ref--6!./eqview.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../../css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \"/*setting to all page */\\r\\n#eqv-main{\\r\\n    width:1174px;\\r\\n    background: #fff;\\r\\n    margin:auto;\\r\\n    padding-top:10px;\\r\\n}\\r\\n\\r\\n/* error text */\\r\\n.eqv-error, .eqv-error div{\\r\\n    color: Red;\\r\\n    font: normal 20px Calibri;\\r\\n}\\r\\n\\r\\n/* title */\\r\\n.eqv-title{\\r\\n    float: left;\\r\\n    background: url('data:image/png;base64,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') no-repeat center left;\\r\\n    padding: 0 0 0 35px;\\r\\n    color: #3A94D4;\\r\\n    font: bold 25px Trebuchet MS, Tahoma, Verdana, Geneva, Arial, Helvetica, sans-serif;\\r\\n}\\r\\n\\r\\n/* sub-title*/\\r\\n.eqv-sub-title{\\r\\n    margin: 14px 0 0 10px;\\r\\n    float: left;\\r\\n    font: bold 11px Trebuchet MS, Tahoma, Verdana, Geneva, Arial, Helvetica, sans-serif;\\r\\n\\tcolor: #3a94d4;\\t\\r\\n}\\r\\n\\r\\n/* header */\\r\\n.eqv-header{\\r\\n    display:block;\\r\\n    height:40px;\\r\\n}\\r\\n\\r\\n.eqv-global-message {\\r\\n    display: none;\\r\\n    background-color: coral;\\r\\n    border-radius: 10px;\\r\\n    color: white;\\r\\n    float: right;\\r\\n    padding: 5px 10px 8px;\\r\\n}\\r\\n\\r\\n.eqv-header-panel{\\r\\n    height: 494px;\\r\\n}\\r\\n.eqv-header-panel > div{\\r\\n    height: 494px;\\r\\n    margin: 0 0 20px 0;\\r\\n}\\r\\n\\r\\n/* content */\\r\\n#eqv-content{\\r\\n    background: #f6f6f6;\\r\\n    border:2px solid #dedede;\\r\\n    padding:20px;\\r\\n}\\r\\n\\r\\n.eqv-hr{\\r\\n    height: 6px;\\r\\n    border: none;\\r\\n    margin: 0 0;\\r\\n}\\r\\n\\r\\n\\r\\n.eqv-bottom-panel{\\r\\n    height : 313px;\\r\\n}\\r\\n\\r\\n.eqv-bottom-panel > div{\\r\\n    height : 287px;\\r\\n    margin: 0 0 20px 0;\\r\\n}\\r\\n\\r\\n/* central block */\\r\\n.eqv-central-block{\\r\\n    width: 59%;\\r\\n    float: left;\\r\\n}\\r\\n\\r\\n/* copyright */\\r\\n#eqv-footer{\\r\\n    margin: 10px 0;\\r\\n    padding: 0 0 20px 0;\\r\\n    font: normal 12px Calibri;\\r\\n    color: #000;\\r\\n}\\r\\n\\r\\n.eqv-copyright{\\r\\n    float: left;\\r\\n}\\r\\n\\r\\n.eqv-power-by{\\r\\n    float: right;\\r\\n}\\r\\n\\r\\n.eqv-copyright a, .eqv-power-by a{\\r\\n    color: #237901;\\r\\n}\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n/* entities panel */\\r\\n\\r\\n.eqv-entities-block{    \\r\\n    width: 20%;\\r\\n    float: left;\\r\\n    margin: 0 20px 0 0 !important;\\r\\n    background: #fff;\\r\\n    border: 1px solid silver;\\r\\n    position: relative;\\r\\n}\\r\\n\\r\\n.eqv-entities-hr{\\r\\n    background: #7BC4F8;\\r\\n}\\r\\n\\r\\n.eqv-entities-title{\\r\\n    font: normal 18pt \\\"Segoe UI Light\\\", \\\"Segoe Light\\\", \\\"Segoe UI\\\", Arial, Helvetica, sans-serif;\\r\\n    color: #4F4F4F;\\r\\n    padding: 0 0 4px 10px;\\r\\n    background: #F9F9F9;\\r\\n    border-bottom: 1px solid #7BC4F8;\\r\\n    height: 38px;\\r\\n}\\r\\n\\r\\n.eqv-entities-panel-container {\\r\\n    position:absolute;\\r\\n    left:0;\\r\\n    right:0;\\r\\n    bottom: 0;\\r\\n    top:44px;\\r\\n}\\r\\n\\r\\n\\r\\n/* conditions block */\\r\\n.eqv-query-panel-container {\\r\\n    position:absolute;\\r\\n    left:0;\\r\\n    right:0;\\r\\n    bottom: 0;\\r\\n    top:44px;\\r\\n}\\r\\n\\r\\n.eqv-conditions-block{\\r\\n    background: white;\\r\\n    border: 1px solid silver;\\r\\n    height: 294px;\\r\\n    position: relative;\\r\\n}\\r\\n\\r\\n.eqv-conditions-hr{\\r\\n    background: #1777B1;\\r\\n}\\r\\n\\r\\n.eqv-conditions-title{\\r\\n    font: normal 18pt \\\"Segoe UI Light\\\", \\\"Segoe Light\\\", \\\"Segoe UI\\\", Arial, Helvetica, sans-serif;\\r\\n    color: #4F4F4F;\\r\\n    padding: 0 0 4px 10px;\\r\\n    background: #F9F9F9;\\r\\n    border-bottom: 1px solid #1777B1;\\r\\n    height: 38px;\\r\\n}\\r\\n\\r\\n/* columns block */\\r\\n.eqv-columns-block, .eqv-columns-sorting-block{\\r\\n    background: white;\\r\\n    border: 1px solid silver;\\r\\n    height: 180px;\\r\\n    margin: 0 0 20px 0;\\r\\n    position: relative;\\r\\n}\\r\\n\\r\\n.eqv-columns-sorting-block {\\r\\n    height: auto;\\r\\n    margin-top: -21px;\\r\\n}\\r\\n\\r\\n.eqv-columns-hr{\\r\\n    background: #1777B1;\\r\\n}\\r\\n\\r\\n.eqv-columns-title{\\r\\n    font: normal 18pt \\\"Segoe UI Light\\\", \\\"Segoe Light\\\", \\\"Segoe UI\\\", Arial, Helvetica, sans-serif;\\r\\n    color: #4F4F4F;\\r\\n    padding: 0 0 4px 10px;\\r\\n    background: #F9F9F9;\\r\\n    border-bottom: 1px solid #1777B1;\\r\\n    height: 38px;\\r\\n}\\r\\n\\r\\n.eqv-columns-panel-container {\\r\\n    position:absolute;\\r\\n    left:0;\\r\\n    right:0;\\r\\n    bottom: 0;\\r\\n    top:44px;\\r\\n}\\r\\n\\r\\n.eqv-columns-sorting-title {\\r\\n    z-index: 1000;\\r\\n    position: absolute;\\r\\n    top: -12px;\\r\\n    left: 20px;\\r\\n    background-color: white;\\r\\n    padding: 0 10px 2px 10px;\\r\\n    border: 1px solid lightgrey;\\r\\n    border-radius: 7px;\\r\\n    font: normal 10pt \\\"Segoe UI Light\\\", \\\"Segoe Light\\\", \\\"Segoe UI\\\", Arial, Helvetica, sans-serif;\\r\\n}\\r\\n\\r\\n.eqv-columns-sorting-container {\\r\\n    margin-top: 10px;\\r\\n}\\r\\n\\r\\n/* menu block */\\r\\n.eqv-menu-block{\\r\\n    width: 17%;\\r\\n    float: right;\\r\\n    background: #fff;\\r\\n    border: 1px solid silver;\\r\\n}\\r\\n\\r\\n.eqv-menu-hr{\\r\\n    background: #AE67DF;\\r\\n}\\r\\n\\r\\n.eqv-menu-title{\\r\\n    font: normal 18pt \\\"Segoe UI Light\\\", \\\"Segoe Light\\\", \\\"Segoe UI\\\", Arial, Helvetica, sans-serif;\\r\\n    color: #4F4F4F;\\r\\n    padding: 0 0 4px 10px;\\r\\n    background: #F9F9F9;\\r\\n    border-bottom: 1px solid #1777B1;\\r\\n}\\r\\n\\r\\n.eqv-menu-content{\\r\\n    padding: 10px;\\r\\n}\\r\\n\\r\\n.eqv-menu-content div{\\r\\n    margin: 10px 0;\\r\\n}\\r\\n\\r\\n/* menu block - buttons */\\r\\n.eqv-button {\\r\\n    width: 100%;\\r\\n    border: solid 1px #AE67DF;\\r\\n    font-family: Segoe UI;\\r\\n    font-size: 15px;\\r\\n    color: #4F4F4F;\\r\\n    cursor: pointer;\\r\\n    padding: 3px 10px 3px 10px;\\r\\n    display: inline-block;\\r\\n    margin: 10px 0;\\r\\n    text-align: center;\\r\\n}\\r\\n\\r\\n.eqv-button:hover {\\r\\n    background-color: #AE67DF;\\r\\n    color: white !important; \\r\\n}\\r\\n\\r\\n.eqv-button-execute {\\r\\n\\tborder-color: #237901;\\r\\n\\tmargin-top: 40px;\\r\\n}\\r\\n\\r\\n.eqv-button-execute:hover {\\r\\n\\tbackground-color: #237901;\\r\\n}\\r\\n\\r\\n/* sql panel */\\r\\n.eqv-sql-panel{\\r\\n    width: 25%;\\r\\n    border: 1px solid #C4D6E5;\\r\\n    background: white;\\r\\n    float: left;\\r\\n    position:relative;\\r\\n}\\r\\n\\r\\n.eqv-sql-panel-hr{\\r\\n    background: #A8ABAD;\\r\\n}\\r\\n\\r\\n.eqv-sql-panel-title{\\r\\n    font: normal 18pt \\\"Segoe UI Light\\\", \\\"Segoe Light\\\", \\\"Segoe UI\\\", Arial, Helvetica, sans-serif;\\r\\n    color: #4F4F4F;\\r\\n    padding: 0 0 4px 10px;\\r\\n    background: #F9F9F9;\\r\\n    border-bottom: 1px solid #A8ABAD;\\r\\n    height: 38px;\\r\\n}\\r\\n\\r\\n/* sql panel - block */\\r\\n.eqv-sql-block{\\r\\n    bottom: 0;\\r\\n    left: 0;\\r\\n    overflow: auto;\\r\\n    position: absolute;\\r\\n    right: 0;\\r\\n    top: 44px;\\r\\n}\\r\\n\\r\\n/* sql panel - result block */\\r\\n.eqv-sql-panel-result{\\r\\n    padding: 7px;\\r\\n    overflow-y: auto;\\r\\n    overflow-x: hidden;\\r\\n    font: normal 11px Verdana;\\r\\n}\\r\\n\\r\\n/* result panel */\\r\\n#eqv-ResultExportButtons {\\r\\n    display: none;\\r\\n    float: right;\\r\\n    margin-right: 5px;\\r\\n    margin-top: 3px;\\r\\n    font-size:12pt;\\r\\n    padding:4px;\\r\\n}\\r\\n\\r\\n.eqv-result-panel{\\r\\n    background: white;\\r\\n    position: relative;\\r\\n    border: 1px solid #C1D5E4;\\r\\n    width: 73%;\\r\\n    float: right;\\r\\n}\\r\\n\\r\\n.eqv-result-panel-hr{\\r\\n    background: #237901;\\r\\n}\\r\\n\\r\\n.eqv-result-panel-title{\\r\\n    border-bottom: 1px solid #237901;\\r\\n    font: normal 18pt \\\"Segoe UI Light\\\", \\\"Segoe Light\\\", \\\"Segoe UI\\\", Arial, Helvetica, sans-serif;\\r\\n    color: #4F4F4F;\\r\\n    padding: 0 0 4px 10px;\\r\\n    background: #F8F7F7;\\r\\n    height: 38px;\\r\\n}\\r\\n\\r\\n.eqv-result-panel-title a {\\r\\n    font-family: Trebuchet MS, Tahoma, Verdana, Geneva, Arial, Helvetica, sans-serif;\\r\\n    font-weight: bold;\\r\\n    font-size: 13px;\\r\\n    color: #333333;\\r\\n    text-decoration: none;\\r\\n    border-bottom: 1px dashed;\\r\\n    margin-right: 10px;\\r\\n}\\r\\n\\r\\n.eqv-result-panel-title a:hover {\\r\\n     color: #333333;\\r\\n     border-bottom: 1px solid;\\r\\n     text-decoration: none;\\r\\n}\\r\\n\\r\\n\\r\\n.eqv-result-panel-content{\\r\\n    bottom: 0;\\r\\n    left: 0;\\r\\n    overflow: hidden;\\r\\n    position: absolute;\\r\\n    right: 0;\\r\\n    top: 44px;\\r\\n\\tdisplay: flex;\\r\\n}\\r\\n\\r\\n.eqv-result-panel-content table{\\r\\n    font: normal 12px Calibri;\\r\\n\\tborder: solid 1px rgba(0,0,0,.125);\\r\\n}\\r\\n\\r\\n.eqv-result-panel-content table td{\\r\\n    padding: 5px;\\r\\n    color: #4F4F4F;\\r\\n    font: 10px Arial;\\r\\n    border-bottom: 1px solid #E4E4E4;\\r\\n}\\r\\n\\r\\n.eqv-result-panel-error{\\r\\n    color: Red;\\r\\n    font: normal 20px Calibri;\\r\\n    text-align: center;\\r\\n}\\r\\n\\r\\n.eqv-result-panel.loader{\\r\\n    background: url('data:image/gif;base64,R0lGODlhEAAQAPYAAP///wAAAPr6+pKSkoiIiO7u7sjIyNjY2J6engAAAI6OjsbGxjIyMlJSUuzs7KamppSUlPLy8oKCghwcHLKysqSkpJqamvT09Pj4+KioqM7OzkRERAwMDGBgYN7e3ujo6Ly8vCoqKjY2NkZGRtTU1MTExDw8PE5OTj4+PkhISNDQ0MrKylpaWrS0tOrq6nBwcKysrLi4uLq6ul5eXlxcXGJiYoaGhuDg4H5+fvz8/KKiohgYGCwsLFZWVgQEBFBQUMzMzDg4OFhYWBoaGvDw8NbW1pycnOLi4ubm5kBAQKqqqiQkJCAgIK6urnJyckpKSjQ0NGpqatLS0sDAwCYmJnx8fEJCQlRUVAoKCggICLCwsOTk5ExMTPb29ra2tmZmZmhoaNzc3KCgoBISEiIiIgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCAAAACwAAAAAEAAQAAAHaIAAgoMgIiYlg4kACxIaACEJCSiKggYMCRselwkpghGJBJEcFgsjJyoAGBmfggcNEx0flBiKDhQFlIoCCA+5lAORFb4AJIihCRbDxQAFChAXw9HSqb60iREZ1omqrIPdJCTe0SWI09GBACH5BAkIAAAALAAAAAAQABAAAAdrgACCgwc0NTeDiYozCQkvOTo9GTmDKy8aFy+NOBA7CTswgywJDTIuEjYFIY0JNYMtKTEFiRU8Pjwygy4ws4owPyCKwsMAJSTEgiQlgsbIAMrO0dKDGMTViREZ14kYGRGK38nHguHEJcvTyIEAIfkECQgAAAAsAAAAABAAEAAAB2iAAIKDAggPg4iJAAMJCRUAJRIqiRGCBI0WQEEJJkWDERkYAAUKEBc4Po1GiKKJHkJDNEeKig4URLS0ICImJZAkuQAhjSi/wQyNKcGDCyMnk8u5rYrTgqDVghgZlYjcACTA1sslvtHRgQAh+QQJCAAAACwAAAAAEAAQAAAHZ4AAgoOEhYaCJSWHgxGDJCQARAtOUoQRGRiFD0kJUYWZhUhKT1OLhR8wBaaFBzQ1NwAlkIszCQkvsbOHL7Y4q4IuEjaqq0ZQD5+GEEsJTDCMmIUhtgk1lo6QFUwJVDKLiYJNUd6/hoEAIfkECQgAAAAsAAAAABAAEAAAB2iAAIKDhIWGgiUlh4MRgyQkjIURGRiGGBmNhJWHm4uen4ICCA+IkIsDCQkVACWmhwSpFqAABQoQF6ALTkWFnYMrVlhWvIKTlSAiJiVVPqlGhJkhqShHV1lCW4cMqSkAR1ofiwsjJyqGgQAh+QQJCAAAACwAAAAAEAAQAAAHZ4AAgoOEhYaCJSWHgxGDJCSMhREZGIYYGY2ElYebi56fhyWQniSKAKKfpaCLFlAPhl0gXYNGEwkhGYREUywag1wJwSkHNDU3D0kJYIMZQwk8MjPBLx9eXwuETVEyAC/BOKsuEjYFhoEAIfkECQgAAAAsAAAAABAAEAAAB2eAAIKDhIWGgiUlh4MRgyQkjIURGRiGGBmNhJWHm4ueICImip6CIQkJKJ4kigynKaqKCyMnKqSEK05StgAGQRxPYZaENqccFgIID4KXmQBhXFkzDgOnFYLNgltaSAAEpxa7BQoQF4aBACH5BAkIAAAALAAAAAAQABAAAAdogACCg4SFggJiPUqCJSWGgkZjCUwZACQkgxGEXAmdT4UYGZqCGWQ+IjKGGIUwPzGPhAc0NTewhDOdL7Ykji+dOLuOLhI2BbaFETICx4MlQitdqoUsCQ2vhKGjglNfU0SWmILaj43M5oEAOwAAAAAAAAAAAA==') no-repeat;\\r\\n    width: 16px;\\r\\n    height: 16px;\\r\\n    position: absolute;\\r\\n    top: 50%;\\r\\n    left: 50%;\\r\\n    border: none;\\r\\n}\\r\\n\\r\\n\\r\\n/* result grid */\\r\\n.eqv-result-grid {\\r\\n\\tdisplay: flex;\\r\\n\\tflex-direction: column;\\r\\n\\toverflow: auto;\\r\\n\\tflex: 100 1 auto;\\r\\n}\\r\\n\\r\\n.eqv-result-grid-header td{\\r\\n    font: bold 14px Calibri;\\r\\n    border-bottom: 1px solid silver !important;\\r\\n}\\r\\n\\r\\n\\r\\n.eqv-result-grid-header th{\\r\\n    background-color: #F6F6F6;\\r\\n    color: #4F4F4F;\\r\\n    height: 30px;\\r\\n    font: bold 11px Arial !important;\\r\\n    border-bottom: 1px solid #E4E4E4;\\r\\n    text-align: left;\\r\\n    padding-left: 4px;\\r\\n    padding-right: 4px;\\r\\n}\\r\\n\\r\\n.eqv-grid-panel {\\r\\n\\toverflow: auto;\\r\\n\\tflex-grow: 100;\\r\\n}\\r\\n\\r\\n.eqv-grid-panel.eqjs-mobile {\\r\\n\\toverflow: hidden;\\r\\n}\\r\\n\\r\\n/* chart */\\r\\n.eqv-chart-panel {\\r\\n    flex: 0 0 360px;\\r\\n}\\r\\n\\r\\n\\r\\n\\r\\n/* pagination */\\r\\n.pagination {\\r\\n    margin: 0;\\r\\n}\\r\\n\\r\\n.eqv-pagination {\\r\\n    display: inline-block;\\r\\n    padding-left: 0;\\r\\n    margin: 0;\\r\\n    border-radius: 4px;\\r\\n}\\r\\n\\r\\n.eqv-pagination > li {\\r\\n    display: inline;\\r\\n}\\r\\n\\r\\n.eqv-pagination > li > a, .eqv-pagination > li > span {\\r\\n    font-size: 12px;\\r\\n    background-color: #fff;\\r\\n    border: 1px solid #ddd;\\r\\n    color: #428bca;\\r\\n    float: left;\\r\\n    line-height: 1.42857;\\r\\n    margin-left: -1px;\\r\\n    padding: 5px 10px;\\r\\n    position: relative;\\r\\n    text-decoration: none;\\r\\n}\\r\\n\\r\\n.eqv-pagination > li > a:hover, .eqv-pagination > li > span:hover, .eqv-pagination > li > a:focus, .eqv-pagination > li > span:focus {\\r\\n    background-color: #eee;\\r\\n    border-color: #ddd;\\r\\n    color: #2a6496;\\r\\n}\\r\\n\\r\\n.eqv-pagination > .active > a, .eqv-pagination > .active > span, .eqv-pagination > .active > a:hover, .eqv-pagination > .active > span:hover, .eqv-pagination > .active > a:focus, .eqv-pagination > .active > span:focus {\\r\\n    background-color: #428bca;\\r\\n    border-color: #428bca;\\r\\n    color: #fff;\\r\\n    cursor: default;\\r\\n    z-index: 2;\\r\\n}\\r\\n\\r\\n.eqv-pagination > .disabled > span, .eqv-pagination > .disabled > span:hover, .eqv-pagination > .disabled > span:focus, .eqv-pagination > .disabled > a, .eqv-pagination > .disabled > a:hover, .eqv-pagination > .disabled > a:focus {\\r\\n    background-color: #fff;\\r\\n    border-color: #ddd;\\r\\n    color: #999;\\r\\n    cursor: not-allowed;\\r\\n}\\r\\n\\r\\n.eqv-pagination > li:first-child > a, .eqv-pagination > li:first-child > span {\\r\\n    border-bottom-left-radius: 3px;\\r\\n    border-top-left-radius: 3px;\\r\\n    margin-left: 0;\\r\\n}\\r\\n\\r\\n.eqv-pagination > li:last-child > a, .eqv-pagination > li:last-child > span {\\r\\n    border-bottom-right-radius: 3px;\\r\\n    border-top-right-radius: 3px;\\r\\n}\\r\\n\\r\\n.eqv-export-buttons {\\r\\n    float: right;\\r\\n    margin-right: 5px;\\r\\n    margin-top: 3px;\\r\\n    font-size: 12pt;\\r\\n    padding: 4px;\\r\\n}\\r\\n\\r\\n\\r\\n.eqv-select {\\r\\n    font-size: 12px;\\r\\n    width: 100%;\\r\\n}\\r\\n\\r\\n/* Dropdown button styles */\\r\\n\\r\\n.eqv-drop-button {\\r\\n    margin-top: 0 !important;\\r\\n    margin-bottom: 0 !important;\\r\\n}\\r\\n\\r\\n/* The container <div> - needed to position the dropdown content */\\r\\n.eqv-dropdown-container {\\r\\n    width: 100%;\\r\\n    position: relative;\\r\\n    display: inline-block;\\r\\n}\\r\\n\\r\\n/* Dropdown Content (Hidden by Default) */\\r\\n.eqv-dropdown-content {\\r\\n    display: none;\\r\\n    position: absolute;\\r\\n    min-width: 160px;\\r\\n    z-index: 1;\\r\\n    border: 1px solid silver;\\r\\n    border-radius: 0 0 4px 4px;\\r\\n    padding: 6px 0;\\r\\n    box-shadow: 4px 8px 15px 0px rgba(0,0,0,.16);\\r\\n    margin-top: 0 !important;\\r\\n    background-color: white;\\r\\n\\tright: 0;\\r\\n}\\r\\n\\r\\n/* Links inside the dropdown */\\r\\n.eqv-dropdown-content a {\\r\\n    font-size: 0.9rem;\\r\\n    color: #333333;\\r\\n    padding: 5px 14px;\\r\\n    text-decoration: none;\\r\\n    display: block;\\r\\n\\twhite-space: nowrap;\\r\\n}\\r\\n\\r\\n/* Change color of dropdown links on hover */\\r\\n.eqv-dropdown-content a:hover {\\r\\n    background-color: #ecf3f5;\\r\\n    color: #1776b1;\\r\\n}\\r\\n\\r\\n/* Show the dropdown menu (use JS to add this class to the .eqv-dropdown-content container when the user clicks on the dropdown button) */\\r\\n.eqv-dropdown-show {\\r\\n    display: block;\\r\\n}\\r\\n\\r\\n/* Dropdown button styles - END */\\r\\n\\r\\n\\r\\n/* Confirm and Prompt Dialogs */\\r\\n.eqv-dialog .ui-widget {\\r\\n    font-size: 1em !important;\\r\\n}\\r\\n\\r\\n/* Confirm and Prompt Dialogs - END */\\r\\n\\r\\n\\r\\n/* Query Label Styles */\\r\\n.eqjs-query-name .eqjs-query-name-tooltip {\\r\\n    visibility: hidden;\\r\\n    background-color: white;\\r\\n    padding: 5px;\\r\\n   \\r\\n    /* Position the tooltip text */\\r\\n    position: absolute;\\r\\n    z-index: 1;    \\r\\n\\r\\n    top: 0;\\r\\n    right: 0;\\r\\n    left: 0;\\r\\n}\\r\\n\\r\\n.eqjs-query-name:hover .eqjs-query-name-tooltip {\\r\\n    visibility: visible;\\r\\n}\\r\\n\\r\\n.eqjs-query-name-theme {\\r\\n    color: #7a10c3;\\r\\n    border-bottom: 1px solid silver;\\r\\n}\\r\\n\\r\\n/* Query Label Styles */\\r\\n\", \"\"]);\n\n","\nvar content = require(\"!!../../../../../css-loader/dist/cjs.js??ref--6!./easychart.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../css-loader/dist/cjs.js??ref--6!./easychart.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../css-loader/dist/cjs.js??ref--6!./easychart.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../../css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \"/* EasyChart START */\\r\\n\\r\\n.eqjs-chart-header {\\r\\n    background-color: #DDD;\\r\\n    padding:4px;\\r\\n    font-size:10px;\\r\\n    font-family:'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\\r\\n}\\r\\n\\r\\n.eqjs-chart-settings {\\r\\n    background-color: #EEE;\\r\\n    padding:4px;\\r\\n    border: 1px solid #DDD;\\r\\n    font-size:14px;\\r\\n    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\\r\\n    width: 100%;\\r\\n    min-height: 200px;\\r\\n}\\r\\n\\r\\n.eqjs-chart-settings.sliding {\\r\\n    min-height: 0;\\r\\n}\\r\\n\\r\\n.eqjs-chart-main {\\r\\n    position: relative;\\r\\n}\\r\\n\\r\\n.eqjs-chart-settings-header {\\r\\n    width: 100%;\\r\\n    font-size:20px;\\r\\n    font-weight: bold;\\r\\n    text-align: center;\\r\\n    margin-bottom: 10px;\\r\\n}\\r\\n\\r\\n.eqjs-chart-settings-icon {\\r\\n    background: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAASCAYAAAAzI3woAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2RpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDpCNDk0M0YwQTg1RTJFNjExOTZFREQxNTc2MzY0NDE3OCIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDo1RkI5QTQ1RkUzQUExMUU2ODAwN0Y1Q0FGN0NFOTJBRSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo1RkI5QTQ1RUUzQUExMUU2ODAwN0Y1Q0FGN0NFOTJBRSIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1IFdpbmRvd3MiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpCNDk0M0YwQTg1RTJFNjExOTZFREQxNTc2MzY0NDE3OCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpCNDk0M0YwQTg1RTJFNjExOTZFREQxNTc2MzY0NDE3OCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PlO9hMwAAAIySURBVHja7JbPS1RRFMdnxEVbFxWOEkomU60MWk0ZM4SVBkbayjGYGkJiEDMHNcowkQanAl3MIogGBQ0XFSLOlESgLQY3QaWJIS4EEfEPMCRf3wffB6frvc9ZzqIDH+65P96Zc88577zxWpblKSQp8hSYFDtKPB7X7Z8D89SbwFv1QDKZ/GfuTS3r7JwFC9RbwLh6wLrrN0aoEQxSPy3Wazg+ALfyuGwDSFA/KdbPODEAd4wREs68p14LfGLPdiIAguLZlwZnLoFpEeUjYi/My4U4PwRGTA5VKemS4lMcPOESneNCDyh7R4kj1W5F/RxkxPwVOAbKwAux/pUhN0lKRNqWMVDBCyXE+hKImVIW4m38nL8GUbF/H+yCblDOOpsDHxRnLoDzov4mwE2x3wt+g8egFDylnYwaoXfgCajkPK25+SjHwyzuSc2ZKTAgUupmpwT0gDe6lKkd0qsxpK7puupeHnaKTHbkxlXQCX5xHtUYus1xk6G/pjlzBXSAny52Ihy3wUNwXVdDX0gdwx3m7frBHxZxG89uKMUpJUeC7D/NTG0f2AH3QDvPbomepw1dF7gs5nZXXQGrwhmnuQ25vGUx9jRHbjBia8IZW07JHqRz6IfQZ+mMI+sgK+bfXRxaFPonkT4nuhnDb+5zKMuW/4ipk70nzfqwU9fK3mKSz+zWdrovKum1v2P1rLOI2u2LNcZmiC3fxLrzcXyW54f7I1GjmeM4rHvI+///0AHyV4ABAGIbcSD7TTsfAAAAAElFTkSuQmCC');\\r\\n    background-position: 0 0;\\r\\n    float: right;\\r\\n    cursor: pointer;\\r\\n    width: 18px;\\r\\n    height: 18px;\\r\\n}\\r\\n\\r\\n.eqjs-chart-settings-icon:hover {\\r\\n    background-position: -18px 0;\\r\\n}\\r\\n\\r\\n.eqjs-chart-settings-single {\\r\\n    max-width: 100%;\\r\\n    margin: 10px;\\r\\n}\\r\\n\\r\\n.eqjs-chart-settings-single span {\\r\\n    width: 30%;\\r\\n}\\r\\n\\r\\n.eqjs-chart-settings-single select {\\r\\n    width: 60%;\\r\\n    font-size:12px;\\r\\n}\\r\\n\\r\\n.eqjs-chart-no-data {\\r\\n    position: absolute;\\r\\n    left: 50%;\\r\\n    top: 30px;\\r\\n    -webkit-transform: translate(-50%, 0);\\r\\n    transform: translate(-50%, 0);\\r\\n    font-size: 20px;\\r\\n    font-weight: bold;\\r\\n}\\r\\n\\r\\n/* EasyChart END */\\r\\n\", \"\"]);\n\n","\nvar content = require(\"!!../../../../../css-loader/dist/cjs.js??ref--6!./eq-grid.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../css-loader/dist/cjs.js??ref--6!./eq-grid.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../css-loader/dist/cjs.js??ref--6!./eq-grid.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../../css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \".eqjs-gp-table {\\r\\n    display: flex;\\r\\n    height: 100%;\\r\\n    width: 100%;\\r\\n    flex-direction: column;\\r\\n    overflow-x: auto;\\r\\n}\\r\\n\\r\\n.eqjs-gp-table-head {\\r\\n    height: 50px;\\r\\n    width: 100%;\\r\\n}\\r\\n\\r\\n.eqjs-gp-table-body {\\r\\n    flex-grow: 1;\\r\\n    height: calc(100% - 50px);\\r\\n    width: 100%;\\r\\n    overflow-x: hidden;\\r\\n    overflow-y: auto;\\r\\n}\\r\\n\\r\\n.eqjs-gp-table-row {\\r\\n    display: flex;\\r\\n    min-height: 50px;\\r\\n    border-bottom: 1px solid grey;\\r\\n}\\r\\n\\r\\n.eqjs-gp-table-col {\\r\\n    display: flex;\\r\\n    flex: 1;\\r\\n    align-items:center;\\r\\n    justify-content:center;\\r\\n    min-width: 150px;\\r\\n    border-left: 1px solid grey;\\r\\n}\\r\\n\\r\\n.eqjs-gp-table-row .eqjs-gp-table-col:first-child {\\r\\n    flex: 0 0 50px;\\r\\n    min-width: 50px;\\r\\n    border-left: none;\\r\\n}\", \"\"]);\n\n","\nvar content = require(\"!!../../../../../css-loader/dist/cjs.js??ref--6!./eq-grid-mobile.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../css-loader/dist/cjs.js??ref--6!./eq-grid-mobile.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../css-loader/dist/cjs.js??ref--6!./eq-grid-mobile.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../../css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \"\", \"\"]);\n\n","\nvar content = require(\"!!../../../../../css-loader/dist/cjs.js??ref--6!./easyfacets.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../css-loader/dist/cjs.js??ref--6!./easyfacets.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../css-loader/dist/cjs.js??ref--6!./easyfacets.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../../css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \".eqjs-facets-panel * {\\r\\n    outline: none;    \\r\\n}\\r\\n\\r\\n.eqjs-facets-header {\\r\\n    display: flex;\\r\\n    justify-content: space-between;\\r\\n    flex-wrap: wrap-reverse;\\r\\n    border-bottom: 1px solid #9c9c9c;\\r\\n}\\r\\n\\r\\n.eqjs-facets-manage {\\r\\n    display: flex;\\r\\n    flex: 1 auto;\\r\\n    margin-bottom: 5px;\\r\\n    justify-content: space-between;\\r\\n}\\r\\n\\r\\n.eqjs-facets-total-recs {\\r\\n    margin-right: 20px;\\r\\n    align-self: flex-end;\\r\\n}\\r\\n\\r\\n.eqjs-facets-tabs {\\r\\n    display: flex;\\r\\n    flex: 100 auto;\\r\\n}\\r\\n\\r\\n.eqjs-facets-body {\\r\\n    padding-top: 10px;\\r\\n    min-height: 200px;\\r\\n}\\r\\n\\r\\n.eqjs-facets-nav-tabs {\\r\\n    margin: 0;\\r\\n    list-style: none;\\r\\n    padding-left: 0;\\r\\n    display: flex;\\r\\n    flex-wrap: wrap;\\r\\n    flex: 0 auto;\\r\\n}\\r\\n\\r\\n.eqjs-facets-nav-tabs:before {\\r\\n    display: table;\\r\\n    content: ' ';\\r\\n}\\r\\n\\r\\n.eqjs-facets-nav-tabs > li {\\r\\n    float: left;\\r\\n    margin-right: 3px;\\r\\n    margin-bottom: -1px;\\r\\n    position: relative;\\r\\n    display: flex;\\r\\n    border: 1px solid transparent;\\r\\n    border-radius: 8px 8px 0 0;\\r\\n    background-color: #e2e1e1;\\r\\n    color: #181d1f;\\r\\n    padding: 3px 0;\\r\\n    margin-top: 5px;\\r\\n    height: 2em;\\r\\n    border-bottom: 1px solid #9c9c9c;\\r\\n}\\r\\n\\r\\n.eqjs-facets-nav-tabs > li.active {\\r\\n    background-color: #fff;\\r\\n    border: 1px solid #9c9c9c;\\r\\n    border-bottom-color: transparent;\\r\\n}\\r\\n\\r\\n.eqjs-facets-nav-tabs > li:hover, .eqjs-facets-nav-tabs > li:focus-within {\\r\\n    cursor: pointer;\\r\\n    border-color: #0099CC;\\r\\n    border-bottom-color: transparent;\\r\\n}\\r\\n\\r\\n.eqjs-facets-nav-tabs > li.active:hover {\\r\\n    cursor: default;\\r\\n}\\r\\n\\r\\n.eqjs-facets-nav-tabs > li > a {\\r\\n    position: relative;\\r\\n    display: inline-block;\\r\\n    padding: 0 22px 0 10px;\\r\\n    text-decoration: none !important;\\r\\n    margin-right: 2px;\\r\\n    color: #181d1f;\\r\\n    align-self: center;\\r\\n}\\r\\n\\r\\n.eqjs-facets-nav-tabs > li:hover .eqjs-facet-close::before, .eqjs-facets-nav-tabs > li:focus .eqjs-facet-close::before, .eqjs-facets-nav-tabs > li.active .eqjs-facet-close::before {\\r\\n    content: \\\"\\\\1F7A9\\\";\\r\\n    font-size: 15px;\\r\\n    font-weight: 900;\\r\\n}\\r\\n\\r\\n.eqjs-facet-close {\\r\\n    position: absolute;\\r\\n    top: 3px;\\r\\n    right: 3px;\\r\\n    line-height: 10px;\\r\\n    color: #bababa;\\r\\n}\\r\\n\\r\\n.eqjs-facet .pivot-grid-totals-row .keg-row:last-child {\\r\\n    font-weight: 900;\\r\\n}\\r\\n\\r\\n.eqjs-facet-close:hover, .eqjs-facet-close:focus {\\r\\n    color: #d32727;\\r\\n    cursor: pointer;\\r\\n}\\r\\n\\r\\n\\r\\n.eqjs-facets-nav-tabs > li.active > .eqjs-facet-settings::before {\\r\\n    content: \\\"\\\\2261\\\";\\r\\n    font-size: 1.2em;\\r\\n    line-height: 1.2em;\\r\\n    font-weight: 900;\\r\\n}\\r\\n\\r\\n\\r\\n.eqjs-facet-settings {\\r\\n    margin-left: 10px;\\r\\n    color: #acacac;\\r\\n}\\r\\n\\r\\n.eqjs-facet-settings:hover, .eqjs-facet-settings:focus {\\r\\n    color: #7a7a7a;\\r\\n    cursor: pointer;\\r\\n}\\r\\n\\r\\n.eqjs-facets-spinner {\\r\\n    position: relative;\\r\\n    height: 200px;\\r\\n}\\r\\n\\r\\n.eqjs-facets-add-button {\\r\\n    margin: auto 10px;\\r\\n    height: 22px;\\r\\n    width: 22px;\\r\\n    flex: 0 0 auto;\\r\\n}\\r\\n\\r\\n.eqjs-facets-add-button > a {\\r\\n    background: url(data:image/png;base64,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) no-repeat;\\r\\n    width: 100%;\\r\\n    height: 100%;\\r\\n    display: block;\\r\\n}\\r\\n\\r\\n.eqjs-facets-add-button > a:hover {\\r\\n    background-position: -25px 0 !important;\\r\\n}\\r\\n\\r\\n.eqjs-facets-add-button > a:focus {\\r\\n    box-shadow: 0 0 0 0.125em rgba(50,115,220,.25);\\r\\n    border: none;\\r\\n}\\r\\n\\r\\n\\r\\n.eqjs-facets-total-buttons {\\r\\n    align-self: flex-end;\\r\\n    max-height: 26px;\\r\\n}\\r\\n\\r\\n.eqjs-facets-button {\\r\\n    vertical-align: top;\\r\\n    border: 1px solid #dbdbdb;\\r\\n    border-radius: 4px;\\r\\n    box-shadow: none;\\r\\n    display: inline-flex;\\r\\n    height: 24px;\\r\\n    width: 24px;\\r\\n    padding: 0;\\r\\n    -moz-appearance: none;\\r\\n    -webkit-appearance: none;\\r\\n\\r\\n    background-color: #fff;\\r\\n    cursor: pointer;\\r\\n\\r\\n    -webkit-touch-callout:none;\\r\\n    -webkit-user-select:none;\\r\\n    -moz-user-select:none;\\r\\n    -ms-user-select:none;\\r\\n    user-select:none;\\r\\n    outline: 0;\\r\\n}\\r\\n\\r\\n.eqjs-facets-button:not(:last-child) {\\r\\n    margin-right: 10px;\\r\\n}\\r\\n\\r\\n.eqjs-facets-button:hover {\\r\\n    border-color: #b5b5b5;\\r\\n    color: #363636;\\r\\n}\\r\\n\\r\\n.eqjs-facets-button:focus {\\r\\n    outline: none;\\r\\n    border-color: #3273dc;\\r\\n    color: #363636;\\r\\n}\\r\\n\\r\\n.eqjs-facets-button:focus:not(:active) {\\r\\n    box-shadow: 0 0 0 0.125em rgba(50,115,220,.25);\\r\\n    border: none;\\r\\n}\\r\\n\\r\\n.eqjs-facets-button:active {\\r\\n    border-color: #4a4a4a;\\r\\n    color: #363636;\\r\\n}\\r\\n\\r\\n.eqjs-facets-button-refresh {\\r\\n    background:   url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAACXBIWXMAAA7EAAAOxAGVKw4bAAABRElEQVQ4jY3SPUtbcRQG8F+SDi0UcejQQcVBaqBQcJA6hgo6GQS/g4U6iVCqUDhQBHEpDkoHv0MF0dnBgO6OQguNSynBqRTE2OH+Q29uEu2ZnsNznvNe0s/CDFbwFKvC975xKBWEsIkPuMRr4XqQGB4V/GVsJLz2kBjKueqPU3X4ieOHxN0JeINnCZ8J7Z7oMCG8GJTgVQ43+4iHcITDhEFJOMQ4nuc6+JXGaArzQhlfUU/8AZaEdhmfUc2JJVxNHNli6zl+Ee+h4sQ3NbeYLTT9SdgX5rCveHJqahqVBBuYwmQij/HWiTs1X3Aj29eTxLfwAy//ZQ3DOE+B0z0/EHbxLnnrwhbdf3CNBSwMeKCRHL7ogOJc/S27wpXsUi2MCr+7O7jf5pIYPnbE/5cge5rOObexl6fvHyGMYQd/sCucFkP+At9kRqAIrYjQAAAAAElFTkSuQmCC') no-repeat;\\r\\n    background-position: center;\\r\\n}\\r\\n\\r\\n.eqjs-facets-button-export {\\r\\n    background:   url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAAw0lEQVQ4jZ2QsQ6CMBRFD6YhzP4HxrgZXYijP9WfMkxs4CwJA5/gpCuTcfCBpbRFvFvfu/e8m0b4pFkDF3md0TxctigQLoCtTG7AyQWZAqbhXk7IKhBujU0rs0I8HgDkRjgz5pkByUOAF9AAGZq70ewukEY8XsAeSEfhMSQVzyBlmcJy7O0Gi6UG6tx1W/rboAJq9II2H28NVArYAQkQA51lvXoQMbABOuUx9JcOc2VMQLLgHxIX4Plz3GpQAsd/wkD5BtqYLERYDKv1AAAAAElFTkSuQmCC') no-repeat;\\r\\n    background-position: center;\\r\\n}\\r\\n\", \"\"]);\n\n","\nvar content = require(\"!!../../../../../css-loader/dist/cjs.js??ref--6!./easy-grid.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../css-loader/dist/cjs.js??ref--6!./easy-grid.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../css-loader/dist/cjs.js??ref--6!./easy-grid.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../../css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \".keg-container * {\\r\\n    outline: none;    \\r\\n}\\r\\n\\r\\n\\r\\n.keg-container {\\r\\n    overflow: hidden;\\r\\n}\\r\\n\\r\\n.keg-header {\\r\\n    background-color: #f8f8f8;\\r\\n    border-bottom: 1px solid #babfc7;\\r\\n    overflow: hidden;\\r\\n\\r\\n}\\r\\n\\r\\n.keg-root {\\r\\n    font-family: \\\"Roboto\\\", Arial;\\r\\n    display: flex;\\r\\n    flex-direction: column;\\r\\n    border: 1px solid #babfc7;\\r\\n}\\r\\n\\r\\n.keg-body {\\r\\n/*\\r\\n    flex-grow: 1;\\r\\n    height: calc(100% - 50px);\\r\\n    width: 100%;\\r\\n*/    \\r\\n    overflow: hidden;\\r\\n\\r\\n    /* !!! temp */\\r\\n    /*height: 340px;*/\\r\\n}\\r\\n\\r\\n.keg-body-viewport {\\r\\n    overflow-x: auto;\\r\\n    overflow-y: auto;\\r\\n    height: 100%;\\r\\n    border: 1px solid transparent;\\r\\n}\\r\\n\\r\\n.keg-body-viewport:focus, .keg-body-viewport:focus-within {\\r\\n    border: 1px solid #838383;\\r\\n}\\r\\n\\r\\n.keg-header-row {\\r\\n    min-height: 30px;\\r\\n    display: flex;\\r\\n    font-size: 12px;\\r\\n    font-weight: 600;\\r\\n    color: rgba(0,0,0,.54);\\r\\n}\\r\\n\\r\\n.keg-row {\\r\\n    display: flex;\\r\\n    font-size: 12px;\\r\\n    background-color: #fff;\\r\\n    color: #181d1f;\\r\\n    outline: none;\\r\\n    border-color: #dde2eb;\\r\\n    border-width: 1px;\\r\\n    border-bottom-style: solid;\\r\\n    height: 26px;\\r\\n    align-items: center;\\r\\n}\\r\\n\\r\\n.keg-row:not(.keg-row-active):not(.keg-row-totals):hover {\\r\\n    background-color: #fffae9;\\r\\n}\\r\\n\\r\\n.keg-row-odd {\\r\\n    background-color: #fcfcfc;\\r\\n}\\r\\n\\r\\n.keg-row-active {\\r\\n    background-color: #fff3cf;\\r\\n}\\r\\n\\r\\n.keg-cell, .keg-header-cell {\\r\\n    display: flex;\\r\\n/*\\r\\n    flex: 1;\\r\\n    min-width: 150px;\\r\\n*/\\r\\n}\\r\\n\\r\\n.keg-header-cell {\\r\\n    position: relative;\\r\\n    align-items: center;\\r\\n    padding: 2px 15px;\\r\\n}\\r\\n\\r\\n.keg-header-cell-resize {\\r\\n    display: flex;\\r\\n    align-items: center;\\r\\n    position: absolute;\\r\\n    z-index: 2;\\r\\n    height: 100%;\\r\\n    width: 8px;\\r\\n    top: 0;\\r\\n    /*cursor: ew-resize;*/\\r\\n    right: -4px;\\r\\n}\\r\\n\\r\\n.keg-header-cell-resize:after {\\r\\n    content: \\\"\\\";\\r\\n    position: absolute;\\r\\n    z-index: 1;\\r\\n    display: block;\\r\\n    left: calc(50% - 1px);\\r\\n    width: 2px;\\r\\n    height: 50%;\\r\\n    top: 25%;\\r\\n    background-color: rgba(186,191,199,.5);    \\r\\n}\\r\\n\\r\\n.keg-header-cell-label {\\r\\n    width: 100%;\\r\\n    text-align: center;\\r\\n    word-break: break-word;\\r\\n    -ms-word-wrap: break-word;\\r\\n}\\r\\n\\r\\n.keg-cell {\\r\\n    padding: 0 15px;\\r\\n    border-right-width: 1px;\\r\\n    border-right: solid transparent;\\r\\n    align-items: center;\\r\\n    height: 100%;\\r\\n    outline: none;\\r\\n}\\r\\n\\r\\n.keg-cell-value {\\r\\n    width: 100%;\\r\\n    overflow: hidden;\\r\\n    text-overflow: ellipsis;\\r\\n    white-space: nowrap;\\r\\n    max-height: 100%;\\r\\n}\\r\\n\\r\\n/*\\r\\n.keg-row .keg-cell:first-child, .keg-header-row .keg-header-cell:first-child {\\r\\n    flex: 0 0 55px;\\r\\n    min-width: 55px;\\r\\n}\\r\\n*/\\r\\n\\r\\n.keg-cell-align-left, .keg-cell-value-align-left {\\r\\n    text-align: left;\\r\\n}\\r\\n\\r\\n.keg-cell-align-right, .keg-cell-value-align-right {\\r\\n    text-align: right;\\r\\n}\\r\\n\\r\\n.keg-cell-align-center, .keg-cell-value-align-center {\\r\\n    text-align: center;\\r\\n}\\r\\n\\r\\n.keg-cell-value-bool {\\r\\n    margin: 0 auto;\\r\\n    width: auto;\\r\\n}\\r\\n\\r\\n.keg-cell-value-true::before {\\r\\n    content: \\\"✔\\\";\\r\\n    color: #28a745;\\r\\n    font-size: 16px;\\r\\n}\\r\\n\\r\\n.keg-cell-value-false::before {\\r\\n    content: \\\"✖\\\";\\r\\n    color: #dc3545;\\r\\n    font-size: 16px;\\r\\n}\\r\\n\\r\\n.keg-addrow {\\r\\n    position: relative;\\r\\n    height: 23px;\\r\\n    width: 23px;\\r\\n}\\r\\n\\r\\n.keg-addrow a {\\r\\n    background: url('data:image/png;base64,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') no-repeat;\\r\\n    width: 100%;\\r\\n    height: 100%;\\r\\n    display: block;\\r\\n}\\r\\n\\r\\n.keg-addrow a:hover {\\r\\n    background-position: -25px 0 !important;\\r\\n}\\r\\n\\r\\n/* Pagination */\\r\\n.keg-pagination {\\r\\n    display: inline-block;\\r\\n    padding-left: 0;\\r\\n    margin: 0;\\r\\n    border-radius: 4px;\\r\\n}\\r\\n\\r\\n.keg-page-item {\\r\\n    display: inline;\\r\\n}\\r\\n\\r\\n.keg-page-link {\\r\\n    font-size: 12px;\\r\\n    background-color: #fff;\\r\\n    border: 1px solid #ddd;\\r\\n    color: #428bca;\\r\\n    float: left;\\r\\n    line-height: 1.42857;\\r\\n    margin-left: -1px;\\r\\n    padding: 5px 10px;\\r\\n    position: relative;\\r\\n    text-decoration: none;\\r\\n}\\r\\n\\r\\n.keg-page-link:hover, .keg-page-link:focus {\\r\\n    background-color: #eee;\\r\\n    border-color: #ddd;\\r\\n    color: #2a6496;\\r\\n    border-bottom: #ffd148 2px solid !important;\\r\\n}\\r\\n\\r\\n.keg-page-item.active > .keg-page-link, .keg-page-item.active > .keg-page-link:hover, .keg-page-item.active > .keg-page-link:focus {\\r\\n    background-color: #428bca;\\r\\n    border-color: #428bca;\\r\\n    color: #fff;\\r\\n    cursor: default;\\r\\n    z-index: 2;\\r\\n}\\r\\n\\r\\n.keg-page-item.disabled > .keg-page-link, .keg-page-item.disabled > .keg-page-link:hover, .keg-page-item.disabled > .keg-page-link:focus {\\r\\n    background-color: #fff;\\r\\n    border-color: #ddd;\\r\\n    color: #999;\\r\\n    cursor: not-allowed;\\r\\n}\\r\\n\\r\\n.keg-page-item:first-child > .keg-page-link {\\r\\n    border-bottom-left-radius: 3px;\\r\\n    border-top-left-radius: 3px;\\r\\n    margin-left: 0;\\r\\n}\\r\\n\\r\\n.keg-page-item:last-child > .keg-page-link {\\r\\n    border-bottom-right-radius: 3px;\\r\\n    border-top-right-radius: 3px;\\r\\n}\\r\\n\\r\\n.keg-footer {\\r\\n    display: flex;\\r\\n    /*justify-content: space-between;*/\\r\\n    margin-top: 5px;\\r\\n    flex-wrap: wrap;\\r\\n}\\r\\n\\r\\n.keg-page-info {\\r\\n    padding: 5px 10px;\\r\\n    font-size: 16px;\\r\\n    white-space: nowrap;\\r\\n    flex: 1 1 auto;\\r\\n    text-align: end;\\r\\n    color: rgba(0,0,0,.54);\\r\\n}\\r\\n\\r\\n.keg-page-info > span {\\r\\n    color: #212529;\\r\\n}\\r\\n\\r\\n.keg-row-totals {\\r\\n    font-weight: bold;\\r\\n}\\r\\n\\r\\n.keg-totals-lv0 {\\r\\n    background-color: #ACE1AF;\\r\\n}\\r\\n\\r\\n.keg-totals-lv1 {\\r\\n    background-color: #D0F0C0;\\r\\n}\\r\\n\\r\\n.keg-totals-lv2 {\\r\\n    background-color: #D0F2C0;\\r\\n}\\r\\n\\r\\n.keg-totals-lv3 {\\r\\n    background-color: #D0F4C0;\\r\\n}\\r\\n\\r\\n.keg-totals-lv4 {\\r\\n    background-color: #D0F6C0;\\r\\n}\\r\\n\\r\\n.keg-totals-lv5 {\\r\\n    background-color: #D0F8C0;\\r\\n}\\r\\n\", \"\"]);\n\n","\nvar content = require(\"!!../../../../../css-loader/dist/cjs.js??ref--6!./easy-dialog.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../css-loader/dist/cjs.js??ref--6!./easy-dialog.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../css-loader/dist/cjs.js??ref--6!./easy-dialog.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../../css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \".kdlg-modal, .kdlg-modal-background {\\r\\n    bottom: 0;\\r\\n    left: 0;\\r\\n    position: absolute;\\r\\n    right: 0;\\r\\n    top: 0;\\r\\n}\\r\\n\\r\\n.kdlg-modal-background {\\r\\n    background-color: rgba(10,10,10,0.5);\\r\\n}\\r\\n\\r\\n.kdlg-modal {\\r\\n    font-family: \\\"Roboto\\\", Arial;\\r\\n    font-size: 16px;\\r\\n    font-weight: 400;\\r\\n    line-height: 1.5;\\r\\n\\r\\n    align-items: center;\\r\\n    display: none;\\r\\n    flex-direction: column;\\r\\n    justify-content: center;\\r\\n    overflow: hidden;\\r\\n    position: fixed;\\r\\n    z-index: 40;\\r\\n}\\r\\n\\r\\n.kdlg-modal.is-active {\\r\\n    display: flex;\\r\\n}\\r\\n\\r\\n\\r\\n.kdlg-modal-window, .kdlg-modal-window.size-default {\\r\\n    margin: 0 20px;\\r\\n    position: relative;\\r\\n    width: 100%;\\r\\n    display: flex;\\r\\n    flex-direction: column;\\r\\n    max-height: calc(100vh - 40px);\\r\\n    overflow: hidden;\\r\\n    -ms-overflow-y: visible;    \\r\\n}\\r\\n\\r\\n@media screen and (min-width: 481px), print {\\r\\n    .kdlg-modal-window.size-small {\\r\\n        margin: 0 auto;\\r\\n        width: 400px;\\r\\n    }\\r\\n}\\r\\n\\r\\n@media screen and (min-width: 769px), print {\\r\\n    .kdlg-modal-window, .kdlg-modal-window.size-default {\\r\\n        margin: 0 auto;\\r\\n        width: 640px;\\r\\n    }\\r\\n\\r\\n    .kdlg-modal-window.size-large, .kdlg-modal-window.size-xl {\\r\\n        margin: 0 20px;\\r\\n        width: 100%;\\r\\n    }\\r\\n}\\r\\n\\r\\n@media screen and (min-width: 1025px), print {\\r\\n    .kdlg-modal-window.size-large {\\r\\n        margin: 0 auto;\\r\\n        width: 900px;\\r\\n    }\\r\\n}\\r\\n\\r\\n@media screen and (min-width: 1383px), print {\\r\\n    .kdlg-modal-window.size-xl {\\r\\n        margin: 0 auto;\\r\\n        width: 1200px;\\r\\n    }\\r\\n}\\r\\n\\r\\n\\r\\n\\r\\n.kdlg-footer, .kdlg-header {\\r\\n    align-items: center;\\r\\n    /*background-color: #f5f5f5;*/\\r\\n    background-color: #fff;\\r\\n    display: flex;\\r\\n    flex-shrink: 0;\\r\\n    justify-content: flex-start;\\r\\n    padding: 20px;\\r\\n    position: relative;\\r\\n}\\r\\n\\r\\n.kdlg-footer.align-right {\\r\\n    justify-content: flex-end;\\r\\n}\\r\\n\\r\\n.kdlg-header {\\r\\n    border-top-left-radius: 6px;\\r\\n    border-top-right-radius: 6px;\\r\\n}\\r\\n\\r\\n.kdlg-header.has-border {\\r\\n    border-bottom: 1px solid #dbdbdb;\\r\\n}\\r\\n\\r\\n.kdlg-footer {\\r\\n    min-height: 10px;\\r\\n    border-bottom-left-radius: 6px;\\r\\n    border-bottom-right-radius: 6px;\\r\\n}\\r\\n\\r\\n.kdlg-footer.has-border {\\r\\n    border-top: 1px solid #dbdbdb;\\r\\n}\\r\\n\\r\\n.kdlg-header-title {\\r\\n    color: #363636;\\r\\n    flex-grow: 1;\\r\\n    flex-shrink: 0;\\r\\n    font-size: 1.6rem;\\r\\n    line-height: 1;\\r\\n    margin: 0;\\r\\n    padding: 0;\\r\\n}\\r\\n\\r\\n.kdlg-modal-close {\\r\\n    -webkit-touch-callout: none;\\r\\n    -webkit-user-select: none;\\r\\n    -moz-user-select: none;\\r\\n    -ms-user-select: none;\\r\\n    user-select: none;\\r\\n    -moz-appearance: none;\\r\\n    -webkit-appearance: none;\\r\\n    background-color: rgba(10,10,10,.2);\\r\\n    border: none;\\r\\n    border-radius: 290486px;\\r\\n    cursor: pointer;\\r\\n    pointer-events: auto;\\r\\n    display: inline-block;\\r\\n    flex-grow: 0;\\r\\n    flex-shrink: 0;\\r\\n    font-size: 0;\\r\\n    height: 24px;\\r\\n    max-height: 24px;\\r\\n    max-width: 24px;\\r\\n    min-height: 24px;\\r\\n    min-width: 24px;\\r\\n    outline: 0;\\r\\n    position: relative;\\r\\n    vertical-align: top;\\r\\n    width: 24px;\\r\\n}\\r\\n\\r\\n.kdlg-modal-close::before, .kdlg-modal-close::after {\\r\\n    background-color: #fff;\\r\\n    content: \\\"\\\";\\r\\n    display: block;\\r\\n    left: 50%;\\r\\n    position: absolute;\\r\\n    top: 50%;\\r\\n    transform: translateX(-50%) translateY(-50%) rotate(45deg);\\r\\n    transform-origin: center center;\\r\\n}\\r\\n\\r\\n.kdlg-modal-close::before {\\r\\n    height: 2px;\\r\\n    width: 50%;\\r\\n}\\r\\n\\r\\n.kdlg-modal-close::after {\\r\\n    height: 50%;\\r\\n    width: 2px;\\r\\n}\\r\\n\\r\\n.kdlg-modal-close:focus, .kdlg-modal-close:hover {\\r\\n    background-color: rgba(255,1,1,.48);\\r\\n}\\r\\n\\r\\n\\r\\n.kdlg-body {\\r\\n    -webkit-overflow-scrolling: touch;\\r\\n    background-color: #fff;\\r\\n    flex-grow: 1;\\r\\n    flex-shrink: 1;\\r\\n    overflow: auto;\\r\\n    padding: 20px;\\r\\n    font-size: 1em;\\r\\n    color: #4a4a4a;\\r\\n}\\r\\n\\r\\n\\r\\n\", \"\"]);\n\n","\nvar content = require(\"!!../../../../../css-loader/dist/cjs.js??ref--6!./easy-forms.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../css-loader/dist/cjs.js??ref--6!./easy-forms.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../css-loader/dist/cjs.js??ref--6!./easy-forms.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../../css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \"/* BUTTONS */\\r\\n\\r\\n.kfrm-buttons {\\r\\n    align-items: center;\\r\\n    display: flex;\\r\\n    flex-wrap: wrap;\\r\\n    justify-content: flex-start;\\r\\n}\\r\\n\\r\\n.kfrm-buttons.align-right {\\r\\n    justify-content: flex-end;\\r\\n}\\r\\n\\r\\n.kfrm-buttons.align-center {\\r\\n    justify-content: center;\\r\\n}\\r\\n\\r\\n.kfrm-buttons:last-child {\\r\\n    margin-bottom: -.5rem;\\r\\n}\\r\\n\\r\\n.kfrm-buttons .kfrm-button {\\r\\n    margin-bottom: .5rem;\\r\\n}\\r\\n\\r\\n.kfrm-button {\\r\\n    position: relative;\\r\\n    vertical-align: top;\\r\\n    line-height: 1.5;\\r\\n    align-items: center;\\r\\n    border: 1px solid transparent;\\r\\n    border-radius: 4px;\\r\\n    box-shadow: none;\\r\\n    display: inline-flex;\\r\\n    font-size: 1rem;\\r\\n    height: 2.5em;\\r\\n    -moz-appearance: none;\\r\\n    -webkit-appearance: none;\\r\\n\\r\\n\\r\\n    background-color: #fff;\\r\\n    border-color: #dbdbdb;\\r\\n    border-width: 1px;\\r\\n    color: #363636;\\r\\n    cursor: pointer;\\r\\n    justify-content: center;\\r\\n    padding-bottom: calc(.5em - 1px);\\r\\n    padding-left: 1em;\\r\\n    padding-right: 1em;\\r\\n    padding-top: calc(.5em - 1px);\\r\\n    text-align: center;\\r\\n    white-space: nowrap;\\r\\n\\r\\n    -webkit-touch-callout:none;\\r\\n    -webkit-user-select:none;\\r\\n    -moz-user-select:none;\\r\\n    -ms-user-select:none;\\r\\n    user-select:none\\r\\n}\\r\\n\\r\\n.kfrm-button:not(:last-child) {\\r\\n    margin-right: .5em;\\r\\n}\\r\\n\\r\\n.kfrm-button.is-hovered, .kfrm-button:hover {\\r\\n    border-color: #b5b5b5;\\r\\n    color: #363636;\\r\\n}\\r\\n\\r\\n.kfrm-button.is-focused, .kfrm-button:focus {\\r\\n    outline: none;\\r\\n    border-color: #3273dc;\\r\\n    color: #363636;\\r\\n}\\r\\n\\r\\n.kfrm-button.is-focused:not(:active), .kfrm-button:focus:not(:active) {\\r\\n    box-shadow: 0 0 0 0.125em rgba(50,115,220,.25);\\r\\n}\\r\\n\\r\\n.kfrm-button.is-active, .kfrm-button:active {\\r\\n    border-color: #4a4a4a;\\r\\n    color: #363636;\\r\\n}\\r\\n\\r\\n.kfrm-button[disabled], fieldset[disabled] .kfrm-button {\\r\\n    background-color: #fff;\\r\\n    border-color: #dbdbdb;\\r\\n    box-shadow: none;\\r\\n    opacity: .5;\\r\\n    cursor: not-allowed;\\r\\n}\\r\\n\\r\\n.kfrm-button.is-loading {\\r\\n    color: transparent!important;\\r\\n    pointer-events: none;\\r\\n}\\r\\n\\r\\n.kfrm-button.is-loading::after {\\r\\n    -webkit-animation:spinAround .5s infinite linear;\\r\\n    animation:spinAround .5s infinite linear;\\r\\n    border:2px solid #dbdbdb;\\r\\n    border-radius:290486px;\\r\\n    border-right-color:transparent;\\r\\n    border-top-color:transparent;\\r\\n    content:\\\"\\\";\\r\\n    display:block;\\r\\n    height:1em;\\r\\n    width:1em;\\r\\n\\r\\n    left: calc(50% - (1em / 2));\\r\\n    top: calc(50% - (1em / 2));\\r\\n    position: absolute!important;\\r\\n}\\r\\n\\r\\n@keyframes spinAround {\\r\\n    from {\\r\\n        transform:rotate(0deg);\\r\\n    }\\r\\n    to {\\r\\n        transform:rotate(360deg);\\r\\n    }\\r\\n}\\r\\n\\r\\n/* SIZES */\\r\\n\\r\\n.kfrm-button.size-small,\\r\\n.kfrm-buttons.size-small .kfrm-button:not(.size-default):not(.size-medium):not(.size-large) {\\r\\n    border-radius: 2px;\\r\\n    font-size: .75rem;\\r\\n}\\r\\n\\r\\n.kfrm-button.size-default\\r\\n.kfrm-buttons.size-default .kfrm-button:not(.size-small):not(.size-medium):not(.size-large) {\\r\\n    font-size: 1rem;\\r\\n}\\r\\n\\r\\n.kfrm-button.size-medium,\\r\\n.kfrm-buttons.size-medium .kfrm-button:not(.size-small):not(.size-default):not(.size-large) {\\r\\n    font-size: 1.25rem;\\r\\n}\\r\\n\\r\\n.kfrm-button.size-large\\r\\n.kfrm-buttons.size-large .kfrm-button:not(.size-small):not(.size-default):not(.size-medium) {\\r\\n    font-size: 1.5rem;\\r\\n}\\r\\n\\r\\n/* SIZES END */\\r\\n\\r\\n\\r\\n\\r\\n/* COLORS */\\r\\n\\r\\n/* white */\\r\\n.kfrm-button.is-white {\\r\\n    background-color: #fff;\\r\\n    border-color: transparent;\\r\\n    color: #0a0a0a;\\r\\n}\\r\\n\\r\\n.kfrm-button.is-white.is-hovered, .kfrm-button.is-white:hover {\\r\\n    background-color: #f9f9f9;\\r\\n    border-color: transparent;\\r\\n    color: #0a0a0a;\\r\\n}\\r\\n\\r\\n.kfrm-button.is-white.is-focused, .kfrm-button.is-white:focus {\\r\\n    border-color: transparent;\\r\\n    color: #0a0a0a;\\r\\n}\\r\\n\\r\\n.kfrm-button.is-white.is-focused:not(:active), .kfrm-button.is-white:focus:not(:active) {\\r\\n    box-shadow: 0 0 0 0.125em rgba(150,150,150,.15);\\r\\n}\\r\\n\\r\\n.kfrm-button.is-white.is-active, .kfrm-button.is-white:active {\\r\\n    background-color: #f2f2f2;\\r\\n    border-color: transparent;\\r\\n    color: #0a0a0a;\\r\\n}\\r\\n\\r\\n/* dark */\\r\\n\\r\\n.kfrm-button.is-dark {\\r\\n    background-color: #363636e6;\\r\\n    border-color: transparent;\\r\\n    color: #fff;\\r\\n}\\r\\n\\r\\n.kfrm-button.is-dark.is-hovered, .kfrm-button.is-dark:hover {\\r\\n    background-color: #2f2f2f;\\r\\n    border-color: transparent;\\r\\n    color: #fff;\\r\\n}\\r\\n\\r\\n.kfrm-button.is-dark.is-focused, .kfrm-button.is-dark:focus {\\r\\n    border-color: transparent;\\r\\n    color: #fff;\\r\\n}\\r\\n\\r\\n.kfrm-button.is-dark.is-focused:not(:active), .kfrm-button.is-dark:focus:not(:active) {\\r\\n    box-shadow: 0 0 0 0.125em rgba(54,54,54,.25);\\r\\n}\\r\\n\\r\\n.kfrm-button.is-dark.is-active, .kfrm-button.is-dark:active {\\r\\n    background-color: #292929;\\r\\n    border-color: transparent;\\r\\n    color: #fff;\\r\\n}\\r\\n\\r\\n/* primary */\\r\\n\\r\\n.kfrm-button.is-primary {\\r\\n    background-color: #00d1b2;\\r\\n    border-color: transparent;\\r\\n    color: #fff;\\r\\n}\\r\\n\\r\\n.kfrm-button.is-primary.is-hovered, .kfrm-button.is-primary:hover {\\r\\n    background-color: #00c4a7;\\r\\n    border-color: transparent;\\r\\n    color: #fff;\\r\\n}\\r\\n\\r\\n.kfrm-button.is-primary.is-focused, .kfrm-button.is-primary:focus {\\r\\n    border-color: transparent;\\r\\n    color: #fff;\\r\\n}\\r\\n\\r\\n.kfrm-button.is-primary.is-focused:not(:active), .kfrm-button.is-primary:focus:not(:active) {\\r\\n    box-shadow: 0 0 0 0.125em rgba(0,209,178,.25);\\r\\n}\\r\\n\\r\\n.kfrm-button.is-primary.is-active, .kfrm-button.is-primary:active {\\r\\n    background-color: #00b89c;\\r\\n    border-color: transparent;\\r\\n    color: #fff;\\r\\n}\\r\\n\\r\\n.kfrm-button.is-primary.is-loading::after {\\r\\n    border-color: transparent transparent #fff #fff!important;\\r\\n}\\r\\n\\r\\n/* link */\\r\\n\\r\\n.kfrm-button.is-link {\\r\\n    background-color: #3273dc;\\r\\n    border-color: transparent;\\r\\n    color: #fff;\\r\\n}\\r\\n\\r\\n.kfrm-button.is-link.is-hovered, .kfrm-button.is-link:hover {\\r\\n    background-color: #276cda;\\r\\n    border-color: transparent;\\r\\n    color: #fff;\\r\\n}\\r\\n\\r\\n.kfrm-button.is-link.is-focused, .kfrm-button.is-link:focus {\\r\\n    border-color: transparent;\\r\\n    color: #fff;\\r\\n}\\r\\n\\r\\n.kfrm-button.is-link.is-focused:not(:active), .kfrm-button.is-link:focus:not(:active) {\\r\\n    box-shadow: 0 0 0 0.125em rgba(50,115,220,.25);\\r\\n}\\r\\n\\r\\n.kfrm-button.is-link.is-active, .kfrm-button.is-link:active {\\r\\n    background-color: #2366d1;\\r\\n    border-color: transparent;\\r\\n    color: #fff;\\r\\n}\\r\\n\\r\\n.kfrm-button.is-link.is-loading::after {\\r\\n    border-color: transparent transparent #fff #fff!important;\\r\\n}\\r\\n\\r\\n/* info */\\r\\n\\r\\n.kfrm-button.is-info {\\r\\n    background-color: #3298dc;\\r\\n    border-color: transparent;\\r\\n    color: #fff;\\r\\n}\\r\\n\\r\\n.kfrm-button.is-info.is-hovered, .kfrm-button.is-info:hover {\\r\\n    background-color: #2793da;\\r\\n    border-color: transparent;\\r\\n    color: #fff;\\r\\n}\\r\\n\\r\\n.kfrm-button.is-info.is-focused, .kfrm-button.is-info:focus {\\r\\n    border-color: transparent;\\r\\n    color: #fff;\\r\\n}\\r\\n\\r\\n.kfrm-button.is-info.is-focused:not(:active), .kfrm-button.is-info:focus:not(:active) {\\r\\n    box-shadow: 0 0 0 0.125em rgba(50,152,220,.25);\\r\\n}\\r\\n\\r\\n.kfrm-button.is-info.is-active, .kfrm-button.is-info:active {\\r\\n    background-color: #238cd1;\\r\\n    border-color: transparent;\\r\\n    color: #fff;\\r\\n}\\r\\n\\r\\n.kfrm-button.is-info.is-loading::after {\\r\\n    border-color: transparent transparent #fff #fff!important;\\r\\n}\\r\\n\\r\\n/* success */\\r\\n\\r\\n.kfrm-button.is-success {\\r\\n    background-color: #48c774;\\r\\n    border-color: transparent;\\r\\n    color: #fff;\\r\\n}\\r\\n\\r\\n.kfrm-button.is-success.is-hovered, .kfrm-button.is-success:hover {\\r\\n    background-color: #3ec46d;\\r\\n    border-color: transparent;\\r\\n    color: #fff;\\r\\n}\\r\\n\\r\\n.kfrm-button.is-success.is-focused:not(:active), .kfrm-button.is-success:focus:not(:active) {\\r\\n    box-shadow: 0 0 0 0.125em rgba(72,199,116,.25);\\r\\n}\\r\\n\\r\\n.kfrm-button.is-success.is-active, .kfrm-button.is-success:active {\\r\\n    background-color: #3abb67;\\r\\n    border-color: transparent;\\r\\n    color: #fff;\\r\\n}\\r\\n\\r\\n.kfrm-button.is-success.is-loading::after {\\r\\n    border-color: transparent transparent #fff #fff!important;\\r\\n}\\r\\n\\r\\n/* warning */\\r\\n\\r\\n.kfrm-button.is-warning {\\r\\n    background-color: #ffdd57;\\r\\n    border-color: transparent;\\r\\n    color: rgba(0,0,0,.7);\\r\\n}\\r\\n\\r\\n.kfrm-button.is-warning.is-hovered, .kfrm-button.is-warning:hover {\\r\\n    background-color: #ffdb4a;\\r\\n    border-color: transparent;\\r\\n    color: rgba(0,0,0,.7);\\r\\n}\\r\\n\\r\\n.kfrm-button.is-warning.is-focused, .kfrm-button.is-warning:focus {\\r\\n    border-color: transparent;\\r\\n    color: rgba(0,0,0,.7);\\r\\n}\\r\\n\\r\\n.kfrm-button.is-warning.is-focused:not(:active), .kfrm-button.is-warning:focus:not(:active) {\\r\\n    box-shadow: 0 0 0 0.125em rgba(255,221,87,.25);\\r\\n}\\r\\n\\r\\n.kfrm-button.is-warning.is-active, .kfrm-button.is-warning:active {\\r\\n    background-color: #ffd83d;\\r\\n    border-color: transparent;\\r\\n    color: rgba(0,0,0,.7);\\r\\n}\\r\\n\\r\\n.kfrm-button.is-warning.is-loading::after {\\r\\n    border-color: transparent transparent rgba(0,0,0,.7) rgba(0,0,0,.7)!important;\\r\\n}\\r\\n\\r\\n/* danger */\\r\\n\\r\\n.kfrm-button.is-danger {\\r\\n    background-color: #f14668;\\r\\n    border-color: transparent;\\r\\n    color: #fff;\\r\\n}\\r\\n\\r\\n.kfrm-button.is-danger.is-hovered, .kfrm-button.is-danger:hover {\\r\\n    background-color: #f03a5f;\\r\\n    border-color: transparent;\\r\\n    color: #fff;\\r\\n}\\r\\n\\r\\n.kfrm-button.is-danger.is-focused, .kfrm-button.is-danger:focus {\\r\\n    border-color: transparent;\\r\\n    color: #fff;\\r\\n}\\r\\n\\r\\n.kfrm-button.is-danger.is-focused:not(:active), .kfrm-button.is-danger:focus:not(:active) {\\r\\n    box-shadow: 0 0 0 0.125em rgba(241,70,104,.25);\\r\\n}\\r\\n\\r\\n.kfrm-button.is-danger.is-active, .kfrm-button.is-danger:active {\\r\\n    background-color: #ef2e55;\\r\\n    border-color: transparent;\\r\\n    color: #fff;\\r\\n}\\r\\n\\r\\n.kfrm-button.is-danger.is-loading::after {\\r\\n    border-color: transparent transparent #fff #fff!important;\\r\\n}\\r\\n\\r\\n/* COLORS END */\\r\\n\\r\\n\\r\\n/* BUTTONS END *//* COLUMNS */\\r\\n\\r\\n.kfrm-row {\\r\\n    margin-left: -.75rem;\\r\\n    margin-right: -.75rem;\\r\\n    margin-top: -.75rem;\\r\\n}\\r\\n\\r\\n.kfrm-row:not(:last-child) {\\r\\n    margin-bottom: calc(1.5rem - .75rem);\\r\\n}\\r\\n\\r\\n@media screen and (min-width: 769px), print {\\r\\n    .kfrm-row {\\r\\n        display: flex;\\r\\n        flex-wrap: wrap;\\r\\n    }\\r\\n\\r\\n    .kdlg-modal-window.size-small .kfrm-row {\\r\\n        display: block;\\r\\n    }\\r\\n\\r\\n\\r\\n    /* 12 columns grid */\\r\\n    .kfrm-column.size-1 {\\r\\n        flex: none;\\r\\n        width: 8.33333%;\\r\\n    }\\r\\n\\r\\n    .kfrm-column.size-2 {\\r\\n        flex: none;\\r\\n        width: 16.66667%;\\r\\n    }\\r\\n\\r\\n    .kfrm-column.size-3 {\\r\\n        flex: none;\\r\\n        width: 25%;\\r\\n    }\\r\\n\\r\\n    .kfrm-column.size-4 {\\r\\n        flex: none;\\r\\n        width: 33.33333%;\\r\\n    }\\r\\n\\r\\n    .kfrm-column.size-5 {\\r\\n        flex: none;\\r\\n        width: 41.66667%;\\r\\n    }\\r\\n\\r\\n    .kfrm-column.size-6 {\\r\\n        flex: none;\\r\\n        width: 50%;\\r\\n    }\\r\\n\\r\\n    .kfrm-column.size-7 {\\r\\n        flex: none;\\r\\n        width: 58.33333%;\\r\\n    }\\r\\n\\r\\n    .kfrm-column.size-8 {\\r\\n        flex: none;\\r\\n        width: 66.66667%;\\r\\n    }\\r\\n\\r\\n    .kfrm-column.size-9 {\\r\\n        flex: none;\\r\\n        width: 75%;\\r\\n    }\\r\\n\\r\\n    .kfrm-column.size-10 {\\r\\n        flex: none;\\r\\n        width: 83.33333%;\\r\\n    }\\r\\n\\r\\n    .kfrm-column.size-11 {\\r\\n        flex: none;\\r\\n        width: 91.66667%;\\r\\n    }\\r\\n\\r\\n    .kfrm-column.size-12 {\\r\\n        flex: none;\\r\\n        width: 100%;\\r\\n    }\\r\\n\\r\\n\\r\\n\\r\\n}\\r\\n\\r\\n.kfrm-column {\\r\\n    display: block;\\r\\n    flex-basis: 0;\\r\\n    flex-grow: 1;\\r\\n    flex-shrink: 1;\\r\\n    padding: .75rem;\\r\\n}\\r\\n\\r\\n/* COLUMNS END */\\r\\n\\r\\n/* CONTROLS */\\r\\n\\r\\n.kfrm-form .errors-block {\\r\\n    color: red;\\r\\n}\\r\\n\\r\\n\\r\\n.kfrm-form .control {\\r\\n    box-sizing: border-box;\\r\\n    clear: both;\\r\\n    position: relative;\\r\\n    text-align: inherit;\\r\\n    display: inline-flex;\\r\\n    width: 100%;\\r\\n    max-width: 100%;\\r\\n    padding: 0 !important;\\r\\n}\\r\\n\\r\\n.kfrm-form .icon {\\r\\n    align-items: center;\\r\\n    display: inline-flex;\\r\\n    justify-content: center;\\r\\n    height: 1.5em;\\r\\n    width: 1.5em;\\r\\n}\\r\\n\\r\\n.kfrm-form .control.has-icons-left input, .kfrm-form .control.has-icons-left .select select {\\r\\n    padding-left: 2.5em;\\r\\n}\\r\\n\\r\\n.kfrm-form .control.has-icons-right input, .kfrm-form .control.has-icons-right .select select {\\r\\n    padding-right: 2.5em;\\r\\n}\\r\\n\\r\\n.kfrm-form .control.has-icons-left .icon.is-left {\\r\\n    left: 0;\\r\\n}\\r\\n\\r\\n.kfrm-form .control.has-icons-right .icon.is-right {\\r\\n    right: 0;\\r\\n}\\r\\n\\r\\n.kfrm-form .control .icon {\\r\\n    color: #dbdbdb;\\r\\n    height: 2.5em;\\r\\n    pointer-events: none;\\r\\n    position: absolute;\\r\\n    top: 0;\\r\\n    width: 2.5em;\\r\\n    z-index: 4;\\r\\n}\\r\\n\\r\\n.kfrm-form .control .icon.is-clickable {\\r\\n    pointer-events: auto;\\r\\n}\\r\\n\\r\\n/*\\r\\n.kfrm-form .control input:focus~.icon, .kfrm-form .control .select:focus~.icon {\\r\\n    color: #4a4a4a;\\r\\n}\\r\\n*/\\r\\n\\r\\n.kfrm-form .control .icon.is-clickable:hover {\\r\\n    color: #4a4a4a;\\r\\n    cursor: pointer;\\r\\n}\\r\\n\\r\\n\\r\\n.kfrm-form input.is-valid:not([type='checkbox']),\\r\\n.kfrm-form input.is-valid:not([type='checkbox']):hover {\\r\\n    border-color: green;\\r\\n}\\r\\n\\r\\n.kfrm-form input.is-invalid:not([type='checkbox']),\\r\\n.kfrm-form input.is-invalid:not([type='checkbox']):hover {\\r\\n    border-color: red;\\r\\n}\\r\\n\\r\\n.kfrm-form input:not([type='checkbox']):read-only {\\r\\n    background-color: #e9ecef;\\r\\n    opacity: 1;\\r\\n}\\r\\n\\r\\n.kfrm-form input:not([type='checkbox']), .kfrm-select select, .kfrm-form textarea {\\r\\n    -moz-appearance: none;\\r\\n    -webkit-appearance: none;\\r\\n    align-items: center;\\r\\n    border: 1px solid transparent;\\r\\n    border-radius: 4px;\\r\\n    box-shadow: none;\\r\\n    display: inline-flex;\\r\\n    font-size: 1em;\\r\\n    height: 2.5em;\\r\\n    justify-content: flex-start;\\r\\n    line-height: 1.5;\\r\\n    padding-bottom: calc(.5em - 1px);\\r\\n    padding-left: calc(.75em - 1px);\\r\\n    padding-right: calc(.75em - 1px);\\r\\n    padding-top: calc(.5em - 1px);\\r\\n    position: relative;\\r\\n    vertical-align: top;\\r\\n}\\r\\n\\r\\n.kfrm-form input:not([type='checkbox']), .kfrm-select select, .kfrm-form textarea {\\r\\n    background-color: #fff;\\r\\n    border-color: #dbdbdb;\\r\\n    border-radius: 4px;\\r\\n    color: #363636;\\r\\n    outline: 0;\\r\\n}\\r\\n\\r\\n.kfrm-form input:not([type='checkbox']), .kfrm-form textarea {\\r\\n    box-shadow: inset 0 0.0625em 0.125em rgba(10,10,10,.05);\\r\\n    max-width: 100%;\\r\\n    width: 100%;\\r\\n}\\r\\n\\r\\n.kfrm-form input:not([type='checkbox']):hover, .kfrm-form input:not([type='checkbox']).is-hovered, .kfrm-form textarea:hover, .kfrm-form textarea.is-hovered, .kfrm-select select:hover, .kfrm-select select.is-hovered {\\r\\n    border-color: #b5b5b5;\\r\\n}\\r\\n\\r\\n.kfrm-form input:not([type='checkbox']):active, .kfrm-form input:not([type='checkbox']).is-active, .kfrm-form textarea:active, .kfrm-form textarea.is-active, .kfrm-select select:active, .kfrm-select select.is-active, \\r\\n.kfrm-form input:not([type='checkbox']):focus, .kfrm-form input:not([type='checkbox']).is-focused, .kfrm-form textarea:focus, .kfrm-form textarea.is-focused, .kfrm-select select:focus, .kfrm-select select.is-focused {\\r\\n    border-color: #3273dc;\\r\\n    box-shadow: 0 0 0 0.125em rgba(50,115,220,.25);\\r\\n    outline: 0;\\r\\n}\\r\\n\\r\\n\\r\\n.kfrm-select {\\r\\n    display: inline-block;\\r\\n    max-width: 100%;\\r\\n    position: relative;\\r\\n    vertical-align: top;\\r\\n    padding: 0;\\r\\n    width: max-content;\\r\\n}\\r\\n\\r\\n.kfrm-select select::-ms-expand {\\r\\n    display: none !important;\\r\\n}\\r\\n\\r\\n.kfrm-select:not(.is-multiple) {\\r\\n    height: 2.5em;\\r\\n}\\r\\n\\r\\n.kfrm-select select {\\r\\n    cursor: pointer;\\r\\n    display: block;\\r\\n    font-size: 1em;\\r\\n    max-width: 100%;\\r\\n    outline: 0;\\r\\n}\\r\\n\\r\\n.kfrm-select select:not([multiple]) {\\r\\n    padding-right: 2.5em;\\r\\n}\\r\\n\\r\\n .kfrm-select:not(.is-multiple):not(.is-loading)::after {\\r\\n    border: 3px solid #3273dc;\\r\\n    border-radius: 2px;\\r\\n    border-right: 0;\\r\\n    border-top: 0;\\r\\n    content: \\\" \\\";\\r\\n    display: block;\\r\\n    height: .425em;\\r\\n    margin-top: -.5em;\\r\\n    pointer-events: none;\\r\\n    position: absolute;\\r\\n    top: 50%;\\r\\n    transform: rotate(-45deg);\\r\\n    transform-origin: center;\\r\\n    width: .425em;\\r\\n    right: .7em;\\r\\n    z-index: 4;\\r\\n}\\r\\n\\r\\n\\r\\n.kfrm-form textarea {\\r\\n    display: block;\\r\\n    max-width: 100%;\\r\\n    min-width: 100%;\\r\\n    padding: calc(.75em - 1px);\\r\\n    resize: vertical;\\r\\n}\\r\\n\\r\\n.kfrm-form textarea:not([rows]) {\\r\\n    max-height: 40em;\\r\\n    min-height: 8em;\\r\\n}\\r\\n\\r\\n/* CONTROLS END */\\r\\n\\r\\n/* FORMS */\\r\\n.kfrm-form {\\r\\n    font-size: 16px;\\r\\n}\\r\\n\\r\\n.kfrm-form fieldset {\\r\\n    border: 1px solid #dbdbdb;\\r\\n    border-radius: 6px;\\r\\n    padding: 20px;\\r\\n}\\r\\n\\r\\n.kfrm-form fieldset > legend {\\r\\n    padding-inline-start: 10px;\\r\\n    padding-inline-end: 10px;\\r\\n    font-weight: 600;\\r\\n    width: auto;\\r\\n    font-size: 16px;\\r\\n    margin-bottom: 0;\\r\\n}\\r\\n\\r\\n.kfrm-break, .kfrm-break-50 {\\r\\n    margin-top: 50px;\\r\\n}\\r\\n\\r\\n.kfrm-break-10 {\\r\\n    margin-top: 10px;\\r\\n}\\r\\n\\r\\n.kfrm-break-20 {\\r\\n    margin-top: 20px;\\r\\n}\\r\\n\\r\\n.kfrm-break-30 {\\r\\n    margin-top: 30px;\\r\\n}\\r\\n\\r\\n.kfrm-break-40 {\\r\\n    margin-top: 40px;\\r\\n}\\r\\n\\r\\n.kfrm-break-60 {\\r\\n    margin-top: 60px;\\r\\n}\\r\\n\\r\\n.kfrm-break-70 {\\r\\n    margin-top: 70px;\\r\\n}\\r\\n\\r\\n.kfrm-break-80 {\\r\\n    margin-top: 10px;\\r\\n}\\r\\n\\r\\n\\r\\n.kfrm-fields, .kfrm-fields.col-a {\\r\\n    display: grid;\\r\\n    grid-template-columns: auto;\\r\\n    grid-gap: 10px;\\r\\n    grid-auto-rows: auto;\\r\\n}\\r\\n\\r\\n.kfrm-fields:not(:last-child) {\\r\\n    margin-bottom: calc(1.5rem - .75rem);\\r\\n}\\r\\n\\r\\n.kfrm-fields > label {\\r\\n    padding: .5em 0;\\r\\n}\\r\\n\\r\\nfieldset .kfrm-fields > label {\\r\\n    padding: 0;\\r\\n    margin: 0;\\r\\n}\\r\\n\\r\\n.kfrm-fields > label:not(.checkbox) {\\r\\n    font-weight: 600;\\r\\n}\\r\\n\\r\\n.kfrm-fields.label-above > label:not(.checkbox) {\\r\\n    padding: 0.5em 0 0 0;\\r\\n    margin-bottom: -0.5em;\\r\\n}\\r\\n\\r\\n.kfrm-fields.label-align-right > label:not(.checkbox) {\\r\\n    text-align: right;\\r\\n}\\r\\n\\r\\n.kfrm-fields.col-a-1 {\\r\\n    grid-template-columns: auto 1fr;\\r\\n}\\r\\n\\r\\n.kfrm-fields.col-1-a {\\r\\n    grid-template-columns: 1fr auto;\\r\\n}\\r\\n\\r\\n.kfrm-fields.col-a-a {\\r\\n    grid-template-columns: auto auto;\\r\\n}\\r\\n\\r\\n.kfrm-fields.col-1-1 {\\r\\n    grid-template-columns: 1fr 1fr;\\r\\n}\\r\\n\\r\\n.kfrm-fields.col-1-2 {\\r\\n    grid-template-columns: 1fr 2fr;\\r\\n}\\r\\n\\r\\n.kfrm-fields.col-1-3 {\\r\\n    grid-template-columns: 1fr 3fr;\\r\\n}\\r\\n\\r\\n.kfrm-fields.col-2-1 {\\r\\n    grid-template-columns: 2fr 1fr;\\r\\n}\\r\\n\\r\\n.kfrm-fields.col-3-1 {\\r\\n    grid-template-columns: 3fr 1fr;\\r\\n}\\r\\n\\r\\n.kfrm-fields.col-2-3 {\\r\\n    grid-template-columns: 2fr 3fr;\\r\\n}\\r\\n\\r\\n.kfrm-fields.col-3-2 {\\r\\n    grid-template-columns: 3fr 2fr;\\r\\n}\\r\\n\\r\\n.kfrm-fields.is-horizontal {\\r\\n    display: flex;\\r\\n    padding: 0;\\r\\n}\\r\\n\\r\\n.kfrm-fields.is-horizontal.align-right {\\r\\n    justify-content: flex-end;\\r\\n}\\r\\n\\r\\n.kfrm-fields.is-horizontal.align-center {\\r\\n    justify-content: center;\\r\\n}\\r\\n\\r\\n.kfrm-fields.is-horizontal.align-evenly {\\r\\n    justify-content: space-evenly;\\r\\n}\\r\\n\\r\\n.kfrm-fields.is-horizontal > label:not(:first-child) {\\r\\n    margin-left: .5rem;\\r\\n}\\r\\n\\r\\n/* IE */\\r\\n.kfrm-fields-ie {\\r\\n    display: flex;\\r\\n    flex-direction: column;\\r\\n    font-size: 16px;\\r\\n  }\\r\\n\\r\\n.kfrm-field-ie {\\r\\n    display: flex;\\r\\n    margin-bottom: 1em;\\r\\n}\\r\\n\\r\\n/*  \\r\\n  .kfrm-field-ie > * {\\r\\n      font-size: 16px;\\r\\n  }\\r\\n*/\\r\\n\\r\\n.kfrm-field-ie > *:nth-child(1) {\\r\\n    margin-right: 20px;\\r\\n}\\r\\n\\r\\n.kfrm-field-ie > label {\\r\\n    padding: .5em 0;\\r\\n}\\r\\n\\r\\n/*\\r\\n  .kfrm-field-ie > *:nth-child(2):not(.kfrm-select):not(.kfrm-fields-ie) {\\r\\n    padding: .5em;\\r\\n  }\\r\\n*/\\r\\n  .kfrm-fields-ie.col-ie-1-1 > .kfrm-field-ie > *:nth-child(1) {\\r\\n    flex: 0 0 50%;\\r\\n  }\\r\\n\\r\\n  .kfrm-fields-ie.col-ie-1-2 > .kfrm-field-ie > *:nth-child(1) {\\r\\n    flex: 0 0 33.3333%;\\r\\n  }\\r\\n\\r\\n  .kfrm-fields-ie.col-ie-1-3 > .kfrm-field-ie > *:nth-child(1) {\\r\\n    flex: 0 0 25%;\\r\\n  }\\r\\n\\r\\n  .kfrm-fields-ie.col-ie-1-4 > .kfrm-field-ie > *:nth-child(1) {\\r\\n    flex: 0 0 20%;\\r\\n  }\\r\\n\\r\\n\\r\\n  .kfrm-fields-ie.label-align-right .kfrm-field-ie > *:nth-child(1) {\\r\\n    text-align: right;\\r\\n  }\\r\\n\\r\\n  .kfrm-fields-ie.label-above .kfrm-field-ie > *:nth-child(1):not(.checkbox) {\\r\\n      padding: 0.5em 0 0 0;\\r\\n      margin-bottom: -0.5em;\\r\\n  }\\r\\n\\r\\n  .kfrm-field-ie > label:not(.checkbox), .kfrm-fields-ie > label:not(.checkbox) {\\r\\n      font-weight: 600;\\r\\n  }\\r\\n\\r\\n  .kfrm-fields-ie.is-horizontal {\\r\\n    display: flex;\\r\\n    padding: 0 !important;\\r\\n    flex-direction: row;\\r\\n  }\\r\\n\\r\\n  .kfrm-fields-ie.kfrm-fields-ie.is-horizontal > *:not(.kfrm-select) {\\r\\n    padding: .5em;\\r\\n  }\\r\\n\\r\\n  .kfrm-fields-ie.is-horizontal > *:not(:first-child) {\\r\\n    margin-left: 1em;\\r\\n  }\\r\\n\\r\\n.kfrm-fields-ie > label {\\r\\n    padding-left: 0 !important;\\r\\n    padding-right: 0 !important;\\r\\n}\\r\\n\\r\\n\\r\\n/* FORMS END */\\r\\n/* DATETIME STARTS */\\r\\n.kdtp {\\r\\n    border: 1px solid silver;\\r\\n    background-color: white;\\r\\n    box-shadow: 4px 8px 15px 0px rgba(0,0,0,.16);\\r\\n    border-radius: 8px;\\r\\n    overflow: hidden;    \\r\\n    z-index: 100000;\\r\\n    outline: none;\\r\\n    font-size: 0.7rem;\\r\\n}\\r\\n\\r\\n.kdtp-buttons {\\r\\n    margin-top: 1em;\\r\\n    display: flex;\\r\\n    flex-direction: row;\\r\\n    justify-content: space-between;\\r\\n}\\r\\n\\r\\n.kdtp-button {\\r\\n    height: 2.5em;\\r\\n    flex: 1;\\r\\n    background-color: #0099CC;\\r\\n    border: none;\\r\\n    color: white;\\r\\n    text-align: center;\\r\\n    text-decoration: none;\\r\\n    cursor: pointer;    \\r\\n    font-weight: 500;\\r\\n}\\r\\n\\r\\n.kdtp-button:focus, .kdtp-button:active {\\r\\n    outline: 0;\\r\\n}\\r\\n\\r\\n.kdtp-button-now {\\r\\n    border: none;\\r\\n    background-color: white;\\r\\n    color: #0099CC;\\r\\n}\\r\\n\\r\\n.kdtp-button:nth-child(2) {\\r\\n    border-top-left-radius: 8px;\\r\\n}\\r\\n\\r\\n.kdtp-button:not(:first-child) {\\r\\n    margin-left: 2px;\\r\\n}\\r\\n\\r\\n.kdtp-cal {\\r\\n    padding: 0;\\r\\n}\\r\\n\\r\\n.kdtp-cal * {\\r\\n    outline: none !important;\\r\\n}\\r\\n\\r\\n.kdtp-cal-body {\\r\\n    display: -ms-grid;\\r\\n    display: grid;\\r\\n    -ms-grid-columns: minmax(1em, 1fr) 5px minmax(1em, 1fr) 0.5em minmax(1em, 1fr) 0.5em minmax(1em, 1fr) 0.5em minmax(1em, 1fr) 0.5em minmax(1em, 1fr) 0.5em minmax(1em, 1fr);\\r\\n    grid-template-columns: repeat(7, minmax(1em, 1fr));\\r\\n    grid-gap: 0.5em;\\r\\n    -webkit-box-sizing: border-box;\\r\\n\\tbox-sizing: border-box;\\r\\n    padding: 0 12px;\\r\\n    -ms-grid-rows: 1fr 0.5em 1fr 0.5em 1fr 0.5em 1fr 0.5em 1fr 0.5em 1fr 0.5em 1fr;\\r\\n}\\r\\n\\r\\n.kdtp-cal-body > *:nth-child(1) {\\r\\n    -ms-grid-row: 1;\\r\\n    -ms-grid-column: 1;\\r\\n}\\r\\n.kdtp-cal-body > *:nth-child(2) {\\r\\n    -ms-grid-row: 1;\\r\\n    -ms-grid-column: 3;\\r\\n}\\r\\n.kdtp-cal-body > *:nth-child(3) {\\r\\n    -ms-grid-row: 1;\\r\\n    -ms-grid-column: 5;\\r\\n}\\r\\n.kdtp-cal-body > *:nth-child(4) {\\r\\n    -ms-grid-row: 1;\\r\\n    -ms-grid-column: 7;\\r\\n}\\r\\n.kdtp-cal-body > *:nth-child(5) {\\r\\n    -ms-grid-row: 1;\\r\\n    -ms-grid-column: 9;\\r\\n}\\r\\n.kdtp-cal-body > *:nth-child(6) {\\r\\n    -ms-grid-row: 1;\\r\\n    -ms-grid-column: 11;\\r\\n}\\r\\n.kdtp-cal-body > *:nth-child(7) {\\r\\n    -ms-grid-row: 1;\\r\\n    -ms-grid-column: 13;\\r\\n}\\r\\n.kdtp-cal-body > *:nth-child(8) {\\r\\n    -ms-grid-row: 3;\\r\\n    -ms-grid-column: 1;\\r\\n}\\r\\n.kdtp-cal-body > *:nth-child(9) {\\r\\n    -ms-grid-row: 3;\\r\\n    -ms-grid-column: 3;\\r\\n}\\r\\n.kdtp-cal-body > *:nth-child(10) {\\r\\n    -ms-grid-row: 3;\\r\\n    -ms-grid-column: 5;\\r\\n}\\r\\n.kdtp-cal-body > *:nth-child(11) {\\r\\n    -ms-grid-row: 3;\\r\\n    -ms-grid-column: 7;\\r\\n}\\r\\n.kdtp-cal-body > *:nth-child(12) {\\r\\n    -ms-grid-row: 3;\\r\\n    -ms-grid-column: 9;\\r\\n}\\r\\n.kdtp-cal-body > *:nth-child(13) {\\r\\n    -ms-grid-row: 3;\\r\\n    -ms-grid-column: 11;\\r\\n}\\r\\n.kdtp-cal-body > *:nth-child(14) {\\r\\n    -ms-grid-row: 3;\\r\\n    -ms-grid-column: 13;\\r\\n}\\r\\n.kdtp-cal-body > *:nth-child(15) {\\r\\n    -ms-grid-row: 5;\\r\\n    -ms-grid-column: 1;\\r\\n}\\r\\n.kdtp-cal-body > *:nth-child(16) {\\r\\n    -ms-grid-row: 5;\\r\\n    -ms-grid-column: 3;\\r\\n}\\r\\n.kdtp-cal-body > *:nth-child(17) {\\r\\n    -ms-grid-row: 5;\\r\\n    -ms-grid-column: 5;\\r\\n}\\r\\n.kdtp-cal-body > *:nth-child(18) {\\r\\n    -ms-grid-row: 5;\\r\\n    -ms-grid-column: 7;\\r\\n}\\r\\n.kdtp-cal-body > *:nth-child(19) {\\r\\n    -ms-grid-row: 5;\\r\\n    -ms-grid-column: 9;\\r\\n}\\r\\n.kdtp-cal-body > *:nth-child(20) {\\r\\n    -ms-grid-row: 5;\\r\\n    -ms-grid-column: 11;\\r\\n}\\r\\n.kdtp-cal-body > *:nth-child(21) {\\r\\n    -ms-grid-row: 5;\\r\\n    -ms-grid-column: 13;\\r\\n}\\r\\n.kdtp-cal-body > *:nth-child(22) {\\r\\n    -ms-grid-row: 7;\\r\\n    -ms-grid-column: 1;\\r\\n}\\r\\n.kdtp-cal-body > *:nth-child(23) {\\r\\n    -ms-grid-row: 7;\\r\\n    -ms-grid-column: 3;\\r\\n}\\r\\n.kdtp-cal-body > *:nth-child(24) {\\r\\n    -ms-grid-row: 7;\\r\\n    -ms-grid-column: 5;\\r\\n}\\r\\n.kdtp-cal-body > *:nth-child(25) {\\r\\n    -ms-grid-row: 7;\\r\\n    -ms-grid-column: 7;\\r\\n}\\r\\n.kdtp-cal-body > *:nth-child(26) {\\r\\n    -ms-grid-row: 7;\\r\\n    -ms-grid-column: 9;\\r\\n}\\r\\n.kdtp-cal-body > *:nth-child(27) {\\r\\n    -ms-grid-row: 7;\\r\\n    -ms-grid-column: 11;\\r\\n}\\r\\n.kdtp-cal-body > *:nth-child(28) {\\r\\n    -ms-grid-row: 7;\\r\\n    -ms-grid-column: 13;\\r\\n}\\r\\n.kdtp-cal-body > *:nth-child(29) {\\r\\n    -ms-grid-row: 9;\\r\\n    -ms-grid-column: 1;\\r\\n}\\r\\n.kdtp-cal-body > *:nth-child(30) {\\r\\n    -ms-grid-row: 9;\\r\\n    -ms-grid-column: 3;\\r\\n}\\r\\n.kdtp-cal-body > *:nth-child(31) {\\r\\n    -ms-grid-row: 9;\\r\\n    -ms-grid-column: 5;\\r\\n}\\r\\n.kdtp-cal-body > *:nth-child(32) {\\r\\n    -ms-grid-row: 9;\\r\\n    -ms-grid-column: 7;\\r\\n}\\r\\n.kdtp-cal-body > *:nth-child(33) {\\r\\n    -ms-grid-row: 9;\\r\\n    -ms-grid-column: 9;\\r\\n}\\r\\n.kdtp-cal-body > *:nth-child(34) {\\r\\n    -ms-grid-row: 9;\\r\\n    -ms-grid-column: 11;\\r\\n}\\r\\n.kdtp-cal-body > *:nth-child(35) {\\r\\n    -ms-grid-row: 9;\\r\\n    -ms-grid-column: 13;\\r\\n}\\r\\n.kdtp-cal-body > *:nth-child(36) {\\r\\n    -ms-grid-row: 11;\\r\\n    -ms-grid-column: 1;\\r\\n}\\r\\n.kdtp-cal-body > *:nth-child(37) {\\r\\n    -ms-grid-row: 11;\\r\\n    -ms-grid-column: 3;\\r\\n}\\r\\n.kdtp-cal-body > *:nth-child(38) {\\r\\n    -ms-grid-row: 11;\\r\\n    -ms-grid-column: 5;\\r\\n}\\r\\n.kdtp-cal-body > *:nth-child(39) {\\r\\n    -ms-grid-row: 11;\\r\\n    -ms-grid-column: 7;\\r\\n}\\r\\n.kdtp-cal-body > *:nth-child(40) {\\r\\n    -ms-grid-row: 11;\\r\\n    -ms-grid-column: 9;\\r\\n}\\r\\n.kdtp-cal-body > *:nth-child(41) {\\r\\n    -ms-grid-row: 11;\\r\\n    -ms-grid-column: 11;\\r\\n}\\r\\n.kdtp-cal-body > *:nth-child(42) {\\r\\n    -ms-grid-row: 11;\\r\\n    -ms-grid-column: 13;\\r\\n}\\r\\n.kdtp-cal-body > *:nth-child(43) {\\r\\n    -ms-grid-row: 13;\\r\\n    -ms-grid-column: 1;\\r\\n}\\r\\n.kdtp-cal-body > *:nth-child(44) {\\r\\n    -ms-grid-row: 13;\\r\\n    -ms-grid-column: 3;\\r\\n}\\r\\n.kdtp-cal-body > *:nth-child(45) {\\r\\n    -ms-grid-row: 13;\\r\\n    -ms-grid-column: 5;\\r\\n}\\r\\n.kdtp-cal-body > *:nth-child(46) {\\r\\n    -ms-grid-row: 13;\\r\\n    -ms-grid-column: 7;\\r\\n}\\r\\n.kdtp-cal-body > *:nth-child(47) {\\r\\n    -ms-grid-row: 13;\\r\\n    -ms-grid-column: 9;\\r\\n}\\r\\n.kdtp-cal-body > *:nth-child(48) {\\r\\n    -ms-grid-row: 13;\\r\\n    -ms-grid-column: 11;\\r\\n}\\r\\n.kdtp-cal-body > *:nth-child(49) {\\r\\n    -ms-grid-row: 13;\\r\\n    -ms-grid-column: 13;\\r\\n}\\r\\n\\r\\n.kdtp-cal-header-input {\\r\\n    width: 100%;\\r\\n    width: -moz-available;          /* WebKit-based browsers will ignore this. */\\r\\n    width: -webkit-fill-available;  /* Mozilla-based browsers will ignore this. */\\r\\n    width: fill-available;\\r\\n    height: 100%;\\r\\n    height: -moz-available;          /* WebKit-based browsers will ignore this. */\\r\\n    height: -webkit-fill-available;  /* Mozilla-based browsers will ignore this. */\\r\\n    height: fill-available;\\r\\n\\r\\n    font-size: 1em;\\r\\n    padding: 2px 5px;\\r\\n    border: 1px solid silver;\\r\\n    outline: none;\\r\\n    background: #fff;\\r\\n    color: #262626;\\r\\n}\\r\\n\\r\\n.kdtp-cal-header-input.error {\\r\\n    border-color: red;\\r\\n}\\r\\n\\r\\n.kdtp-cal-header {\\r\\n    background-color: #0099CC;\\r\\n    color: white;\\r\\n    text-align: center;\\r\\n    font-size: 1.2em;\\r\\n    font-weight: 600;\\r\\n    height: 2em;\\r\\n    line-height: 2em;\\r\\n}\\r\\n\\r\\n.kdtp-cal-nav {\\r\\n    display: flex;\\r\\n    padding: 0;\\r\\n    margin: 0.7em 0;\\r\\n    line-height: 1em;\\r\\n}\\r\\n\\r\\n.kdtp-cal-nav-prev, .kdtp-cal-nav-next {\\r\\n    flex: 0 0 auto;\\r\\n    font-size: 3em;\\r\\n    font-weight: 600;\\r\\n    width: 1em;\\r\\n    color: #777777;\\r\\n    text-align: center;    \\r\\n}\\r\\n\\r\\n.kdtp-cal-nav-prev:hover, .kdtp-cal-nav-next:hover {\\r\\n    cursor: pointer;\\r\\n    color: #0099CC;\\r\\n}\\r\\n\\r\\n.kdtp-cal-nav-selectors {\\r\\n    flex: 1 1 auto;\\r\\n    display: flex;\\r\\n    margin: 0 0.5em;\\r\\n    font-size: 1.2em;\\r\\n}\\r\\n\\r\\n.kdtp-cal-nav-month {\\r\\n    flex: 1 1 auto;\\r\\n    margin-right: 0.5em;\\r\\n}\\r\\n\\r\\n.kdtp-cal-nav-year {\\r\\n    flex: 0 0 auto;\\r\\n}\\r\\n\\r\\n.kdtp-cal-nav-selectors select {\\r\\n    border: none;\\r\\n    color: #777777;\\r\\n    font-weight: 600;\\r\\n}\\r\\n\\r\\n.kdtp-cal-nav-selectors select:hover {\\r\\n    color: #0099CC;\\r\\n}\\r\\n\\r\\n.kdtp-cal-nav-selectors select:hover option {\\r\\n    color: #777777;\\r\\n}\\r\\n\\r\\n.kdtp-cal-weekday {\\r\\n    display: flex;\\r\\n    align-items: center;\\r\\n    justify-content: center;\\r\\n    height: 1.8em;\\r\\n    font-weight: 600;\\r\\n\\tfont-size: 0.8em;\\r\\n    color: #262626;\\r\\n}\\r\\n\\r\\n.kdtp-cal-weekday.kdtp-cal-weekend {\\r\\n    color: #ff685d;\\r\\n}\\r\\n\\r\\n.kdtp-cal-day, .kdtp-cal-day-empty {\\r\\n    display: flex;\\r\\n    align-items: center;\\r\\n    justify-content: center;\\r\\n    height: 1.5em;\\r\\n    color: #262626;\\r\\n    border-radius: 4px;\\r\\n}\\r\\n\\r\\n.kdtp-cal-day.kdtp-cal-weekend {\\r\\n    color: #ff685d;\\r\\n    font-weight: 700;\\r\\n}\\r\\n\\r\\n.kdtp-cal-day:hover, .kdtp-cal-day-selected {\\r\\n    border: 2px solid #0099CC;\\r\\n    font-weight: 700;\\r\\n    cursor: pointer;\\r\\n}\\r\\n\\r\\n.kdtp-cal-day-current {\\r\\n    background-color: lightgray;\\r\\n}\\r\\n\\r\\n.kdtp-tp {\\r\\n    display: flex;\\r\\n    display:-webkit-flex;\\r\\n    display:-ms-flexbox;\\r\\n    align-items: center;\\r\\n    -webkit-align-items:center;\\r\\n    -ms-flex-align:center;\\r\\n    margin-top: 1em;\\r\\n    padding: 0 1em;\\r\\n}\\r\\n\\r\\n.kdtp-tp-time {\\r\\n    flex: 0 0 5em;\\r\\n    -webkit-flex: 0 0 5em;\\r\\n    -ms-flex: 0 0 5em;\\r\\n    text-align: center;\\r\\n    font-weight: 600;\\r\\n    color: #777777;\\r\\n    border: 2px solid #0099CC;\\r\\n    border-radius: 6px;\\r\\n    margin-right: 0.5em;\\r\\n}\\r\\n\\r\\n.kdtp-tp-sliders {\\r\\n    flex: 1 1 auto;\\r\\n    -webkit-flex: 1 1 auto;\\r\\n    -ms-flex: 1 1 auto;\\r\\n}\\r\\n\\r\\n.kdtp-tp-time-row {\\r\\n    display:-webkit-flex;\\r\\n    display:-ms-flexbox;\\r\\n    display:flex;\\r\\n    -webkit-align-items:center;\\r\\n    -ms-flex-align:center;\\r\\n    align-items:center;\\r\\n    height: 1.5em;\\r\\n    background:linear-gradient(to right,#c5c5c5,#c5c5c5) left 50%/100% 1px no-repeat;\\r\\n}\\r\\n\\r\\n.kdtp-tp-time-row input[type=range] {\\r\\n    background:0 0;\\r\\n    cursor:pointer;\\r\\n    -webkit-flex:1;\\r\\n    -ms-flex:1;\\r\\n    flex:1;\\r\\n    height:100%;\\r\\n    padding:0;\\r\\n    margin:0;\\r\\n    -webkit-appearance:none\\r\\n}\\r\\n\\r\\n.kdtp-tp-time-row input[type=range]:hover::-webkit-slider-thumb {\\r\\n    border-color:#777777\\r\\n}\\r\\n\\r\\n.kdtp-tp-time-row input[type=range]:hover::-moz-range-thumb {\\r\\n    border-color:#777777\\r\\n}\\r\\n\\r\\n.kdtp-tp-time-row input[type=range]:hover::-ms-thumb {\\r\\n    border-color:#777777\\r\\n}\\r\\n\\r\\n.kdtp-tp-time-row input[type=range]:focus {\\r\\n    outline:0\\r\\n}\\r\\n\\r\\n.kdtp-tp-time-row input[type=range]:focus::-webkit-slider-thumb {\\r\\n    background:#0099CC;\\r\\n    border-color:#0099CC\\r\\n}\\r\\n\\r\\n.kdtp-tp-time-row input[type=range]:focus::-moz-range-thumb {\\r\\n    background:#0099CC;\\r\\n    border-color:#0099CC\\r\\n}\\r\\n\\r\\n.kdtp-tp-time-row input[type=range]:focus::-ms-thumb {\\r\\n    background:#0099CC;\\r\\n    border-color:#0099CC\\r\\n}\\r\\n\\r\\n.kdtp-tp-time-row input[type=range]::-webkit-slider-thumb {\\r\\n    -webkit-appearance:none;\\r\\n    box-sizing:border-box;\\r\\n    height:12px;\\r\\n    width:12px;\\r\\n    border-radius:3px;\\r\\n    border:1px solid #c5c5c5;\\r\\n    background:#fff;\\r\\n    cursor:pointer;\\r\\n    transition:background .2s;\\r\\n    margin-top:-6px\\r\\n}\\r\\n\\r\\n.kdtp-tp-time-row input[type=range]::-moz-range-thumb {\\r\\n    box-sizing:border-box;\\r\\n    height:12px;\\r\\n    width:12px;\\r\\n    border-radius:3px;\\r\\n    border:1px solid #c5c5c5;\\r\\n    background:#fff;\\r\\n    cursor:pointer;\\r\\n    transition:background .2s\\r\\n}\\r\\n\\r\\n.kdtp-tp-time-row input[type=range]::-ms-thumb {\\r\\n    box-sizing:border-box;\\r\\n    height:12px;\\r\\n    width:12px;\\r\\n    border-radius:3px;\\r\\n    border:1px solid #c5c5c5;\\r\\n    background:#fff;\\r\\n    cursor:pointer;\\r\\n    transition:background .2s\\r\\n}\\r\\n\\r\\n.kdtp-tp-time-row input[type=range]::-webkit-slider-runnable-track {\\r\\n    border:none;\\r\\n    height:1px;\\r\\n    cursor:pointer;\\r\\n    color:transparent;\\r\\n    background:0 0\\r\\n}\\r\\n\\r\\n.kdtp-tp-time-row input[type=range]::-moz-range-track {\\r\\n    border:none;\\r\\n    height:1px;\\r\\n    cursor:pointer;\\r\\n    color:transparent;\\r\\n    background:0 0\\r\\n}\\r\\n\\r\\n.kdtp-tp-time-row input[type=range]::-ms-track {\\r\\n    border:none;\\r\\n    height:1px;\\r\\n    cursor:pointer;\\r\\n    color:transparent;\\r\\n    background:0 0\\r\\n}\\r\\n\\r\\n.kdtp-tp-time-row input[type=range]::-ms-fill-lower {\\r\\n    background:0 0\\r\\n}\\r\\n\\r\\n.kdtp-tp-time-row input[type=range]::-ms-fill-upper {\\r\\n    background:0 0\\r\\n}\\r\\n\", \"\"]);\n\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar ui_1 = require(\"@easyquery/ui\");\r\nrequire(\"@easyquery/enterprise\");\r\nwindow.addEventListener('load', function () {\r\n    //Options for ReportViewJQuery\r\n    var viewOptions = {\r\n        calcTotals: true,\r\n        //Saves report on each change\r\n        syncReportOnChange: true,\r\n        handlers: {\r\n            onError: function (error) {\r\n            }\r\n        },\r\n        result: {\r\n            //Show EasyChart\r\n            showChart: true,\r\n            //Paging options\r\n            paging: {\r\n                pageSize: 30\r\n            }\r\n        },\r\n        //Load model on start\r\n        loadModelOnStart: true,\r\n        //Default model's ID (we use it here just for a nice folder name in App_Data folder)\r\n        defaultModelId: 'adhoc-reporting',\r\n        //Middleware endpoint \r\n        endpoint: window[\"__appPathBase\"] + '/api/adhoc-reporting',\r\n        enableExport: true,\r\n        //Different widgets options\r\n        widgets: {\r\n            //ColumnBar options\r\n            columnsBar: {\r\n                accentActiveColumn: false,\r\n                allowAggrColumns: true,\r\n                attrElementFormat: \"{attr}\",\r\n                showColumnCaptions: true,\r\n                adjustEntitiesMenuHeight: false,\r\n                menuOptions: {\r\n                    showSearchBoxAfter: 30,\r\n                    activateOnMouseOver: true\r\n                }\r\n            },\r\n            //QueryPanel options\r\n            queryPanel: {\r\n                alwaysShowButtonsInGroups: false,\r\n                adjustEntitiesMenuHeight: false,\r\n                menuOptions: {\r\n                    showSearchBoxAfter: 20,\r\n                    activateOnMouseOver: true\r\n                }\r\n            },\r\n            //ResultGrid options\r\n            resultGrid: {\r\n                tableClass: \"table table-sm\",\r\n                formatGridCell: function (dataTable, rowIndex, colIndex, value) {\r\n                    var props = dataTable.getColumnProperties(colIndex);\r\n                    if (props.dataType == 'Decimal') {\r\n                        return \"$\" + value;\r\n                    }\r\n                    else {\r\n                        return value;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    };\r\n    var reportView = new ui_1.ReportView();\r\n    var context = reportView.getContext();\r\n    context.setLicenseKeyEndpoint(window[\"__appPathBase\"] + window['__eqLckEndpoint']);\r\n    context.useEnterprise(function () {\r\n        reportView.init(viewOptions);\r\n    });\r\n    document['ReportView'] = reportView;\r\n});\r\n","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { i18n } from '@easydata/core';\r\nimport { utils as dataUtils } from '@easydata/core';\r\nimport { Widget, WidgetGroup, ExprTag, QueryChangePart, QueryChangeAction } from '@easyquery/core';\r\nimport { eqDragManager, createBrowserEvent } from '@easydata/ui';\r\nimport { eqCssPrefix } from '../utils/utils';\r\nimport { browserUtils } from '../utils/browser_utils';\r\n/**\r\n * The entities panel wiget, implemented without JQuery.\r\n */\r\nvar EntitiesPanel = /** @class */ (function (_super) {\r\n    __extends(EntitiesPanel, _super);\r\n    /**\r\n     * The default constructor.\r\n     * @param slot The html element.\r\n     */\r\n    function EntitiesPanel(slot) {\r\n        var _this = _super.call(this, slot) || this;\r\n        _this.queryChangedCallbackId = null;\r\n        _this.group = WidgetGroup.Model | WidgetGroup.Query;\r\n        _this.panel = slot;\r\n        return _this;\r\n    }\r\n    Object.defineProperty(EntitiesPanel.prototype, \"cssPrefix\", {\r\n        get: function () {\r\n            return 'eqjs-ep';\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    EntitiesPanel.prototype.getWidgetType = function () {\r\n        return 'entitiesPanel';\r\n    };\r\n    /**\r\n     * Initialize widget.\r\n     * @param context The context.\r\n     * @param options The options.\r\n     */\r\n    EntitiesPanel.prototype.init = function (context, options) {\r\n        _super.prototype.init.call(this, context, options);\r\n        this.setOptions(options);\r\n        this.renderProgressBlock();\r\n    };\r\n    /**\r\n    * Refresh widget implementation\r\n    */\r\n    EntitiesPanel.prototype.refreshCore = function () {\r\n        this.render();\r\n        if (this.options.syncWithColumns) {\r\n            this.refreshCheckedStateByColumns();\r\n        }\r\n    };\r\n    EntitiesPanel.prototype.onProcessStartCore = function () {\r\n        if (this.options.showIndicatorOnLoad) {\r\n            if (!this.progressBlock.parentNode)\r\n                this.panel.appendChild(this.progressBlock);\r\n        }\r\n    };\r\n    EntitiesPanel.prototype.onProcessEndCore = function () {\r\n        if (this.options.showIndicatorOnLoad) {\r\n            if (this.progressBlock.parentNode)\r\n                this.panel.removeChild(this.progressBlock);\r\n        }\r\n    };\r\n    EntitiesPanel.prototype.destroyCore = function () {\r\n        this.slot.innerHTML = '';\r\n    };\r\n    EntitiesPanel.prototype.setOptions = function (options) {\r\n        var _this = this;\r\n        this.options = {\r\n            showToolbar: true,\r\n            syncWithColumns: false,\r\n            showSelectAllButton: false,\r\n            showClearSelectionButton: true,\r\n            showAddColumnButton: true,\r\n            showAddConditionButton: true,\r\n            showCheckboxes: true,\r\n            showTooltips: true,\r\n            draggableAttributes: true,\r\n            showAttributes: { useInConditions: true, useInResult: true, useInSorting: false },\r\n            showFilterBox: false,\r\n            filterBoxMode: 0,\r\n            showIndicatorOnLoad: true,\r\n            attrPlacement: 0,\r\n            sortEntities: false,\r\n            autoClearSelection: true,\r\n            entityRenderedCallback: null,\r\n            attributeRenderedCallback: null\r\n        };\r\n        if (options) {\r\n            dataUtils.assignDeep(this.options, options);\r\n        }\r\n        if (this.queryChangedCallbackId) {\r\n            var query = this.context.getQuery();\r\n            query.removeChangedCallback(this.queryChangedCallbackId);\r\n        }\r\n        if (this.options.syncWithColumns) {\r\n            var query = this.context.getQuery();\r\n            this.queryChangedCallbackId = query.addChangedCallback(function (ev) {\r\n                var edata = ev.data;\r\n                if (!edata || (edata.part != QueryChangePart.Columns && edata.part != QueryChangePart.All)) {\r\n                    return;\r\n                }\r\n                _this.refreshCheckedStateByColumns();\r\n            });\r\n        }\r\n    };\r\n    EntitiesPanel.prototype.render = function () {\r\n        var model = this.context.getModel();\r\n        ;\r\n        this.clear();\r\n        this.panel.classList.add(this.cssPrefix + \"-panel\");\r\n        this.panel.classList.add(browserUtils.getMobileCssClass());\r\n        this.rootEntityBlock = document.createElement('div');\r\n        if (model != null && !model.isEmpty()) {\r\n            var entTree = model.getEntitiesTree({\r\n                addUIC: this.options.showAttributes.useInConditions,\r\n                addUIR: this.options.showAttributes.useInResult,\r\n                addUIS: this.options.showAttributes.useInSorting,\r\n                attrPlacement: this.options.attrPlacement,\r\n                sortEntities: this.options.sortEntities,\r\n                includeRootData: true\r\n            });\r\n            this.entityTreeBlock = this.renderEntity(entTree, this.rootEntityBlock, 0);\r\n            this.panel.appendChild(this.entityTreeBlock);\r\n        }\r\n        if (this.options.showFilterBox) {\r\n            this.createFilterBox();\r\n        }\r\n        else {\r\n            this.rootEntityBlock.style.top = '0';\r\n        }\r\n        if (this.options.showToolbar && !this.options.syncWithColumns) {\r\n            this.createToolPanel();\r\n        }\r\n        else {\r\n            this.rootEntityBlock.style.bottom = '0';\r\n        }\r\n    };\r\n    EntitiesPanel.prototype.renderEntity = function (entity, block, offset) {\r\n        var _this = this;\r\n        var entityBlock;\r\n        var entityNode = document.createElement('div');\r\n        entityNode.classList.add(this.cssPrefix + \"-entity-node\");\r\n        entityNode.classList.add(browserUtils.getMobileCssClass());\r\n        var entityChildren = document.createElement('div');\r\n        entityChildren.classList.add(this.cssPrefix + \"-entity-children\");\r\n        entityChildren.classList.add(browserUtils.getMobileCssClass());\r\n        var nodeLabel = document.createElement('label');\r\n        nodeLabel.classList.add(this.cssPrefix + \"-entity-node-label\");\r\n        var nodeInput = document.createElement('input');\r\n        nodeInput.type = 'checkbox';\r\n        var nodeToggleButton = document.createElement('a');\r\n        nodeToggleButton.href = 'javascript:void(0)';\r\n        nodeToggleButton.classList.add(this.cssPrefix + \"-entity-node-button\");\r\n        var attrNode, attrLabel, attrInput;\r\n        var currentOffset = offset;\r\n        var isAttributeInTree = function (attrId, entityBlock) {\r\n            var res = entityBlock.querySelectorAll(\".\" + _this.cssPrefix + \"-entity-attr[data-id=\\\"\" + attrId + \"\\\"]\");\r\n            return res.length > 0;\r\n        };\r\n        if (block) {\r\n            entityBlock = block;\r\n            entityBlock.innerHTML = '';\r\n        }\r\n        else {\r\n            entityBlock = document.createElement('div');\r\n        }\r\n        entityBlock.classList.add(this.cssPrefix + \"-entity\");\r\n        entityBlock.classList.add(browserUtils.getMobileCssClass());\r\n        if (entity.id && entity.id != \"\") {\r\n            nodeLabel.innerText = entity.text;\r\n            entityNode.appendChild(nodeLabel); //caption\r\n            if (this.options.showCheckboxes) {\r\n                nodeLabel.insertBefore(nodeInput, nodeLabel.firstChild);\r\n            }\r\n            entityNode.insertBefore(nodeToggleButton, entityNode.firstChild);\r\n            if (this.options.showTooltips && entity.description) {\r\n                nodeLabel.setAttribute('title', entity.description);\r\n            }\r\n            for (var i = 0; i < currentOffset; i++) {\r\n                var divElem = document.createElement('div');\r\n                divElem.classList.add(this.cssPrefix + \"-entity-offset\");\r\n                entityNode.insertBefore(divElem, entityNode.firstChild);\r\n            }\r\n            entityBlock.appendChild(entityNode);\r\n            entityChildren.hidden = true;\r\n            currentOffset++;\r\n        }\r\n        var itemsLength = entity.items ? entity.items.length : 0;\r\n        var _loop_1 = function (i) {\r\n            var item = entity.items[i];\r\n            if (item.isEntity) {\r\n                entityChildren.appendChild(this_1.renderEntity(item, null, currentOffset));\r\n            }\r\n            else {\r\n                if (!item.lookupAttr || !(isAttributeInTree(item.lookupAttr, entityChildren))) {\r\n                    attrLabel = document.createElement('label');\r\n                    attrLabel.innerText = item.text;\r\n                    attrLabel.classList.add(this_1.cssPrefix + \"-entity-attr-label\");\r\n                    if (this_1.options.showCheckboxes) {\r\n                        attrInput = document.createElement('input');\r\n                        attrInput.type = 'checkbox';\r\n                        attrLabel.insertBefore(attrInput, attrLabel.firstChild);\r\n                        if (this_1.options.syncWithColumns) {\r\n                            attrInput.addEventListener('change', function (ev) {\r\n                                var model = _this.context.getModel();\r\n                                var query = _this.context.getQuery();\r\n                                var checkbox = ev.currentTarget;\r\n                                var attrId = checkbox.parentElement.parentElement.getAttribute('data-id');\r\n                                if (model.checkAttrProperty(attrId, \"useInResult\")) {\r\n                                    if (checkbox.checked) {\r\n                                        var column = query.addColumn({ attributeId: attrId });\r\n                                        query.fireColumnsChangedEvent(QueryChangeAction.Add, column);\r\n                                    }\r\n                                    else {\r\n                                        var columns = query.getColumns()\r\n                                            .filter(function (col) { return col.expr.tag === ExprTag.EntityAttribute\r\n                                            && col.expr.value === attrId; });\r\n                                        if (columns.length > 0) {\r\n                                            query.removeColumn(columns[0], null);\r\n                                            query.fireColumnsChangedEvent(QueryChangeAction.Delete, columns[0]);\r\n                                        }\r\n                                    }\r\n                                }\r\n                            });\r\n                        }\r\n                    }\r\n                    if (this_1.options.showTooltips && item.description) {\r\n                        attrLabel.setAttribute('title', item.description);\r\n                    }\r\n                    for (var j = 0; j < currentOffset + 1; j++) {\r\n                        var divElem = document.createElement('div');\r\n                        divElem.classList.add(this_1.cssPrefix + \"-entity-offset\");\r\n                        attrLabel.insertBefore(divElem, attrLabel.firstChild);\r\n                    }\r\n                    attrNode = document.createElement('div');\r\n                    attrNode.classList.add(this_1.cssPrefix + \"-entity-attr\");\r\n                    if (entityNode.innerHTML.length == 0) {\r\n                        attrNode.classList.add(this_1.cssPrefix + \"-entity-attr-root\");\r\n                    }\r\n                    attrNode.innerHTML = \"\";\r\n                    attrNode.appendChild(attrLabel);\r\n                    attrNode.setAttribute('data-id', item.id);\r\n                    if (this_1.options.draggableAttributes) {\r\n                        eqDragManager.registerDraggableItem({\r\n                            element: attrNode,\r\n                            scope: \"entityAttr\",\r\n                            data: { attrId: item.id },\r\n                            renderer: function (dragImage) {\r\n                                dragImage.innerHTML = '';\r\n                                var attrLabel = document.createElement('span');\r\n                                attrLabel.innerText = item.text;\r\n                                dragImage.appendChild(attrLabel);\r\n                            }\r\n                        });\r\n                    }\r\n                    if (this_1.options.attributeRenderedCallback) {\r\n                        this_1.options.attributeRenderedCallback(attrNode);\r\n                    }\r\n                    entityChildren.appendChild(attrNode);\r\n                }\r\n            }\r\n        };\r\n        var this_1 = this;\r\n        for (var i = 0; i < itemsLength; i++) {\r\n            _loop_1(i);\r\n        }\r\n        if (entityChildren.innerHTML.length) {\r\n            entityBlock.appendChild(entityChildren);\r\n            nodeToggleButton.addEventListener('click', function (event) {\r\n                entityChildren.hidden = !entityChildren.hidden;\r\n                var element = event.target;\r\n                var className = _this.cssPrefix + \"-entity-node-button-open\";\r\n                if (element.classList.contains(className)) {\r\n                    element.classList.remove(className);\r\n                }\r\n                else {\r\n                    element.classList.add(className);\r\n                }\r\n                event.preventDefault();\r\n            });\r\n        }\r\n        if (entityChildren) {\r\n            var checkboxes = entityChildren.querySelectorAll(\".\" + this.cssPrefix + \"-entity-attr > label > input\");\r\n            for (var i = 0; i < checkboxes.length; i++) {\r\n                var checkbox = checkboxes[i];\r\n                checkbox.addEventListener('click', function (event) {\r\n                    var element = event.target;\r\n                    if (element.checked && !nodeInput.checked) {\r\n                        nodeInput.checked = true;\r\n                    }\r\n                    else if (entityChildren.querySelectorAll('input:checked').length === 0) {\r\n                        nodeInput.checked = false;\r\n                    }\r\n                    event.stopPropagation();\r\n                });\r\n            }\r\n        }\r\n        nodeInput.addEventListener('click', function (event) {\r\n            var element = event.target;\r\n            var entities = entityChildren.querySelectorAll('label input');\r\n            for (var i = 0; i < entities.length; i++) {\r\n                var entity_1 = entities[i];\r\n                entity_1.checked = element.checked;\r\n            }\r\n            if (_this.options.syncWithColumns) {\r\n                var query = _this.context.getQuery();\r\n                var model = _this.context.getModel();\r\n                var attrList_2 = [];\r\n                var attrElems = Array.from(entityChildren.querySelectorAll(\".\" + _this.cssPrefix + \"-entity-attr\"));\r\n                for (var _i = 0, attrElems_1 = attrElems; _i < attrElems_1.length; _i++) {\r\n                    var elem = attrElems_1[_i];\r\n                    var attrId = elem.getAttribute('data-id');\r\n                    if (model.checkAttrProperty(attrId, 'useInResult')) {\r\n                        attrList_2.push(attrId);\r\n                    }\r\n                }\r\n                if (element.checked) {\r\n                    for (var _a = 0, attrList_1 = attrList_2; _a < attrList_1.length; _a++) {\r\n                        var attrId = attrList_1[_a];\r\n                        query.addColumn({ attributeId: attrId });\r\n                    }\r\n                }\r\n                else {\r\n                    var columns = query.getColumns()\r\n                        .filter(function (col) { return col.expr.tag === ExprTag.EntityAttribute\r\n                        && attrList_2.indexOf(col.expr.value) >= 0; });\r\n                    query.removeColumns(columns, null);\r\n                }\r\n                query.fireColumnsChangedEvent();\r\n            }\r\n            event.stopPropagation();\r\n        });\r\n        if (block != this.rootEntityBlock && this.options.entityRenderedCallback) {\r\n            this.options.entityRenderedCallback(entityBlock);\r\n        }\r\n        return entityBlock;\r\n    };\r\n    EntitiesPanel.prototype.createFilterBox = function () {\r\n        var _this = this;\r\n        this.filterBoxBlock = document.createElement('div');\r\n        this.filterBoxBlock.classList.add(this.cssPrefix + \"-filter-box\");\r\n        this.filterBoxBlock.classList.add(browserUtils.getMobileCssClass());\r\n        this.filterBoxInput = document.createElement('input');\r\n        this.filterBoxInput.classList.add(this.cssPrefix + \"-filter-box-input\");\r\n        this.filterBoxInput.addEventListener('keydown', function (e) {\r\n            if (e.keyCode) {\r\n                _this.filterBoxInput.value = '';\r\n                _this.filterBoxInput.dispatchEvent(createBrowserEvent('input'));\r\n                e.stopPropagation();\r\n                return false;\r\n            }\r\n            return true;\r\n        });\r\n        this.filterBoxInput.addEventListener('input', function (e) {\r\n            var attrs = _this.panel.querySelectorAll(\".\" + _this.cssPrefix + \"-entity-attr\");\r\n            for (var i = 0; i < attrs.length; i++) {\r\n                var attr = attrs[i];\r\n                attr.hidden = !_this.checkFilterAttribute(attr);\r\n            }\r\n            var entities = _this.panel.querySelectorAll(\">.\" + _this.cssPrefix + \"-entity\");\r\n            for (var i = 0; i < entities.length; i++) {\r\n                var entity = entities[i];\r\n                var attrs_1 = entity.querySelectorAll(\".\" + _this.cssPrefix + \"-entity-attr\");\r\n                var displayAttrCount = 0;\r\n                for (var i_1 = 0; i_1 < attrs_1.length; i_1++) {\r\n                    if (attrs_1[i_1].style.display !== 'None') {\r\n                        displayAttrCount++;\r\n                    }\r\n                }\r\n                entity.hidden = displayAttrCount === 0;\r\n            }\r\n            if (_this.filterBoxInput.value === '')\r\n                _this.collapseAll();\r\n            else\r\n                _this.expandAll();\r\n        });\r\n        this.filterBoxBlock.appendChild(this.filterBoxInput);\r\n        this.panel.insertBefore(this.filterBoxBlock, this.panel.firstChild);\r\n    };\r\n    EntitiesPanel.prototype.createToolPanel = function () {\r\n        var _this = this;\r\n        var defClass = this.cssPrefix + \"-tool-panel\";\r\n        var toolPanelBlock = document.createElement('div');\r\n        toolPanelBlock.classList.add(defClass);\r\n        toolPanelBlock.classList.add(browserUtils.getMobileCssClass());\r\n        var toolSelectAll = document.createElement('div');\r\n        toolSelectAll.classList.add(defClass + \"-select-all\");\r\n        toolSelectAll.title = 'Select all';\r\n        var toolDeselectAll = document.createElement('div');\r\n        toolDeselectAll.classList.add(defClass + \"-deselect-all\");\r\n        toolDeselectAll.title = 'Clear selection';\r\n        var toolAddColumns = document.createElement('div');\r\n        toolAddColumns.classList.add(defClass + \"-add-columns\");\r\n        toolAddColumns.title = 'Add column';\r\n        var toolAddCond = document.createElement('div');\r\n        toolAddCond.classList.add(defClass + \"-add-cond\");\r\n        toolAddCond.title = 'Add condition';\r\n        var toolLeftBlock = document.createElement('div');\r\n        toolLeftBlock.classList.add(defClass + \"-left-side\");\r\n        var toolRightBlock = document.createElement('div');\r\n        toolRightBlock.classList.add(defClass + \"-right-side\");\r\n        var model = this.context.getModel();\r\n        if (this.options.showSelectAllButton) {\r\n            toolSelectAll.title = i18n.getText(\"ButtonSelectAll\");\r\n            toolLeftBlock.appendChild(toolSelectAll);\r\n            toolSelectAll.addEventListener('click', function () {\r\n                _this.selectAll();\r\n            });\r\n        }\r\n        if (this.options.showClearSelectionButton) {\r\n            toolDeselectAll.title = i18n.getText(\"ButtonDeselectAll\");\r\n            toolLeftBlock.appendChild(toolDeselectAll);\r\n            toolDeselectAll.addEventListener('click', function () {\r\n                _this.deselectAll();\r\n            });\r\n        }\r\n        if (this.options.showAddColumnButton) {\r\n            toolAddColumns.title = i18n.getText(\"ButtonAddColumns\");\r\n            toolRightBlock.appendChild(toolAddColumns);\r\n            toolAddColumns.addEventListener('click', function () {\r\n                var attrElements = _this.panel.querySelectorAll(\".\" + _this.cssPrefix + \"-entity-attr\");\r\n                var attrList = [];\r\n                var attrId;\r\n                var query = _this.context.getQuery();\r\n                query.fireProcessEvent({\r\n                    source: self,\r\n                    status: \"start\"\r\n                });\r\n                for (var i = 0; i < attrElements.length; i++) {\r\n                    var attrElement = attrElements[i];\r\n                    var input = attrElement.getElementsByTagName('input')[0];\r\n                    if (input.checked) {\r\n                        attrId = attrElement.getAttribute('data-id');\r\n                        if (model.checkAttrProperty(attrId, \"useInResult\")) {\r\n                            attrList.push(attrId);\r\n                        }\r\n                    }\r\n                }\r\n                for (var _i = 0, attrList_3 = attrList; _i < attrList_3.length; _i++) {\r\n                    var attrId_1 = attrList_3[_i];\r\n                    query.addColumn({\r\n                        attributeId: attrId_1\r\n                    });\r\n                }\r\n                query.fireChangedEvent();\r\n                if (_this.options.autoClearSelection) {\r\n                    _this.deselectAll();\r\n                }\r\n                query.fireProcessEvent({\r\n                    source: self,\r\n                    status: \"finish\"\r\n                });\r\n            });\r\n        }\r\n        if (this.options.showAddConditionButton) {\r\n            toolAddCond.title = i18n.getText(\"ButtonAddConditions\");\r\n            toolRightBlock.appendChild(toolAddCond);\r\n            toolAddCond.addEventListener('click', function () {\r\n                var attrElements = _this.panel.querySelectorAll(\".\" + _this.cssPrefix + \"-entity-attr\");\r\n                var attrList = [];\r\n                var attrId;\r\n                var query = _this.context.getQuery();\r\n                query.fireProcessEvent({\r\n                    source: self,\r\n                    status: \"start\"\r\n                });\r\n                for (var i = 0; i < attrElements.length; i++) {\r\n                    var attrElement = attrElements[i];\r\n                    var input = attrElement.getElementsByTagName('input')[0];\r\n                    if (input.checked) {\r\n                        attrId = attrElement.getAttribute('data-id');\r\n                        if (model.checkAttrProperty(attrId, \"useInConditions\")) {\r\n                            attrList.push(attrId);\r\n                        }\r\n                    }\r\n                }\r\n                for (var _i = 0, attrList_4 = attrList; _i < attrList_4.length; _i++) {\r\n                    var attrId_2 = attrList_4[_i];\r\n                    query.addSimpleCondition({\r\n                        attributeId: attrId_2\r\n                    });\r\n                }\r\n                query.fireChangedEvent();\r\n                if (_this.options.autoClearSelection) {\r\n                    _this.deselectAll();\r\n                }\r\n                query.fireProcessEvent({\r\n                    source: self,\r\n                    status: \"finish\"\r\n                });\r\n            });\r\n        }\r\n        toolPanelBlock.appendChild(toolLeftBlock);\r\n        toolPanelBlock.appendChild(toolRightBlock);\r\n        this.panel.appendChild(toolPanelBlock);\r\n    };\r\n    EntitiesPanel.prototype.checkFilterAttribute = function (attr) {\r\n        var inputElem = attr.querySelector('label input');\r\n        if (inputElem.checked) {\r\n            return true;\r\n        }\r\n        var labelElem = attr.querySelector('label');\r\n        var attrCaption = labelElem.textContent;\r\n        if (this.checkFilterText(attrCaption)) {\r\n            return true;\r\n        }\r\n        var entityNode = attr.parentElement.parentElement.querySelector(\".\" + this.cssPrefix + \"-entity-node\");\r\n        var entityCaption = entityNode.querySelector('label').textContent;\r\n        if (this.checkFilterText(entityCaption)) {\r\n            return true;\r\n        }\r\n        return false;\r\n    };\r\n    EntitiesPanel.prototype.checkFilterText = function (value) {\r\n        var filterText = this.filterBoxInput.value;\r\n        if (filterText == \"\")\r\n            return true;\r\n        if (this.options.filterBoxMode == 0 && value.toLowerCase().indexOf(filterText.toLowerCase()) >= 0)\r\n            return true;\r\n        if (this.options.filterBoxMode == 1 && value.toLowerCase().indexOf(filterText.toLowerCase()) == 0)\r\n            return true;\r\n        return false;\r\n    };\r\n    EntitiesPanel.prototype.refreshCheckedStateByColumns = function () {\r\n        this.deselectAll();\r\n        var query = this.context.getQuery();\r\n        var exprColumns = query.getColumns()\r\n            .filter(function (col) { return col.expr.tag === ExprTag.EntityAttribute; });\r\n        for (var _i = 0, exprColumns_1 = exprColumns; _i < exprColumns_1.length; _i++) {\r\n            var column = exprColumns_1[_i];\r\n            var attrNode = this.rootEntityBlock\r\n                .querySelector(\".\" + this.cssPrefix + \"-entity-attr[data-id=\\\"\" + column.expr.value + \"\\\"]\");\r\n            var checkbox = attrNode.querySelector(\"label > input\");\r\n            checkbox.checked = true;\r\n            var entChildren = attrNode.parentElement;\r\n            while (entChildren\r\n                && entChildren.classList\r\n                    .contains(this.cssPrefix + \"-entity-children\")) {\r\n                entChildren.hidden = false;\r\n                var entElem = entChildren.parentElement;\r\n                if (entElem && entChildren !== entElem.firstElementChild) {\r\n                    checkbox = entElem.firstElementChild\r\n                        .querySelector(\"label > input\");\r\n                    checkbox.checked = true;\r\n                    entChildren = entElem.parentElement;\r\n                }\r\n                else {\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n    };\r\n    EntitiesPanel.prototype.expandAll = function () {\r\n        for (var i = 0; i < this.rootEntityBlock.childNodes.length; i++) {\r\n            var child = this.rootEntityBlock.childNodes[0];\r\n            var childs = child.querySelectorAll(\".\" + this.cssPrefix + \"-entity-children\");\r\n            for (var j = 0; j < childs.length; j++) {\r\n                var elem = childs[j];\r\n                elem.hidden = false;\r\n            }\r\n        }\r\n        var nodeButtons = this.rootEntityBlock.querySelectorAll(\".\" + this.cssPrefix + \"-entity-node-button\");\r\n        for (var i = 0; i < nodeButtons.length; i++) {\r\n            var elem = nodeButtons[i];\r\n            elem.classList.add(this.cssPrefix + \"-entity-node-button-open\");\r\n        }\r\n    };\r\n    EntitiesPanel.prototype.collapseAll = function () {\r\n        for (var i = 0; i < this.rootEntityBlock.childNodes.length; i++) {\r\n            var child = this.rootEntityBlock.childNodes[0];\r\n            var childs = child.querySelectorAll(\".\" + this.cssPrefix + \"-entity-children\");\r\n            for (var j = 0; j < childs.length; j++) {\r\n                var elem = childs[j];\r\n                elem.hidden = true;\r\n            }\r\n        }\r\n        var nodeButtons = this.rootEntityBlock.querySelectorAll(\".\" + this.cssPrefix + \"-entity-node-button\");\r\n        for (var i = 0; i < nodeButtons.length; i++) {\r\n            var elem = nodeButtons[i];\r\n            elem.classList.remove(this.cssPrefix + \"-entity-node-button-open\");\r\n        }\r\n    };\r\n    EntitiesPanel.prototype.selectAll = function () {\r\n        var inputs = this.entityTreeBlock.querySelectorAll('input');\r\n        for (var i = 0; i < inputs.length; i++) {\r\n            var input = inputs[i];\r\n            input.checked = true;\r\n        }\r\n    };\r\n    EntitiesPanel.prototype.deselectAll = function () {\r\n        var inputs = this.entityTreeBlock.querySelectorAll('input');\r\n        for (var i = 0; i < inputs.length; i++) {\r\n            var input = inputs[i];\r\n            input.checked = false;\r\n        }\r\n    };\r\n    EntitiesPanel.prototype.renderProgressBlock = function () {\r\n        this.progressBlock = document.createElement('div');\r\n        this.progressBlock.classList.add(eqCssPrefix + \"-progress-win8\");\r\n        this.progressBlock.classList.add(browserUtils.getMobileCssClass());\r\n        this.progressBlock.innerHTML = '<div class=\"wBall\" id=\"wBall_1\"><div class=\"wInnerBall\"></div></div><div class=\"wBall\" id=\"wBall_2\"><div class=\"wInnerBall\"></div></div><div class=\"wBall\" id=\"wBall_3\"><div class=\"wInnerBall\"></div></div><div class=\"wBall\" id=\"wBall_4\"><div class=\"wInnerBall\"></div></div><div class=\"wBall\" id=\"wBall_5\"><div class=\"wInnerBall\"></div></div>';\r\n    };\r\n    EntitiesPanel.prototype.clear = function () {\r\n        this.panel.innerHTML = \"\";\r\n    };\r\n    return EntitiesPanel;\r\n}(Widget));\r\nexport { EntitiesPanel };\r\n//# sourceMappingURL=entities_panel.js.map","import { i18n } from '@easydata/core';\r\nimport { SortDirection, QueryChangeAction } from \"@easyquery/core\";\r\nimport { eqDragManager, DropEffect, createBrowserEvent, domel } from '@easydata/ui';\r\nimport { eqCssPrefix } from '../../../utils/utils';\r\nimport { PopupMenu } from '../../../utils/popup_menu';\r\nimport { browserUtils } from '../../../utils/browser_utils';\r\nimport { safeFocus } from '../../../utils/utils';\r\nexport var ColumnAction;\r\n(function (ColumnAction) {\r\n    ColumnAction[ColumnAction[\"Enable\"] = 0] = \"Enable\";\r\n    ColumnAction[ColumnAction[\"Delete\"] = 1] = \"Delete\";\r\n    ColumnAction[ColumnAction[\"Hidden\"] = 2] = \"Hidden\";\r\n    ColumnAction[ColumnAction[\"SortingNone\"] = 3] = \"SortingNone\";\r\n    ColumnAction[ColumnAction[\"SortingAsc\"] = 4] = \"SortingAsc\";\r\n    ColumnAction[ColumnAction[\"SortingDesc\"] = 5] = \"SortingDesc\";\r\n    ColumnAction[ColumnAction[\"MoveTop\"] = 6] = \"MoveTop\";\r\n    ColumnAction[ColumnAction[\"MoveUp\"] = 7] = \"MoveUp\";\r\n    ColumnAction[ColumnAction[\"MoveDown\"] = 8] = \"MoveDown\";\r\n    ColumnAction[ColumnAction[\"MoveBottom\"] = 9] = \"MoveBottom\";\r\n    ColumnAction[ColumnAction[\"Menu\"] = 10] = \"Menu\";\r\n    ColumnAction[ColumnAction[\"Type\"] = 11] = \"Type\";\r\n})(ColumnAction || (ColumnAction = {}));\r\nvar ColumnRendererCP = /** @class */ (function () {\r\n    function ColumnRendererCP(panel, column, slot) {\r\n        this.functionMenu = null;\r\n        this.buttonMenu = null;\r\n        this.isMouseOverBlock = false;\r\n        this.keepShowingButtons = false;\r\n        this.panel = panel;\r\n        this.column = column;\r\n        this.element = slot;\r\n    }\r\n    Object.defineProperty(ColumnRendererCP.prototype, \"cssPrefix\", {\r\n        get: function () {\r\n            return 'eqjs-qc';\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    ColumnRendererCP.prototype.render = function () {\r\n        var _this = this;\r\n        this.baseAttr = this.getAttribute();\r\n        if (this.getButtonsToShow().indexOf(\"sorting\") >= 0 && this.column.enabled) {\r\n            this.sortingButton = this.renderSoringButton(this.column.sorting);\r\n            if (this.column.sorting !== SortDirection.None) {\r\n                this.sortingButton.style.display = 'block';\r\n            }\r\n        }\r\n        var builder = domel('div');\r\n        builder.data('id', this.column.id);\r\n        if (this.element) {\r\n            this.element.parentNode\r\n                .replaceChild(builder.toDOM(), this.element);\r\n        }\r\n        this.element = builder.toDOM();\r\n        if (this.panel.options.allowDragDrop && !browserUtils.isMobileMode()) {\r\n            eqDragManager.registerDraggableItem({\r\n                element: this.element,\r\n                scope: \"entityAttrSort\",\r\n                data: { column: this.column },\r\n                beforeDragStart: function () {\r\n                    _this.hideButtons();\r\n                },\r\n                renderer: function (dragImage) {\r\n                    dragImage.innerHTML = '';\r\n                    var attrLabel = document.createElement('span');\r\n                    attrLabel.innerText = _this.column.caption;\r\n                    dragImage.classList.add('ui-sortable-helper');\r\n                    dragImage.appendChild(attrLabel);\r\n                },\r\n                onDragStart: function (ev) {\r\n                    _this.element.style.display = 'none';\r\n                    ev.dropEffect = DropEffect.Allow;\r\n                },\r\n                onDragEnd: function (ev) {\r\n                    if (!ev.data.finishedSuccessfully) {\r\n                        _this.element.style.removeProperty('display');\r\n                    }\r\n                }\r\n            });\r\n        }\r\n        if (this.isEditable()) {\r\n            this.createFunctionMenu();\r\n        }\r\n        this.createButtonMenu();\r\n        builder\r\n            .addClass(this.getClassesToAdd())\r\n            .addClass(browserUtils.getMobileCssClass())\r\n            .addChildElement(this.renderCheckbox())\r\n            //start sort button\r\n            .addChild('div', function (builder) { return builder\r\n            .addClass(eqCssPrefix + \"-button-placeholder\", _this.cssPrefix + \"-button-placeholder\", _this.cssPrefix + \"-colelement\", _this.cssPrefix + \"-sortbutton-placeholder\")\r\n            .addChildElement(_this.sortingButton); })\r\n            // end sort button\r\n            .addChildElement(this.renderExpressionBlock());\r\n        if (this.panel.options.showColumnTitles !== false && !browserUtils.isMobileMode()) {\r\n            builder\r\n                .addChildElement(this.renderCaptionBlock());\r\n        }\r\n        builder\r\n            //start buttons\r\n            .addChild('div', function (builder) {\r\n            builder\r\n                .addClass(eqCssPrefix + \"-column-buttonsBlock\", _this.cssPrefix + \"-buttonsBlock\")\r\n                .addClass(browserUtils.getMobileCssClass());\r\n            //start enable button\r\n            if (_this.getButtonsToShow().indexOf(\"enable\") >= 0 && !_this.column.isReadOnly()) {\r\n                builder.addChildElement(_this.renderEnabledButton());\r\n            }\r\n            //end enable button\r\n            //start aggr func button\r\n            if (_this.getButtonsToShow().indexOf(\"type\") >= 0 && _this.column.enabled) {\r\n                builder.addChildElement(_this.renderColumnTypeButton());\r\n            }\r\n            //end aggr func button\r\n            //start delete button\r\n            if (_this.getButtonsToShow().indexOf(\"delete\") >= 0 && !_this.column.isReadOnly()) {\r\n                builder.addChildElement(_this.renderDeleteButton());\r\n            }\r\n            //end delete button\r\n            //start menu button\r\n            if (_this.getButtonsToShow().indexOf(\"menu\") >= 0 && !_this.column.isReadOnly()) {\r\n                builder.addChildElement(_this.renderMenuButton());\r\n            }\r\n            //end menu button\r\n        });\r\n        //end buttons \r\n        if (!browserUtils.isMobileMode()) {\r\n            //start event listeners\r\n            builder\r\n                .on('mouseenter', this.onMouseEnter.bind(this))\r\n                .on('mouseleave', this.onMouseLeave.bind(this));\r\n            //end event listeners\r\n        }\r\n        if (this.panel.options.accentActiveColumn || browserUtils.isMobileMode()) {\r\n            builder\r\n                .on('click', this.onMouseClick.bind(this)); //touchstart\r\n        }\r\n        if (this.panel.options.alwaysShowButtons) {\r\n            this.showButtons();\r\n        }\r\n        return this.element;\r\n    };\r\n    ColumnRendererCP.prototype.onMouseClick = function (ev) {\r\n        ev.stopPropagation();\r\n        this.panel.toggleColumnPicked(this.column);\r\n        this.adjustButtonsVisibility();\r\n        if (!browserUtils.isMobileMode()) {\r\n            this.element.dispatchEvent(createBrowserEvent(\"mouseenter\"));\r\n        }\r\n        return false;\r\n    };\r\n    ColumnRendererCP.prototype.fireColumnChanged = function () {\r\n        this.column.fireChangedEvent();\r\n    };\r\n    ColumnRendererCP.prototype.refresh = function () {\r\n        this.render();\r\n    };\r\n    ColumnRendererCP.prototype.getAttribute = function () {\r\n        var model = this.panel.getContext().getModel();\r\n        return model.getAttributeById(this.column.expr.value);\r\n    };\r\n    ColumnRendererCP.prototype.renderCaptionBlock = function () {\r\n        var _this = this;\r\n        if (!this.column.caption || this.column.caption == '') {\r\n            this.column.caption = this.getDefaultColumnCaption();\r\n        }\r\n        var builder = domel('div')\r\n            .addClass(this.cssPrefix + \"-colelement\", this.cssPrefix + \"-captionelement\")\r\n            .addClass(browserUtils.getMobileCssClass());\r\n        if (this.isEditable()) {\r\n            builder\r\n                .addChild('a', function (builder) { return builder\r\n                .attr('href', 'javascript:void(0)')\r\n                .title(_this.column.caption)\r\n                .text(_this.column.caption)\r\n                .on('click', function (ev) {\r\n                ev.stopPropagation();\r\n                var element = ev.target;\r\n                var inputEl = element.parentElement.querySelector('input');\r\n                if (inputEl) {\r\n                    element.style.display = 'none';\r\n                    inputEl.style.removeProperty('display');\r\n                    inputEl.style.minWidth = \"\" + element.clientWidth;\r\n                    inputEl.focus();\r\n                    _this.element.setAttribute(eqDragManager.DRAG_DISABLED_ATTR, '');\r\n                }\r\n                return false;\r\n            }); } //TO DO:add localization and input field\r\n            )\r\n                .addChild('input', function (builder) { return builder\r\n                .hide()\r\n                .value(_this.column.caption)\r\n                .on('blur keydown', function (ev) {\r\n                var isEndEvent = false;\r\n                var save = true;\r\n                if (ev instanceof KeyboardEvent) {\r\n                    // Enter\r\n                    if (ev.keyCode === 13) {\r\n                        isEndEvent = true;\r\n                        //ESC\r\n                    }\r\n                    else if (ev.keyCode === 27) {\r\n                        isEndEvent = true;\r\n                        save = false;\r\n                    }\r\n                }\r\n                else if (ev instanceof FocusEvent) {\r\n                    isEndEvent = true;\r\n                }\r\n                if (isEndEvent) {\r\n                    var inputEl = ev.target;\r\n                    var aEl = inputEl.parentElement.querySelector('a');\r\n                    if (aEl) {\r\n                        aEl.style.removeProperty('display');\r\n                        inputEl.style.display = 'none';\r\n                    }\r\n                    if (save && _this.column.caption !== inputEl.value) {\r\n                        _this.column.caption = inputEl.value;\r\n                        _this.fireColumnChanged();\r\n                    }\r\n                    else {\r\n                        inputEl.value = _this.column.caption;\r\n                        safeFocus(aEl);\r\n                    }\r\n                    _this.element.removeAttribute(eqDragManager.DRAG_DISABLED_ATTR);\r\n                }\r\n                return true;\r\n            }); });\r\n        }\r\n        else {\r\n            builder.addChild('span', function (b) {\r\n                b.text(_this.column.caption)\r\n                    .title(_this.column.caption);\r\n            });\r\n        }\r\n        return builder.toDOM();\r\n    };\r\n    ColumnRendererCP.prototype.renderSoringButton = function (sorting) {\r\n        var _this = this;\r\n        var sortButtonCssClass = eqCssPrefix + \"-column-sortbutton\";\r\n        var sortButtonDirectionCssClass;\r\n        switch (sorting) {\r\n            case SortDirection.Ascending:\r\n                sortButtonDirectionCssClass = sortButtonCssClass + \"-asc\";\r\n                break;\r\n            case SortDirection.Descending:\r\n                sortButtonDirectionCssClass = sortButtonCssClass + \"-desc\";\r\n                break;\r\n            default:\r\n                sortButtonDirectionCssClass = sortButtonCssClass + \"-none\";\r\n                break;\r\n        }\r\n        if (!this.isEditable()) {\r\n            if (sorting === SortDirection.Ascending\r\n                || sorting === SortDirection.Descending)\r\n                return domel('div')\r\n                    .addClass(sortButtonCssClass, eqCssPrefix + \"-button\", sortButtonDirectionCssClass)\r\n                    .title(i18n.getText('ButtonSorting'))\r\n                    .toDOM();\r\n            return null;\r\n        }\r\n        return domel('div')\r\n            .addClass(sortButtonCssClass, eqCssPrefix + \"-button\", sortButtonDirectionCssClass)\r\n            .data(\"btnplaceholder\", \"\")\r\n            .title(i18n.getText('ButtonSorting'))\r\n            .attr('tabIndex', '0')\r\n            .on('click', function (ev) {\r\n            ev.stopPropagation();\r\n            _this.keepShowingButtons = true;\r\n            var menu = _this.getUIS() ? _this.panel.sortMenu || _this.panel.moveMenu : _this.panel.moveMenu;\r\n            menu.showMenu({\r\n                anchor: _this.sortingButton,\r\n                selectedIds: _this.column.isHidden() ? ['IsHidden'] : null,\r\n                itemSelectedCallback: function (data, items) {\r\n                    var action;\r\n                    switch (data.id) {\r\n                        case \"IsHidden\":\r\n                            action = ColumnAction.Hidden;\r\n                            break;\r\n                        case \"MoveTop\":\r\n                            action = ColumnAction.MoveTop;\r\n                            break;\r\n                        case \"MoveDown\":\r\n                            action = ColumnAction.MoveDown;\r\n                            break;\r\n                        case \"MoveUp\":\r\n                            action = ColumnAction.MoveUp;\r\n                            break;\r\n                        case \"MoveBottom\":\r\n                            action = ColumnAction.MoveBottom;\r\n                            break;\r\n                        case \"None\":\r\n                            action = ColumnAction.SortingNone;\r\n                            break;\r\n                        case \"Ascending\":\r\n                            action = ColumnAction.SortingAsc;\r\n                            break;\r\n                        case \"Descending\":\r\n                            action = ColumnAction.SortingDesc;\r\n                            break;\r\n                    }\r\n                    _this.buttonMenuHandler(action, null);\r\n                },\r\n                menuClosedCallback: function () {\r\n                    _this.keepShowingButtons = false;\r\n                    if (!_this.isMouseOverBlock) {\r\n                        _this.leaveButtonBlock();\r\n                    }\r\n                }\r\n            });\r\n        })\r\n            .on('keypress', function (evt) { if (evt.keyCode == 13) {\r\n            evt.target.click();\r\n        } })\r\n            .toDOM();\r\n    };\r\n    ColumnRendererCP.prototype.renderCheckbox = function () {\r\n        var _this = this;\r\n        if (this.panel.options.showCheckboxes && !this.column.isReadOnly()) {\r\n            return domel(\"div\")\r\n                .title(i18n.getText('CmdToggleEnable'))\r\n                .attr('tabIndex', '0')\r\n                .addClass(this.cssPrefix + \"-colelement \" + this.cssPrefix + \"-column-checkbox\")\r\n                .addClass(\"\" + (this.column.enabled ? 'enabled' : ''))\r\n                .on('click', function () {\r\n                _this.column.enabled = !_this.column.enabled;\r\n                _this.column.fireChangedEvent();\r\n                return false;\r\n            })\r\n                .on('keypress', function (evt) { if ([13, 32].includes(evt.keyCode)) {\r\n                evt.target.click();\r\n            } })\r\n                .toDOM();\r\n        }\r\n        else {\r\n            return null;\r\n        }\r\n    };\r\n    ColumnRendererCP.prototype.renderDeleteButton = function () {\r\n        var _this = this;\r\n        return domel('div')\r\n            .addClass(eqCssPrefix + \"-button-placeholder\", this.cssPrefix + \"-button-placeholder\", this.cssPrefix + \"-deletebutton-placeholder\")\r\n            .data(\"btnplaceholder\", \"\")\r\n            .addChild('div', function (b) { return b\r\n            .addClass(eqCssPrefix + \"-button\", eqCssPrefix + \"-column-button\", eqCssPrefix + \"-column-button-delete\", 'ui-sortable-handle')\r\n            .title(i18n.getText('CmdDelete'))\r\n            .attr('tabIndex', '0')\r\n            .on('click', function (ev) { return _this.buttonMenuHandler(ColumnAction.Delete, ev); }) //touchstart\r\n            .on('keypress', function (evt) { if (evt.keyCode == 13) {\r\n            evt.target.click();\r\n        } }); })\r\n            .toDOM();\r\n    };\r\n    ColumnRendererCP.prototype.renderMenuButton = function () {\r\n        var _this = this;\r\n        return domel('div')\r\n            .addClass(eqCssPrefix + \"-button-placeholder\", this.cssPrefix + \"-button-placeholder\", this.cssPrefix + \"-menubutton-placeholder\")\r\n            .data(\"btnplaceholder\", \"\")\r\n            .addChild('div', function (b) { return b\r\n            .addClass(eqCssPrefix + \"-button\", eqCssPrefix + \"-column-button\", eqCssPrefix + \"-column-button-menu\", 'ui-sortable-handle')\r\n            .title(i18n.getText('ButtonMenu'))\r\n            .attr('tabIndex', '0')\r\n            .on('click', function (evt) { return _this.buttonMenuHandler(ColumnAction.Menu, evt); }) //touchstart \r\n            .on('keypress', function (evt) { if (evt.keyCode == 13) {\r\n            evt.target.click();\r\n        } }); })\r\n            .toDOM();\r\n    };\r\n    ColumnRendererCP.prototype.getDefaultColumnCaption = function () {\r\n        return this.getDefaultTitleText(this.baseAttr);\r\n    };\r\n    ColumnRendererCP.prototype.getDefaultTitleText = function (attr) {\r\n        return this.getAttributeCaption(attr, this.panel.options.titleElementFormat);\r\n    };\r\n    ColumnRendererCP.prototype.getAttributeCaption = function (attr, format) {\r\n        format = format || this.panel.options.attrElementFormat;\r\n        var model = this.panel.getContext().getModel();\r\n        return model.getAttributeText(attr, format);\r\n    };\r\n    ColumnRendererCP.prototype.getClassesToAdd = function () {\r\n        var result = \"\";\r\n        result += this.column.enabled ? '' : \" \" + this.cssPrefix + \"-disabled\";\r\n        if (this.column.enabled) {\r\n            result += this.column.isReadOnly() ? \" \" + this.cssPrefix + \"-readonly\" : '';\r\n        }\r\n        result += this.column.isHidden() ? \" \" + this.cssPrefix + \"-hidden\" : '';\r\n        return result;\r\n    };\r\n    ColumnRendererCP.prototype.renderColumnTypeButton = function () {\r\n        var _this = this;\r\n        return (this.isEditable() && this.panel.options.allowAggrColumns !== false)\r\n            ? domel('div')\r\n                .addClass(eqCssPrefix + \"-button-placeholder\", this.cssPrefix + \"-button-placeholder\", this.cssPrefix + \"-typebutton-placeholder\", this.cssPrefix + \"-button-active\")\r\n                .data(\"btnplaceholder\", \"\")\r\n                .addChild('div', function (b) { return b\r\n                .addClass(eqCssPrefix + \"-button\", eqCssPrefix + \"-column-button\", eqCssPrefix + \"-column-button-type\")\r\n                .title(i18n.getText('ButtonToAggr'))\r\n                .attr('tabIndex', '0')\r\n                .on('click', function (ev) {\r\n                ev.stopPropagation();\r\n                _this.keepShowingButtons = true;\r\n                _this.changeTypeHandler(ev);\r\n            })\r\n                .on('keypress', function (evt) { if (evt.keyCode == 13) {\r\n                evt.target.click();\r\n            } }); })\r\n                .toDOM()\r\n            : null;\r\n    };\r\n    ColumnRendererCP.prototype.renderEnabledButton = function () {\r\n        var _this = this;\r\n        return domel('div')\r\n            .addClass(eqCssPrefix + \"-button-placeholder\", this.cssPrefix + \"-button-placeholder\", this.cssPrefix + \"-enablebutton-placeholder\", this.cssPrefix + \"-button-active\")\r\n            .data(\"btnplaceholder\", \"\")\r\n            .addChild('div', function (b) { return b\r\n            .addClass(eqCssPrefix + \"-button\", eqCssPrefix + \"-column-button\", eqCssPrefix + \"-column-button-enable\")\r\n            .title(i18n.getText('CmdToggleEnable'))\r\n            .addClass(_this.column.enabled ? 'enabled' : '')\r\n            .attr('tabIndex', '0')\r\n            .on('click', function (evt) { return _this.buttonMenuHandler(ColumnAction.Enable, evt); }) //touchstart\r\n            .on('keypress', function (evt) { if (evt.keyCode == 13) {\r\n            evt.target.click();\r\n        } }); }).toDOM();\r\n    };\r\n    ColumnRendererCP.prototype.isEditable = function () {\r\n        return this.column.enabled && !this.column.isReadOnly();\r\n    };\r\n    ColumnRendererCP.prototype.getUIS = function () {\r\n        return this.panel\r\n            .getContext().getModel()\r\n            .checkAttrProperty(this.column.expr.value, \"useInSorting\");\r\n    };\r\n    ColumnRendererCP.prototype.onMouseEnter = function (e) {\r\n        this.isMouseOverBlock = true;\r\n        this.enterButtonBlock();\r\n        e.stopPropagation();\r\n        return false;\r\n    };\r\n    ColumnRendererCP.prototype.onMouseLeave = function (e) {\r\n        this.isMouseOverBlock = false;\r\n        this.leaveButtonBlock();\r\n        e.stopPropagation();\r\n        return false;\r\n    };\r\n    ColumnRendererCP.prototype.isColumnActive = function () {\r\n        return this.element.classList.contains(\"active\");\r\n    };\r\n    ColumnRendererCP.prototype.hideButtons = function () {\r\n        domel(this.element).data(\"show-buttons\", null);\r\n    };\r\n    ColumnRendererCP.prototype.showButtons = function () {\r\n        domel(this.element).data(\"show-buttons\", \"\");\r\n    };\r\n    ColumnRendererCP.prototype.adjustButtonsVisibility = function () {\r\n        if (this.panel.options.alwaysShowButtons ||\r\n            ((this.panel.options.accentActiveColumn || browserUtils.isMobileMode())\r\n                && this.isColumnActive())) {\r\n            this.showButtons();\r\n        }\r\n    };\r\n    ColumnRendererCP.prototype.enterButtonBlock = function () {\r\n        this.showButtons();\r\n    };\r\n    ColumnRendererCP.prototype.leaveButtonBlock = function () {\r\n        if (!this.keepShowingButtons && this.panel.options.alwaysShowButtons !== true && (!this.isColumnActive() || this.panel.options.accentActiveColumn != true)) {\r\n            this.hideButtons();\r\n        }\r\n    };\r\n    ColumnRendererCP.prototype.createFunctionMenu = function () {\r\n        var items = [];\r\n        var funcs = this.panel.getContext().getModel().getAggrFunctions();\r\n        var funcAllowed = true;\r\n        var item = null;\r\n        var attribute = this.getAttribute();\r\n        var funcCaption;\r\n        for (var _i = 0, funcs_1 = funcs; _i < funcs_1.length; _i++) {\r\n            var func = funcs_1[_i];\r\n            if (!func)\r\n                continue;\r\n            var toInclude = func.appliedTypes.indexOf(attribute.dataType) >= 0;\r\n            if (this.column.expr.func === func.id && !toInclude) {\r\n                funcAllowed = false;\r\n            }\r\n            if (toInclude) {\r\n                funcCaption = this.panel.getContext().getModel()\r\n                    .getAggrFunctionCaption(func.id);\r\n                item = {\r\n                    id: func.id,\r\n                    text: funcCaption\r\n                };\r\n                items.push(item);\r\n            }\r\n        }\r\n        if (!funcAllowed) {\r\n            this.column.expr.func = items[0].id;\r\n        }\r\n        //Add \"Custom Expression\" menu\r\n        var columnsPanel = this.panel;\r\n        if (columnsPanel.areCustomExpressionsAllowed()) {\r\n            item = {\r\n                id: 'CustomSqlDivider',\r\n                text: '---'\r\n            };\r\n            items.push(item);\r\n            funcCaption = i18n.getText('CustomExpression');\r\n            item = {\r\n                id: 'CUSTOMSQL',\r\n                text: funcCaption\r\n            };\r\n            items.push(item);\r\n        }\r\n        var menuId = this.column.id;\r\n        if (menuId) {\r\n            menuId += '-FunctionsMenu';\r\n        }\r\n        var menuOptions = {\r\n            items: items,\r\n            id: menuId,\r\n            searchBoxAlwaysShown: false,\r\n            domWriteItemsId: true //this.panel.options.domWriteItemsId\r\n        };\r\n        this.functionMenu = new PopupMenu(menuOptions);\r\n    };\r\n    ColumnRendererCP.prototype.getButtonsToShow = function () {\r\n        return this.panel.options.buttons && Array.isArray(this.panel.options.buttons) ? this.panel.options.buttons : [\"enable\", \"delete\", \"type\", \"sorting\"];\r\n    };\r\n    ColumnRendererCP.prototype.buttonMenuHandler = function (action, evt) {\r\n        var _this = this;\r\n        switch (action) {\r\n            case ColumnAction.Delete:\r\n                var curQuery = this.column.getQuery();\r\n                curQuery.removeColumn(this.column, this.panel);\r\n                curQuery.fireColumnsChangedEvent(QueryChangeAction.Delete, this.column);\r\n                break;\r\n            case ColumnAction.Enable:\r\n                this.column.enabled = !this.column.enabled;\r\n                this.fireColumnChanged();\r\n                break;\r\n            case ColumnAction.Hidden:\r\n                this.column.setHidden(!this.column.isHidden());\r\n                this.fireColumnChanged();\r\n                break;\r\n            case ColumnAction.MoveTop:\r\n                this.panel.moveColumn(this.column, \"MoveTop\");\r\n                break;\r\n            case ColumnAction.MoveBottom:\r\n                this.panel.moveColumn(this.column, \"MoveBottom\");\r\n                break;\r\n            case ColumnAction.MoveUp:\r\n                this.panel.moveColumn(this.column, \"MoveUp\");\r\n                break;\r\n            case ColumnAction.MoveDown:\r\n                this.panel.moveColumn(this.column, \"MoveDown\");\r\n                break;\r\n            case ColumnAction.SortingAsc:\r\n                this.column.sorting = SortDirection.Ascending;\r\n                this.column.fireChangedEvent();\r\n                break;\r\n            case ColumnAction.SortingDesc:\r\n                this.column.sorting = SortDirection.Descending;\r\n                this.column.fireChangedEvent();\r\n                break;\r\n            case ColumnAction.SortingNone:\r\n                this.column.sorting = SortDirection.None;\r\n                this.column.fireChangedEvent();\r\n                break;\r\n            case ColumnAction.Menu:\r\n                var colMenu = this.buttonMenu;\r\n                this.keepShowingButtons = true;\r\n                colMenu.showMenu({\r\n                    anchor: evt ? evt.target : null,\r\n                    selectedIds: this.getButtonMenuSelectedItems(),\r\n                    itemSelectedCallback: function (item) {\r\n                        var action = item.id;\r\n                        switch (item.id) {\r\n                            case \"enable\":\r\n                                action = ColumnAction.Enable;\r\n                                break;\r\n                            case \"delete\":\r\n                                action = ColumnAction.Delete;\r\n                                break;\r\n                            case \"hidden\":\r\n                                action = ColumnAction.Hidden;\r\n                                break;\r\n                            case \"MoveTop\":\r\n                                action = ColumnAction.MoveTop;\r\n                                break;\r\n                            case \"MoveBottom\":\r\n                                action = ColumnAction.MoveBottom;\r\n                                break;\r\n                            case \"MoveUp\":\r\n                                action = ColumnAction.MoveUp;\r\n                                break;\r\n                            case \"MoveDown\":\r\n                                action = ColumnAction.MoveDown;\r\n                                break;\r\n                            case \"None\":\r\n                                action = ColumnAction.SortingNone;\r\n                                break;\r\n                            case \"Ascending\":\r\n                                action = ColumnAction.SortingAsc;\r\n                                break;\r\n                            case \"Descending\":\r\n                                action = ColumnAction.SortingAsc;\r\n                                break;\r\n                        }\r\n                        _this.buttonMenuHandler(action, evt);\r\n                    },\r\n                    itemFilterCallback: function (item) {\r\n                        var result = _this.column.enabled || item.id === \"__group\" || item.id === \"enable\" || item.id === \"delete\";\r\n                        return result;\r\n                    },\r\n                    menuClosedCallback: function () {\r\n                        _this.keepShowingButtons = false;\r\n                        if (!_this.isMouseOverBlock)\r\n                            _this.leaveButtonBlock();\r\n                    }\r\n                });\r\n                break;\r\n            default:\r\n                this.processExtraButtonMenuItems(action, evt);\r\n                break;\r\n        }\r\n        evt && evt.stopPropagation();\r\n        return false;\r\n    };\r\n    ColumnRendererCP.prototype.createButtonMenu = function () {\r\n        if (!this.buttonMenu) {\r\n            var menuId = this.column.id;\r\n            if (menuId) {\r\n                menuId += '-ButtonMenu';\r\n            }\r\n            var common = [];\r\n            common.push({\r\n                id: \"enable\",\r\n                text: i18n.getText('MenuEnable')\r\n            });\r\n            if (this.panel.options.allowHiddenColumns) {\r\n                common.push({\r\n                    id: \"hidden\",\r\n                    text: i18n.getText('CmdHiddenColumn')\r\n                });\r\n            }\r\n            common.push({\r\n                id: \"delete\",\r\n                text: i18n.getText('CmdDelete')\r\n            });\r\n            var items = [];\r\n            items.push({\r\n                id: '__group',\r\n                text: ' ',\r\n                items: common\r\n            });\r\n            var sortItems = this.panel.options.allowSorting ? this.panel.getSortMenuList().concat(this.panel.getMoveMenuList()) :\r\n                this.panel.getMoveMenuList();\r\n            items.push({\r\n                id: '__group',\r\n                text: i18n.getText('CmdGroupSort'),\r\n                items: sortItems\r\n            });\r\n            var extra = this.getExtraButtonMenuItems();\r\n            if (extra && Array.isArray(extra)) {\r\n                items = items.concat(extra);\r\n            }\r\n            var menuOptions = {\r\n                items: items,\r\n                id: menuId,\r\n                searchBoxAlwaysShown: false,\r\n                domWriteItemsId: true,\r\n                showSelected: true\r\n            };\r\n            this.buttonMenu = new PopupMenu(menuOptions);\r\n        }\r\n    };\r\n    ColumnRendererCP.prototype.getButtonMenuSelectedItems = function () {\r\n        var arrSelected = [];\r\n        if (this.column.enabled) {\r\n            arrSelected.push(\"enable\");\r\n        }\r\n        ;\r\n        if (this.column.isHidden()) {\r\n            arrSelected.push(\"hidden\");\r\n        }\r\n        ;\r\n        return arrSelected;\r\n    };\r\n    return ColumnRendererCP;\r\n}());\r\nexport { ColumnRendererCP };\r\n//# sourceMappingURL=column_renderer.js.map","import { i18n } from '@easydata/core';\r\nimport { utils as dataUtils } from '@easydata/core';\r\nimport { domel } from '@easydata/ui';\r\nimport { getElementAbsolutePos, getScrollPos, getWinSize, getViewportSize } from '@easydata/ui';\r\nimport { browserUtils } from './browser_utils';\r\nvar MenuLevel = /** @class */ (function () {\r\n    function MenuLevel(options) {\r\n        this.isFilteringMode = false;\r\n        this.showSelected = false;\r\n        //menu, items, levelIndex\r\n        this.parentMenu = options.menu || null;\r\n        this.parentLevel = options.parent || null;\r\n        this.parentElement = options.container || document.body;\r\n        this.levelIndex = options.levelIndex || 0;\r\n        this.levelDiv = null;\r\n        this.domWriteItemsId = options.domWriteItemsId || false;\r\n        this.menuId = options.menuId || '';\r\n        this.itemRenderedCallback = options.itemRenderedCallback || null;\r\n        //we need to define special \"apply\" item for this level\r\n        this.applyItem = { id: null, text: null, itemDiv: null };\r\n        this.items = options.items || [];\r\n        this.activeItem = null;\r\n        this.selectedItem = null;\r\n        this.initialized = false;\r\n        this.showSelected = options.showSelected;\r\n        this.updated = 0;\r\n        this.renderContent();\r\n    }\r\n    Object.defineProperty(MenuLevel.prototype, \"cssPrefix\", {\r\n        get: function () {\r\n            return 'eqjs-menu';\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    MenuLevel.prototype.getItems = function () {\r\n        return this.items;\r\n    };\r\n    MenuLevel.prototype.setItems = function (items) {\r\n        this.items = items;\r\n    };\r\n    MenuLevel.prototype.renderContent = function () {\r\n        var _this = this;\r\n        if (!this.items) {\r\n            return;\r\n        }\r\n        var self = this;\r\n        //define internal variables used in this function\r\n        var itemBgColor = this.parentMenu.style.colors.bgON || \"white\";\r\n        var itemFgColor = this.parentMenu.style.colors.fgON || \"black\";\r\n        var itemOverBgColor = this.parentMenu.style.colors.bgOVER || \"LightSteelBlue\";\r\n        var itemFontFamily = this.parentMenu.style.itemStyle.fontFamily || \"\";\r\n        var itemFontSize = this.parentMenu.style.itemStyle.fontSize || \"14px\";\r\n        var multiselect = this.parentMenu.options.multiselect;\r\n        var isSubQuery = this.parentMenu.options.isSubQuery;\r\n        //add base DIV element which is also used to show the shadow\r\n        var baseDivBuilder = domel('div')\r\n            .addClass(browserUtils.getMobileCssClass());\r\n        if (this.parentMenu.options.useDefaultStyles) {\r\n            baseDivBuilder\r\n                .setStyle('backgroundColor', itemBgColor)\r\n                .setStyle('border', '1px solid')\r\n                .setStyle('borderColor', itemBgColor)\r\n                .setStyle('backgroundColor', this.parentMenu.style.colors.border)\r\n                .setStyle('margin', '-2px 2px 2px -2px')\r\n                .setStyle('width', 'auto')\r\n                .setStyle('height', 'auto');\r\n        }\r\n        baseDivBuilder\r\n            .setStyle('z-index', this.parentMenu.zIndex)\r\n            .setStyle('position', 'absolute')\r\n            .setStyle('display', 'none');\r\n        var baseDiv = baseDivBuilder.toDOM();\r\n        baseDiv['menuLevel'] = this;\r\n        var applyItem = this.applyItem;\r\n        //if multiselect option is on - then we should add special \"apply\" item\r\n        if (multiselect && this.levelIndex === 0) {\r\n            var applyDiv = document.createElement(\"div\");\r\n            applyDiv.classList.add(this.cssPrefix + \"-applyDiv\");\r\n            applyDiv['menuItem'] = applyItem;\r\n            this.applyBtn = document.createElement('button');\r\n            if (this.parentMenu.options.useDefaultStyles) {\r\n                applyDiv.style.borderBottom = '1px solid';\r\n                applyDiv.style.padding = '5px';\r\n                applyDiv.style.marginBottom = '5px';\r\n                this.applyBtn.style.padding = '0 5px';\r\n                this.applyBtn.style.cursor = \"pointer\";\r\n            }\r\n            var applyTextNode = document.createTextNode(this.parentMenu.options.buttons.submit);\r\n            this.applyBtn.appendChild(applyTextNode);\r\n            applyDiv.appendChild(this.applyBtn);\r\n            //cancel btn\r\n            var cancelBtn = document.createElement('button');\r\n            cancelBtn.classList.add(this.cssPrefix + \"-cancel\");\r\n            if (this.parentMenu.options.useDefaultStyles) {\r\n                cancelBtn.style.padding = '0 5px';\r\n                cancelBtn.style.cursor = 'pointer';\r\n                cancelBtn.style.marginLeft = '15px';\r\n            }\r\n            var cancelText = document.createTextNode(this.parentMenu.options.buttons.cancel);\r\n            cancelBtn.appendChild(cancelText);\r\n            applyDiv.appendChild(cancelBtn);\r\n            baseDiv.appendChild(applyDiv);\r\n            applyItem.itemDiv = applyDiv;\r\n            this.applyBtn.addEventListener('click', function () {\r\n                _this.submit(_this.applyItem);\r\n            });\r\n            cancelBtn.addEventListener('click', function () {\r\n                _this.parentMenu.hideMenu();\r\n            });\r\n        }\r\n        // if too many items - then we add a special \"search\" item\r\n        // or there is an options to show always\r\n        if (this.parentLevel == null\r\n            && (this.parentMenu.options.searchBoxAlwaysShown || this.items.length >= this.parentMenu.options.showSearchBoxAfter)) {\r\n            var searchDivBuilder = domel('div')\r\n                .addClass(this.cssPrefix + \"-searchDiv\");\r\n            if (this.parentMenu.options.useDefaultStyles) {\r\n                searchDivBuilder\r\n                    .setStyle('border-bottom', '1px solid #666')\r\n                    .setStyle('background-color', itemBgColor)\r\n                    .setStyle('border-color', this.parentMenu.style.colors.border);\r\n                if (itemFontFamily != \"\") {\r\n                    searchDivBuilder.setStyle('font-family', itemFontFamily);\r\n                }\r\n                searchDivBuilder\r\n                    .setStyle('font-size', itemFontSize)\r\n                    .setStyle('color', itemFgColor)\r\n                    .setStyle('cursor', 'pointer')\r\n                    .setStyle('text-align', 'left')\r\n                    .setStyle('padding', '5px');\r\n            }\r\n            var searchEditBoxBuilder = domel('input')\r\n                .id('searchBox')\r\n                .name('searchBox')\r\n                .type('text')\r\n                .size(16)\r\n                .addClass(this.cssPrefix + \"-searchBox\")\r\n                .on('input', function (ev) {\r\n                _this.deactivateItem(_this.activeItem);\r\n                _this.renderItems(_this.searchBox.value);\r\n            })\r\n                .on('keydown', function (ev) {\r\n                var keyCode = ev.keyCode;\r\n                switch (keyCode) {\r\n                    case 13: //enter\r\n                        if (_this.activeItem) {\r\n                            _this.activeItem.itemDiv.click();\r\n                        }\r\n                        break;\r\n                    case 38: // up\r\n                        _this.moveActiveItemUp();\r\n                        break;\r\n                    case 40: // down\r\n                        _this.moveActiveItemDown();\r\n                        break;\r\n                    case 39: // right\r\n                        if (!_this.searchBox.value) {\r\n                            _this.openSubLevel(_this.activeItem);\r\n                        }\r\n                        break;\r\n                }\r\n            });\r\n            if (this.parentMenu.options.useDefaultStyles) {\r\n                searchEditBoxBuilder\r\n                    .setStyle('font-family', 'monospace')\r\n                    .setStyle('font-size', '8pt')\r\n                    .setStyle('width', '100%');\r\n            }\r\n            if (isSubQuery) {\r\n                searchEditBoxBuilder.addClass('ui-dialog');\r\n            }\r\n            this.searchBox = searchEditBoxBuilder.toDOM();\r\n            this.searchDiv = searchDivBuilder.toDOM();\r\n            this.searchDiv.appendChild(this.searchBox);\r\n            baseDiv.appendChild(this.searchDiv);\r\n        }\r\n        var scrollDiv = document.createElement(\"div\");\r\n        scrollDiv.tabIndex = 1;\r\n        domel(scrollDiv)\r\n            .addClass(this.cssPrefix + \"-scrollDiv\")\r\n            .addClass(browserUtils.getMobileCssClass());\r\n        scrollDiv.style.overflowX = \"hidden\";\r\n        scrollDiv.style.overflowY = \"auto\";\r\n        scrollDiv.style.position = \"relative\";\r\n        baseDiv.appendChild(scrollDiv);\r\n        this.levelDiv = baseDiv;\r\n        this.scrollDiv = scrollDiv;\r\n        if (this.menuId) {\r\n            this.levelDiv.id = this.menuId;\r\n        }\r\n        this.renderItems();\r\n        var scrollDivKeyDownHandler = function (event) {\r\n            switch (event.which) {\r\n                case 13: // enter\r\n                    if (_this.parentMenu.options.multiselect) {\r\n                        _this.parentMenu.getRootLevel().applyBtn.click();\r\n                    }\r\n                    else {\r\n                        if (_this.activeItem) {\r\n                            _this.activeItem.itemDiv.click();\r\n                        }\r\n                    }\r\n                    break;\r\n                case 32: // space\r\n                    if (_this.activeItem) {\r\n                        _this.activeItem.itemDiv.click();\r\n                    }\r\n                    break;\r\n                case 37: // left\r\n                    if (_this.parentLevel && !_this.isFilteringMode) {\r\n                        _this.deactivateItem(_this.activeItem);\r\n                        _this.parentLevel.focus();\r\n                    }\r\n                    break;\r\n                case 39: // right\r\n                    _this.openSubLevel(_this.activeItem);\r\n                    break;\r\n                case 38: // up\r\n                    _this.moveActiveItemUp();\r\n                    break;\r\n                case 40: // down\r\n                    _this.moveActiveItemDown();\r\n                    break;\r\n                default: return; // exit this handler for other keys\r\n            }\r\n            event.preventDefault(); // prevent the default action (scroll / move caret)            \r\n        };\r\n        scrollDiv.addEventListener(\"keydown\", scrollDivKeyDownHandler);\r\n        if (browserUtils.isMobileMode()) {\r\n            this.closeDiv =\r\n                domel('div', baseDiv)\r\n                    .addClass('eqjs-menu-close-btn')\r\n                    .addText(i18n.getText('ButtonClose'))\r\n                    .on('click', function () {\r\n                    _this.parentMenu.hideMenu();\r\n                })\r\n                    .toDOM();\r\n        }\r\n    };\r\n    MenuLevel.prototype.moveActiveItemDown = function () {\r\n        var items = this.isFilteringMode ? this.filteredItems : this.items;\r\n        if (this.activeItem) {\r\n            var idx = items.indexOf(this.activeItem);\r\n            if (idx < items.length - 1) {\r\n                this.activateItem(items[idx + 1], false);\r\n            }\r\n        }\r\n        else {\r\n            this.activateItem(items[0], false);\r\n        }\r\n    };\r\n    MenuLevel.prototype.moveActiveItemUp = function () {\r\n        var items = this.isFilteringMode ? this.filteredItems : this.items;\r\n        if (this.activeItem) {\r\n            var idx = items.indexOf(this.activeItem);\r\n            if (idx > 0) {\r\n                this.activateItem(items[idx - 1], false);\r\n            }\r\n        }\r\n        else {\r\n            this.activateItem(items[items.length - 1], false);\r\n        }\r\n    };\r\n    MenuLevel.prototype.openSubLevel = function (menuItem) {\r\n        if (menuItem && menuItem.items && !this.isFilteringMode) {\r\n            this.showSubLevel(menuItem);\r\n            menuItem.subLevel.activateItem(menuItem.subLevel.items[0]);\r\n        }\r\n    };\r\n    MenuLevel.prototype.focusScrollDiv = function () {\r\n        this.scrollDiv.focus();\r\n    };\r\n    MenuLevel.prototype.turnCheckboxes = function (items) {\r\n        //turn checkboxes on for selected items\r\n        for (var i = 0; i < items.length; i++) {\r\n            var item = items[i];\r\n            if (item.itemCheckbox)\r\n                item.itemCheckbox.checked = this.isItemSelected(item);\r\n            if (item.items) {\r\n                this.turnCheckboxes(item.items);\r\n            }\r\n        }\r\n    };\r\n    MenuLevel.prototype.isItemSelected = function (item) {\r\n        if (item.items) {\r\n            for (var i = 0; i < item.items.length; i++) {\r\n                if (this.isItemSelected(item.items[i])) {\r\n                    return true;\r\n                }\r\n            }\r\n            return false;\r\n        }\r\n        else {\r\n            return item.selected;\r\n        }\r\n    };\r\n    MenuLevel.prototype.setItemSelected = function (item, value) {\r\n        if (item.items) {\r\n            for (var i = 0; i < item.items.length; i++) {\r\n                this.setItemSelected(item.items[i], value);\r\n            }\r\n        }\r\n        else {\r\n            item.selected = value;\r\n        }\r\n    };\r\n    MenuLevel.prototype.submitItems = function (items, selectedItems) {\r\n        for (var j = 0; j < items.length; j++) {\r\n            if (items[j].items) {\r\n                this.submitItems(items[j].items, selectedItems);\r\n            }\r\n            else {\r\n                if (items[j].selected) {\r\n                    selectedItems.push(items[j]);\r\n                }\r\n            }\r\n        }\r\n    };\r\n    MenuLevel.prototype.allSubitemsAreFiltered = function (items, filterCallback) {\r\n        for (var i = 0; i < items.length; i++) {\r\n            if (filterCallback(items[i]))\r\n                return false;\r\n        }\r\n        return true;\r\n    };\r\n    MenuLevel.prototype.isItemDiv = function (element) {\r\n        return element['menuItem'] ? true : false;\r\n    };\r\n    MenuLevel.prototype.isLevelDiv = function (element) {\r\n        return element['menuLevel'] ? true : false;\r\n    };\r\n    MenuLevel.prototype.getMenuItem = function (element) {\r\n        var el = element;\r\n        while (!this.isItemDiv(el)) {\r\n            if (this.isLevelDiv(el)) {\r\n                throw \"Can't get menu item\";\r\n            }\r\n            el = el.parentElement;\r\n        }\r\n        return el['menuItem'];\r\n    };\r\n    MenuLevel.prototype.renderItemsWithoutFilter = function () {\r\n        var _this = this;\r\n        this.isFilteringMode = false;\r\n        var scrollDiv = this.scrollDiv;\r\n        var multiselect = this.parentMenu.options.multiselect;\r\n        var activateOnMouseOver = this.parentMenu.options.activateOnMouseOver;\r\n        var itemFgColor = this.parentMenu.style.colors.fgON || 'black';\r\n        var itemOverBgColor = this.parentMenu.style.colors.bgOVER || 'LightSteelBlue';\r\n        var itemFontSize = this.parentMenu.style.itemStyle.fontSize || '14px';\r\n        var itemFilterCallback = this.parentMenu.getItemFilterCallback();\r\n        scrollDiv.innerHTML = \"\";\r\n        for (var i = 0; i < this.items.length; i++) {\r\n            var item = this.items[i];\r\n            if (!item || !item.text)\r\n                continue;\r\n            if (itemFilterCallback) {\r\n                if (!itemFilterCallback(item))\r\n                    continue;\r\n                if (item.items && this.allSubitemsAreFiltered(item.items, itemFilterCallback))\r\n                    continue;\r\n            }\r\n            item.data = function (propName) {\r\n                return _this[propName];\r\n            };\r\n            if (typeof (item.selected) == \"undefined\") {\r\n                item.selected = false;\r\n            }\r\n            if (item.selected && this.selectedItem == null) {\r\n                this.selectedItem = item;\r\n            }\r\n            var itemDiv = document.createElement(\"div\");\r\n            domel(itemDiv)\r\n                .addClass(this.cssPrefix + \"-itemDiv\")\r\n                .addClass(browserUtils.getMobileCssClass());\r\n            if (item.selected && this.showSelected && !multiselect) {\r\n                itemDiv.classList.add(this.cssPrefix + \"-selected\");\r\n            }\r\n            ;\r\n            if (this.domWriteItemsId && this.menuId) {\r\n                itemDiv.id = 'item-' + this.menuId + '-' + item.id;\r\n            }\r\n            scrollDiv.appendChild(itemDiv);\r\n            itemDiv['menuItem'] = item;\r\n            itemDiv['menuLevel'] = this;\r\n            item.itemDiv = itemDiv;\r\n            if (this.parentMenu.options.useDefaultStyles) {\r\n                itemDiv.style.fontSize = itemFontSize;\r\n                itemDiv.style.color = itemFgColor;\r\n                itemDiv.style.paddingLeft = \"15px\";\r\n                itemDiv.style.paddingRight = \"6px\";\r\n                itemDiv.style.cursor = \"pointer\";\r\n            }\r\n            if (item.text == '---') {\r\n                itemDiv.appendChild(document.createElement('hr'));\r\n            }\r\n            else {\r\n                if (multiselect) {\r\n                    var cb = document.createElement(\"input\");\r\n                    cb.type = \"checkbox\";\r\n                    cb.id = \"cb\" + item.id;\r\n                    cb.checked = this.isItemSelected(item);\r\n                    cb.defaultChecked = this.isItemSelected(item);\r\n                    itemDiv.appendChild(cb);\r\n                    item.itemCheckbox = cb;\r\n                    if (this.parentMenu.options.useDefaultStyles) {\r\n                        cb.style.margin = \"4px 10px 0 0\";\r\n                        cb.style.verticalAlign = \"top\";\r\n                    }\r\n                }\r\n                var itemText = document.createTextNode(item.text);\r\n                itemDiv.appendChild(itemText);\r\n                if (item.items && item.items.length > 0) {\r\n                    itemDiv.classList.add(this.cssPrefix + \"-itemDiv-hasChildren\");\r\n                    var arrowSpan = document.createElement('span');\r\n                    arrowSpan.classList.add(this.cssPrefix + \"-itemDiv-arrow\");\r\n                    itemDiv.appendChild(arrowSpan);\r\n                    var arrowText = document.createTextNode('>');\r\n                    arrowSpan.appendChild(arrowText);\r\n                }\r\n                var itemClickHandler = function (ev) {\r\n                    var menuItem = _this.getMenuItem(ev.target);\r\n                    if (multiselect) {\r\n                        if (!menuItem.items || ev.target == menuItem.itemCheckbox) {\r\n                            var itemSelected = _this.isItemSelected(menuItem);\r\n                            _this.setItemSelected(menuItem, !itemSelected);\r\n                            menuItem.itemCheckbox.checked = !itemSelected;\r\n                            _this.parentMenu.refreshCheckboxes();\r\n                        }\r\n                        else {\r\n                            _this.activateItem(menuItem);\r\n                        }\r\n                    }\r\n                    else {\r\n                        _this.activateItem(menuItem);\r\n                        _this.submit(menuItem);\r\n                    }\r\n                    return false;\r\n                };\r\n                itemDiv.removeEventListener(\"click\", itemClickHandler);\r\n                itemDiv.addEventListener('click', itemClickHandler);\r\n                itemDiv.addEventListener('mouseenter', function (ev) {\r\n                    var item = _this.getMenuItem(ev.target);\r\n                    _this.parentMenu.isCursorInside = true;\r\n                    if (activateOnMouseOver) {\r\n                        _this.activateItem(item);\r\n                    }\r\n                });\r\n                itemDiv.addEventListener('mouseleave', function (ev) {\r\n                    var item = _this.getMenuItem(ev.target);\r\n                    _this.parentMenu.isCursorInside = false;\r\n                    setTimeout(function () {\r\n                        if (!_this.parentMenu.isCursorInside) {\r\n                            if (activateOnMouseOver && item == _this.activeItem && !item.subLevel) {\r\n                                _this.deactivateItem(item);\r\n                            }\r\n                        }\r\n                    }, 200);\r\n                });\r\n            }\r\n            if (this.itemRenderedCallback) {\r\n                this.itemRenderedCallback(this.menuId, itemDiv);\r\n            }\r\n        }\r\n    };\r\n    MenuLevel.prototype.renderItemsWithFilter = function (filter) {\r\n        this.isFilteringMode = true;\r\n        var scrollDiv = this.scrollDiv;\r\n        scrollDiv.innerHTML = \"\";\r\n        var filterSections = filter.split('>');\r\n        var pureFilterTexts = filterSections.map(function (section) { return section.replace(/\\*/g, ''); });\r\n        var items = this.filterItems(this.items, filterSections);\r\n        this.filteredItems = [];\r\n        for (var i = 0; i < items.length; i++) {\r\n            this.renderItemWithFilter(items[i], pureFilterTexts, 0);\r\n        }\r\n    };\r\n    MenuLevel.prototype.matchesFilter = function (text, regexp) {\r\n        if (text && regexp) {\r\n            return regexp.test(text);\r\n        }\r\n        else {\r\n            return true;\r\n        }\r\n    };\r\n    MenuLevel.prototype.filterItems = function (items, filterSections) {\r\n        var resultItems = [];\r\n        var filter = filterSections.length > 0 ? filterSections[0] : '';\r\n        var restFilterSections = filterSections.length > 1 ? filterSections.slice(1) : filterSections;\r\n        var filterRegexp = filter ? new RegExp(filter.replace(/\\*/g, '.+?'), 'i') : null;\r\n        for (var i = 0; i < items.length; i++) {\r\n            var item = items[i];\r\n            if (item.items) {\r\n                var groupItem = dataUtils.assign({}, item);\r\n                var groupItemMatches = this.matchesFilter(item.text, filterRegexp);\r\n                //if we have only one filter section (or an empty filter)\r\n                if (filterSections.length < 2) {\r\n                    //if current group item matches the filter -> show all sub-items\r\n                    if (groupItemMatches && filterSections.length < 2) {\r\n                        groupItem.items = dataUtils.createArrayFrom(item.items);\r\n                    }\r\n                    else {\r\n                        groupItem.items = this.filterItems(item.items, restFilterSections);\r\n                    }\r\n                }\r\n                //if we have more than 1 filter section and there is a match -> filter sub-items as well\r\n                else if (groupItemMatches) {\r\n                    groupItem.items = this.filterItems(item.items, restFilterSections);\r\n                }\r\n                //otherwise we skip this group at all\r\n                else {\r\n                    groupItem.items = [];\r\n                }\r\n                if (groupItem.items.length > 0) {\r\n                    resultItems.push(groupItem);\r\n                }\r\n            }\r\n            else {\r\n                if (this.matchesFilter(item.text, filterRegexp)) {\r\n                    resultItems.push(item);\r\n                }\r\n            }\r\n        }\r\n        return resultItems;\r\n    };\r\n    MenuLevel.prototype.renderItemWithFilter = function (item, filterTexts, level) {\r\n        var _this = this;\r\n        var scrollDiv = this.scrollDiv;\r\n        var levelFilterText = level < filterTexts.length ? filterTexts[level] : filterTexts[filterTexts.length - 1];\r\n        var multiselect = this.parentMenu.options.multiselect;\r\n        var activateOnMouseOver = this.parentMenu.options.activateOnMouseOver;\r\n        var itemFgColor = this.parentMenu.style.colors.fgON || 'black';\r\n        var itemOverBgColor = this.parentMenu.style.colors.bgOVER || 'LightSteelBlue';\r\n        var itemFontSize = this.parentMenu.style.itemStyle.fontSize || '14px';\r\n        var itemFilterCallback = this.parentMenu.getItemFilterCallback();\r\n        if (!item || !item.text)\r\n            return;\r\n        if (itemFilterCallback) {\r\n            if (!itemFilterCallback(item))\r\n                return;\r\n            if (item.items && this.allSubitemsAreFiltered(item.items, itemFilterCallback))\r\n                return;\r\n        }\r\n        item.data = function (propName) {\r\n            return this[propName];\r\n        };\r\n        if (typeof (item.selected) == \"undefined\") {\r\n            item.selected = false;\r\n        }\r\n        if (item.selected && this.selectedItem == null) {\r\n            this.selectedItem = item;\r\n        }\r\n        var itemDiv = document.createElement(\"div\");\r\n        domel(itemDiv)\r\n            .addClass(this.cssPrefix + \"-itemDiv\")\r\n            .addClass(browserUtils.getMobileCssClass());\r\n        itemDiv.style.marginLeft = level * 10 + \"px\";\r\n        if (item.selected && !multiselect) {\r\n            itemDiv.classList.add(this.cssPrefix + \"-selected\");\r\n        }\r\n        ;\r\n        if (this.domWriteItemsId && this.menuId) {\r\n            itemDiv.id = 'item-' + this.menuId + '-' + item.id;\r\n        }\r\n        scrollDiv.appendChild(itemDiv);\r\n        itemDiv['menuItem'] = item;\r\n        itemDiv['menuLevel'] = this;\r\n        item.itemDiv = itemDiv;\r\n        if (this.parentMenu.options.useDefaultStyles) {\r\n            itemDiv.style.fontSize = itemFontSize;\r\n            itemDiv.style.color = itemFgColor;\r\n            itemDiv.style.paddingLeft = \"15px\";\r\n            itemDiv.style.paddingRight = \"6px\";\r\n            itemDiv.style.cursor = \"pointer\";\r\n        }\r\n        if (item.text == '---') {\r\n            itemDiv.appendChild(document.createElement('hr'));\r\n        }\r\n        else {\r\n            if (multiselect) {\r\n                var cb = document.createElement(\"input\");\r\n                cb.type = \"checkbox\";\r\n                cb.id = \"cb\" + item.id;\r\n                cb.checked = this.isItemSelected(item);\r\n                cb.defaultChecked = this.isItemSelected(item);\r\n                itemDiv.appendChild(cb);\r\n                item.itemCheckbox = cb;\r\n                if (this.parentMenu.options.useDefaultStyles) {\r\n                    cb.style.margin = \"4px 10px 0 0\";\r\n                    cb.style.verticalAlign = \"top\";\r\n                }\r\n            }\r\n            var itemText = document.createElement('span');\r\n            itemText.innerHTML = this.highlightText(item.text, levelFilterText);\r\n            itemDiv.appendChild(itemText);\r\n            if (item.items && item.items.length > 0) {\r\n                itemDiv.classList.add(this.cssPrefix + \"-itemDiv-filter-hasChildren\");\r\n            }\r\n            else {\r\n                this.filteredItems.push(item);\r\n                var itemClickHandler = function (event) {\r\n                    if (multiselect) {\r\n                        if (!item.items || event.target == item.itemCheckbox) {\r\n                            var itemSelected = _this.isItemSelected(item);\r\n                            _this.setItemSelected(item, !itemSelected);\r\n                            item.itemCheckbox.checked = !itemSelected;\r\n                            _this.parentMenu.refreshCheckboxes();\r\n                        }\r\n                        else {\r\n                            _this.activateItem(item);\r\n                        }\r\n                    }\r\n                    else {\r\n                        _this.activateItem(item);\r\n                        _this.submit(item);\r\n                    }\r\n                    return false;\r\n                };\r\n                itemDiv.removeEventListener(\"click\", itemClickHandler);\r\n                itemDiv.addEventListener('click', itemClickHandler);\r\n                itemDiv.addEventListener('mouseenter', function (ev) {\r\n                    ;\r\n                    _this.parentMenu.isCursorInside = true;\r\n                    if (activateOnMouseOver) {\r\n                        _this.activateItem(item);\r\n                    }\r\n                });\r\n                itemDiv.addEventListener('mouseleave', function (ev) {\r\n                    _this.parentMenu.isCursorInside = false;\r\n                    setTimeout(function () {\r\n                        if (!_this.parentMenu.isCursorInside) {\r\n                            if (activateOnMouseOver && item == _this.activeItem && !item.subLevel) {\r\n                                _this.deactivateItem(item);\r\n                            }\r\n                        }\r\n                    }, 200);\r\n                });\r\n            }\r\n        }\r\n        if (item.items) {\r\n            for (var i = 0; i < item.items.length; i++) {\r\n                this.renderItemWithFilter(item.items[i], filterTexts, level + 1);\r\n            }\r\n        }\r\n        if (this.itemRenderedCallback) {\r\n            this.itemRenderedCallback(this.menuId, itemDiv);\r\n        }\r\n    };\r\n    MenuLevel.prototype.highlightText = function (content, text) {\r\n        if (text && text.length > 0) {\r\n            var lowerText = text.toLowerCase();\r\n            var lowerContent = content.toLowerCase();\r\n            var insertValue1 = \"<span class='eqjs-menu-itemDiv-highlight'>\";\r\n            var insertValue2 = \"</span>\";\r\n            var startIndex = lowerContent.indexOf(lowerText);\r\n            if (startIndex >= 0) {\r\n                var pos = 0;\r\n                var value = content;\r\n                var indexInMas = [];\r\n                while (true) {\r\n                    var index = lowerContent.indexOf(lowerText, pos);\r\n                    if (index >= 0) {\r\n                        indexInMas.push(index);\r\n                        pos = index + text.length;\r\n                    }\r\n                    else {\r\n                        pos++;\r\n                    }\r\n                    if (pos >= value.length - 1) {\r\n                        break;\r\n                    }\r\n                }\r\n                if (indexInMas.length > 0) {\r\n                    content = '';\r\n                    for (var i = 0; i < indexInMas.length; i++) {\r\n                        if (i === 0) {\r\n                            content += value.substring(0, indexInMas[i]);\r\n                        }\r\n                        content += insertValue1 + value.substring(indexInMas[i], indexInMas[i] + text.length) + insertValue2;\r\n                        if (i < indexInMas.length - 1) {\r\n                            content += value.substring(indexInMas[i] + text.length, indexInMas[i + 1]);\r\n                        }\r\n                        else {\r\n                            content += value.substring(indexInMas[i] + text.length);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return content;\r\n    };\r\n    MenuLevel.prototype.renderItems = function (filter) {\r\n        if (!filter && !browserUtils.isMobileMode()) {\r\n            this.renderItemsWithoutFilter();\r\n        }\r\n        else {\r\n            filter = filter || '';\r\n            this.renderItemsWithFilter(filter.toLowerCase());\r\n        }\r\n    };\r\n    MenuLevel.prototype.activateItem = function (menuItem, openSubLevel) {\r\n        if (openSubLevel === void 0) { openSubLevel = true; }\r\n        if (this.activeItem != null) {\r\n            this.deactivateItem(this.activeItem);\r\n        }\r\n        this.activeItem = menuItem;\r\n        var rowElement = menuItem.itemDiv;\r\n        rowElement.classList.add('active');\r\n        if (this.parentMenu.options.useDefaultStyles) {\r\n            var itemBgColor = this.parentMenu.style.colors.bgON;\r\n            var itemFgColor = this.parentMenu.style.colors.fgON;\r\n            var itemOverBgColor = this.parentMenu.style.colors.bgOVER;\r\n            var itemOverFgColor = this.parentMenu.style.colors.fgOVER || \"\";\r\n            var itemClass = this.parentMenu.style.itemClass || \"\";\r\n            var itemClassOver = this.parentMenu.style.itemClassOver || \"\";\r\n            if (itemClassOver != \"\") {\r\n                rowElement.style.backgroundColor = \"\";\r\n                rowElement.style.color = \"\";\r\n            }\r\n            else {\r\n                rowElement.style.backgroundColor = itemOverBgColor;\r\n                rowElement.style.color = itemOverFgColor;\r\n            }\r\n        }\r\n        if (menuItem.items && !this.isFilteringMode && openSubLevel) {\r\n            this.showSubLevel(menuItem);\r\n        }\r\n    };\r\n    MenuLevel.prototype.deactivateItem = function (menuItem) {\r\n        if (!menuItem)\r\n            return;\r\n        var rowElement = menuItem.itemDiv;\r\n        rowElement.classList.remove('active');\r\n        if (this.parentMenu.options.useDefaultStyles) {\r\n            var itemBgColor = this.parentMenu.style.colors.bgON;\r\n            var itemFgColor = this.parentMenu.style.colors.fgON;\r\n            var itemClass = this.parentMenu.style.itemClass || \"\";\r\n            if (itemClass != \"\") {\r\n                rowElement.style.backgroundColor = \"\";\r\n                rowElement.style.color = \"\";\r\n            }\r\n            else {\r\n                rowElement.style.backgroundColor = itemBgColor;\r\n                rowElement.style.color = itemFgColor;\r\n            }\r\n        }\r\n        if (menuItem.subLevel) {\r\n            menuItem.subLevel.hide();\r\n        }\r\n        this.activeItem = null;\r\n    };\r\n    MenuLevel.prototype.showSubLevel = function (menuItem) {\r\n        if (!menuItem.subLevel) {\r\n            var levelId = '';\r\n            if (this.menuId) {\r\n                levelId = this.menuId + \"-\" + menuItem.id;\r\n            }\r\n            menuItem.subLevel = new MenuLevel({\r\n                showSelected: this.showSelected,\r\n                menu: this.parentMenu,\r\n                parent: this,\r\n                container: this.parentElement,\r\n                items: menuItem.items,\r\n                levelIndex: this.levelIndex + 1,\r\n                domWriteItemsId: this.domWriteItemsId,\r\n                menuId: levelId,\r\n                itemRenderedCallback: this.itemRenderedCallback\r\n            });\r\n        }\r\n        var pos = getElementAbsolutePos(menuItem.itemDiv);\r\n        var scroll = getScrollPos();\r\n        var winSize = getWinSize();\r\n        //show menu to the side that have more space available\r\n        var leftSpace = pos.x - scroll.left;\r\n        var rightSpace = winSize.width - leftSpace - menuItem.itemDiv.offsetWidth;\r\n        pos.x += menuItem.itemDiv.offsetParent.offsetWidth;\r\n        pos.y += 1;\r\n        menuItem.subLevel.showAt(pos.x, pos.y, true, true);\r\n        menuItem.subLevel.levelDiv.style.width = '';\r\n        menuItem.subLevel.levelDiv.style.right = '';\r\n        if ((rightSpace >= menuItem.subLevel.levelDiv.offsetWidth) || (rightSpace >= leftSpace)) { //show level to the right\r\n            if (rightSpace < menuItem.subLevel.levelDiv.offsetWidth) {\r\n                menuItem.subLevel.levelDiv.style.right = -scroll.left + 'px';\r\n            }\r\n        }\r\n        else { //show level to the left\r\n            if (leftSpace < menuItem.subLevel.levelDiv.offsetWidth) {\r\n                menuItem.subLevel.levelDiv.style.left = scroll.left + 4 + 'px';\r\n            }\r\n            else {\r\n                menuItem.subLevel.levelDiv.style.left = '';\r\n            }\r\n            menuItem.subLevel.levelDiv.style.right = getViewportSize().width - pos.x + menuItem.itemDiv.offsetWidth - 6 + 'px';\r\n        }\r\n        menuItem.subLevel.levelDiv.style.visibility = 'visible';\r\n        menuItem.subLevel.focus();\r\n    };\r\n    MenuLevel.prototype.adjustTopPos = function (top) {\r\n        var winSize = getWinSize();\r\n        var levelBottom = top - getScrollPos().top + this.levelDiv.offsetHeight;\r\n        var res = top;\r\n        if (levelBottom > winSize.height - 5) {\r\n            res -= levelBottom - winSize.height + 5;\r\n            if (res < getScrollPos().top) {\r\n                res = getScrollPos().top + 10;\r\n            }\r\n        }\r\n        return res;\r\n    };\r\n    MenuLevel.prototype.showAt = function (x, y, adjustTopPos, hidden) {\r\n        if (!this.items) {\r\n            return;\r\n        }\r\n        this.initLevelDiv();\r\n        //crocodile\r\n        this.turnCheckboxes(this.items);\r\n        this.renderItems();\r\n        var levelStyle = this.levelDiv.style;\r\n        if (hidden) {\r\n            this.levelDiv.style.visibility = 'hidden';\r\n        }\r\n        levelStyle.display = 'block';\r\n        levelStyle.left = x + 'px';\r\n        levelStyle.top = y + 'px';\r\n        this.scrollDiv.style.width = \"auto\";\r\n        this.scrollDiv.style.height = \"auto\";\r\n        //adjusting level top position\r\n        if (adjustTopPos) {\r\n            y = this.adjustTopPos(y);\r\n            levelStyle.top = y + 'px';\r\n        }\r\n        //setting minimal level width if it is defined\r\n        var minItemWidth = this.parentMenu.minItemWidth;\r\n        if (minItemWidth > 0 && this.scrollDiv.offsetWidth < minItemWidth) {\r\n            for (var i = 0; i < this.items.length; i++) {\r\n                this.items[i].itemDiv.style.width = minItemWidth + \"px\";\r\n            }\r\n        }\r\n        var maxItemWidth = this.parentMenu.maxItemWidth;\r\n        if (maxItemWidth > 0 && this.scrollDiv.offsetWidth > maxItemWidth) {\r\n            for (var i = 0; i < this.items.length; i++) {\r\n                this.items[i].itemDiv.style.width = maxItemWidth + \"px\";\r\n                this.items[i].itemDiv.style.overflowX = \"hidden\";\r\n            }\r\n        }\r\n        var winSize = getWinSize();\r\n        //adjustinng maximum height of the menu level if it does not fit to browser window\r\n        var maxHeight = winSize.height - (y - getScrollPos().top) - 15; //document.documentElement.scrollTop\r\n        if (this.parentMenu.maxHeight > 0 && maxHeight > this.parentMenu.maxHeight) {\r\n            maxHeight = this.parentMenu.maxHeight;\r\n        }\r\n        if (this.applyItem != null && this.applyItem.itemDiv != null) {\r\n            maxHeight -= this.applyItem.itemDiv.offsetHeight + 5;\r\n        }\r\n        if (this.searchDiv != null) {\r\n            maxHeight -= this.searchDiv.offsetHeight;\r\n        }\r\n        if (this.closeDiv != null) {\r\n            maxHeight -= this.closeDiv.offsetHeight;\r\n        }\r\n        if (this.levelDiv.offsetHeight > maxHeight) {\r\n            var newHeight = maxHeight;\r\n            if (newHeight < 50) {\r\n                newHeight = 50;\r\n            }\r\n            this.scrollDiv.style.height = newHeight + \"px\";\r\n        }\r\n        else {\r\n            this.scrollDiv.style.height = \"auto\";\r\n        }\r\n        this.activeItem = null;\r\n    };\r\n    MenuLevel.prototype.focus = function () {\r\n        var _this = this;\r\n        window.setTimeout(function () {\r\n            _this.scrollDiv.focus();\r\n            if (_this.searchBox != null) {\r\n                if (_this.parentMenu.options.searchBoxAutoFocus) {\r\n                    _this.searchBox.focus();\r\n                }\r\n                _this.searchBox.value = \"\";\r\n            }\r\n        }, 100);\r\n    };\r\n    MenuLevel.prototype.hide = function () {\r\n        if (this.activeItem !== null) {\r\n            if (this.activeItem.subLevel) {\r\n                this.activeItem.subLevel.hide();\r\n            }\r\n        }\r\n        if (this.levelDiv) {\r\n            var levelStyle = this.levelDiv.style;\r\n            levelStyle.display = 'none';\r\n            if (this.initialized) {\r\n                this.parentElement.removeChild(this.levelDiv);\r\n                this.initialized = false;\r\n            }\r\n        }\r\n    };\r\n    MenuLevel.prototype.initLevelDiv = function () {\r\n        if (!this.initialized) {\r\n            this.parentElement.appendChild(this.levelDiv);\r\n            domel(this.levelDiv)\r\n                .addClass(this.cssPrefix + \"-levelDiv\")\r\n                .addClass(browserUtils.getMobileCssClass());\r\n            this.initialized = true;\r\n        }\r\n    };\r\n    MenuLevel.prototype.submit = function (menuItem) {\r\n        if (menuItem != null) {\r\n            if (!menuItem.items) {\r\n                this.parentMenu.hideMenu();\r\n                var selectedItems = [];\r\n                if (menuItem == this.applyItem) {\r\n                    this.submitItems(this.items, selectedItems);\r\n                }\r\n                this.parentMenu.submitMenu(menuItem, selectedItems);\r\n            }\r\n        }\r\n    };\r\n    MenuLevel.prototype.remove = function () {\r\n        //remove old level elements\r\n        for (var i = 0; i < this.items.length; i++) {\r\n            var item = this.items[i];\r\n            if (item.subLevel) {\r\n                item.subLevel.remove();\r\n            }\r\n        }\r\n        if (this.levelDiv) {\r\n            this.levelDiv.innerHTML = \"\";\r\n            var parentNode = this.levelDiv.parentNode;\r\n            if (parentNode != null) {\r\n                parentNode.removeChild(this.levelDiv);\r\n            }\r\n        }\r\n        this.levelDiv = null;\r\n    };\r\n    MenuLevel.prototype.update = function (newItems) {\r\n        this.remove();\r\n        //create new level\r\n        this.items = newItems;\r\n        this.activeItem = null;\r\n        this.selectedItem = null;\r\n        this.applyItem.itemDiv = null;\r\n        this.initialized = false;\r\n        this.updated++;\r\n        this.renderContent();\r\n    };\r\n    MenuLevel.prototype.refreshCheckboxes = function () {\r\n        for (var i = 0; i < this.items.length; i++) {\r\n            var item = this.items[i];\r\n            if (item.itemCheckbox) {\r\n                item.itemCheckbox.checked = this.isItemSelected(item);\r\n            }\r\n            if (item.subLevel) {\r\n                item.subLevel.refreshCheckboxes();\r\n            }\r\n        }\r\n    };\r\n    MenuLevel.prototype.refreshItems = function () {\r\n        for (var i = 0; i < this.items.length; i++) {\r\n            var item = this.items[i];\r\n            if (item.itemDiv) {\r\n                if (item.hidden) {\r\n                    item.itemDiv.style.display = \"none\";\r\n                }\r\n                else {\r\n                    item.itemDiv.style.display = \"block\";\r\n                }\r\n            }\r\n            if (item.subLevel) {\r\n                item.subLevel.refreshItems();\r\n            }\r\n        }\r\n    };\r\n    MenuLevel.prototype.findItem = function (searchedText) {\r\n        var txt = searchedText.toLowerCase();\r\n        for (var i = 0; i < this.items.length; i++) {\r\n            var item = this.items[i];\r\n            if (item.text.toLowerCase().indexOf(txt) == 0) {\r\n                return item;\r\n            }\r\n        }\r\n        return null;\r\n    };\r\n    return MenuLevel;\r\n}());\r\nvar PopupMenu = /** @class */ (function () {\r\n    function PopupMenu(options) {\r\n        var _this = this;\r\n        this.isCursorInside = false;\r\n        this.mouseIsOverBlock = false;\r\n        this.mouseIsOverLink = false;\r\n        this.toId = null;\r\n        this.active = false;\r\n        this.ancorFocused = null;\r\n        this.options = {\r\n            items: [],\r\n            buttons: {\r\n                submit: i18n.getText('ButtonApply'),\r\n                cancel: i18n.getText('ButtonCancel')\r\n            },\r\n            itemFilterCallback: null,\r\n            useDefaultStyles: false,\r\n            multiselect: false,\r\n            adjustHeight: true,\r\n            showSearchBoxAfter: 30,\r\n            activateOnMouseOver: true,\r\n            container: document.body,\r\n            zIndex: 100000,\r\n            domWriteItemsId: false,\r\n            itemRenderedCallback: null\r\n        };\r\n        if (options) {\r\n            dataUtils.assignDeep(this.options, options);\r\n        }\r\n        this.menuId = PopupMenu.lastMenuID++;\r\n        this.updateProps();\r\n        this.rootLevel = new MenuLevel({\r\n            menu: this,\r\n            items: this.options.items,\r\n            levelIndex: 0,\r\n            container: this.options.container,\r\n            domWriteItemsId: this.options.domWriteItemsId,\r\n            menuId: this.options.id,\r\n            itemRenderedCallback: this.options.itemRenderedCallback,\r\n            showSelected: this.options.showSelected,\r\n        });\r\n        this.rootLevel.levelDiv.classList.add(this.cssPrefix + \"-rootLevel\");\r\n        this.rootLevel.levelDiv.style.zIndex = \"\" + this.options.zIndex;\r\n        this.menuKeyUpHandler = function (e) {\r\n            if (e.which == 27) {\r\n                _this.hideMenu();\r\n                e.stopImmediatePropagation();\r\n            }\r\n        };\r\n        this.globalMouseDownHandler = function (e) {\r\n            if (!_this.active)\r\n                return true;\r\n            var event = window.event || e;\r\n            var o = event.srcElement || event.target;\r\n            var isOutside = true;\r\n            while (o) {\r\n                if (o.tagName && o.tagName.toLowerCase() == 'div') {\r\n                    // it is added in renderContent of MenuLevel class\r\n                    if (o.menuLevel) {\r\n                        if (o.menuLevel.parentMenu == _this) {\r\n                            isOutside = false;\r\n                            break;\r\n                        }\r\n                    }\r\n                }\r\n                o = o.parentNode || o.parentElement;\r\n            }\r\n            if (isOutside) {\r\n                _this.hideMenu();\r\n            }\r\n            return true;\r\n        };\r\n        this.render();\r\n    }\r\n    Object.defineProperty(PopupMenu.prototype, \"cssPrefix\", {\r\n        get: function () {\r\n            return 'eqjs-menu';\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    PopupMenu.prototype.getItems = function () {\r\n        return this.rootLevel.getItems();\r\n    };\r\n    PopupMenu.prototype.updateProps = function () {\r\n        this.style = {};\r\n        this.style.colors = { border: \"#666666\", shadow: \"#888888\", bgON: \"white\", fgON: \"black\", bgOVER: \"#B6BDD2\", fgOVER: \"black\" };\r\n        this.style.itemStyle = { fontSize: \"14px\" };\r\n        this.minItemWidth = 0;\r\n        this.maxItemWidth = 0;\r\n        this.maxHeight = 0;\r\n        this.zIndex = \"\" + this.options.zIndex;\r\n        this.commandTemplate = \"\";\r\n        this.args = [];\r\n        this.active = false;\r\n    };\r\n    PopupMenu.prototype.render = function () {\r\n    };\r\n    PopupMenu.prototype.clearItemsMenuProps = function (items) {\r\n        if (!items)\r\n            return;\r\n        for (var i = 0; i < items.length; i++) {\r\n            this.clearItemMenuProps(items[i]);\r\n        }\r\n    };\r\n    PopupMenu.prototype.clearItemMenuProps = function (item) {\r\n        //don't clear properties they belong this menu\r\n        if (item.subLevel && item.subLevel.parentMenu == this)\r\n            return;\r\n        if (item.subLevel) {\r\n            item.subLevel.remove();\r\n            item.subLevel = null;\r\n        }\r\n        if (item.itemDiv) {\r\n            item.itemDiv = null;\r\n        }\r\n        if (item.items) {\r\n            this.clearItemsMenuProps(item.items);\r\n        }\r\n    };\r\n    PopupMenu.prototype.setSelectedItems = function (items, selectedIds) {\r\n        var itemsLength = items ? items.length : 0;\r\n        for (var i = 0; i < itemsLength; i++) {\r\n            var item = items[i];\r\n            if (item.items) {\r\n                this.setSelectedItems(item.items, selectedIds);\r\n            }\r\n            else {\r\n                item.selected = selectedIds.indexOf(item.id) >= 0;\r\n            }\r\n        }\r\n    };\r\n    PopupMenu.prototype.getRootLevel = function () {\r\n        return this.rootLevel;\r\n    };\r\n    PopupMenu.prototype.getItemFilterCallback = function () {\r\n        return this.itemFilterCallback;\r\n    };\r\n    PopupMenu.prototype.showMenu = function (options) {\r\n        this.ancorFocused = options.anchor == document.activeElement ? options.anchor : null;\r\n        this.clearItemsMenuProps(this.options.items);\r\n        this.itemSelectedCallback = options.itemSelectedCallback || null;\r\n        this.menuClosedCallback = options.menuClosedCallback || null;\r\n        this.itemFilterCallback = options.itemFilterCallback || null;\r\n        if (options.items) {\r\n            this.options.items = options.items;\r\n            this.rootLevel.setItems(options.items);\r\n        }\r\n        if (options.onMenuItemSelected) {\r\n            this.options.onMenuItemSelected = options.onMenuItemSelected;\r\n        }\r\n        var selectedIds = options.selectedIds || null;\r\n        if (selectedIds) {\r\n            if (typeof selectedIds === \"string\") {\r\n                selectedIds = selectedIds.split(\",\");\r\n            }\r\n        }\r\n        else {\r\n            selectedIds = [];\r\n        }\r\n        this.active = true;\r\n        this.setSelectedItems(this.options.items, selectedIds);\r\n        if (browserUtils.isMobileMode()) {\r\n            this.rootLevel.showAt(0, 0, true, true);\r\n            this.rootLevel.levelDiv.style.top = '0px';\r\n            this.rootLevel.levelDiv.style.bottom = '0px';\r\n            this.rootLevel.levelDiv.style.right = '0px';\r\n            this.rootLevel.levelDiv.style.position = 'fixed';\r\n            this.rootLevel.levelDiv.style.fontSize = '20px';\r\n        }\r\n        else {\r\n            var anchor = options.anchor || document.documentElement;\r\n            var srcPos = getElementAbsolutePos(anchor);\r\n            var anchorHeight = anchor.offsetHeight;\r\n            var anchorWidth = anchor.offsetHeight;\r\n            var pos = {\r\n                x: srcPos.x,\r\n                y: srcPos.y + anchorHeight + 2\r\n            };\r\n            var scroll_1 = getScrollPos();\r\n            var winSize = getWinSize();\r\n            //show menu to the side that have more space available\r\n            var leftSpace = pos.x + anchorWidth - scroll_1.left;\r\n            var rightSpace = winSize.width - leftSpace + anchorWidth;\r\n            pos.x += 2;\r\n            this.rootLevel.showAt(pos.x, pos.y, true, true);\r\n            this.rootLevel.levelDiv.style.width = '';\r\n            this.rootLevel.levelDiv.style.right = '';\r\n            if ((rightSpace >= this.rootLevel.levelDiv.offsetWidth) || (rightSpace >= leftSpace)) {\r\n                //show level to the right\r\n                if (rightSpace < this.rootLevel.levelDiv.offsetWidth) {\r\n                    this.rootLevel.levelDiv.style.right = -scroll_1.left + 'px';\r\n                }\r\n            }\r\n            else {\r\n                //show level to the left\r\n                if (leftSpace < this.rootLevel.levelDiv.offsetWidth) {\r\n                    this.rootLevel.levelDiv.style.left = scroll_1.left + 4 + 'px';\r\n                }\r\n                else {\r\n                    this.rootLevel.levelDiv.style.left = '';\r\n                }\r\n                this.rootLevel.levelDiv.style.right = getViewportSize().width - pos.x - anchorWidth + 'px';\r\n            }\r\n            this.rootLevel.levelDiv.style.fontSize = '14px';\r\n        }\r\n        this.rootLevel.levelDiv.style.visibility = 'visible';\r\n        this.rootLevel.focus();\r\n        document.addEventListener('keyup', this.menuKeyUpHandler);\r\n        document.addEventListener('mousedown', this.globalMouseDownHandler, true);\r\n    };\r\n    PopupMenu.prototype.hideMenu = function () {\r\n        document.removeEventListener('mousedown', this.globalMouseDownHandler, true);\r\n        document.removeEventListener('keyup', this.menuKeyUpHandler);\r\n        this.rootLevel.hide();\r\n        if (this.ancorFocused) {\r\n            this.ancorFocused.focus();\r\n        }\r\n        if (this.menuClosedCallback) {\r\n            this.menuClosedCallback();\r\n        }\r\n    };\r\n    PopupMenu.prototype.submitMenu = function (menuItem, selectedItems) {\r\n        if (this.itemSelectedCallback) {\r\n            this.itemSelectedCallback(menuItem, selectedItems);\r\n        }\r\n    };\r\n    PopupMenu.prototype.knockMenuStyle = function (menu) {\r\n        menu.removeAttribute('style');\r\n        var ul = menu.querySelectorAll('ul').item(0);\r\n        var hasUlStyle = ul && ul.style ? true : false;\r\n        if (hasUlStyle !== false) {\r\n            ul.setAttribute('style', '');\r\n        }\r\n    };\r\n    PopupMenu.prototype.refreshItems = function () {\r\n        this.rootLevel.refreshItems();\r\n    };\r\n    PopupMenu.prototype.refreshCheckboxes = function () {\r\n        this.rootLevel.refreshCheckboxes();\r\n    };\r\n    PopupMenu.lastMenuID = 0;\r\n    return PopupMenu;\r\n}());\r\nexport { PopupMenu };\r\n//# sourceMappingURL=popup_menu.js.map","var DisplayFormatParser = /** @class */ (function () {\r\n    function DisplayFormatParser() {\r\n        this.formatStr = '';\r\n        this.pos = 0;\r\n        this.token = 'text';\r\n        this.tokenText = '';\r\n    }\r\n    DisplayFormatParser.prototype.start = function (s) {\r\n        this.formatStr = s;\r\n        this.pos = 0;\r\n        this.tokenText = '';\r\n    };\r\n    DisplayFormatParser.prototype.skipSpaces = function () {\r\n        while (this.pos < this.formatStr.length && this.formatStr.charAt(this.pos) === ' ')\r\n            this.pos++;\r\n    };\r\n    DisplayFormatParser.prototype.getToken = function () {\r\n        return this.token;\r\n    };\r\n    DisplayFormatParser.prototype.getTokenText = function () {\r\n        return this.tokenText;\r\n    };\r\n    DisplayFormatParser.prototype.next = function () {\r\n        this.skipSpaces();\r\n        if (this.pos >= this.formatStr.length)\r\n            return false;\r\n        var npos = 0;\r\n        if (this.formatStr.charAt(this.pos) === '{') {\r\n            npos = this.formatStr.indexOf('}', this.pos);\r\n            if (npos < 0)\r\n                return false;\r\n            this.tokenText = this.formatStr.substring(this.pos, npos + 1);\r\n            if (this.tokenText.indexOf('{expr') === 0 || this.tokenText.indexOf('{attr') === 0) {\r\n                this.token = 'expression';\r\n            }\r\n            this.pos = npos + 1;\r\n        }\r\n        else if (this.formatStr.charAt(this.pos) === '[' && this.pos < this.formatStr.length - 1 && this.formatStr.charAt(this.pos + 1) === '[') {\r\n            this.pos += 2;\r\n            npos = this.formatStr.indexOf(']]', this.pos);\r\n            this.token = 'function';\r\n            this.tokenText = this.formatStr.substring(this.pos, npos);\r\n            this.pos = npos + 2;\r\n        }\r\n        else {\r\n            this.token = 'text';\r\n            var npos1 = this.formatStr.indexOf('{', this.pos);\r\n            if (npos1 < 0)\r\n                npos1 = this.formatStr.length;\r\n            var npos2 = this.formatStr.indexOf('[[', this.pos);\r\n            if (npos2 < 0)\r\n                npos2 = this.formatStr.length;\r\n            npos = Math.min(npos1, npos2);\r\n            this.tokenText = this.formatStr.substring(this.pos, npos).trim();\r\n            this.pos = npos;\r\n        }\r\n        return true;\r\n    };\r\n    return DisplayFormatParser;\r\n}());\r\nexport { DisplayFormatParser };\r\n//# sourceMappingURL=display_format_parser.js.map","/**\r\n * Represents parts of Query Panel which can be editable\r\n */\r\nexport var QPEditablePart;\r\n(function (QPEditablePart) {\r\n    QPEditablePart[QPEditablePart[\"None\"] = 0] = \"None\";\r\n    QPEditablePart[QPEditablePart[\"Value\"] = 1] = \"Value\";\r\n    QPEditablePart[QPEditablePart[\"Attribute\"] = 2] = \"Attribute\";\r\n    QPEditablePart[QPEditablePart[\"Operator\"] = 4] = \"Operator\";\r\n    QPEditablePart[QPEditablePart[\"Addition\"] = 8] = \"Addition\";\r\n    QPEditablePart[QPEditablePart[\"Removal\"] = 16] = \"Removal\";\r\n    QPEditablePart[QPEditablePart[\"All\"] = 255] = \"All\";\r\n    QPEditablePart[QPEditablePart[\"NoAddition\"] = -9] = \"NoAddition\";\r\n    QPEditablePart[QPEditablePart[\"NoRemoval\"] = -17] = \"NoRemoval\";\r\n    QPEditablePart[QPEditablePart[\"FixedConditionList\"] = 5] = \"FixedConditionList\";\r\n})(QPEditablePart || (QPEditablePart = {}));\r\n//# sourceMappingURL=qp_editable_part.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { i18n, DataType } from '@easydata/core';\r\nimport { ExprTag } from '@easyquery/core';\r\nimport { createBrowserEvent, domel } from '@easydata/ui';\r\nimport { ColumnRendererCP } from './column_renderer';\r\nimport { browserUtils } from '../../../utils/browser_utils';\r\nvar SimpleColumnRendererCP = /** @class */ (function (_super) {\r\n    __extends(SimpleColumnRendererCP, _super);\r\n    function SimpleColumnRendererCP() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    SimpleColumnRendererCP.prototype.getClassesToAdd = function () {\r\n        return _super.prototype.getClassesToAdd.call(this) + \" \" + this.cssPrefix + \"-row \" + this.cssPrefix + \"-row-column-entattr\";\r\n    };\r\n    SimpleColumnRendererCP.prototype.renderExpressionBlock = function () {\r\n        var _this = this;\r\n        return domel(\"div\")\r\n            .addClass(this.cssPrefix + \"-expr-block\")\r\n            .addClass(browserUtils.getMobileCssClass())\r\n            .addChild('div', function (builder) { return builder\r\n            .addClass(_this.cssPrefix + \"-colelement\", _this.cssPrefix + \"-attrelement\")\r\n            .addClass(browserUtils.getMobileCssClass())\r\n            .addChildElement(_this.renderBaseExpression()); })\r\n            .toDOM();\r\n    };\r\n    SimpleColumnRendererCP.prototype.renderBaseExpression = function () {\r\n        var _this = this;\r\n        var attrCaption = this.getAttributeCaption(this.baseAttr);\r\n        if (this.isEditable()) {\r\n            return domel('a')\r\n                .attr('href', 'javascript:void(0)')\r\n                .title(attrCaption)\r\n                .text(attrCaption) //TO DO:add localization\r\n                .on('click', function (ev) {\r\n                ev.stopPropagation();\r\n                //ev.preventDefault();\r\n                _this.panel.showEntitiesMenu({\r\n                    anchor: ev.target,\r\n                    selectedIds: null,\r\n                    itemSelectedCallback: _this.baseExpressionItemSelectedCallback.bind(_this)\r\n                });\r\n                return false;\r\n            })\r\n                .toDOM();\r\n        }\r\n        return domel('span')\r\n            .text(attrCaption)\r\n            .title(attrCaption)\r\n            .toDOM();\r\n    };\r\n    SimpleColumnRendererCP.prototype.baseExpressionItemSelectedCallback = function (data, item) {\r\n        var attrid = data.id;\r\n        //this.column.expr.id = attrid;\r\n        this.column.expr.setValue(attrid, true);\r\n        this.column.caption = '';\r\n        this.fireColumnChanged();\r\n        return false;\r\n    };\r\n    SimpleColumnRendererCP.prototype.getUIS = function () {\r\n        var arg = this.column.expr.args[0];\r\n        if (arg) {\r\n            var model = this.panel.getContext().getModel();\r\n            return model.checkAttrProperty(arg.value, \"useInSorting\");\r\n        }\r\n        else {\r\n            return true;\r\n        }\r\n    };\r\n    SimpleColumnRendererCP.prototype.changeTypeHandler = function (ev) {\r\n        var _this = this;\r\n        this.keepShowingButtons = true;\r\n        this.functionMenu.showMenu({\r\n            anchor: ev.target,\r\n            selectedIds: null,\r\n            itemSelectedCallback: function (data, items) {\r\n                _this.processExtraButtonMenuItems(data.id, null);\r\n                return false;\r\n            },\r\n            menuClosedCallback: function () {\r\n                _this.keepShowingButtons = false;\r\n                if (!_this.isMouseOverBlock) {\r\n                    _this.element.dispatchEvent(createBrowserEvent('mouseleave'));\r\n                }\r\n            }\r\n        });\r\n    };\r\n    SimpleColumnRendererCP.prototype.changeTypeToCustomSql = function () {\r\n        var _this = this;\r\n        var query = this.column.getQuery();\r\n        query.changeColumnType(this.column, ExprTag.CustomSql);\r\n        var parentElement = this.element.parentElement;\r\n        setTimeout(function () {\r\n            //focus CustomSQL Edit\r\n            var newElement = parentElement.querySelector(\"div[data-id='\" + _this.column.id + \"']  div[class*='\" + _this.cssPrefix + \"-expr-block']  div[class*='\" + _this.cssPrefix + \"-colelement']  a\");\r\n            if (newElement)\r\n                newElement.click();\r\n        }, 500);\r\n        this.fireColumnChanged();\r\n    };\r\n    SimpleColumnRendererCP.prototype.changeTypeToAggr = function (funcId) {\r\n        var query = this.column.getQuery();\r\n        query.changeColumnType(this.column, ExprTag.AggregateFunction, { funcId: funcId });\r\n        this.fireColumnChanged();\r\n    };\r\n    SimpleColumnRendererCP.prototype.processExtraButtonMenuItems = function (action, evt) {\r\n        if (action === \"CUSTOMSQL\") {\r\n            this.changeTypeToCustomSql();\r\n        }\r\n        else {\r\n            this.changeTypeToAggr(action);\r\n        }\r\n        return true;\r\n    };\r\n    SimpleColumnRendererCP.prototype.getExtraButtonMenuItems = function () {\r\n        var items = [];\r\n        var funcs = this.panel.getContext().getModel().getAggrFunctions();\r\n        var toInclude = true;\r\n        var funcAllowed = true;\r\n        var item = null;\r\n        var attribute = this.getAttribute();\r\n        var funcCaption;\r\n        for (var idx = 0; idx < funcs.length; idx++) {\r\n            if (!funcs[idx])\r\n                continue;\r\n            toInclude = true;\r\n            if (funcs[idx].id === 'SUM' || funcs[idx].id === 'AVG') {\r\n                toInclude = [DataType.Autoinc, DataType.Byte, DataType.Currency, DataType.Float, DataType.Int32,\r\n                    DataType.Int64, DataType.Word].indexOf(attribute.dataType) >= 0;\r\n            }\r\n            else if (funcs[idx].id === 'MIN' || funcs[idx].id === 'MAX') {\r\n                toInclude = [DataType.Autoinc, DataType.BCD, DataType.Byte, DataType.Currency, DataType.Date, DataType.DateTime, DataType.Time,\r\n                    DataType.Float, DataType.Int32, DataType.Int64, DataType.Word].indexOf(attribute.dataType) >= 0;\r\n            }\r\n            if (this.column.expr.func === funcs[idx].id && !toInclude) {\r\n                funcAllowed = false;\r\n            }\r\n            if (toInclude) {\r\n                funcCaption = this.panel.getContext().getModel().getAggrFunctionCaption(funcs[idx].id);\r\n                item = {\r\n                    id: funcs[idx].id,\r\n                    text: funcCaption\r\n                };\r\n                items.push(item);\r\n            }\r\n        }\r\n        if (!funcAllowed) {\r\n            this.column.expr.func = items[0].id;\r\n        }\r\n        //Add \"Custom Expression\" menu\r\n        var columnsPanel = this.panel;\r\n        if (columnsPanel.areCustomExpressionsAllowed()) {\r\n            item = {\r\n                id: 'CustomSqlDivider',\r\n                text: '---'\r\n            };\r\n            items.push(item);\r\n            funcCaption = i18n.getText('CustomExpression');\r\n            item = {\r\n                id: 'CUSTOMSQL',\r\n                text: funcCaption\r\n            };\r\n            items.push(item);\r\n        }\r\n        return [{\r\n                id: '__group',\r\n                text: i18n.getText('ColTypeGroup'),\r\n                items: items\r\n            }];\r\n    };\r\n    return SimpleColumnRendererCP;\r\n}(ColumnRendererCP));\r\nexport { SimpleColumnRendererCP };\r\n//# sourceMappingURL=simple_column_renderer.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { i18n } from '@easydata/core';\r\nimport { ExprTag } from '@easyquery/core';\r\nimport { domel } from '@easydata/ui';\r\nimport { DisplayFormatParser } from '../../../utils/display_format_parser';\r\n;\r\nimport { SimpleColumnRendererCP } from './simple_column_renderer';\r\nimport { browserUtils } from '../../../utils/browser_utils';\r\nvar AggrFuncColumnRendererCP = /** @class */ (function (_super) {\r\n    __extends(AggrFuncColumnRendererCP, _super);\r\n    function AggrFuncColumnRendererCP() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        _this.displayFormatParser = new DisplayFormatParser();\r\n        return _this;\r\n    }\r\n    AggrFuncColumnRendererCP.prototype.getClassesToAdd = function () {\r\n        return _super.prototype.getClassesToAdd.call(this) + \" \" + this.cssPrefix + \"-row \" + this.cssPrefix + \"-row-column-aggr\";\r\n    };\r\n    AggrFuncColumnRendererCP.prototype.getAttribute = function () {\r\n        return this.panel\r\n            .getContext()\r\n            .getModel()\r\n            .getAttributeById(this.column.expr.args[0].value);\r\n    };\r\n    AggrFuncColumnRendererCP.prototype.getDefaultColumnCaption = function () {\r\n        return this.getDefaultTitleText(this.baseAttr) + ' '\r\n            + this.panel.getContext().getModel().getAggrFunctionCaption(this.column.expr.func);\r\n    };\r\n    AggrFuncColumnRendererCP.prototype.renderExpressionBlock = function () {\r\n        var _this = this;\r\n        var model = this.panel.getContext().getModel();\r\n        var exprBlockBuilder = domel(\"div\")\r\n            .addClass(this.cssPrefix + \"-expr-block\", this.cssPrefix + \"-expr-block-aggr\")\r\n            .addClass(browserUtils.getMobileCssClass());\r\n        var format = model.getAggrFunctionFormat(this.column.expr.func);\r\n        if (!format || format === '')\r\n            return;\r\n        var arrFormat = this.parseDisplayFormat(format);\r\n        if (arrFormat.length === 0)\r\n            return;\r\n        var item = null;\r\n        var arrLength = arrFormat.length;\r\n        var _loop_1 = function (idx) {\r\n            item = arrFormat[idx];\r\n            if (item.type === 1) {\r\n                if (this_1.isEditable()) {\r\n                    var functionLink_1 = domel('a')\r\n                        .attr('href', 'javascript:void(0)')\r\n                        .text(item.text)\r\n                        .on('click', function (ev) {\r\n                        ev.stopPropagation();\r\n                        _this.functionMenu.showMenu({\r\n                            anchor: functionLink_1.toDOM(),\r\n                            selectedIds: null,\r\n                            itemSelectedCallback: function (data, items) {\r\n                                if (data.id === \"CUSTOMSQL\") {\r\n                                    _this.changeTypeToCustomSql();\r\n                                }\r\n                                else {\r\n                                    _this.column.expr.func = data.id;\r\n                                    _this.column.caption = '';\r\n                                    _this.fireColumnChanged();\r\n                                }\r\n                            }\r\n                        });\r\n                    });\r\n                    exprBlockBuilder\r\n                        .addChild('div', function (builder) { return builder\r\n                        .addClass(_this.cssPrefix + \"-colelement\", _this.cssPrefix + \"-aggrfuncelement\")\r\n                        .addClass(browserUtils.getMobileCssClass())\r\n                        .addChildElement(functionLink_1.toDOM()); });\r\n                }\r\n                else {\r\n                    exprBlockBuilder\r\n                        .addChild('div', function (b) { return b\r\n                        .addClass(_this.cssPrefix + \"-colelement\", _this.cssPrefix + \"-aggrfuncelement\")\r\n                        .addClass(browserUtils.getMobileCssClass())\r\n                        .addChild('span', function (b) { return b\r\n                        .text(item.text)\r\n                        .title(item.text); }); });\r\n                }\r\n            }\r\n            else if (item.type === 2) {\r\n                exprBlockBuilder\r\n                    .addChild('div', function (builder) { return builder\r\n                    .addClass(_this.cssPrefix + \"-colelement\", _this.cssPrefix + \"-attrelement\")\r\n                    .addClass(browserUtils.getMobileCssClass())\r\n                    .addChildElement(_this.renderBaseExpression()); });\r\n            }\r\n            else if (item.type === 3) {\r\n                exprBlockBuilder\r\n                    .addChild('span', function (builder) { return builder\r\n                    .addClass(_this.cssPrefix + \"-colelement\")\r\n                    .addClass(browserUtils.getMobileCssClass())\r\n                    .text(item.text)\r\n                    .title(item.text); });\r\n            }\r\n        };\r\n        var this_1 = this;\r\n        for (var idx = 0; idx < arrLength; idx++) {\r\n            _loop_1(idx);\r\n        }\r\n        return exprBlockBuilder.toDOM();\r\n    };\r\n    AggrFuncColumnRendererCP.prototype.renderColumnTypeButton = function () {\r\n        var button = _super.prototype.renderColumnTypeButton.call(this);\r\n        if (button) {\r\n            button.firstElementChild.classList.add('aggregated');\r\n            button.firstElementChild.setAttribute('title', i18n.getText('ButtonToSimple'));\r\n        }\r\n        return button;\r\n    };\r\n    AggrFuncColumnRendererCP.prototype.baseExpressionItemSelectedCallback = function (data, item) {\r\n        var attrid = data.id;\r\n        //this.column.expr.args[0].id = attrid;\r\n        this.column.expr.args[0].setValue(attrid, true);\r\n        this.column.caption = '';\r\n        this.fireColumnChanged();\r\n        return false;\r\n    };\r\n    AggrFuncColumnRendererCP.prototype.changeTypeToSimple = function () {\r\n        var query = this.column.getQuery();\r\n        query.changeColumnType(this.column, ExprTag.EntityAttribute);\r\n        this.fireColumnChanged();\r\n    };\r\n    AggrFuncColumnRendererCP.prototype.parseDisplayFormat = function (format) {\r\n        if (!format)\r\n            return [];\r\n        var result = [];\r\n        var parser = this.displayFormatParser;\r\n        parser.start(format);\r\n        while (parser.next()) {\r\n            var token = parser.getToken();\r\n            var tokenText = parser.getTokenText();\r\n            if (token === 'function') {\r\n                result.push({ type: 1, text: tokenText });\r\n            }\r\n            else if (token === 'expression') {\r\n                result.push({ type: 2 });\r\n            }\r\n            else if (token === 'text') {\r\n                result.push({ type: 3, text: tokenText });\r\n            }\r\n        }\r\n        return result;\r\n    };\r\n    AggrFuncColumnRendererCP.prototype.changeTypeHandler = function (ev) {\r\n        this.changeTypeToSimple();\r\n    };\r\n    AggrFuncColumnRendererCP.prototype.processExtraButtonMenuItems = function (action, evt) {\r\n        this.changeTypeToSimple();\r\n        return true;\r\n    };\r\n    AggrFuncColumnRendererCP.prototype.getExtraButtonMenuItems = function () {\r\n        return [{\r\n                id: '__group',\r\n                text: i18n.getText('ColTypeGroup'),\r\n                items: [{\r\n                        id: 'type',\r\n                        text: i18n.getText('ColTypeSimple')\r\n                    }]\r\n            }];\r\n    };\r\n    return AggrFuncColumnRendererCP;\r\n}(SimpleColumnRendererCP));\r\nexport { AggrFuncColumnRendererCP };\r\n//# sourceMappingURL=aggrfunc_column_renderer.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { i18n } from '@easydata/core';\r\nimport { ExprTag } from '@easyquery/core';\r\nimport { domel } from '@easydata/ui';\r\nimport { SimpleColumnRendererCP } from './simple_column_renderer';\r\nimport { browserUtils } from '../../../utils/browser_utils';\r\nvar CustomSqlColumnRendererCP = /** @class */ (function (_super) {\r\n    __extends(CustomSqlColumnRendererCP, _super);\r\n    function CustomSqlColumnRendererCP() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    CustomSqlColumnRendererCP.prototype.getClassesToAdd = function () {\r\n        return this.cssPrefix + \"-row \" + this.cssPrefix + \"-row-column-entattr\" + _super.prototype.getClassesToAdd.call(this);\r\n    };\r\n    CustomSqlColumnRendererCP.prototype.renderColumnTypeButton = function () {\r\n        var button = _super.prototype.renderColumnTypeButton.call(this);\r\n        if (button) {\r\n            button.firstElementChild.classList.add('aggregated');\r\n            button.firstElementChild.setAttribute('title', i18n.getText('ButtonToSimple'));\r\n        }\r\n        return button;\r\n    };\r\n    CustomSqlColumnRendererCP.prototype.renderExpressionBlock = function () {\r\n        var _this = this;\r\n        if (!this.column.caption || this.column.caption == '') {\r\n            this.column.caption = this.getDefaultColumnCaption();\r\n        }\r\n        var exprBlock = domel(\"div\")\r\n            .addClass(this.cssPrefix + \"-expr-block\")\r\n            .addClass(browserUtils.getMobileCssClass())\r\n            .toDOM();\r\n        var builder = domel('div', exprBlock)\r\n            .addClass(this.cssPrefix + \"-colelement\", this.cssPrefix + \"-attrelement\")\r\n            .addClass(browserUtils.getMobileCssClass());\r\n        if (this.isEditable()) {\r\n            builder\r\n                .addChild('a', function (b) { return b\r\n                .attr('href', 'javascript:void(0)')\r\n                .title(_this.column.caption)\r\n                .text(_this.column.caption)\r\n                .on('touchstart click', function (ev) {\r\n                ev.stopPropagation();\r\n                var element = ev.target;\r\n                var inputEl = element.parentElement.querySelector('input');\r\n                if (inputEl) {\r\n                    element.style.display = 'none';\r\n                    inputEl.style.removeProperty('display');\r\n                    inputEl.style.width = \"100%\";\r\n                    inputEl.focus();\r\n                }\r\n            }); } //TO DO:add localization and input field\r\n            )\r\n                .addChild('input', function (b) { return b\r\n                .hide()\r\n                .value(_this.column.expr.sql)\r\n                .on('blur keydown', function (ev) {\r\n                var isEndEvent = false;\r\n                var save = true;\r\n                if (ev instanceof KeyboardEvent) {\r\n                    // Enter\r\n                    if (ev.keyCode === 13) {\r\n                        isEndEvent = true;\r\n                        //ESC\r\n                    }\r\n                    else if (ev.keyCode === 27) {\r\n                        isEndEvent = true;\r\n                        save = false;\r\n                    }\r\n                }\r\n                else if (ev instanceof FocusEvent) {\r\n                    isEndEvent = true;\r\n                }\r\n                if (isEndEvent) {\r\n                    var inputEl = ev.target;\r\n                    var aEl = inputEl.parentElement.querySelector('a');\r\n                    if (aEl) {\r\n                        aEl.style.removeProperty('display');\r\n                        inputEl.style.display = 'none';\r\n                    }\r\n                    if (save && _this.column.expr.sql !== inputEl.value) {\r\n                        _this.column.expr.sql = inputEl.value;\r\n                        _this.fireColumnChanged();\r\n                    }\r\n                    else {\r\n                        inputEl.value = _this.column.expr.sql;\r\n                    }\r\n                }\r\n            }); });\r\n        }\r\n        else {\r\n            builder\r\n                .addChild('span', function (b) {\r\n                b.text(_this.column.caption)\r\n                    .title(_this.column.caption);\r\n            });\r\n        }\r\n        return exprBlock;\r\n    };\r\n    CustomSqlColumnRendererCP.prototype.changeTypeToSimple = function () {\r\n        var query = this.column.getQuery();\r\n        query.changeColumnType(this.column, ExprTag.EntityAttribute);\r\n        this.fireColumnChanged();\r\n    };\r\n    CustomSqlColumnRendererCP.prototype.getDefaultColumnCaption = function () {\r\n        return \"Custom SQL Column\";\r\n    };\r\n    CustomSqlColumnRendererCP.prototype.getDefaultValue = function () {\r\n        return this.column.expr.sql;\r\n    };\r\n    CustomSqlColumnRendererCP.prototype.getUIS = function () {\r\n        return true;\r\n    };\r\n    CustomSqlColumnRendererCP.prototype.changeTypeHandler = function (ev) {\r\n        this.changeTypeToSimple();\r\n    };\r\n    CustomSqlColumnRendererCP.prototype.processExtraButtonMenuItems = function (action, evt) {\r\n        this.changeTypeToSimple();\r\n        return true;\r\n    };\r\n    CustomSqlColumnRendererCP.prototype.createFunctionMenu = function () {\r\n        // Nothing TO DO\r\n    };\r\n    CustomSqlColumnRendererCP.prototype.getExtraButtonMenuItems = function () {\r\n        return [{\r\n                id: '__group',\r\n                text: i18n.getText('ColTypeGroup'),\r\n                items: [{\r\n                        id: 'type',\r\n                        text: i18n.getText('ColTypeSimple')\r\n                    }]\r\n            }];\r\n    };\r\n    return CustomSqlColumnRendererCP;\r\n}(SimpleColumnRendererCP));\r\nexport { CustomSqlColumnRendererCP };\r\n//# sourceMappingURL=customsql_column_renderer.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { i18n } from '@easydata/core';\r\nimport { utils as dataUtils } from '@easydata/core';\r\nimport { SortDirection, ExprTag, Widget, WidgetGroup, QueryChangePart, QueryChangeAction } from '@easyquery/core';\r\nimport { eqDragManager, DropEffect, getElementAbsolutePos, domel } from '@easydata/ui';\r\nimport { PopupMenu } from '../utils/popup_menu';\r\nimport { eqCssPrefix, eqCssMobile } from '../utils/utils';\r\nimport { browserUtils } from '../utils/browser_utils';\r\nimport { AggrFuncColumnRendererCP } from './renderers/columnspanel/aggrfunc_column_renderer';\r\nimport { CustomSqlColumnRendererCP } from './renderers/columnspanel/customsql_column_renderer';\r\nimport { SimpleColumnRendererCP } from './renderers/columnspanel/simple_column_renderer';\r\nvar ColumnsPanel = /** @class */ (function (_super) {\r\n    __extends(ColumnsPanel, _super);\r\n    function ColumnsPanel(slot) {\r\n        var _this = _super.call(this, slot) || this;\r\n        _this.options = {\r\n            isSubQuery: false,\r\n            activeColumn: null,\r\n            showAddRow: true,\r\n            showHeader: true,\r\n            showColumnTitles: true,\r\n            allowAggrColumns: true,\r\n            allowDuplicates: true,\r\n            allowCustomExpressions: false,\r\n            allowSorting: true,\r\n            attrElementFormat: '{entity} {attr}',\r\n            titleElementFormat: null,\r\n            buttons: null,\r\n            alwaysShowButtons: false,\r\n            accentActiveColumn: true,\r\n            menuSearchBoxAfter: 30,\r\n            allowDragDrop: true,\r\n            menuOptions: {\r\n                showSearchBoxAfter: 30,\r\n                searchBoxAutoFocus: true,\r\n                activateOnMouseOver: true,\r\n                adjustHeight: true,\r\n                itemRenderedCallback: null\r\n            },\r\n            attrPlacement: 0,\r\n            sortEntities: false,\r\n            columnRenderedCallback: null,\r\n            customExpressionText: 0,\r\n            allowHiddenColumns: false\r\n        };\r\n        _this.landingSlot = domel('div')\r\n            .addClass(_this.cssPrefix + \"-col-landing-slot\")\r\n            .addChildElement(domel('div')\r\n            .toDOM())\r\n            .toDOM();\r\n        _this.landingIndex = -1;\r\n        _this.slot.classList.add(_this.cssPrefix + \"-panel\");\r\n        _this.group = WidgetGroup.Query;\r\n        return _this;\r\n    }\r\n    Object.defineProperty(ColumnsPanel.prototype, \"cssPrefix\", {\r\n        get: function () {\r\n            return 'eqjs-qc';\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    ColumnsPanel.prototype.getWidgetType = function () {\r\n        return 'columnsPanel';\r\n    };\r\n    ColumnsPanel.prototype.init = function (context, options) {\r\n        var _this = this;\r\n        _super.prototype.init.call(this, context, options);\r\n        this.setOptions(options);\r\n        var model = context.getModel();\r\n        this.detachQueryObserver();\r\n        this.attachQueryObserver();\r\n        eqDragManager.removeDropContainer(this.slot);\r\n        if (this.options.allowDragDrop) {\r\n            eqDragManager.registerDropContainer({\r\n                element: this.slot,\r\n                scopes: [\"entityAttr\", \"entityAttrSort\"],\r\n                onDragEnter: function (container, ev) {\r\n                    _this.slot.classList.add(eqCssPrefix + \"-drophover\");\r\n                    if (ev.item.scope === \"entityAttrSort\") {\r\n                        _this.showLandingSlot(ev.pageX, ev.pageY);\r\n                    }\r\n                    else {\r\n                        var attrId = ev.data.attrId;\r\n                        if (!model.checkAttrProperty(attrId, \"useInResult\")) {\r\n                            ev.dropEffect = DropEffect.Forbid;\r\n                        }\r\n                        ev.dragImage.classList.add('ui-sortable-helper');\r\n                    }\r\n                },\r\n                onDragOver: function (container, ev) {\r\n                    var attrId = ev.data.attrId;\r\n                    if (ev.item.scope === \"entityAttrSort\" ||\r\n                        model.checkAttrProperty(attrId, \"useInResult\")) {\r\n                        _this.showLandingSlot(ev.pageX, ev.pageY);\r\n                    }\r\n                },\r\n                onDragLeave: function (container, ev) {\r\n                    if (ev.item.scope === \"entityAttrSort\") {\r\n                        ev.dropEffect = DropEffect.Forbid;\r\n                    }\r\n                    else {\r\n                        ev.dragImage.classList.remove('ui-sortable-helper');\r\n                        ev.dragImage.style.removeProperty('width');\r\n                    }\r\n                    _this.slot.classList.remove(eqCssPrefix + \"-drophover\");\r\n                    _this.hideLandingSlot();\r\n                },\r\n                onDrop: function (container, ev) {\r\n                    if (ev.item.scope == \"entityAttrSort\") {\r\n                        var query = _this.getContext().getQuery();\r\n                        var columns = query.getColumns();\r\n                        var index = columns.indexOf(ev.data.column);\r\n                        _this.moveColumnCore(index, _this.landingIndex);\r\n                    }\r\n                    else {\r\n                        var attrId = ev.data.attrId;\r\n                        _this.addNewColumn(attrId, _this.landingIndex);\r\n                    }\r\n                }\r\n            });\r\n        }\r\n    };\r\n    ColumnsPanel.prototype.renderBaseElements = function () {\r\n        var _this = this;\r\n        var minusHeight = 0;\r\n        if (this.options.showHeader) {\r\n            var headerBuilder = domel('div', this.slot)\r\n                .hide()\r\n                .addClass(this.cssPrefix + \"-header\")\r\n                .addClass(browserUtils.getMobileCssClass())\r\n                .addChild('div', function (builder) { return builder\r\n                .addClass(_this.cssPrefix + \"-header-expression\")\r\n                .text(i18n.getText('HeaderExpression')); });\r\n            if (this.options.showColumnTitles !== false) {\r\n                headerBuilder\r\n                    .addChild('div', function (builder) { return builder\r\n                    .addClass(_this.cssPrefix + \"-header-title\")\r\n                    .text(i18n.getText('HeaderTitle')); });\r\n            }\r\n            this.headerElement = headerBuilder.toDOM();\r\n            minusHeight += this.headerElement.offsetHeight;\r\n        }\r\n        this.columnsBlock =\r\n            domel('div', this.slot)\r\n                .addClass(this.cssPrefix + \"-columns\")\r\n                .addClass(browserUtils.getMobileCssClass())\r\n                .toDOM();\r\n        if (this.options.showAddRow) {\r\n            this.addRowElement =\r\n                domel('div', this.slot)\r\n                    .addClass(eqCssPrefix + \"-addrow\", this.cssPrefix + \"-addrow\", eqCssPrefix + \"-addrow-empty\")\r\n                    .addClass(browserUtils.getMobileCssClass())\r\n                    .addChild('a', function (builder) { return builder\r\n                    .attr('href', 'javascript:void(0)')\r\n                    .text(i18n.getText('CmdClickToAddColumn'))\r\n                    .on('click', function (e) {\r\n                    e.preventDefault();\r\n                    _this.showEntitiesMenu({\r\n                        anchor: e.target,\r\n                        selectedIds: null,\r\n                        itemSelectedCallback: function (data, items) {\r\n                            var attrid = data.id;\r\n                            _this.addNewColumn(attrid);\r\n                            return false;\r\n                        }\r\n                    });\r\n                }); })\r\n                    .toDOM();\r\n            minusHeight += this.addRowElement.offsetHeight;\r\n        }\r\n        this.columnsBlock.style.maxHeight = this.slot.offsetHeight - minusHeight - 25 + \"px\";\r\n    };\r\n    ColumnsPanel.prototype.destroyCore = function () {\r\n        eqDragManager.removeDropContainer(this.slot);\r\n        this.detachQueryObserver();\r\n        this.slot.innerHTML = '';\r\n    };\r\n    ColumnsPanel.prototype.attachQueryObserver = function () {\r\n        var _this = this;\r\n        var query = this.getQuery();\r\n        this.queryEventCallbackId = query.addChangedCallback(function (event) {\r\n            //if something has changed, and that change is related to columns\r\n            var edata = event.data;\r\n            if (!edata || (edata.part != QueryChangePart.Columns && edata.part != QueryChangePart.All)) {\r\n                return;\r\n            }\r\n            var focusedBefore = document.activeElement;\r\n            var isFocusInside = _this.slot.contains(focusedBefore) || focusedBefore == document.body;\r\n            switch (edata.action) {\r\n                case QueryChangeAction.Modify: {\r\n                    var columns = edata.changee;\r\n                    var modifyColumn_1 = function (column) {\r\n                        var colEl = _this.columnsBlock.querySelector(\"div[data-id='\" + column.id + \"']\");\r\n                        if (colEl) {\r\n                            var renderer = _this.getColumnRenderer(column, colEl);\r\n                            if (renderer) {\r\n                                var newEl = renderer.render();\r\n                                if (isFocusInside) {\r\n                                    var focusElem = newEl.querySelector('a') || newEl.querySelector('.eqjs-column-button');\r\n                                    if (focusElem) {\r\n                                        focusElem.focus();\r\n                                    }\r\n                                }\r\n                            }\r\n                        }\r\n                    };\r\n                    if (Array.isArray(columns)) {\r\n                        columns.forEach(function (col) { return modifyColumn_1(col); });\r\n                    }\r\n                    else {\r\n                        modifyColumn_1(columns);\r\n                    }\r\n                    _this.agjustHeaderVisibility();\r\n                    break;\r\n                }\r\n                case QueryChangeAction.Add: {\r\n                    var columns = edata.changee;\r\n                    var addColumn_1 = function (column) {\r\n                        var index = query.getColumns().indexOf(column);\r\n                        var newEl = _this.addColumnElement(column, index);\r\n                        if (isFocusInside) {\r\n                            newEl.querySelector(\"a\").focus();\r\n                        }\r\n                    };\r\n                    if (Array.isArray(columns)) {\r\n                        columns.forEach(function (col) { return addColumn_1(col); });\r\n                    }\r\n                    else {\r\n                        addColumn_1(columns);\r\n                    }\r\n                    _this.agjustHeaderVisibility();\r\n                    break;\r\n                }\r\n                case QueryChangeAction.Delete: {\r\n                    var columns = edata.changee;\r\n                    var deleteColumn_1 = function (column) {\r\n                        var colEl = _this.columnsBlock.querySelector(\"div[data-id='\" + column.id + \"']\");\r\n                        if (colEl) {\r\n                            var next = colEl.nextSibling;\r\n                            var prev = colEl.previousSibling;\r\n                            _this.columnsBlock.removeChild(colEl);\r\n                            if (isFocusInside) {\r\n                                var focusCond = next || prev || _this.addRowElement;\r\n                                var focusElem = focusCond.querySelector('a') || focusCond.querySelector('.eqjs-column-button');\r\n                                if (focusElem) {\r\n                                    focusElem.focus();\r\n                                }\r\n                            }\r\n                        }\r\n                    };\r\n                    _this.agjustHeaderVisibility();\r\n                    if (Array.isArray(columns)) {\r\n                        columns.forEach(function (col) { return deleteColumn_1(col); });\r\n                    }\r\n                    else {\r\n                        deleteColumn_1(columns);\r\n                    }\r\n                    break;\r\n                }\r\n                default:\r\n                    _this.refresh();\r\n                    break;\r\n            }\r\n        });\r\n    };\r\n    ColumnsPanel.prototype.detachQueryObserver = function () {\r\n        if (this.queryEventCallbackId) {\r\n            var query = this.getQuery();\r\n            query.removeChangedCallback(this.queryEventCallbackId);\r\n        }\r\n    };\r\n    ColumnsPanel.prototype.getQuery = function () {\r\n        return this.getContext().getQuery();\r\n    };\r\n    ColumnsPanel.prototype.showLandingSlot = function (pageX, pageY) {\r\n        var rowElems = this.columnsBlock.querySelectorAll(\"[class*=\" + this.cssPrefix + \"-row]\");\r\n        var rows = [];\r\n        for (var i = 0; i < rowElems.length; i++) {\r\n            var rowElem = rowElems[i];\r\n            if (rowElem.style.display === 'none')\r\n                continue;\r\n            rows.push(rowElem);\r\n        }\r\n        if (rows.length === 0) {\r\n            this.landingIndex = 0;\r\n            this.columnsBlock.appendChild(this.landingSlot);\r\n            return;\r\n        }\r\n        var landingPos = getElementAbsolutePos(this.landingSlot);\r\n        if (pageY >= landingPos.y && pageY <= landingPos.y + this.landingSlot.offsetHeight) {\r\n            return;\r\n        }\r\n        var firstRow = rows[0];\r\n        var rowHeight = firstRow.offsetHeight;\r\n        var absPos = getElementAbsolutePos(firstRow);\r\n        var newLandingIndex = (pageY > absPos.y + rowHeight / 2) ? Math.round((pageY - absPos.y + rowHeight / 2) / rowHeight) : 0;\r\n        if (newLandingIndex > rows.length) {\r\n            newLandingIndex = rows.length;\r\n        }\r\n        if (newLandingIndex != this.landingIndex) {\r\n            this.landingIndex = newLandingIndex;\r\n            if (this.landingIndex < rows.length) {\r\n                this.columnsBlock.insertBefore(this.landingSlot, rows[this.landingIndex]);\r\n            }\r\n            else {\r\n                this.columnsBlock.appendChild(this.landingSlot);\r\n            }\r\n            this.landingSlot.scrollIntoView({ block: \"center\", behavior: \"smooth\" });\r\n        }\r\n    };\r\n    ColumnsPanel.prototype.hideLandingSlot = function () {\r\n        var _this = this;\r\n        this.landingIndex = -1;\r\n        setTimeout(function () {\r\n            if (_this.landingSlot.parentElement) {\r\n                _this.landingSlot.parentElement.removeChild(_this.landingSlot);\r\n            }\r\n        }, 10);\r\n    };\r\n    ColumnsPanel.prototype.setOptions = function (options) {\r\n        dataUtils.assignDeep(this.options, options);\r\n        if (browserUtils.isMobileMode()) {\r\n            this.options.buttons = [\"menu\"];\r\n            this.options.showHeader = false;\r\n        }\r\n    };\r\n    ColumnsPanel.prototype.onProcessStartCore = function () {\r\n    };\r\n    ColumnsPanel.prototype.onProcessEndCore = function () {\r\n    };\r\n    ColumnsPanel.prototype.refreshCore = function () {\r\n        this.clear();\r\n        this.render();\r\n    };\r\n    ColumnsPanel.prototype.clear = function () {\r\n        this.slot.innerHTML = \"\";\r\n    };\r\n    ColumnsPanel.prototype.render = function () {\r\n        try {\r\n            this.renderBaseElements();\r\n            this.createEntitiesMenu();\r\n            this.createColumnMenus();\r\n            this.agjustHeaderVisibility();\r\n            domel(this.slot)\r\n                .removeClass(eqCssMobile)\r\n                .addClass(browserUtils.getMobileCssClass());\r\n            var query = this.context.getQuery();\r\n            var columns = query.getColumns();\r\n            for (var _i = 0, columns_1 = columns; _i < columns_1.length; _i++) {\r\n                var column = columns_1[_i];\r\n                this.columnsBlock.appendChild(this.renderColumn(column));\r\n            }\r\n        }\r\n        catch (e) {\r\n            this.context.throwError({\r\n                action: \"ColumnsPanel rendering\",\r\n                text: e.message\r\n            });\r\n        }\r\n    };\r\n    ColumnsPanel.prototype.agjustHeaderVisibility = function () {\r\n        if (this.headerElement) {\r\n            var query = this.context.getQuery();\r\n            var columns = query.getColumns();\r\n            this.headerElement.style.display = (columns.length) ? '' : 'none';\r\n        }\r\n    };\r\n    ColumnsPanel.prototype.renderColumn = function (column) {\r\n        var renderer = this.getColumnRenderer(column);\r\n        if (renderer)\r\n            return renderer.render();\r\n        return null;\r\n    };\r\n    ColumnsPanel.prototype.toggleColumnPicked = function (column) {\r\n        var el;\r\n        var isActive;\r\n        if (column) {\r\n            el = this.columnsBlock.querySelector(\"div[data-id=\" + column.id + \"]\");\r\n            if (el) {\r\n                isActive = el.classList.contains('active');\r\n            }\r\n        }\r\n        //clear 'active' in all rows\r\n        var rows = this.columnsBlock.querySelectorAll(\".\" + this.cssPrefix + \"-row\");\r\n        for (var i = 0; i < rows.length; i++) {\r\n            var row = rows[i];\r\n            domel(row)\r\n                .removeClass('active');\r\n            if (!this.options.alwaysShowButtons) {\r\n                domel(row)\r\n                    .data(\"show-buttons\", null);\r\n            }\r\n        }\r\n        if (el && !isActive) {\r\n            domel(el)\r\n                .addClass('active')\r\n                .data(\"show-buttons\", \"\");\r\n        }\r\n    };\r\n    ColumnsPanel.prototype.addNewColumn = function (attrId, index) {\r\n        var _this = this;\r\n        var model = this.getContext().getModel();\r\n        var query = this.getContext().getQuery();\r\n        var getColumnByAttrId = function (attrid) {\r\n            var attribute = model.getAttributeById(attrid);\r\n            if (!attribute) {\r\n                return null;\r\n            }\r\n            if (!attribute.useInResult) {\r\n                if (attribute.lookupAttr) {\r\n                    attrid = attribute.lookupAttr;\r\n                    attribute = model.getAttributeById(attrid);\r\n                    if (!attribute || !attribute.useInResult) {\r\n                        return null;\r\n                    }\r\n                }\r\n                else\r\n                    return null;\r\n            }\r\n            var column = query.createColumn();\r\n            column.caption = _this.getDefaultColumnCaption(attribute);\r\n            column.sorting = SortDirection.None;\r\n            column.sortIndex = -1;\r\n            column.expr.tag = ExprTag.EntityAttribute;\r\n            //column.expr.id = attrid;\r\n            column.expr.setValue(attrid, true);\r\n            column.params.concat(attribute.params);\r\n            return column;\r\n        };\r\n        var colToAdd, col;\r\n        if (Array.isArray(attrId)) {\r\n            colToAdd = [];\r\n            for (var i = 0; i < attrId.length; i++) {\r\n                col = getColumnByAttrId(attrId[i]);\r\n                if (col) {\r\n                    colToAdd.push(col);\r\n                }\r\n            }\r\n        }\r\n        else\r\n            colToAdd = getColumnByAttrId(attrId);\r\n        this.addColumn(colToAdd, index);\r\n        return colToAdd;\r\n    };\r\n    ColumnsPanel.prototype.addColumn = function (column, index) {\r\n        var query = this.getContext().getQuery();\r\n        if (!query) {\r\n            return;\r\n        }\r\n        if (Array.isArray(column))\r\n            column = this.checkColumnsArray(column);\r\n        else\r\n            column = this.checkColumn(column);\r\n        if (!column || (Array.isArray(column) && column.length == 0)) {\r\n            return;\r\n        }\r\n        query.addColumnObj(column, index, self);\r\n        query.fireColumnsChangedEvent(QueryChangeAction.Add, column);\r\n    };\r\n    //adds one column to the panel on the specified position\r\n    ColumnsPanel.prototype.addColumnElement = function (column, index) {\r\n        var rows = this.columnsBlock.querySelectorAll(\"[class*=\" + this.cssPrefix + \"-row]\");\r\n        var newColBlock = this.renderColumn(column);\r\n        if (rows.length > 0) {\r\n            if (index < rows.length) {\r\n                this.columnsBlock.insertBefore(newColBlock, rows[index]);\r\n            }\r\n            else {\r\n                this.columnsBlock.appendChild(newColBlock);\r\n                this.scrollToBottom();\r\n            }\r\n        }\r\n        else {\r\n            this.columnsBlock.appendChild(newColBlock);\r\n            this.scrollToBottom();\r\n        }\r\n        if (this.options.columnRenderedCallback) {\r\n            this.options.columnRenderedCallback(newColBlock);\r\n        }\r\n        return newColBlock;\r\n    };\r\n    ColumnsPanel.prototype.scrollToBottom = function () {\r\n        this.columnsBlock.scrollTop = this.columnsBlock.scrollHeight - this.columnsBlock.clientHeight;\r\n    };\r\n    ColumnsPanel.prototype.checkColumnsArray = function (cols) {\r\n        var i = 0, len = cols.length;\r\n        var result = [];\r\n        for (var i_1 = 0; i_1 < len; i_1++) {\r\n            if (this.checkColumn(cols[i_1]))\r\n                result.push(cols[i_1]);\r\n        }\r\n        return result;\r\n    };\r\n    ColumnsPanel.prototype.checkColumn = function (col) {\r\n        if (!this.options.allowDuplicates) {\r\n            var query = this.getContext().getQuery();\r\n            var columns = query.getColumns();\r\n            for (var i = 0; i < columns.length; i++) {\r\n                if ((col.expr.tag === ExprTag.EntityAttribute && columns[i].expr.tag === ExprTag.EntityAttribute\r\n                    || col.expr.tag === ExprTag.ParentEntityAttribute && columns[i].expr.tag === ExprTag.ParentEntityAttribute)\r\n                    && col.expr.value === columns[i].expr.value) {\r\n                    return null;\r\n                }\r\n            }\r\n        }\r\n        return col;\r\n    };\r\n    ColumnsPanel.prototype.getDefaultColumnCaption = function (attr) {\r\n        var format = this.options.titleElementFormat || this.options.attrElementFormat;\r\n        var model = this.getContext().getModel();\r\n        return model.getAttributeText(attr, format);\r\n    };\r\n    ColumnsPanel.prototype.getColumnsBlock = function () {\r\n        return this.columnsBlock;\r\n    };\r\n    ColumnsPanel.prototype.getColumnRenderer = function (column, slot) {\r\n        switch (column.expr.tag) {\r\n            case ExprTag.AggregateFunction:\r\n                return new AggrFuncColumnRendererCP(this, column, slot);\r\n            case ExprTag.CustomSql:\r\n                return new CustomSqlColumnRendererCP(this, column, slot);\r\n            case ExprTag.EntityAttribute:\r\n            case ExprTag.ParentEntityAttribute:\r\n                return new SimpleColumnRendererCP(this, column, slot);\r\n        }\r\n        return null;\r\n    };\r\n    ColumnsPanel.prototype.areCustomExpressionsAllowed = function () {\r\n        var query = this.getQuery();\r\n        return query.isEx() && this.options.allowCustomExpressions;\r\n    };\r\n    ColumnsPanel.prototype.createEntitiesMenu = function () {\r\n        var model = this.getContext().getModel();\r\n        if (!model || model.isEmpty())\r\n            return null;\r\n        var menuId = this.slot.id;\r\n        if (menuId) {\r\n            menuId += '-EntitiesMenu';\r\n        }\r\n        var entitiesList = model.getEntitiesTree({ addUIC: false, addUIR: true, addUIS: false, attrPlacement: this.options.attrPlacement, sortEntities: this.options.sortEntities });\r\n        var options = {\r\n            id: menuId,\r\n            items: entitiesList,\r\n            adjustHeight: this.options.adjustEntitiesMenuHeight,\r\n            domWriteItemsId: this.options.domWriteItemsId\r\n        };\r\n        dataUtils.assign(options, this.options.menuOptions);\r\n        this.entitiesMenu = new PopupMenu(options);\r\n    };\r\n    ColumnsPanel.prototype.getSortMenuList = function () {\r\n        return [\r\n            { id: 'None', text: i18n.getText('CmdNotSorted') },\r\n            { id: 'Ascending', text: i18n.getText('CmdAscending') },\r\n            { id: 'Descending', text: i18n.getText('CmdDescending') },\r\n            { id: '---', text: '---' }\r\n        ];\r\n    };\r\n    ColumnsPanel.prototype.getMoveMenuList = function () {\r\n        return [\r\n            { id: 'MoveTop', text: i18n.getText('CmdMoveToFirst') },\r\n            { id: 'MoveUp', text: i18n.getText('CmdMoveToPrev') },\r\n            { id: 'MoveDown', text: i18n.getText('CmdMoveToNext') },\r\n            { id: 'MoveBottom', text: i18n.getText('CmdMoveToLast') }\r\n        ];\r\n    };\r\n    ColumnsPanel.prototype.createSortMenu = function () {\r\n        var model = this.getContext().getModel();\r\n        if (!model || model.isEmpty())\r\n            return null;\r\n        var menuId = this.slot.id;\r\n        if (menuId) {\r\n            menuId += '-SortMenu';\r\n        }\r\n        var items = this.getSortMenuList().concat(this.moveMenu.getItems());\r\n        var menuOptions = {\r\n            id: menuId,\r\n            \"items\": items,\r\n            domWriteItemsId: this.options.domWriteItemsId,\r\n            showSelected: true\r\n        };\r\n        dataUtils.assign(menuOptions, this.options.menuOptions);\r\n        menuOptions.searchBoxAlwaysShown = false;\r\n        this.sortMenu = new PopupMenu(menuOptions);\r\n    };\r\n    ColumnsPanel.prototype.createMoveMenu = function () {\r\n        var model = this.getContext().getModel();\r\n        if (!model || model.isEmpty())\r\n            return null;\r\n        var menuId = this.slot.id;\r\n        if (menuId) {\r\n            menuId += '-MoveMenu';\r\n        }\r\n        var items = dataUtils.createArrayFrom(this.getMoveMenuList());\r\n        if (this.options.allowHiddenColumns) {\r\n            items.push({ id: '---', text: '---' });\r\n            items.push({ id: 'IsHidden', text: i18n.getText('CmdHiddenColumn') });\r\n        }\r\n        var menuOptions = {\r\n            \"items\": items,\r\n            id: menuId,\r\n            domWriteItemsId: this.options.domWriteItemsId,\r\n            showSelected: true\r\n        };\r\n        dataUtils.assign(menuOptions, this.options.menuOptions);\r\n        this.moveMenu = new PopupMenu(menuOptions);\r\n        menuOptions.searchBoxAlwaysShown = false;\r\n    };\r\n    ColumnsPanel.prototype.showEntitiesMenu = function (menuOptions) {\r\n        this.entitiesMenu.showMenu(menuOptions);\r\n    };\r\n    ColumnsPanel.prototype.moveColumn = function (column, direction) {\r\n        var query = this.getContext().getQuery();\r\n        var columns = query.getColumns();\r\n        var index = columns.indexOf(column);\r\n        if (index >= 0) {\r\n            switch (direction) {\r\n                case 'MoveTop':\r\n                    if (index == 0) {\r\n                        return;\r\n                    }\r\n                    this.moveColumnCore(index, 0);\r\n                    break;\r\n                case 'MoveUp':\r\n                    if (index == 0) {\r\n                        return;\r\n                    }\r\n                    this.moveColumnCore(index, index - 1);\r\n                    break;\r\n                case 'MoveDown':\r\n                    if (index == columns.length - 1) {\r\n                        return;\r\n                    }\r\n                    this.moveColumnCore(index, index + 1);\r\n                    break;\r\n                case 'MoveBottom':\r\n                    if (index == columns.length - 1) {\r\n                        return;\r\n                    }\r\n                    this.moveColumnCore(index, columns.length - 1);\r\n                    break;\r\n            }\r\n            ;\r\n        }\r\n    };\r\n    ColumnsPanel.prototype.moveColumnCore = function (index1, index2) {\r\n        var query = this.getContext().getQuery();\r\n        if (!query)\r\n            return;\r\n        var rows = this.columnsBlock.querySelectorAll(\"[class*=\" + this.cssPrefix + \"-row]\");\r\n        var colToMove = rows[index1];\r\n        if (index2 == 0) {\r\n            this.columnsBlock.insertBefore(colToMove, this.columnsBlock[0]);\r\n        }\r\n        else if (index2 > 0 && index2 < rows.length - 1) {\r\n            if (index1 < index2) {\r\n                this.columnsBlock.insertBefore(colToMove, rows[index2 + 1]);\r\n            }\r\n            else {\r\n                this.columnsBlock.insertBefore(colToMove, rows[index2]);\r\n            }\r\n        }\r\n        else {\r\n            this.columnsBlock.appendChild(colToMove);\r\n        }\r\n        query.moveColumn(index1, index2);\r\n        query.fireColumnsChangedEvent();\r\n    };\r\n    ColumnsPanel.prototype.createColumnMenus = function () {\r\n        this.createMoveMenu();\r\n        if (this.options.allowSorting) {\r\n            this.createSortMenu();\r\n        }\r\n    };\r\n    return ColumnsPanel;\r\n}(Widget));\r\nexport { ColumnsPanel };\r\n//# sourceMappingURL=columns_panel.js.map","import { i18n } from '@easydata/core';\r\nimport { QueryChangeAction, SortDirection } from \"@easyquery/core\";\r\nimport { eqDragManager, DropEffect, createBrowserEvent, domel } from '@easydata/ui';\r\nimport { eqCssPrefix } from '../../../utils/utils';\r\nimport { browserUtils } from '../../../utils/browser_utils';\r\nimport { PopupMenu } from '../../../utils/popup_menu';\r\nvar ColumnRendererCB = /** @class */ (function () {\r\n    function ColumnRendererCB(panel, column, slot) {\r\n        this.functionMenu = null;\r\n        this.isMouseOverBlock = false;\r\n        this.keepShowingButtons = false;\r\n        this.tapedTwice = false;\r\n        this.bar = panel;\r\n        this.column = column;\r\n        this.element = slot;\r\n    }\r\n    Object.defineProperty(ColumnRendererCB.prototype, \"cssPrefix\", {\r\n        get: function () {\r\n            return 'eqjs-cb';\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    ColumnRendererCB.prototype.render = function () {\r\n        var _this = this;\r\n        this.baseAttr = this.getAttribute();\r\n        var builder = domel('div');\r\n        builder.data('id', this.column.id);\r\n        if (this.element) {\r\n            //to remove all event listeners\r\n            this.element.parentNode\r\n                .replaceChild(builder.toDOM(), this.element);\r\n        }\r\n        this.element = builder.toDOM();\r\n        if (this.bar.options.allowDragDrop) {\r\n            eqDragManager.registerDraggableItem({\r\n                element: this.element,\r\n                scope: \"entityAttrSort\",\r\n                beforeDragStart: function () { return _this.element.dispatchEvent(createBrowserEvent('mouseleave')); },\r\n                onDragStart: function (ev) {\r\n                    _this.hideButtons();\r\n                    _this.element.style.display = 'none';\r\n                    ev.dropEffect = DropEffect.Allow;\r\n                },\r\n                onDragEnd: function (ev) {\r\n                    if (!ev.data.finishedSuccessfully) {\r\n                        _this.element.removeAttribute('style');\r\n                    }\r\n                },\r\n                data: { column: this.column }\r\n            });\r\n        }\r\n        if (!this.column.isReadOnly()) {\r\n            this.createFunctionMenu();\r\n        }\r\n        builder\r\n            .addClass(this.getClassesToAdd())\r\n            .addClass(browserUtils.getMobileCssClass())\r\n            //        .addChildElement(this.renderExpressionBlock())\r\n            .addChildElement(this.renderCaptionBlock())\r\n            .addChildElement(this.renderSortingImage());\r\n        if (!browserUtils.isMobileMode()) {\r\n            builder\r\n                .addChildElement(this.renderButtonsBlock());\r\n        }\r\n        //start event listeners\r\n        builder\r\n            .on('mouseenter', this.onMouseEnter.bind(this))\r\n            .on('mouseleave', this.onMouseLeave.bind(this));\r\n        //end event listeners\r\n        if (this.bar.options.accentActiveColumn || browserUtils.isMobileMode()) {\r\n            builder\r\n                .on('touchstart click', this.onMouseClick.bind(this));\r\n        }\r\n        return this.element;\r\n    };\r\n    ColumnRendererCB.prototype.fireColumnChanged = function () {\r\n        this.column.fireChangedEvent();\r\n    };\r\n    ColumnRendererCB.prototype.refresh = function () {\r\n        this.render();\r\n    };\r\n    ColumnRendererCB.prototype.getAttribute = function () {\r\n        var model = this.bar.getContext().getModel();\r\n        return model.getAttributeById(this.column.expr.value);\r\n    };\r\n    ColumnRendererCB.prototype.isEditable = function () {\r\n        return this.column.enabled && !this.column.isReadOnly();\r\n    };\r\n    ColumnRendererCB.prototype.renderButtonsBlock = function () {\r\n        return domel('div', this.element)\r\n            .addClass(eqCssPrefix + \"-column-buttonsBlock\", this.cssPrefix + \"-buttonsBlock\")\r\n            //.addClass(browserUtils.getMobileCssClass())\r\n            .addChildElement(this.renderSortingButton())\r\n            .addChildElement(this.renderColumnTypeButton())\r\n            .addChildElement(this.renderDeleteButton())\r\n            .toDOM();\r\n    };\r\n    ColumnRendererCB.prototype.renderButtonsBlockMobile = function () {\r\n        var builder = domel('div', this.element)\r\n            .addClass(eqCssPrefix + \"-column-buttonsBlock-mobile\")\r\n            .addChildElement(this.renderSortingButton())\r\n            .addChildElement(this.renderColumnTypeButton())\r\n            .addChildElement(this.renderDeleteButton())\r\n            .addChildElement(this.renderCaptionEditorMobile());\r\n        return builder.toDOM();\r\n    };\r\n    ColumnRendererCB.prototype.renderCaptionEditorMobile = function () {\r\n        return domel('div').toDOM();\r\n    };\r\n    ColumnRendererCB.prototype.renderCaptionBlock = function () {\r\n        var _this = this;\r\n        if (!this.column.caption || this.column.caption == '') {\r\n            this.column.caption = this.getDefaultCaption();\r\n        }\r\n        if (!this.isEditable()) {\r\n            return domel('div')\r\n                .addClass(this.cssPrefix + \"-colelement\", this.cssPrefix + \"-captionelement\")\r\n                .addClass(browserUtils.getMobileCssClass())\r\n                .addChild('div', function (b) { return b\r\n                .title(_this.column.caption)\r\n                .text(_this.column.caption)\r\n                .attr('tabIndex', '0'); })\r\n                .toDOM();\r\n        }\r\n        var tapHandler = function (ev) {\r\n            if (!_this.tapedTwice) {\r\n                _this.tapedTwice = true;\r\n                setTimeout(function () { _this.tapedTwice = false; }, 300);\r\n            }\r\n        };\r\n        var isFocused = false;\r\n        domel(this.element).on('touchstart dblclick', function (ev) {\r\n            if (ev instanceof TouchEvent && !_this.tapedTwice) {\r\n                tapHandler(ev);\r\n                return true;\r\n            }\r\n            ev.stopPropagation();\r\n            isFocused = _this.element.querySelector('a') == document.activeElement;\r\n            var inputEl = _this.element.querySelector(\".\" + _this.cssPrefix + \"-captionelement input\");\r\n            var aEl = _this.element.querySelector(\".\" + _this.cssPrefix + \"-captionelement a\");\r\n            if (inputEl) {\r\n                inputEl.style.width = _this.element.clientWidth + \"px\";\r\n                aEl.style.display = 'none';\r\n                inputEl.style.removeProperty('display');\r\n                inputEl.focus();\r\n                _this.element.setAttribute(eqDragManager.DRAG_DISABLED_ATTR, '');\r\n            }\r\n            return false;\r\n        }); //TO DO:add localization and input field);\r\n        return domel('div')\r\n            .addClass(this.cssPrefix + \"-colelement\", this.cssPrefix + \"-captionelement\")\r\n            .addClass(browserUtils.getMobileCssClass())\r\n            .addChild('a', function (builder) { return builder\r\n            .attr('href', 'javascript:void(0)')\r\n            .title(_this.column.caption)\r\n            .text(_this.column.caption)\r\n            .on('keydown', function (e) {\r\n            var evt = e;\r\n            var isCtrlEnter = (evt.ctrlKey || evt.metaKey) && (evt.keyCode == 13 || evt.keyCode == 10);\r\n            if (isCtrlEnter && _this.isColumnActive()) {\r\n                var clickEvent = document.createEvent('MouseEvents');\r\n                clickEvent.initEvent('dblclick', true, true);\r\n                _this.element.dispatchEvent(clickEvent);\r\n                evt.stopPropagation();\r\n                return false;\r\n            }\r\n            return true;\r\n        }); })\r\n            .addChild('input', function (builder) { return builder\r\n            .hide()\r\n            .value(_this.column.caption)\r\n            .on('blur keydown', function (ev) {\r\n            var isEndEvent = false;\r\n            var save = true;\r\n            if (ev instanceof KeyboardEvent) {\r\n                // Enter\r\n                if (ev.keyCode === 13) {\r\n                    isEndEvent = true;\r\n                    //ESC\r\n                }\r\n                else if (ev.keyCode === 27) {\r\n                    isEndEvent = true;\r\n                    save = false;\r\n                }\r\n            }\r\n            else if (ev instanceof FocusEvent) {\r\n                isEndEvent = true;\r\n            }\r\n            if (isEndEvent) {\r\n                var inputEl = ev.target;\r\n                var aEl = inputEl.parentElement.querySelector('a');\r\n                if (aEl) {\r\n                    aEl.style.removeProperty('display');\r\n                    inputEl.style.display = 'none';\r\n                }\r\n                if (save && _this.column.caption !== inputEl.value) {\r\n                    _this.column.caption = inputEl.value;\r\n                    _this.fireColumnChanged();\r\n                }\r\n                else {\r\n                    inputEl.value = _this.column.caption;\r\n                }\r\n                _this.element.removeAttribute(eqDragManager.DRAG_DISABLED_ATTR);\r\n                if (isFocused) {\r\n                    _this.element.querySelector('a').focus();\r\n                }\r\n            }\r\n        }); })\r\n            .toDOM();\r\n    };\r\n    ColumnRendererCB.prototype.renderSortingImage = function () {\r\n        var _this = this;\r\n        var sortButtonCssClass = eqCssPrefix + \"-column-sortbutton\";\r\n        var sortButtonDirectionCssClass = sortButtonCssClass;\r\n        switch (this.column.sorting) {\r\n            case SortDirection.Ascending:\r\n                sortButtonDirectionCssClass = sortButtonCssClass + \"-asc\";\r\n                break;\r\n            case SortDirection.Descending:\r\n                sortButtonDirectionCssClass = sortButtonCssClass + \"-desc\";\r\n                break;\r\n        }\r\n        if (this.column.sorting == SortDirection.None) {\r\n            return null;\r\n        }\r\n        else {\r\n            return domel('div')\r\n                .addClass(this.cssPrefix + \"-colelement\", this.cssPrefix + \"-sortimage-placeholder\")\r\n                .addClass(browserUtils.getMobileCssClass())\r\n                .addChild('div', function (builder) { return builder\r\n                .addClass(_this.cssPrefix + \"-img-sorting\", sortButtonDirectionCssClass)\r\n                .title(i18n.getText('ButtonSorting')); })\r\n                .toDOM();\r\n        }\r\n    };\r\n    ColumnRendererCB.prototype.buttonSortingClickHandler = function (ev, anchor) {\r\n        var _this = this;\r\n        ev.stopPropagation();\r\n        this.keepShowingButtons = true;\r\n        var menu = this.getUIS() ? this.bar.sortMenu || this.bar.moveMenu : this.bar.moveMenu;\r\n        menu.showMenu({\r\n            anchor: anchor,\r\n            selectedIds: null,\r\n            itemSelectedCallback: function (data, items) {\r\n                var strToSortDirection = function (str) {\r\n                    if (str == 'None') {\r\n                        return SortDirection.None;\r\n                    }\r\n                    else if (str == \"Ascending\") {\r\n                        return SortDirection.Ascending;\r\n                    }\r\n                    else if (str == \"Descending\") {\r\n                        return SortDirection.Descending;\r\n                    }\r\n                };\r\n                if (data.id == 'None' || data.id == \"Ascending\" || data.id == \"Descending\") {\r\n                    var query = _this.bar.getQuery();\r\n                    _this.column.sorting = strToSortDirection(data.id);\r\n                    _this.column.sortIndex = query.getColumnSortIndex(_this.column);\r\n                    _this.fireColumnChanged();\r\n                }\r\n                else {\r\n                    _this.bar.moveColumn(_this.column, data.id);\r\n                }\r\n            },\r\n            menuClosedCallback: function () {\r\n                _this.keepShowingButtons = false;\r\n                if (!_this.isMouseOverBlock) {\r\n                    _this.leaveButtonBlock();\r\n                }\r\n            }\r\n        });\r\n        return false;\r\n    };\r\n    ColumnRendererCB.prototype.renderSortingButton = function () {\r\n        var _this = this;\r\n        if (!this.isEditable()) {\r\n            return null;\r\n        }\r\n        var builder = domel('div')\r\n            .addClass(eqCssPrefix + \"-column-button\", eqCssPrefix + \"-column-sortbutton\", eqCssPrefix + \"-column-sortbutton-none\")\r\n            .title(i18n.getText('ButtonSorting'))\r\n            .attr('tabIndex', '0')\r\n            .on('touchstart click', function (ev) { return _this.buttonSortingClickHandler(ev, builder.toDOM()); })\r\n            .on('keypress', function (evt) { if (evt.keyCode == 13) {\r\n            evt.target.click();\r\n        } });\r\n        return builder.toDOM();\r\n    };\r\n    ColumnRendererCB.prototype.buttonDeleteClickHandler = function (ev) {\r\n        ev.stopPropagation();\r\n        var query = this.bar.getQuery();\r\n        query.removeColumn(this.column, this.bar);\r\n        query.fireColumnsChangedEvent(QueryChangeAction.Delete, this.column);\r\n        return false;\r\n    };\r\n    ColumnRendererCB.prototype.renderDeleteButton = function () {\r\n        var _this = this;\r\n        if (this.column.isReadOnly()) {\r\n            return null;\r\n        }\r\n        return domel('div')\r\n            .addClass(eqCssPrefix + \"-column-button\", eqCssPrefix + \"-column-button-delete\")\r\n            .title(i18n.getText('CmdDelete'))\r\n            .attr('tabIndex', '0')\r\n            .on('touchstart click', function (ev) { return _this.buttonDeleteClickHandler(ev); })\r\n            .on('keypress', function (evt) { if (evt.keyCode == 13) {\r\n            evt.target.click();\r\n        } })\r\n            .toDOM();\r\n    };\r\n    ColumnRendererCB.prototype.getDefaultCaption = function () {\r\n        return this.getDefaultTitleText(this.baseAttr);\r\n    };\r\n    ColumnRendererCB.prototype.getDefaultTitleText = function (attr) {\r\n        var format = this.bar.options.titleElementFormat || this.bar.options.attrElementFormat;\r\n        var model = this.bar.getContext().getModel();\r\n        return model.getAttributeText(attr, format);\r\n    };\r\n    ColumnRendererCB.prototype.getClassesToAdd = function () {\r\n        var result = \"\";\r\n        result += this.column.enabled ? '' : \" \" + this.cssPrefix + \"-disabled\";\r\n        if (this.column.enabled) {\r\n            result += this.column.isReadOnly() ? \" \" + this.cssPrefix + \"-readonly\" : '';\r\n        }\r\n        return result;\r\n    };\r\n    ColumnRendererCB.prototype.buttonTypeClickHandler = function (ev) {\r\n        ev.stopPropagation();\r\n        this.keepShowingButtons = true;\r\n        this.changeTypeHandler(ev);\r\n        return false;\r\n    };\r\n    ColumnRendererCB.prototype.renderColumnTypeButton = function () {\r\n        var _this = this;\r\n        if (!this.isEditable()) {\r\n            return null;\r\n        }\r\n        return domel('div')\r\n            .addClass(eqCssPrefix + \"-column-button\", eqCssPrefix + \"-column-button-type\")\r\n            .title(i18n.getText('ButtonToAggr'))\r\n            .attr('tabIndex', '0')\r\n            .on('touchstart click', function (ev) { return _this.buttonTypeClickHandler(ev); })\r\n            .on('keypress', function (evt) { if (evt.keyCode == 13) {\r\n            evt.target.click();\r\n        } })\r\n            .toDOM();\r\n    };\r\n    ColumnRendererCB.prototype.getUIS = function () {\r\n        return this.bar\r\n            .getContext().getModel()\r\n            .checkAttrProperty(this.column.expr.value, \"useInSorting\");\r\n    };\r\n    ColumnRendererCB.prototype.onMouseClick = function (ev) {\r\n        this.bar.toggleColumnPicked(this.column);\r\n        this.adjustButtonsVisibility();\r\n        // if (!browserUtils.isMobileMode()) {\r\n        //     this.element.dispatchEvent(createBrowserEvent(\"mouseenter\"));\r\n        // }\r\n    };\r\n    ColumnRendererCB.prototype.onMouseEnter = function (e) {\r\n        if (browserUtils.isMobileMode())\r\n            return;\r\n        this.isMouseOverBlock = true;\r\n        this.enterButtonBlock();\r\n        e.stopPropagation();\r\n        return false;\r\n    };\r\n    ColumnRendererCB.prototype.onMouseLeave = function (e) {\r\n        if (browserUtils.isMobileMode())\r\n            return;\r\n        this.isMouseOverBlock = false;\r\n        this.leaveButtonBlock();\r\n        e.stopPropagation();\r\n        return false;\r\n    };\r\n    ColumnRendererCB.prototype.isColumnActive = function () {\r\n        return this.element.classList.contains(\"active\");\r\n    };\r\n    ColumnRendererCB.prototype.hideButtons = function () {\r\n        if (browserUtils.isMobileMode()) {\r\n            if (this.onHideButtonsMobile) {\r\n                this.onHideButtonsMobile();\r\n            }\r\n        }\r\n        else {\r\n            domel(this.element).data(\"show-buttons\", null);\r\n        }\r\n    };\r\n    ColumnRendererCB.prototype.showButtons = function () {\r\n        if (browserUtils.isMobileMode()) {\r\n            if (this.onShowButtonsMobile) {\r\n                this.onShowButtonsMobile();\r\n            }\r\n        }\r\n        else {\r\n            domel(this.element).data(\"show-buttons\", \"\");\r\n        }\r\n    };\r\n    ColumnRendererCB.prototype.adjustButtonsVisibility = function () {\r\n        if (this.bar.options.alwaysShowButtons\r\n            || ((this.bar.options.accentActiveColumn || browserUtils.isMobileMode())\r\n                && this.isColumnActive())) {\r\n            this.showButtons();\r\n        }\r\n        else {\r\n            this.hideButtons();\r\n        }\r\n    };\r\n    ColumnRendererCB.prototype.enterButtonBlock = function () {\r\n        this.showButtons();\r\n    };\r\n    ColumnRendererCB.prototype.leaveButtonBlock = function () {\r\n        if (this.bar.options.alwaysShowButtons != true && (!this.isColumnActive() || this.bar.options.accentActiveColumn != true)) {\r\n            this.hideButtons();\r\n        }\r\n    };\r\n    ColumnRendererCB.prototype.createFunctionMenu = function () {\r\n        var items = [];\r\n        var funcs = this.bar.getContext().getModel().getAggrFunctions();\r\n        var funcAllowed = true;\r\n        var item = null;\r\n        var attribute = this.getAttribute();\r\n        var funcCaption;\r\n        for (var _i = 0, funcs_1 = funcs; _i < funcs_1.length; _i++) {\r\n            var func = funcs_1[_i];\r\n            if (!func)\r\n                continue;\r\n            var toInclude = func.appliedTypes.indexOf(attribute.dataType) >= 0;\r\n            if (this.column.expr.func === func.id && !toInclude) {\r\n                funcAllowed = false;\r\n            }\r\n            if (toInclude) {\r\n                funcCaption = this.bar.getContext().getModel()\r\n                    .getAggrFunctionCaption(func.id);\r\n                item = {\r\n                    id: func.id,\r\n                    text: funcCaption\r\n                };\r\n                items.push(item);\r\n            }\r\n        }\r\n        if (!funcAllowed) {\r\n            this.column.expr.func = items[0].id;\r\n        }\r\n        //Add \"Custom Expression\" menu\r\n        var columnsPanel = this.bar;\r\n        if (columnsPanel.areCustomExpressionsAllowed()) {\r\n            item = {\r\n                id: 'CustomSqlDivider',\r\n                text: '---'\r\n            };\r\n            items.push(item);\r\n            funcCaption = i18n.getText('CustomExpression');\r\n            item = {\r\n                id: 'CUSTOMSQL',\r\n                text: funcCaption\r\n            };\r\n            items.push(item);\r\n        }\r\n        var menuId = this.element.id;\r\n        if (menuId) {\r\n            menuId += '-FunctionsMenu';\r\n        }\r\n        var menuOptions = {\r\n            items: items,\r\n            id: menuId,\r\n            searchBoxAlwaysShown: false,\r\n            domWriteItemsId: true //this.panel.options.domWriteItemsId\r\n        };\r\n        this.functionMenu = new PopupMenu(menuOptions);\r\n    };\r\n    return ColumnRendererCB;\r\n}());\r\nexport { ColumnRendererCB };\r\n//# sourceMappingURL=column_renderer.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { ExprTag } from '@easyquery/core';\r\nimport { createBrowserEvent } from '@easydata/ui';\r\nimport { ColumnRendererCB } from './column_renderer';\r\nvar SimpleColumnRendererCB = /** @class */ (function (_super) {\r\n    __extends(SimpleColumnRendererCB, _super);\r\n    function SimpleColumnRendererCB() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    SimpleColumnRendererCB.prototype.getClassesToAdd = function () {\r\n        return _super.prototype.getClassesToAdd.call(this) + \" \" + this.cssPrefix + \"-row \" + this.cssPrefix + \"-row-column-entattr\";\r\n    };\r\n    SimpleColumnRendererCB.prototype.baseExpressionItemSelectedCallback = function (data, item) {\r\n        var attrid = data.id;\r\n        //this.column.expr.id = attrid;\r\n        this.column.expr.setValue(attrid, true);\r\n        this.column.caption = '';\r\n        this.refresh();\r\n        this.fireColumnChanged();\r\n    };\r\n    SimpleColumnRendererCB.prototype.getUIS = function () {\r\n        var arg = this.column.expr.args[0];\r\n        if (arg) {\r\n            var model = this.bar.getContext().getModel();\r\n            return model.checkAttrProperty(arg.value, \"useInSorting\");\r\n        }\r\n        else {\r\n            return true;\r\n        }\r\n    };\r\n    SimpleColumnRendererCB.prototype.changeTypeToCustomSql = function () {\r\n        var query = this.column.getQuery();\r\n        query.changeColumnType(this.column, ExprTag.CustomSql);\r\n        this.fireColumnChanged();\r\n    };\r\n    SimpleColumnRendererCB.prototype.changeTypeToAggr = function (funcId) {\r\n        var query = this.column.getQuery();\r\n        query.changeColumnType(this.column, ExprTag.AggregateFunction, { funcId: funcId });\r\n        this.fireColumnChanged();\r\n    };\r\n    SimpleColumnRendererCB.prototype.changeTypeHandler = function (ev) {\r\n        var _this = this;\r\n        this.functionMenu.showMenu({\r\n            anchor: ev.target,\r\n            selectedIds: null,\r\n            itemSelectedCallback: function (data, items) {\r\n                if (data.id == \"CUSTOMSQL\") {\r\n                    _this.changeTypeToCustomSql();\r\n                }\r\n                else {\r\n                    _this.changeTypeToAggr(data.id);\r\n                }\r\n                return false;\r\n            },\r\n            menuClosedCallback: function () {\r\n                _this.keepShowingButtons = false;\r\n                if (!_this.isMouseOverBlock) {\r\n                    _this.element.dispatchEvent(createBrowserEvent('mouseleave'));\r\n                }\r\n            }\r\n        });\r\n    };\r\n    return SimpleColumnRendererCB;\r\n}(ColumnRendererCB));\r\nexport { SimpleColumnRendererCB };\r\n//# sourceMappingURL=simple_column_renderer.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { i18n } from '@easydata/core';\r\nimport { ExprTag } from '@easyquery/core';\r\nimport { SimpleColumnRendererCB } from './simple_column_renderer';\r\nvar AggrFuncColumnRendererCB = /** @class */ (function (_super) {\r\n    __extends(AggrFuncColumnRendererCB, _super);\r\n    function AggrFuncColumnRendererCB() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    AggrFuncColumnRendererCB.prototype.getClassesToAdd = function () {\r\n        return _super.prototype.getClassesToAdd.call(this) + \" \" + this.cssPrefix + \"-row \" + this.cssPrefix + \"-row-column-aggr\";\r\n    };\r\n    AggrFuncColumnRendererCB.prototype.getAttribute = function () {\r\n        return this.bar\r\n            .getContext()\r\n            .getModel()\r\n            .getAttributeById(this.column.expr.args[0].value);\r\n    };\r\n    AggrFuncColumnRendererCB.prototype.getDefaultCaption = function () {\r\n        return this.getDefaultTitleText(this.baseAttr) + ' '\r\n            + this.bar.getContext().getModel().getAggrFunctionCaption(this.column.expr.func);\r\n    };\r\n    AggrFuncColumnRendererCB.prototype.renderColumnTypeButton = function () {\r\n        var button = _super.prototype.renderColumnTypeButton.call(this);\r\n        if (button) {\r\n            button.classList.add('aggregated');\r\n            button.title = i18n.getText('ButtonToSimple');\r\n        }\r\n        return button;\r\n    };\r\n    AggrFuncColumnRendererCB.prototype.baseExpressionItemSelectedCallback = function (data, item) {\r\n        var attrid = data.id;\r\n        //this.column.expr.args[0].id = attrid;\r\n        this.column.expr.args[0].setValue(attrid, true);\r\n        this.column.caption = '';\r\n        this.fireColumnChanged();\r\n    };\r\n    AggrFuncColumnRendererCB.prototype.changeTypeToSimple = function () {\r\n        var query = this.column.getQuery();\r\n        query.changeColumnType(this.column, ExprTag.EntityAttribute);\r\n        this.fireColumnChanged();\r\n    };\r\n    AggrFuncColumnRendererCB.prototype.changeTypeHandler = function (ev) {\r\n        this.changeTypeToSimple();\r\n    };\r\n    return AggrFuncColumnRendererCB;\r\n}(SimpleColumnRendererCB));\r\nexport { AggrFuncColumnRendererCB };\r\n//# sourceMappingURL=aggrfunc_column_renderer.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { i18n } from '@easydata/core';\r\nimport { utils as dataUtils } from '@easydata/core';\r\nimport { ExprTag, SortDirection, QueryChangePart, QueryChangeAction, Widget, WidgetGroup } from '@easyquery/core';\r\nimport { eqDragManager, DropEffect, getElementAbsolutePos, domel } from '@easydata/ui';\r\nimport { PopupMenu } from '../utils/popup_menu';\r\nimport { eqCssPrefix } from '../utils/utils';\r\nimport { browserUtils } from '../utils/browser_utils';\r\nimport { AggrFuncColumnRendererCB } from './renderers/columnsbar/aggrfunc_column_renderer';\r\nimport { SimpleColumnRendererCB } from './renderers/columnsbar/simple_column_renderer';\r\nvar ColumnsBar = /** @class */ (function (_super) {\r\n    __extends(ColumnsBar, _super);\r\n    function ColumnsBar(slot, customQuery) {\r\n        var _this = _super.call(this, slot) || this;\r\n        _this.options = {\r\n            isSubQuery: false,\r\n            activeColumn: null,\r\n            showAddRow: true,\r\n            showHeader: true,\r\n            showColumnTitles: true,\r\n            allowAggrColumns: true,\r\n            allowDuplicates: true,\r\n            allowCustomExpressions: false,\r\n            allowSorting: true,\r\n            attrElementFormat: '{entity} {attr}',\r\n            titleElementFormat: null,\r\n            alwaysShowButtons: false,\r\n            accentActiveColumn: true,\r\n            menuSearchBoxAfter: 30,\r\n            allowDragDrop: true,\r\n            menuOptions: {\r\n                showSearchBoxAfter: 30,\r\n                searchBoxAutoFocus: true,\r\n                activateOnMouseOver: true,\r\n                adjustHeight: true,\r\n                itemRenderedCallback: null\r\n            },\r\n            attrPlacement: 0,\r\n            sortEntities: false,\r\n            columnRenderedCallback: null,\r\n            customExpressionText: 0,\r\n        };\r\n        _this.landingSlot = domel('div')\r\n            .addClass('ui-sortablep-placholder', 'ui-state-highlight', eqCssPrefix + \"-highlight\")\r\n            .toDOM();\r\n        _this.landingIndex = -1;\r\n        _this.sortMenuList = [\r\n            { id: 'None', text: i18n.getText('CmdNotSorted') },\r\n            { id: 'Ascending', text: i18n.getText('CmdAscending') },\r\n            { id: 'Descending', text: i18n.getText('CmdDescending') },\r\n            { id: '---', text: '---' }\r\n        ];\r\n        _this.moveMenuList = [\r\n            { id: 'MoveTop', text: i18n.getText('CmdMoveToFirst') },\r\n            { id: 'MoveUp', text: i18n.getText('CmdMoveToPrev') },\r\n            { id: 'MoveDown', text: i18n.getText('CmdMoveToNext') },\r\n            { id: 'MoveBottom', text: i18n.getText('CmdMoveToLast') }\r\n        ];\r\n        domel(_this.slot)\r\n            .addClass(_this.cssPrefix + \"-panel\")\r\n            .addClass(browserUtils.getMobileCssClass());\r\n        _this.group = WidgetGroup.Query;\r\n        _this.customQuery = customQuery;\r\n        return _this;\r\n    }\r\n    Object.defineProperty(ColumnsBar.prototype, \"cssPrefix\", {\r\n        get: function () {\r\n            return \"eqjs-cb\";\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    ColumnsBar.prototype.getWidgetType = function () {\r\n        return 'columnsPanel';\r\n    };\r\n    ColumnsBar.prototype.init = function (context, options) {\r\n        var _this = this;\r\n        _super.prototype.init.call(this, context, options);\r\n        this.setOptions(options);\r\n        this.detachQueryObserver();\r\n        this.attachQueryObserver();\r\n        eqDragManager.removeDropContainer(this.slot);\r\n        if (this.options.allowDragDrop) {\r\n            eqDragManager.registerDropContainer({\r\n                element: this.slot,\r\n                scopes: [\"entityAttrSort\"],\r\n                onDragEnter: function (container, ev) {\r\n                    _this.showLandingSlot(ev.pageX, ev.pageY);\r\n                },\r\n                onDragOver: function (container, ev) {\r\n                    _this.showLandingSlot(ev.pageX, ev.pageY);\r\n                },\r\n                onDragLeave: function (container, ev) {\r\n                    ev.dropEffect = DropEffect.Forbid;\r\n                    _this.hideLandingSlot();\r\n                },\r\n                onDrop: function (container, ev) {\r\n                    var query = _this.getContext().getQuery();\r\n                    var columns = query.getColumns();\r\n                    var index = columns.indexOf(ev.data.column);\r\n                    _this.moveColumnCore(index, _this.landingIndex);\r\n                }\r\n            });\r\n        }\r\n    };\r\n    ColumnsBar.prototype.attachQueryObserver = function () {\r\n        var _this = this;\r\n        var query = this.getQuery();\r\n        this.queryEventCallbackId = query.addChangedCallback(function (event) {\r\n            //if something has changed, and that change is related to columns\r\n            var edata = event.data;\r\n            if (!edata || (edata.part != QueryChangePart.Columns && edata.part != QueryChangePart.All)) {\r\n                return;\r\n            }\r\n            var focusedBefore = document.activeElement;\r\n            var isFocusInside = _this.slot.contains(focusedBefore) || focusedBefore == document.body;\r\n            switch (edata.action) {\r\n                case QueryChangeAction.Modify: {\r\n                    var columns = edata.changee;\r\n                    var modifyColumn_1 = function (column) {\r\n                        var colEl = _this.columnsBlock.querySelector(\"div[data-id='\" + column.id + \"']\");\r\n                        if (colEl) {\r\n                            var newEl = _this.renderColumn(column, colEl);\r\n                            if (isFocusInside) {\r\n                                var focusElem = newEl.querySelector('a');\r\n                                if (focusElem) {\r\n                                    focusElem.focus();\r\n                                }\r\n                            }\r\n                        }\r\n                    };\r\n                    if (Array.isArray(columns)) {\r\n                        columns.forEach(function (col) { return modifyColumn_1(col); });\r\n                    }\r\n                    else {\r\n                        modifyColumn_1(columns);\r\n                    }\r\n                    break;\r\n                }\r\n                case QueryChangeAction.Add: {\r\n                    var columns = edata.changee;\r\n                    var addColumn_1 = function (column) {\r\n                        var index = query.getColumns().indexOf(column);\r\n                        _this.addColumnElement(column, index);\r\n                    };\r\n                    if (Array.isArray(columns)) {\r\n                        columns.forEach(function (col) { return addColumn_1(col); });\r\n                    }\r\n                    else {\r\n                        addColumn_1(columns);\r\n                    }\r\n                    break;\r\n                }\r\n                case QueryChangeAction.Delete: {\r\n                    var columns = edata.changee;\r\n                    var deleteColumn_1 = function (column) {\r\n                        var colEl = _this.columnsBlock.querySelector(\"div[data-id='\" + column.id + \"']\");\r\n                        if (colEl) {\r\n                            var next = colEl.nextSibling;\r\n                            var prev = colEl.previousSibling;\r\n                            _this.columnsBlock.removeChild(colEl);\r\n                            if (isFocusInside) {\r\n                                var focusCond = next || prev || _this.addRowButton;\r\n                                var focusElem = focusCond.querySelector('a');\r\n                                if (focusElem) {\r\n                                    focusElem.focus();\r\n                                }\r\n                            }\r\n                        }\r\n                    };\r\n                    if (Array.isArray(columns)) {\r\n                        columns.forEach(function (col) { return deleteColumn_1(col); });\r\n                    }\r\n                    else {\r\n                        deleteColumn_1(columns);\r\n                    }\r\n                    break;\r\n                }\r\n                default:\r\n                    _this.refresh();\r\n                    break;\r\n            }\r\n        });\r\n    };\r\n    ColumnsBar.prototype.getQuery = function () {\r\n        return this.customQuery\r\n            ? this.customQuery\r\n            : this.getContext().getQuery();\r\n    };\r\n    ColumnsBar.prototype.destroyCore = function () {\r\n        eqDragManager.removeDropContainer(this.slot);\r\n        this.detachQueryObserver();\r\n        this.slot.innerHTML = '';\r\n    };\r\n    ColumnsBar.prototype.detachQueryObserver = function () {\r\n        if (this.queryEventCallbackId) {\r\n            var query = this.getQuery();\r\n            query.removeChangedCallback(this.queryEventCallbackId);\r\n        }\r\n    };\r\n    ColumnsBar.prototype.setOptions = function (options) {\r\n        dataUtils.assignDeep(this.options, options);\r\n    };\r\n    ColumnsBar.prototype.showLandingSlot = function (pageX, pageY) {\r\n        var elements = this.columnsBlock.querySelectorAll(\"[class*=\" + this.cssPrefix + \"-row]\");\r\n        var columnSlots = [];\r\n        for (var i = 0; i < elements.length; i++) {\r\n            if (elements[i].style.display !== 'none') {\r\n                columnSlots.push(elements[i]);\r\n            }\r\n        }\r\n        if (columnSlots.length === 0) {\r\n            this.landingIndex = 0;\r\n            return;\r\n        }\r\n        var landingPos = getElementAbsolutePos(this.landingSlot);\r\n        if (pageX >= landingPos.x && pageX <= landingPos.x + this.landingSlot.offsetWidth\r\n            && pageY >= landingPos.y && pageY <= landingPos.y + this.landingSlot.offsetHeight) {\r\n            return;\r\n        }\r\n        var newLandingIndex = this.landingIndex;\r\n        for (var i = 0; i < columnSlots.length; i++) {\r\n            var colSlot = columnSlots[i];\r\n            var absPos = getElementAbsolutePos(colSlot);\r\n            var colWidth = colSlot.offsetWidth;\r\n            var colHeight = colSlot.offsetHeight;\r\n            var paddingWidth = 0.2 * colWidth;\r\n            var paddingHeight = 2;\r\n            if (pageX >= absPos.x + paddingWidth && pageX <= absPos.x + colWidth - paddingWidth\r\n                && pageY >= absPos.y + paddingHeight && pageY <= absPos.y + colHeight - paddingHeight) {\r\n                if (pageX > landingPos.x)\r\n                    newLandingIndex = i + 1;\r\n                else\r\n                    newLandingIndex = i;\r\n                break;\r\n            }\r\n        }\r\n        if (newLandingIndex != this.landingIndex || this.landingSlot.parentElement) {\r\n            this.landingIndex = newLandingIndex;\r\n            if (this.landingIndex <= 0) {\r\n                this.columnsBlock.insertBefore(this.landingSlot, columnSlots[0]);\r\n            }\r\n            if (this.landingIndex < columnSlots.length) {\r\n                this.columnsBlock.insertBefore(this.landingSlot, columnSlots[this.landingIndex]);\r\n            }\r\n            else {\r\n                this.columnsBlock.appendChild(this.landingSlot);\r\n            }\r\n        }\r\n    };\r\n    ColumnsBar.prototype.hideLandingSlot = function () {\r\n        this.landingIndex = -1;\r\n        if (this.landingSlot.parentElement) {\r\n            this.landingSlot.parentElement.removeChild(this.landingSlot);\r\n        }\r\n    };\r\n    ColumnsBar.prototype.onProcessStartCore = function () {\r\n    };\r\n    ColumnsBar.prototype.onProcessEndCore = function () {\r\n    };\r\n    ColumnsBar.prototype.refreshCore = function () {\r\n        this.clear();\r\n        this.render();\r\n    };\r\n    ColumnsBar.prototype.clear = function () {\r\n        // if (this.addRowButton) {\r\n        //     this.addRowButton.innerHTML = \"\";\r\n        //     this.addRowButton.className = \"\";\r\n        // }\r\n        // this.columnsBlock.innerHTML = \"\";\r\n        this.slot.innerHTML = '';\r\n    };\r\n    ColumnsBar.prototype.renderAddRowButton = function () {\r\n        var _this = this;\r\n        domel(this.addRowButton)\r\n            .addClass(eqCssPrefix + \"-addrow\", this.cssPrefix + \"-addrow\", eqCssPrefix + \"-addrow-empty\")\r\n            .addClass(browserUtils.getMobileCssClass())\r\n            .title(i18n.getText('CmdClickToAddColumn'))\r\n            .addChild('a', function (builder) { return builder\r\n            .attr('href', 'javascript:void(0)')\r\n            .on('click', function (e) {\r\n            e.preventDefault();\r\n            _this.showEntitiesMenu({\r\n                anchor: e.target,\r\n                selectedIds: null,\r\n                itemSelectedCallback: function (data, items) {\r\n                    var attrid = data.id;\r\n                    _this.addNewColumn(attrid);\r\n                    return false;\r\n                }\r\n            });\r\n        }); });\r\n        if (browserUtils.isMobileMode()) {\r\n            domel(this.columnsBlock)\r\n                .addChildElement(this.addRowButton);\r\n        }\r\n    };\r\n    ColumnsBar.prototype.render = function () {\r\n        var _this = this;\r\n        this.createEntitiesMenu();\r\n        if (this.options.allowSorting) {\r\n            this.createSortMenu();\r\n        }\r\n        this.createMoveMenu();\r\n        this.columnsBlock =\r\n            domel('div')\r\n                .addClass(this.cssPrefix + \"-columns\")\r\n                .addClass(browserUtils.getMobileCssClass())\r\n                .toDOM(); //TO DO remove ui-sortable\r\n        if (this.options.showAddRow) {\r\n            this.addRowButton =\r\n                domel('div')\r\n                    .toDOM();\r\n            if (browserUtils.isMobileMode()) {\r\n                domel(this.columnsBlock)\r\n                    .addChildElement(this.addRowButton);\r\n            }\r\n            else {\r\n                domel(this.slot)\r\n                    .addChildElement(this.addRowButton);\r\n            }\r\n            this.renderAddRowButton();\r\n        }\r\n        domel(this.slot)\r\n            .addChildElement(this.columnsBlock)\r\n            .addChildElement(this.renderColumnButtonsBlockMobile());\r\n        var query = this.getQuery();\r\n        var columns = query.getColumns();\r\n        columns.forEach(function (column, index) {\r\n            var slot = _this.renderColumn(column);\r\n            _this.columnsBlock.appendChild(slot);\r\n        });\r\n    };\r\n    ColumnsBar.prototype.renderColumnButtonsBlockMobile = function () {\r\n        var _this = this;\r\n        this.columnButtonsBlockMobileArrow = domel('i').toDOM();\r\n        this.columnButtonsBlockMobile = domel('div')\r\n            .addClass(this.cssPrefix + \"-column-buttonsBlock\")\r\n            .addClass(browserUtils.getMobileCssClass())\r\n            .addChildElement(this.columnButtonsBlockMobileArrow)\r\n            .hide()\r\n            .toDOM();\r\n        this.buttonsBlockSortingButton = domel('div', this.columnButtonsBlockMobile)\r\n            .addClass(this.cssPrefix + \"-column-button\", this.cssPrefix + \"-column-sortbutton-none\")\r\n            .toDOM();\r\n        domel(this.buttonsBlockSortingButton)\r\n            .on('touchstart click', function (ev) {\r\n            ev.stopPropagation();\r\n            _this.currentColumnRenderer.buttonSortingClickHandler.call(_this.currentColumnRenderer, ev, _this.buttonsBlockSortingButton);\r\n            _this.toggleColumnPicked(null);\r\n            _this.hideColumnButtonsMobile();\r\n            return false;\r\n        });\r\n        this.buttonsBlockTypeButton = domel('div', this.columnButtonsBlockMobile)\r\n            .addClass(this.cssPrefix + \"-column-button\", this.cssPrefix + \"-column-button-type\")\r\n            .on('touchstart click', function (ev) {\r\n            ev.stopPropagation();\r\n            _this.currentColumnRenderer.buttonTypeClickHandler.call(_this.currentColumnRenderer, ev);\r\n            _this.toggleColumnPicked(null);\r\n            _this.hideColumnButtonsMobile();\r\n            return false;\r\n        })\r\n            .toDOM();\r\n        this.buttonsBlockDeleteButton = domel('div', this.columnButtonsBlockMobile)\r\n            .addClass(this.cssPrefix + \"-column-button\", this.cssPrefix + \"-column-button-delete\")\r\n            .on('touchstart click', function (ev) {\r\n            ev.stopPropagation();\r\n            _this.currentColumnRenderer.buttonDeleteClickHandler.call(_this.currentColumnRenderer, ev);\r\n            _this.toggleColumnPicked(null);\r\n            _this.hideColumnButtonsMobile();\r\n            return false;\r\n        })\r\n            .toDOM();\r\n        domel('div', this.columnButtonsBlockMobile)\r\n            .addClass(this.cssPrefix + \"-column-button-close-block\")\r\n            .on('touchstart click', function () {\r\n            _this.toggleColumnPicked(null);\r\n            _this.hideColumnButtonsMobile();\r\n        });\r\n        return this.columnButtonsBlockMobile;\r\n    };\r\n    ColumnsBar.prototype.showColumnButtonsMobile = function (column, columnRenderer, columnElement) {\r\n        this.currentActiveColumn = column;\r\n        this.currentColumnRenderer = columnRenderer;\r\n        //calculate coordinates\r\n        var rect = columnElement.getBoundingClientRect();\r\n        var top = columnElement.offsetTop;\r\n        var left = columnElement.offsetLeft;\r\n        domel(this.columnButtonsBlockMobileArrow)\r\n            .setStyle('left', (left + rect.width / 2).toString() + 'px');\r\n        if (rect.top > 100) {\r\n            domel(this.columnButtonsBlockMobile)\r\n                .removeClass('show-below')\r\n                .setStyle('top', (top - rect.height).toString() + 'px');\r\n        }\r\n        else {\r\n            domel(this.columnButtonsBlockMobile)\r\n                .addClass('show-below')\r\n                .setStyle('top', (top + rect.height).toString() + 'px');\r\n        }\r\n        //show/hide separate buttons\r\n        if (column.enabled && !column.isReadOnly()) {\r\n            domel(this.buttonsBlockSortingButton).show();\r\n            domel(this.buttonsBlockTypeButton).show();\r\n        }\r\n        else {\r\n            domel(this.buttonsBlockSortingButton).hide();\r\n            domel(this.buttonsBlockTypeButton).hide();\r\n        }\r\n        //show\r\n        if (column.isReadOnly()) {\r\n            domel(this.columnButtonsBlockMobile).hide();\r\n        }\r\n        else {\r\n            domel(this.columnButtonsBlockMobile).show();\r\n        }\r\n    };\r\n    ColumnsBar.prototype.hideColumnButtonsMobile = function () {\r\n        domel(this.columnButtonsBlockMobile).hide();\r\n    };\r\n    ColumnsBar.prototype.renderColumn = function (column, elem) {\r\n        var _this = this;\r\n        var renderer = this.getColumnRenderer(column, elem);\r\n        if (renderer) {\r\n            var columnSlot_1 = renderer.render();\r\n            renderer.onShowButtonsMobile = function () {\r\n                _this.showColumnButtonsMobile(column, renderer, columnSlot_1);\r\n            };\r\n            renderer.onHideButtonsMobile = function () {\r\n                _this.hideColumnButtonsMobile();\r\n            };\r\n            return columnSlot_1;\r\n        }\r\n        return null;\r\n    };\r\n    ColumnsBar.prototype.getColumnRenderer = function (column, slot) {\r\n        switch (column.expr.tag) {\r\n            case ExprTag.AggregateFunction:\r\n                return new AggrFuncColumnRendererCB(this, column, slot);\r\n            case ExprTag.CustomSql:\r\n            //                return new CustomSqlColumnRendererCB(this, column, slot);\r\n            case ExprTag.EntityAttribute:\r\n            case ExprTag.ParentEntityAttribute:\r\n                return new SimpleColumnRendererCB(this, column, slot);\r\n        }\r\n        return null;\r\n    };\r\n    ColumnsBar.prototype.addNewColumn = function (attrId, index) {\r\n        var _this = this;\r\n        var model = this.getContext().getModel();\r\n        var query = this.getQuery();\r\n        var getColumnByAttrId = function (attrid) {\r\n            var attribute = model.getAttributeById(attrid);\r\n            if (!attribute) {\r\n                return null;\r\n            }\r\n            if (!attribute.useInResult) {\r\n                if (attribute.lookupAttr) {\r\n                    attrid = attribute.lookupAttr;\r\n                    attribute = model.getAttributeById(attrid);\r\n                    if (!attribute || !attribute.useInResult) {\r\n                        return null;\r\n                    }\r\n                }\r\n                else\r\n                    return null;\r\n            }\r\n            var column = query.createColumn();\r\n            column.caption = _this.getDefaultColumnCaption(attribute);\r\n            column.sorting = SortDirection.None;\r\n            column.sortIndex = -1;\r\n            column.expr.tag = ExprTag.EntityAttribute;\r\n            //column.expr.id = attrid;\r\n            column.expr.setValue(attrid, true);\r\n            column.params.concat(attribute.params);\r\n            return column;\r\n        };\r\n        if (!this.getQuery()) {\r\n            return;\r\n        }\r\n        var colToAdd, col;\r\n        if (Array.isArray(attrId)) {\r\n            colToAdd = [];\r\n            for (var i = 0; i < attrId.length; i++) {\r\n                col = getColumnByAttrId(attrId[i]);\r\n                if (col) {\r\n                    colToAdd.push(col);\r\n                }\r\n            }\r\n        }\r\n        else\r\n            colToAdd = getColumnByAttrId(attrId);\r\n        this.addColumn(colToAdd, index);\r\n        return colToAdd;\r\n    };\r\n    ColumnsBar.prototype.toggleColumnPicked = function (column) {\r\n        var el;\r\n        var isActive;\r\n        if (column) {\r\n            el = this.columnsBlock.querySelector(\"div[data-id=\" + column.id + \"]\");\r\n            if (el) {\r\n                isActive = el.classList.contains('active');\r\n            }\r\n        }\r\n        //clear 'active' in all rows\r\n        var rows = this.columnsBlock.querySelectorAll(\".\" + this.cssPrefix + \"-row\");\r\n        for (var i = 0; i < rows.length; i++) {\r\n            var row = rows[i];\r\n            domel(row)\r\n                .removeClass('active')\r\n                .data(\"show-buttons\", null);\r\n        }\r\n        if (el && !isActive) {\r\n            domel(el)\r\n                .addClass('active')\r\n                .data(\"show-buttons\", \"\");\r\n        }\r\n    };\r\n    ColumnsBar.prototype.addColumn = function (column, index) {\r\n        var query = this.getQuery();\r\n        if (!query) {\r\n            return;\r\n        }\r\n        if (Array.isArray(column))\r\n            column = this.checkColumnsArray(column);\r\n        else\r\n            column = this.checkColumn(column);\r\n        if (!column || (Array.isArray(column) && column.length == 0)) {\r\n            return;\r\n        }\r\n        query.addColumnObj(column, index, self);\r\n        query.fireChangedEvent({\r\n            part: QueryChangePart.Columns,\r\n            action: QueryChangeAction.Add,\r\n            changee: column\r\n        });\r\n    };\r\n    //adds one column to the bar on the specified position\r\n    ColumnsBar.prototype.addColumnElement = function (column, index) {\r\n        var rows = this.columnsBlock.querySelectorAll(\"[class*=\" + this.cssPrefix + \"-row]\");\r\n        var newColBlock = this.renderColumn(column);\r\n        if (rows.length > 0) {\r\n            if (index < rows.length - 1) {\r\n                this.columnsBlock.insertBefore(newColBlock, rows[index]);\r\n            }\r\n            else {\r\n                this.columnsBlock.appendChild(newColBlock);\r\n            }\r\n        }\r\n        else {\r\n            this.columnsBlock.appendChild(newColBlock);\r\n        }\r\n        if (this.options.columnRenderedCallback) {\r\n            this.options.columnRenderedCallback(newColBlock);\r\n        }\r\n    };\r\n    ColumnsBar.prototype.checkColumnsArray = function (cols) {\r\n        var i = 0, len = cols.length;\r\n        var result = [];\r\n        for (var i_1 = 0; i_1 < len; i_1++) {\r\n            if (this.checkColumn(cols[i_1]))\r\n                result.push(cols[i_1]);\r\n        }\r\n        return result;\r\n    };\r\n    ColumnsBar.prototype.checkColumn = function (col) {\r\n        if (!this.options.allowDuplicates) {\r\n            var query = this.getQuery();\r\n            var columns = query.getColumns();\r\n            var colJson = JSON.stringify(col.expr);\r\n            for (var i = 0; i < columns.length; i++) {\r\n                var qcolJson = JSON.stringify(columns[i].expr);\r\n                if (qcolJson === colJson) {\r\n                    return null;\r\n                }\r\n            }\r\n        }\r\n        return col;\r\n    };\r\n    ColumnsBar.prototype.getDefaultColumnCaption = function (attr) {\r\n        var format = this.options.titleElementFormat || this.options.attrElementFormat;\r\n        var model = this.getContext().getModel();\r\n        return model.getAttributeText(attr, format);\r\n    };\r\n    ColumnsBar.prototype.getColumnsBlock = function () {\r\n        return this.columnsBlock;\r\n    };\r\n    ColumnsBar.prototype.showEntitiesMenu = function (menuOptions) {\r\n        this.entitiesMenu.showMenu(menuOptions);\r\n    };\r\n    ColumnsBar.prototype.createEntitiesMenu = function () {\r\n        var model = this.getContext().getModel();\r\n        if (!model || model.isEmpty())\r\n            return null;\r\n        var menuId = this.slot.id;\r\n        if (menuId) {\r\n            menuId += '-EntitiesMenu';\r\n        }\r\n        var entitiesList = model.getEntitiesTree({ addUIC: false, addUIR: true, addUIS: false, attrPlacement: this.options.attrPlacement, sortEntities: this.options.sortEntities });\r\n        var options = { items: entitiesList, adjustHeight: this.options.adjustEntitiesMenuHeight, id: menuId, domWriteItemsId: this.options.domWriteItemsId };\r\n        dataUtils.assign(options, this.options.menuOptions);\r\n        this.entitiesMenu = new PopupMenu(options);\r\n    };\r\n    ColumnsBar.prototype.createSortMenu = function () {\r\n        var model = this.getContext().getModel();\r\n        if (!model || model.isEmpty())\r\n            return null;\r\n        var menuId = this.slot.id;\r\n        if (menuId) {\r\n            menuId += '-SortMenu';\r\n        }\r\n        var items = this.sortMenuList.concat(this.moveMenuList);\r\n        var menuOptions = { \"items\": items, id: menuId, domWriteItemsId: this.options.domWriteItemsId };\r\n        dataUtils.assign(menuOptions, this.options.menuOptions);\r\n        menuOptions.searchBoxAlwaysShown = false;\r\n        this.sortMenu = new PopupMenu(menuOptions);\r\n    };\r\n    ColumnsBar.prototype.createMoveMenu = function () {\r\n        var model = this.getContext().getModel();\r\n        if (!model || model.isEmpty())\r\n            return null;\r\n        var menuId = this.slot.id;\r\n        if (menuId) {\r\n            menuId += '-MoveMenu';\r\n        }\r\n        var items = this.moveMenuList;\r\n        var menuOptions = { \"items\": items, id: menuId, domWriteItemsId: this.options.domWriteItemsId };\r\n        dataUtils.assign(menuOptions, this.options.menuOptions);\r\n        this.moveMenu = new PopupMenu(menuOptions);\r\n        menuOptions.searchBoxAlwaysShown = false;\r\n    };\r\n    ColumnsBar.prototype.moveColumn = function (column, direction) {\r\n        var query = this.getQuery();\r\n        var columns = query.getColumns();\r\n        var index = columns.indexOf(column);\r\n        if (index >= 0) {\r\n            switch (direction) {\r\n                case 'MoveTop':\r\n                    if (index == 0) {\r\n                        return;\r\n                    }\r\n                    this.moveColumnCore(index, 0);\r\n                    break;\r\n                case 'MoveUp':\r\n                    if (index == 0) {\r\n                        return;\r\n                    }\r\n                    this.moveColumnCore(index, index - 1);\r\n                    break;\r\n                case 'MoveDown':\r\n                    if (index == columns.length - 1) {\r\n                        return;\r\n                    }\r\n                    this.moveColumnCore(index, index + 1);\r\n                    break;\r\n                case 'MoveBottom':\r\n                    if (index == columns.length - 1) {\r\n                        return;\r\n                    }\r\n                    this.moveColumnCore(index, columns.length - 1);\r\n                    break;\r\n            }\r\n            ;\r\n        }\r\n    };\r\n    ColumnsBar.prototype.moveColumnCore = function (index1, index2) {\r\n        var query = this.getQuery();\r\n        if (!query)\r\n            return;\r\n        var rows = this.columnsBlock.querySelectorAll(\"[class*=\" + this.cssPrefix + \"-row]\");\r\n        var colToMove = rows[index1];\r\n        if (index2 <= 0) {\r\n            this.columnsBlock.insertBefore(colToMove, this.columnsBlock[0]);\r\n        }\r\n        else if (index2 < rows.length) {\r\n            this.columnsBlock.insertBefore(colToMove, rows[index2]);\r\n        }\r\n        else {\r\n            this.columnsBlock.appendChild(colToMove);\r\n        }\r\n        query.moveColumn(index1, index2);\r\n        query.fireColumnsChangedEvent(QueryChangeAction.All);\r\n    };\r\n    ColumnsBar.prototype.areCustomExpressionsAllowed = function () {\r\n        var query = this.getQuery();\r\n        return query.isEx() && this.options.allowCustomExpressions;\r\n    };\r\n    ColumnsBar.globalCounter = 0;\r\n    return ColumnsBar;\r\n}(Widget));\r\nexport { ColumnsBar };\r\n//# sourceMappingURL=columns_bar.js.map","import { i18n } from '@easydata/core';\r\nimport { QueryChangeAction, SortDirection } from '@easyquery/core';\r\nimport { domel } from '@easydata/ui';\r\nimport { eqCssPrefix } from '../../../utils/utils';\r\nimport { browserUtils } from '../../../utils/browser_utils';\r\nvar ColumnRendererSB = /** @class */ (function () {\r\n    function ColumnRendererSB(bar, column, slot) {\r\n        this.functionMenu = null;\r\n        this.isMouseOverBlock = false;\r\n        this.keepShowingButtons = false;\r\n        this.bar = bar;\r\n        this.column = column;\r\n        this.element = slot;\r\n    }\r\n    Object.defineProperty(ColumnRendererSB.prototype, \"cssPrefix\", {\r\n        get: function () {\r\n            return 'eqjs-sb';\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    ColumnRendererSB.prototype.render = function () {\r\n        this.baseAttr = this.getAttribute();\r\n        var builder = domel('div');\r\n        builder.data('id', this.column.id);\r\n        if (this.element) {\r\n            //to remove all event listeners\r\n            this.element.parentNode\r\n                .replaceChild(builder.toDOM(), this.element);\r\n        }\r\n        this.element = builder.toDOM();\r\n        builder\r\n            .addClass(this.getClassesToAdd())\r\n            .addClass(browserUtils.getMobileCssClass())\r\n            .addChildElement(this.renderCaptionBlock());\r\n        if (this.isEditable()) {\r\n            builder\r\n                .addChildElement(this.renderSortingButton());\r\n        }\r\n        return this.element;\r\n    };\r\n    ColumnRendererSB.prototype.fireColumnChanged = function () {\r\n        this.column.fireChangedEvent();\r\n    };\r\n    ColumnRendererSB.prototype.refresh = function () {\r\n        this.render();\r\n    };\r\n    ColumnRendererSB.prototype.getAttribute = function () {\r\n        var model = this.bar.getContext().getModel();\r\n        return model.getAttributeById(this.column.expr.value);\r\n    };\r\n    ColumnRendererSB.prototype.isEditable = function () {\r\n        return this.column.enabled && !this.column.isReadOnly();\r\n    };\r\n    ColumnRendererSB.prototype.renderCaptionBlock = function () {\r\n        var _this = this;\r\n        if (!this.column.caption || this.column.caption == '') {\r\n            this.column.caption = this.getDefaultCaption();\r\n        }\r\n        function getArrow(sd) {\r\n            switch (sd) {\r\n                case SortDirection.Ascending:\r\n                    return ' ↑';\r\n                case SortDirection.Descending:\r\n                    return ' ↓';\r\n                default:\r\n                    return '';\r\n            }\r\n        }\r\n        var text = this.column.caption;\r\n        if (!this.isEditable()) {\r\n            text += getArrow(this.column.sorting);\r\n        }\r\n        return domel('div')\r\n            .addClass(this.cssPrefix + \"-colelement\", this.cssPrefix + \"-captionelement\")\r\n            .addClass(browserUtils.getMobileCssClass())\r\n            .addChild('div', function (b) { return b\r\n            .title(_this.column.caption)\r\n            .text(text); })\r\n            .toDOM();\r\n    };\r\n    ColumnRendererSB.prototype.renderSortingButton = function () {\r\n        var _this = this;\r\n        var sortButtonCssClass = eqCssPrefix + \"-column-sortbutton\";\r\n        var sortButtonDirectionCssClass = sortButtonCssClass;\r\n        switch (this.column.sorting) {\r\n            case SortDirection.None:\r\n                sortButtonDirectionCssClass = sortButtonCssClass + \"-none\";\r\n                break;\r\n            case SortDirection.Ascending:\r\n                sortButtonDirectionCssClass = sortButtonCssClass + \"-asc\";\r\n                break;\r\n            case SortDirection.Descending:\r\n                sortButtonDirectionCssClass = sortButtonCssClass + \"-desc\";\r\n                break;\r\n        }\r\n        var builder = domel('div')\r\n            .addClass(this.cssPrefix + \"-colelement\", this.cssPrefix + \"-sortimage-placeholder\")\r\n            .addClass(browserUtils.getMobileCssClass())\r\n            .addChild('div', function (builder) { return builder\r\n            .addClass(_this.cssPrefix + \"-img-sorting\", sortButtonDirectionCssClass)\r\n            .title(i18n.getText('ButtonSorting')); })\r\n            .on('touchstart click', function (ev) { return _this.buttonSortingClickHandler(ev, builder.toDOM()); });\r\n        return builder.toDOM();\r\n    };\r\n    ColumnRendererSB.prototype.buttonSortingClickHandler = function (ev, anchor) {\r\n        var _this = this;\r\n        ev.stopPropagation();\r\n        this.keepShowingButtons = true;\r\n        var menu = this.bar.sortMenu;\r\n        menu.showMenu({\r\n            anchor: anchor,\r\n            selectedIds: null,\r\n            itemSelectedCallback: function (data, items) {\r\n                var strToSortDirection = function (str) {\r\n                    if (str == 'None') {\r\n                        return SortDirection.None;\r\n                    }\r\n                    else if (str == \"Ascending\") {\r\n                        return SortDirection.Ascending;\r\n                    }\r\n                    else if (str == \"Descending\") {\r\n                        return SortDirection.Descending;\r\n                    }\r\n                };\r\n                if (data.id == 'None' || data.id == \"Ascending\" || data.id == \"Descending\") {\r\n                    var query = _this.bar.getContext().getQuery();\r\n                    if (_this.column.isJustSorted() && data.id == 'None') {\r\n                        query.removeColumn(_this.column, _this.bar);\r\n                        query.fireColumnsChangedEvent(QueryChangeAction.Delete, _this.column, true);\r\n                    }\r\n                    else {\r\n                        _this.column.sorting = strToSortDirection(data.id);\r\n                        _this.column.sortIndex = query.getColumnSortIndex(_this.column);\r\n                        _this.fireColumnChanged();\r\n                    }\r\n                }\r\n            },\r\n            menuClosedCallback: function () {\r\n                _this.keepShowingButtons = false;\r\n            }\r\n        });\r\n        return false;\r\n    };\r\n    ColumnRendererSB.prototype.getDefaultCaption = function () {\r\n        return this.getDefaultTitleText(this.baseAttr);\r\n    };\r\n    ColumnRendererSB.prototype.getDefaultTitleText = function (attr) {\r\n        var format = this.bar.options.titleElementFormat || this.bar.options.attrElementFormat;\r\n        var model = this.bar.getContext().getModel();\r\n        return model.getAttributeText(attr, format);\r\n    };\r\n    ColumnRendererSB.prototype.getClassesToAdd = function () {\r\n        return this.cssPrefix + \"-row \" + this.cssPrefix + \"-row-column-entattr\";\r\n    };\r\n    ColumnRendererSB.prototype.getUIS = function () {\r\n        return this.bar\r\n            .getContext().getModel()\r\n            .checkAttrProperty(this.column.expr.value, \"useInSorting\");\r\n    };\r\n    return ColumnRendererSB;\r\n}());\r\nexport { ColumnRendererSB };\r\n//# sourceMappingURL=column_renderer.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { i18n, utils as dataUtils } from '@easydata/core';\r\nimport { Widget, WidgetGroup, QueryChangeAction, QueryChangePart, SortDirection, ExprTag } from '@easyquery/core';\r\nimport { domel } from '@easydata/ui';\r\nimport { eqCssPrefix } from '../utils/utils';\r\nimport { browserUtils } from '../utils/browser_utils';\r\nimport { PopupMenu } from '../utils/popup_menu';\r\nimport { ColumnRendererSB } from './renderers/sortingbar/column_renderer';\r\nvar SortingBar = /** @class */ (function (_super) {\r\n    __extends(SortingBar, _super);\r\n    function SortingBar(slot) {\r\n        var _this = _super.call(this, slot) || this;\r\n        _this.options = {\r\n            showAddRow: true,\r\n            attrElementFormat: '{entity} {attr}',\r\n            titleElementFormat: null,\r\n            menuOptions: {\r\n                showSearchBoxAfter: 30,\r\n                searchBoxAutoFocus: true,\r\n                activateOnMouseOver: true,\r\n                adjustHeight: true,\r\n                itemRenderedCallback: null\r\n            },\r\n        };\r\n        _this.sortMenuList = [\r\n            { id: 'None', text: i18n.getText('CmdNotSorted') },\r\n            { id: 'Ascending', text: i18n.getText('CmdAscending') },\r\n            { id: 'Descending', text: i18n.getText('CmdDescending') }\r\n        ];\r\n        domel(_this.slot)\r\n            .addClass(_this.cssPrefix + \"-panel\")\r\n            .addClass(browserUtils.getMobileCssClass());\r\n        _this.group = WidgetGroup.Query;\r\n        return _this;\r\n    }\r\n    Object.defineProperty(SortingBar.prototype, \"cssPrefix\", {\r\n        get: function () {\r\n            return \"eqjs-sb\";\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    SortingBar.prototype.getWidgetType = function () {\r\n        return 'sortingBar';\r\n    };\r\n    SortingBar.prototype.init = function (context, options) {\r\n        _super.prototype.init.call(this, context, options);\r\n        this.setOptions(options);\r\n        this.destroyCore();\r\n        this.attachQueryObserver();\r\n    };\r\n    SortingBar.prototype.setOptions = function (options) {\r\n        dataUtils.assignDeep(this.options, options);\r\n    };\r\n    SortingBar.prototype.attachQueryObserver = function () {\r\n        var _this = this;\r\n        var query = this.getQuery();\r\n        this.queryEventCallbackId = query.addChangedCallback(function (event) {\r\n            //if something has changed, and that change is related to columns\r\n            var edata = event.data;\r\n            if (!edata || (edata.part != QueryChangePart.SortingColumns\r\n                && edata.part != QueryChangePart.Columns && edata.part != QueryChangePart.All)) {\r\n                return;\r\n            }\r\n            switch (edata.action) {\r\n                case QueryChangeAction.Modify: {\r\n                    var columns = edata.changee;\r\n                    var modifyColumn_1 = function (column) {\r\n                        var colEl = _this.columnsBlock.querySelector(\"div[data-id='\" + column.id + \"']\");\r\n                        if (colEl) {\r\n                            _this.renderColumn(column, colEl);\r\n                        }\r\n                    };\r\n                    if (Array.isArray(columns)) {\r\n                        columns.forEach(function (col) { return modifyColumn_1(col); });\r\n                    }\r\n                    else {\r\n                        modifyColumn_1(columns);\r\n                    }\r\n                    break;\r\n                }\r\n                case QueryChangeAction.Add: {\r\n                    var columns = edata.changee;\r\n                    var addColumn_1 = function (column) {\r\n                        _this.addColumnElement(column);\r\n                    };\r\n                    if (Array.isArray(columns)) {\r\n                        columns.forEach(function (col) { return addColumn_1(col); });\r\n                    }\r\n                    else {\r\n                        addColumn_1(columns);\r\n                    }\r\n                    break;\r\n                }\r\n                case QueryChangeAction.Delete: {\r\n                    var columns = edata.changee;\r\n                    var deleteColumn_1 = function (column) {\r\n                        var colEl = _this.columnsBlock.querySelector(\"div[data-id='\" + column.id + \"']\");\r\n                        if (colEl)\r\n                            _this.columnsBlock.removeChild(colEl);\r\n                    };\r\n                    if (Array.isArray(columns)) {\r\n                        columns.forEach(function (col) { return deleteColumn_1(col); });\r\n                    }\r\n                    else {\r\n                        deleteColumn_1(columns);\r\n                    }\r\n                    break;\r\n                }\r\n                default:\r\n                    _this.refresh();\r\n                    break;\r\n            }\r\n        });\r\n    };\r\n    SortingBar.prototype.detachQueryObserver = function () {\r\n        if (this.queryEventCallbackId) {\r\n            var query = this.getContext().getQuery();\r\n            query.removeChangedCallback(this.queryEventCallbackId);\r\n        }\r\n    };\r\n    SortingBar.prototype.getQuery = function () {\r\n        return this.getContext().getQuery();\r\n    };\r\n    SortingBar.prototype.destroyCore = function () {\r\n        this.detachQueryObserver();\r\n        this.clear();\r\n    };\r\n    SortingBar.prototype.refreshCore = function () {\r\n        this.clear();\r\n        this.render();\r\n    };\r\n    SortingBar.prototype.renderAddRowButton = function () {\r\n        var _this = this;\r\n        domel(this.addRowButton)\r\n            .addClass(eqCssPrefix + \"-addrow\", this.cssPrefix + \"-addrow\", eqCssPrefix + \"-addrow-empty\")\r\n            .addClass(browserUtils.getMobileCssClass())\r\n            .title(i18n.getText('CmdClickToAddColumn'))\r\n            .addChild('a', function (builder) { return builder\r\n            .attr('href', 'javascript:void(0)')\r\n            .on('click', function (e) {\r\n            e.preventDefault();\r\n            _this.showEntitiesMenu({\r\n                anchor: e.target,\r\n                selectedIds: null,\r\n                itemSelectedCallback: function (data, items) {\r\n                    var attrid = data.id;\r\n                    _this.addNewColumn(attrid);\r\n                    return false;\r\n                }\r\n            });\r\n        }); });\r\n        if (browserUtils.isMobileMode()) {\r\n            domel(this.columnsBlock)\r\n                .addChildElement(this.addRowButton);\r\n        }\r\n    };\r\n    SortingBar.prototype.showEntitiesMenu = function (menuOptions) {\r\n        this.entitiesMenu.showMenu(menuOptions);\r\n    };\r\n    SortingBar.prototype.createEntitiesMenu = function () {\r\n        var model = this.getContext().getModel();\r\n        if (!model || model.isEmpty())\r\n            return null;\r\n        var menuId = this.slot.id;\r\n        if (menuId) {\r\n            menuId += '-EntitiesMenu';\r\n        }\r\n        var entitiesList = model.getEntitiesTree({ addUIC: false, addUIR: false, addUIS: true });\r\n        var options = { items: entitiesList,\r\n            adjustHeight: this.options.adjustEntitiesMenuHeight, id: menuId, domWriteItemsId: this.options.domWriteItemsId };\r\n        this.entitiesMenu = new PopupMenu(options);\r\n    };\r\n    SortingBar.prototype.createSortMenu = function () {\r\n        var model = this.getContext().getModel();\r\n        if (!model || model.isEmpty())\r\n            return null;\r\n        var menuId = this.slot.id;\r\n        if (menuId) {\r\n            menuId += '-SortMenu';\r\n        }\r\n        var items = this.sortMenuList;\r\n        var menuOptions = { \"items\": items, id: menuId };\r\n        menuOptions.searchBoxAlwaysShown = false;\r\n        this.sortMenu = new PopupMenu(menuOptions);\r\n    };\r\n    SortingBar.prototype.render = function () {\r\n        var _this = this;\r\n        this.createEntitiesMenu();\r\n        this.createSortMenu();\r\n        this.columnsBlock =\r\n            domel('div')\r\n                .addClass(this.cssPrefix + \"-columns\")\r\n                .addClass(browserUtils.getMobileCssClass())\r\n                .toDOM();\r\n        if (this.options.showAddRow) {\r\n            this.addRowButton =\r\n                domel('div')\r\n                    .toDOM();\r\n            if (browserUtils.isMobileMode()) {\r\n                domel(this.columnsBlock)\r\n                    .addChildElement(this.addRowButton);\r\n            }\r\n            else {\r\n                domel(this.slot)\r\n                    .addChildElement(this.addRowButton);\r\n            }\r\n            this.renderAddRowButton();\r\n        }\r\n        domel(this.slot)\r\n            .addChildElement(this.columnsBlock);\r\n        var query = this.context.getQuery();\r\n        var columns = query.getColumns().concat(query.getJustSortedColumns());\r\n        columns.forEach(function (column, index) {\r\n            var slot = _this.renderColumn(column);\r\n            _this.columnsBlock.appendChild(slot);\r\n        });\r\n    };\r\n    SortingBar.prototype.addNewColumn = function (attrId) {\r\n        var _this = this;\r\n        var model = this.getContext().getModel();\r\n        var query = this.getContext().getQuery();\r\n        var getColumnByAttrId = function (attrid) {\r\n            var attribute = model.getAttributeById(attrid);\r\n            if (!attribute) {\r\n                return null;\r\n            }\r\n            if (!attribute.useInSorting) {\r\n                if (attribute.lookupAttr) {\r\n                    attrid = attribute.lookupAttr;\r\n                    attribute = model.getAttributeById(attrid);\r\n                    if (!attribute || !attribute.useInSorting) {\r\n                        return null;\r\n                    }\r\n                }\r\n                else\r\n                    return null;\r\n            }\r\n            var column = query.createColumn(true);\r\n            column.caption = _this.getDefaultColumnCaption(attribute);\r\n            column.sorting = SortDirection.Ascending;\r\n            column.sortIndex = _this.getQuery().getColumnSortIndex(column);\r\n            column.expr.tag = ExprTag.EntityAttribute;\r\n            //column.expr.id = attrid;\r\n            column.expr.setValue(attrid, true);\r\n            column.params.concat(attribute.params);\r\n            return column;\r\n        };\r\n        if (!this.getContext().getQuery()) {\r\n            return;\r\n        }\r\n        return this.addColumn(getColumnByAttrId(attrId));\r\n    };\r\n    SortingBar.prototype.getDefaultColumnCaption = function (attr) {\r\n        var format = this.options.titleElementFormat || this.options.attrElementFormat;\r\n        var model = this.getContext().getModel();\r\n        return model.getAttributeText(attr, format);\r\n    };\r\n    SortingBar.prototype.addColumn = function (column) {\r\n        var query = this.getContext().getQuery();\r\n        if (!query) {\r\n            return;\r\n        }\r\n        column = this.checkColumn(column);\r\n        if (!column) {\r\n            return;\r\n        }\r\n        column = query.addColumn({\r\n            caption: column.caption,\r\n            attributeId: column.expr.value,\r\n            sorting: column.sorting,\r\n            sortIndex: column.sortIndex,\r\n            justsorted: true\r\n        });\r\n        query.fireChangedEvent({\r\n            part: QueryChangePart.SortingColumns,\r\n            action: QueryChangeAction.Add,\r\n            changee: column\r\n        });\r\n        return column;\r\n    };\r\n    SortingBar.prototype.checkColumn = function (col) {\r\n        var query = this.getContext().getQuery();\r\n        var columns = query.getColumns()\r\n            .concat(query.getJustSortedColumns());\r\n        var colJson = JSON.stringify(col.expr.saveToData());\r\n        for (var i = 0; i < columns.length; i++) {\r\n            var qcolJson = JSON.stringify(columns[i].expr.saveToData());\r\n            if (qcolJson === colJson) {\r\n                return null;\r\n            }\r\n        }\r\n        return col;\r\n    };\r\n    SortingBar.prototype.renderColumn = function (column, elem) {\r\n        var renderer = new ColumnRendererSB(this, column, elem);\r\n        if (renderer) {\r\n            var columnSlot = renderer.render();\r\n            return columnSlot;\r\n        }\r\n        return null;\r\n    };\r\n    //adds one column to the bar on the specified position\r\n    SortingBar.prototype.addColumnElement = function (column) {\r\n        var newColBlock = this.renderColumn(column);\r\n        this.columnsBlock.appendChild(newColBlock);\r\n        if (this.options.columnRenderedCallback) {\r\n            this.options.columnRenderedCallback(newColBlock);\r\n        }\r\n    };\r\n    SortingBar.prototype.clear = function () {\r\n        this.slot.innerHTML = '';\r\n    };\r\n    return SortingBar;\r\n}(Widget));\r\nexport { SortingBar };\r\n//# sourceMappingURL=sorting_bar.js.map","import { domel } from '@easydata/ui';\r\nimport { browserUtils } from '../../../utils/browser_utils';\r\nvar TextRenderer = /** @class */ (function () {\r\n    function TextRenderer(panel, text, slot) {\r\n        this.panel = panel;\r\n        this.text = text;\r\n        this.element = slot || domel('div').toDOM();\r\n    }\r\n    Object.defineProperty(TextRenderer.prototype, \"cssPrefix\", {\r\n        get: function () {\r\n            return 'eqjs-qp';\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    TextRenderer.prototype.refresh = function () {\r\n        this.render();\r\n    };\r\n    TextRenderer.prototype.render = function () {\r\n        var _this = this;\r\n        domel(this.element)\r\n            .html('')\r\n            .addClass(this.getClassesToAdd())\r\n            .addClass(browserUtils.getMobileCssClass())\r\n            .addChild('span', function (builder) { return builder\r\n            .text(_this.text)\r\n            .title(_this.text); })\r\n            .toDOM();\r\n        return this.element;\r\n    };\r\n    TextRenderer.prototype.getClassesToAdd = function () {\r\n        return this.cssPrefix + \"-condelement\";\r\n    };\r\n    return TextRenderer;\r\n}());\r\nexport { TextRenderer };\r\n//# sourceMappingURL=text_renderer.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { i18n } from '@easydata/core';\r\nimport { utils as dataUtils } from '@easydata/core';\r\nimport { equtils, QueryChangeAction } from '@easyquery/core';\r\nimport { createBrowserEvent, domel } from '@easydata/ui';\r\nimport { TextRenderer } from './text_renderer';\r\nimport { browserUtils } from '../../../utils/browser_utils';\r\nimport { QPEditablePart } from '../../../types/qp_editable_part';\r\nexport var ConditionAction;\r\n(function (ConditionAction) {\r\n    ConditionAction[ConditionAction[\"AddCondition\"] = 0] = \"AddCondition\";\r\n    ConditionAction[ConditionAction[\"AddGroup\"] = 1] = \"AddGroup\";\r\n    ConditionAction[ConditionAction[\"Enable\"] = 2] = \"Enable\";\r\n    ConditionAction[ConditionAction[\"Delete\"] = 4] = \"Delete\";\r\n    ConditionAction[ConditionAction[\"Menu\"] = 5] = \"Menu\";\r\n    ConditionAction[ConditionAction[\"Parameterized\"] = 6] = \"Parameterized\";\r\n    ConditionAction[ConditionAction[\"InJoin\"] = 7] = \"InJoin\";\r\n})(ConditionAction || (ConditionAction = {}));\r\nvar ConditionRenderer = /** @class */ (function () {\r\n    function ConditionRenderer(panel, condition, slot) {\r\n        this.panel = panel;\r\n        this.condition = condition;\r\n        this.element = slot || domel('div').toDOM();\r\n    }\r\n    Object.defineProperty(ConditionRenderer.prototype, \"cssPrefix\", {\r\n        get: function () {\r\n            return 'eqjs-qp';\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    ConditionRenderer.prototype.refresh = function () {\r\n        this.render();\r\n    };\r\n    ConditionRenderer.prototype.clear = function () {\r\n        if (this.element) {\r\n            this.element.className = '';\r\n            this.element.removeAttribute('data-id');\r\n            this.element.removeAttribute('style');\r\n            domel(this.element)\r\n                .html('');\r\n        }\r\n        //        const elClone = this.element.cloneNode(true);\r\n        //        this.element.parentNode.replaceChild(elClone, el);\r\n    };\r\n    ConditionRenderer.prototype.render = function (autoAppear) {\r\n        this.clear();\r\n        //this.preRender();\r\n        this.coreRender(autoAppear);\r\n        if (this.panel.options.onConditionRendered) {\r\n            this.panel.options.onConditionRendered(this.condition, this.element);\r\n        }\r\n        return this.element;\r\n    };\r\n    ConditionRenderer.prototype.isEditable = function () {\r\n        return this.condition.enabled && !this.condition.isReadOnly();\r\n    };\r\n    return ConditionRenderer;\r\n}());\r\nexport { ConditionRenderer };\r\nvar SimpleConditionRenderer = /** @class */ (function (_super) {\r\n    __extends(SimpleConditionRenderer, _super);\r\n    function SimpleConditionRenderer() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    SimpleConditionRenderer.prototype.getClassesToAdd = function () {\r\n        var result = this.cssPrefix + \"-row \" + this.cssPrefix + \"-row-condition\";\r\n        result += this.condition.isInJoin() ? \" \" + this.cssPrefix + \"-condition-injoin\" : '';\r\n        result += this.condition.isParameterized() ? \" \" + this.cssPrefix + \"-condition-parameterized\" : '';\r\n        if (!browserUtils.isMobileMode()) {\r\n            var level = this.condition.getLevel();\r\n            if (level > 0)\r\n                result += \" \" + this.cssPrefix + \"-level-\" + level;\r\n        }\r\n        result += this.condition.enabled ? '' : \" \" + this.cssPrefix + \"-disabled\";\r\n        if (this.condition.enabled) {\r\n            result += this.condition.isReadOnly() ? \" \" + this.cssPrefix + \"-readonly\" : '';\r\n        }\r\n        return result;\r\n    };\r\n    SimpleConditionRenderer.prototype.coreRender = function (autoAppear) {\r\n        var _this = this;\r\n        var model = this.panel.getContext().getModel();\r\n        var operator = model.getOperatorById(this.condition.getOperatorId());\r\n        var arrFormat = equtils.parseOperatorFormat(operator);\r\n        var item = null;\r\n        var arrLength = arrFormat.length;\r\n        var builder = domel('div');\r\n        if (this.element && this.element.parentNode) {\r\n            this.element.parentNode\r\n                .replaceChild(builder.toDOM(), this.element);\r\n        }\r\n        this.element = builder.toDOM();\r\n        builder\r\n            .addClass(this.getClassesToAdd())\r\n            .addClass(browserUtils.getMobileCssClass())\r\n            .data('id', this.condition.id)\r\n            .data('condrow', '')\r\n            .addChildElement(this.renderCheckbox())\r\n            .addChildElement(this.renderConjunction());\r\n        var mayAppear = autoAppear;\r\n        var _loop_1 = function (idx) {\r\n            item = arrFormat[idx];\r\n            if (item.type === 'operator') {\r\n                var renderer = this_1.panel.getOperatorRenderer(this_1.condition, item.text);\r\n                if (renderer) {\r\n                    builder.addChildElement(renderer.render());\r\n                }\r\n            }\r\n            else if (item.type === 'expression') {\r\n                var toAppear = mayAppear && (item.index > 0);\r\n                var exprRenderer_1 = this_1.panel.getExpressionRenderer(this_1.condition.expressions[item.index]);\r\n                if (exprRenderer_1) {\r\n                    var el = exprRenderer_1.render(toAppear);\r\n                    builder.addChildElement(el);\r\n                    setTimeout(function () {\r\n                        exprRenderer_1.adjustWidth();\r\n                    }, 100);\r\n                }\r\n                mayAppear = mayAppear && !toAppear;\r\n            }\r\n            else if (item.type === 'text') {\r\n                builder.addChildElement(new TextRenderer(this_1.panel, item.text).render());\r\n            }\r\n        };\r\n        var this_1 = this;\r\n        for (var idx = 0; idx < arrLength; idx++) {\r\n            _loop_1(idx);\r\n        }\r\n        if (this.panel.options.accentActiveCondition || browserUtils.isMobileMode()) {\r\n            builder.on('click', function (ev) {\r\n                ev.stopPropagation();\r\n                _this.panel.toggleConditionPicked(_this.condition);\r\n                _this.adjustButtonsVisibility();\r\n                if (!browserUtils.isMobileMode()) {\r\n                    _this.element.dispatchEvent(createBrowserEvent(\"mouseenter\"));\r\n                }\r\n                return false;\r\n            });\r\n        }\r\n        builder\r\n            .addChildElement(this.renderButtonsBlock());\r\n        if (!browserUtils.isMobileMode()) {\r\n            builder\r\n                .on('mouseenter', function (event) {\r\n                _this.isMouseOverBlock = true;\r\n                _this.enterButtonBlock();\r\n                event.stopPropagation();\r\n                return false;\r\n            })\r\n                .on('mouseleave', function (event) {\r\n                _this.isMouseOverBlock = false;\r\n                if (!_this.keepShowingButtons && domel(_this.buttonsBlock).isVisible()) {\r\n                    _this.leaveButtonBlock();\r\n                }\r\n                event.stopPropagation();\r\n                return false;\r\n            });\r\n        }\r\n    };\r\n    SimpleConditionRenderer.prototype.setConditionParameterized = function (value) {\r\n        this.condition.setParameterized(value);\r\n        this.condition.fireChangedEvent();\r\n    };\r\n    SimpleConditionRenderer.prototype.setConditionInJoin = function (value) {\r\n        this.condition.setInJoin(value);\r\n        this.condition.fireChangedEvent();\r\n    };\r\n    SimpleConditionRenderer.prototype.getConditionMenu = function () {\r\n        return this.panel.getConditionMenu();\r\n    };\r\n    SimpleConditionRenderer.prototype.renderConjunction = function () {\r\n        var parent = this.condition.getParent();\r\n        if (!parent)\r\n            return null;\r\n        var isFirstConditionInGroup = dataUtils.findItemIndexById(parent.getConditions(), this.condition.id) == 0;\r\n        if (this.panel.options.showConjunctions && !isFirstConditionInGroup) {\r\n            var linkTypeStr = equtils.linkTypeToStr(this.condition.getParent().linkType);\r\n            var conjuctionText = i18n.getText(\"Conj\" + linkTypeStr);\r\n            return domel(\"span\")\r\n                .text(conjuctionText)\r\n                .title(conjuctionText)\r\n                .addClass(this.cssPrefix + \"-condelement \" + this.cssPrefix + \"-condition-conjuction\")\r\n                .toDOM();\r\n        }\r\n        return null;\r\n    };\r\n    SimpleConditionRenderer.prototype.renderCheckbox = function () {\r\n        var _this = this;\r\n        if (this.panel.options.showCheckboxes && !this.condition.isReadOnly()) {\r\n            return domel(\"div\")\r\n                .title(i18n.getText('CmdToggleEnable'))\r\n                .attr('tabIndex', '0')\r\n                .addClass(this.cssPrefix + \"-condelement \" + this.cssPrefix + \"-condition-checkbox\")\r\n                .addClass(\"\" + (this.condition.enabled ? 'enabled' : ''))\r\n                .on('click', function () {\r\n                _this.condition.enabled = !_this.condition.enabled;\r\n                _this.condition.fireChangedEvent();\r\n                return false;\r\n            })\r\n                .on('keypress', function (evt) { if ([13, 32].includes(evt.keyCode)) {\r\n                evt.target.click();\r\n            } })\r\n                .toDOM();\r\n        }\r\n        else {\r\n            return null;\r\n        }\r\n    };\r\n    SimpleConditionRenderer.prototype.isConditionActive = function () {\r\n        return this.element.classList.contains(\"active\");\r\n    };\r\n    SimpleConditionRenderer.prototype.hideButtons = function () {\r\n        domel(this.element).data(\"show-buttons\", null);\r\n    };\r\n    SimpleConditionRenderer.prototype.showButtons = function () {\r\n        domel(this.element).data(\"show-buttons\", \"\");\r\n    };\r\n    SimpleConditionRenderer.prototype.adjustButtonsVisibility = function () {\r\n        if (this.panel.options.alwaysShowButtonsInConditions\r\n            || (this.panel.options.accentActiveCondition && this.isConditionActive())) {\r\n            this.showButtons();\r\n        }\r\n    };\r\n    SimpleConditionRenderer.prototype.enterButtonBlock = function () {\r\n        this.showButtons();\r\n    };\r\n    SimpleConditionRenderer.prototype.leaveButtonBlock = function () {\r\n        if (!this.panel.options.alwaysShowButtonsInConditions\r\n            && (!this.isConditionActive() || this.panel.options.accentActiveCondition)) {\r\n            this.hideButtons();\r\n        }\r\n    };\r\n    SimpleConditionRenderer.prototype.conditionMenuHandler = function (action, evt) {\r\n        var _this = this;\r\n        switch (action) {\r\n            case ConditionAction.AddCondition:\r\n                if (!this.condition.isGroup())\r\n                    return;\r\n                var entMenu = this.panel.getEntitiesMenu();\r\n                if (entMenu) {\r\n                    entMenu.showMenu({\r\n                        anchor: evt.target,\r\n                        itemSelectedCallback: function (item) {\r\n                            var query = _this.panel.getQuery();\r\n                            var descr = {\r\n                                parent: _this.condition,\r\n                                attributeId: item.id\r\n                            };\r\n                            var cond = query.addSimpleCondition(descr);\r\n                            if (cond) {\r\n                                query.fireConditionsChangedEvent(QueryChangeAction.Add, cond);\r\n                            }\r\n                            return false;\r\n                        }\r\n                    });\r\n                }\r\n                break;\r\n            case ConditionAction.AddGroup:\r\n                if (!this.condition.isGroup())\r\n                    return;\r\n                var query = this.panel.getQuery();\r\n                var descr = {\r\n                    parent: this.condition\r\n                };\r\n                var group = this.panel.getQuery().addConditionGroup(descr);\r\n                if (group) {\r\n                    query.fireConditionsChangedEvent(QueryChangeAction.Add, group);\r\n                }\r\n                break;\r\n            case ConditionAction.Enable:\r\n                this.condition.enabled = !this.condition.enabled;\r\n                this.condition.fireChangedEvent();\r\n                break;\r\n            case ConditionAction.Delete:\r\n                var parent_1 = this.condition.getParent();\r\n                if (!parent_1)\r\n                    return;\r\n                var conditions = parent_1.getConditions();\r\n                var idx = conditions.indexOf(this.condition);\r\n                if (idx >= 0) {\r\n                    conditions.splice(idx, 1);\r\n                    this.condition.getQuery().fireConditionsChangedEvent(QueryChangeAction.Delete, this.condition);\r\n                }\r\n                break;\r\n            case ConditionAction.Menu:\r\n                var condMenu = this.getConditionMenu();\r\n                this.keepShowingButtons = true;\r\n                condMenu.showMenu({\r\n                    anchor: evt.target,\r\n                    selectedIds: this.getConditionMenuSelectedItems(),\r\n                    itemSelectedCallback: function (item) {\r\n                        var action;\r\n                        switch (item.id) {\r\n                            case \"enable\":\r\n                                action = ConditionAction.Enable;\r\n                                break;\r\n                            case \"delete\":\r\n                                action = ConditionAction.Delete;\r\n                                break;\r\n                            case \"param\":\r\n                                action = ConditionAction.Parameterized;\r\n                                break;\r\n                            case \"inJoin\":\r\n                                action = ConditionAction.InJoin;\r\n                                break;\r\n                            case \"addCondition\":\r\n                                action = ConditionAction.AddCondition;\r\n                                break;\r\n                            case \"addGroup\":\r\n                                action = ConditionAction.AddGroup;\r\n                                break;\r\n                        }\r\n                        _this.conditionMenuHandler(action, evt);\r\n                    },\r\n                    itemFilterCallback: function (item) {\r\n                        var result = _this.condition.enabled || item.id === \"enable\" || item.id === \"delete\";\r\n                        if (item.id === \"enable\") {\r\n                            var parent_2 = _this.condition.getParent();\r\n                            result = result && parent_2 && parent_2.enabled;\r\n                        }\r\n                        else if (item.id === \"delete\") {\r\n                            result = result && ((_this.panel.options.editableParts & QPEditablePart.Removal) === QPEditablePart.Removal);\r\n                        }\r\n                        else if (item.id === \"addGroup\" || item.id === \"addCondition\") {\r\n                            result = result && ((_this.panel.options.editableParts & QPEditablePart.Addition) === QPEditablePart.Addition);\r\n                        }\r\n                        return result;\r\n                    },\r\n                    menuClosedCallback: function () {\r\n                        _this.keepShowingButtons = false;\r\n                        if (!_this.isMouseOverBlock)\r\n                            _this.leaveButtonBlock();\r\n                    }\r\n                });\r\n                break;\r\n            case ConditionAction.Parameterized:\r\n                this.condition.setParameterized(!this.condition.isParameterized());\r\n                this.condition.fireChangedEvent();\r\n                break;\r\n            case ConditionAction.InJoin:\r\n                this.condition.setInJoin(!this.condition.isInJoin());\r\n                this.condition.fireChangedEvent();\r\n                break;\r\n        }\r\n        evt.stopPropagation();\r\n        return false;\r\n    };\r\n    SimpleConditionRenderer.prototype.getConditionMenuSelectedItems = function () {\r\n        var arrSelected = [];\r\n        if (this.condition.enabled) {\r\n            arrSelected.push(\"enable\");\r\n        }\r\n        ;\r\n        if (this.condition.isParameterized()) {\r\n            arrSelected.push(\"param\");\r\n        }\r\n        ;\r\n        if (this.condition.isInJoin()) {\r\n            arrSelected.push(\"inJoin\");\r\n        }\r\n        ;\r\n        return arrSelected;\r\n    };\r\n    SimpleConditionRenderer.prototype.renderButtonsBlock = function () {\r\n        var _this = this;\r\n        var onButtonMouseEnter = function (evt) {\r\n            domel(evt.target)\r\n                .addClass(_this.cssPrefix + \"-condition-button-active\");\r\n        };\r\n        var onButtonMouseLeave = function (evt) {\r\n            domel(evt.target)\r\n                .removeClass(_this.cssPrefix + \"-condition-button-active\");\r\n        };\r\n        var builder = domel(\"div\")\r\n            .addClass(this.cssPrefix + \"-condition-buttonsBlock\")\r\n            .addClass(browserUtils.getMobileCssClass());\r\n        this.buttonsBlock = builder.toDOM();\r\n        if (this.condition.isReadOnly()) {\r\n            return this.buttonsBlock;\r\n        }\r\n        var buttonsToShow = this.getButtonsToShow();\r\n        if (buttonsToShow.indexOf(\"addCondition\") >= 0 && this.condition.enabled\r\n            && ((this.panel.options.editableParts & QPEditablePart.Addition) == QPEditablePart.Addition)) {\r\n            builder.addChild(\"div\", function (b) {\r\n                b.addClass(_this.cssPrefix + \"-button-placeholder\")\r\n                    .data(\"btnplaceholder\", \"\")\r\n                    .addChild(\"div\", function (b) {\r\n                    b.addClass(_this.cssPrefix + \"-condition-button \" + _this.cssPrefix + \"-condition-button-addCondition\")\r\n                        .attr('tabIndex', '0')\r\n                        .data(\"button\", \"\")\r\n                        .title(i18n.getText('CmdAddCondition'))\r\n                        .on('click', function (evt) { return _this.conditionMenuHandler(ConditionAction.AddCondition, evt); })\r\n                        .on('keypress', function (evt) { if (evt.keyCode == 13) {\r\n                        evt.target.click();\r\n                    } })\r\n                        .on('mouseenter', onButtonMouseEnter)\r\n                        .on('mouseleave', onButtonMouseLeave);\r\n                });\r\n            });\r\n        }\r\n        ;\r\n        var showAddGroupBtn = buttonsToShow.indexOf(\"addGroup\") >= 0 || buttonsToShow.indexOf(\"addPredicate\") >= 0;\r\n        if (showAddGroupBtn && this.condition.enabled\r\n            && ((this.panel.options.editableParts & QPEditablePart.Addition) == QPEditablePart.Addition)) {\r\n            builder.addChild(\"div\", function (b) {\r\n                b.addClass(_this.cssPrefix + \"-button-placeholder\")\r\n                    .data(\"btnplaceholder\", \"\")\r\n                    .addChild(\"div\", function (b) {\r\n                    b.addClass(_this.cssPrefix + \"-condition-button \" + _this.cssPrefix + \"-condition-button-addPredicate\")\r\n                        .attr('tabIndex', '0')\r\n                        .data(\"button\", \"\")\r\n                        .title(i18n.getText('CmdAddCondGroup'))\r\n                        .on('click', function (evt) { return _this.conditionMenuHandler(ConditionAction.AddGroup, evt); })\r\n                        .on('keypress', function (evt) { if (evt.keyCode == 13) {\r\n                        evt.target.click();\r\n                    } })\r\n                        .on('mouseenter', onButtonMouseEnter)\r\n                        .on('mouseleave', onButtonMouseLeave);\r\n                });\r\n            });\r\n        }\r\n        ;\r\n        if (this.getButtonsToShow().indexOf(\"enable\") >= 0 && this.condition.getParent() && this.condition.getParent().enabled) {\r\n            builder.addChild(\"div\", function (b) {\r\n                b.addClass(_this.cssPrefix + \"-button-placeholder\")\r\n                    .data(\"btnplaceholder\", \"\")\r\n                    .addChild(\"div\", function (b) {\r\n                    b.addClass(_this.cssPrefix + \"-condition-button \" + _this.cssPrefix + \"-condition-button-enable\")\r\n                        .attr('tabIndex', '0')\r\n                        .data(\"button\", \"\")\r\n                        .title(i18n.getText('CmdToggleEnable'))\r\n                        .addClass(_this.condition.enabled ? 'enabled' : '')\r\n                        .on('click', function (evt) { return _this.conditionMenuHandler(ConditionAction.Enable, evt); })\r\n                        .on('keypress', function (evt) { if (evt.keyCode == 13) {\r\n                        evt.target.click();\r\n                    } })\r\n                        .on('mouseenter', onButtonMouseEnter)\r\n                        .on('mouseleave', onButtonMouseLeave);\r\n                });\r\n            });\r\n        }\r\n        ;\r\n        if (this.getButtonsToShow().indexOf(\"delete\") >= 0 && this.condition.getParent()\r\n            && ((this.panel.options.editableParts & QPEditablePart.Removal) == QPEditablePart.Removal)) {\r\n            builder.addChild(\"div\", function (b) {\r\n                b.addClass(_this.cssPrefix + \"-button-placeholder\")\r\n                    .data(\"btnplaceholder\", \"\")\r\n                    .addChild(\"div\", function (b) {\r\n                    b.addClass(_this.cssPrefix + \"-condition-button \" + _this.cssPrefix + \"-condition-button-delete\")\r\n                        .attr('tabIndex', '0')\r\n                        .data(\"button\", \"\")\r\n                        .title(i18n.getText('CmdDelete'))\r\n                        .on('click', function (evt) { return _this.conditionMenuHandler(ConditionAction.Delete, evt); })\r\n                        .on('keypress', function (evt) { if (evt.keyCode == 13) {\r\n                        evt.target.click();\r\n                    } })\r\n                        .on('mouseenter', onButtonMouseEnter)\r\n                        .on('mouseleave', onButtonMouseLeave);\r\n                });\r\n            });\r\n        }\r\n        ;\r\n        if (this.getButtonsToShow().indexOf(\"menu\") >= 0) {\r\n            builder.addChild(\"div\", function (b) {\r\n                b.addClass(_this.cssPrefix + \"-button-placeholder\")\r\n                    .data(\"btnplaceholder\", \"\")\r\n                    .addChild(\"div\", function (b) {\r\n                    b.addClass(_this.cssPrefix + \"-condition-button \" + _this.cssPrefix + \"-condition-button-menu\")\r\n                        .attr('tabIndex', '0')\r\n                        .data(\"button\", \"\")\r\n                        .title(i18n.getText('ButtonMenu'))\r\n                        .on('click', function (evt) { return _this.conditionMenuHandler(ConditionAction.Menu, evt); });\r\n                    if (!browserUtils.isMobileMode()) {\r\n                        b\r\n                            .on('keypress', function (evt) { if (evt.keyCode == 13) {\r\n                            evt.target.click();\r\n                        } })\r\n                            .on('mouseenter', onButtonMouseEnter)\r\n                            .on('mouseleave', onButtonMouseLeave);\r\n                    }\r\n                });\r\n            });\r\n        }\r\n        ;\r\n        this.adjustButtonsVisibility();\r\n        return this.buttonsBlock;\r\n    };\r\n    SimpleConditionRenderer.prototype.getButtonsToShow = function () {\r\n        return this.panel.options.buttons && this.panel.options.buttons.condition && Array.isArray(this.panel.options.buttons.condition) ? this.panel.options.buttons.condition : [\"enable\", \"delete\"];\r\n    };\r\n    return SimpleConditionRenderer;\r\n}(ConditionRenderer));\r\nexport { SimpleConditionRenderer };\r\n//# sourceMappingURL=condition_renderer.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { DomElementBuilder } from '@easydata/ui';\r\nvar DomDropDownElementBuilder = /** @class */ (function (_super) {\r\n    __extends(DomDropDownElementBuilder, _super);\r\n    function DomDropDownElementBuilder(parent) {\r\n        var _this = _super.call(this, 'a', parent) || this;\r\n        _this.attr('href', 'javascript:void(0)');\r\n        _this.on('click', function (ev) {\r\n            ev.preventDefault();\r\n            _this.appear();\r\n            return false;\r\n        });\r\n        return _this;\r\n    }\r\n    DomDropDownElementBuilder.prototype.onGetMenu = function (onGetMenu) {\r\n        this._onGetMenu = onGetMenu;\r\n        return this;\r\n    };\r\n    DomDropDownElementBuilder.prototype.onItemSelected = function (onItemSelected) {\r\n        this._onItemSelected = onItemSelected;\r\n        return this;\r\n    };\r\n    DomDropDownElementBuilder.prototype.appear = function () {\r\n        var _this = this;\r\n        var menu = this._onGetMenu ? this._onGetMenu() : null;\r\n        if (menu) {\r\n            menu.showMenu({\r\n                anchor: this.element,\r\n                itemSelectedCallback: function (item) {\r\n                    if (_this._onItemSelected) {\r\n                        _this._onItemSelected(item.id);\r\n                    }\r\n                    return false;\r\n                }\r\n            });\r\n        }\r\n    };\r\n    return DomDropDownElementBuilder;\r\n}(DomElementBuilder));\r\nexport { DomDropDownElementBuilder };\r\nexport function dropdown(parent) {\r\n    return new DomDropDownElementBuilder(parent);\r\n}\r\n//# sourceMappingURL=dropdown.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { i18n } from '@easydata/core';\r\nimport { utils as dataUtils } from '@easydata/core';\r\nimport { eqconsts, equtils } from '@easyquery/core';\r\nimport { createBrowserEvent, domel } from '@easydata/ui';\r\nimport { ConditionRenderer, SimpleConditionRenderer } from './condition_renderer';\r\nimport { browserUtils } from '../../../utils/browser_utils';\r\nimport { dropdown } from '../../../utils/dropdown';\r\nvar ConditionGroupRenderer = /** @class */ (function (_super) {\r\n    __extends(ConditionGroupRenderer, _super);\r\n    function ConditionGroupRenderer(panel, condition, slot) {\r\n        var _this = _super.call(this, panel, condition, slot) || this;\r\n        _this.isRoot = !condition.getParent();\r\n        return _this;\r\n    }\r\n    ConditionGroupRenderer.prototype.getClassesToAdd = function () {\r\n        var result = this.cssPrefix + \"-group\";\r\n        if (this.isRoot) {\r\n            result += \" \" + this.cssPrefix + \"-group-root\";\r\n        }\r\n        return result;\r\n    };\r\n    ConditionGroupRenderer.prototype.coreRender = function (autoAppear) {\r\n        domel(this.element)\r\n            .addClass(this.getClassesToAdd())\r\n            .addClass(browserUtils.getMobileCssClass())\r\n            .addChildElement(this.renderGroupRow())\r\n            .addChildElement(this.renderConditions(autoAppear))\r\n            .data('id', this.condition.id)\r\n            .data('group', '');\r\n    };\r\n    ConditionGroupRenderer.prototype.renderGroupRow = function () {\r\n        if (this.isRoot && !this.panel.options.showRootRow) {\r\n            return null;\r\n        }\r\n        else {\r\n            return new ConditionGroupRowRenderer(this.panel, this.condition).render();\r\n        }\r\n    };\r\n    ConditionGroupRenderer.prototype.renderConditions = function (autoAppear) {\r\n        var _this = this;\r\n        var builder = domel('div');\r\n        builder\r\n            .addClass(this.cssPrefix + \"-conditions\")\r\n            .addClass(\"\" + browserUtils.getMobileCssClass())\r\n            .data('conditions', '');\r\n        if (this.isRoot) {\r\n            builder.addClass(this.cssPrefix + \"-conditions-root\");\r\n        }\r\n        this.condition.getConditions().forEach(function (condition, index, array) {\r\n            var renderer = _this.panel.getConditionRenderer(condition);\r\n            if (renderer) {\r\n                builder.addChildElement(renderer.render(autoAppear && index == array.length - 1));\r\n            }\r\n        });\r\n        return builder.toDOM();\r\n    };\r\n    return ConditionGroupRenderer;\r\n}(ConditionRenderer));\r\nexport { ConditionGroupRenderer };\r\nvar ConditionGroupRowRenderer = /** @class */ (function (_super) {\r\n    __extends(ConditionGroupRowRenderer, _super);\r\n    function ConditionGroupRowRenderer(panel, condition, slot) {\r\n        var _this = _super.call(this, panel, condition, slot) || this;\r\n        _this.isRoot = !_this.condition.getParent();\r\n        return _this;\r\n    }\r\n    ConditionGroupRowRenderer.prototype.getButtonsToShow = function () {\r\n        return this.panel.options.buttons && this.panel.options.buttons.group && Array.isArray(this.panel.options.buttons.group) ? this.panel.options.buttons.group : [\"addCondition\", \"addGroup\", \"enable\", \"delete\"];\r\n    };\r\n    ConditionGroupRowRenderer.prototype.getClassesToAdd = function () {\r\n        var result;\r\n        if (this.isRoot) {\r\n            result = this.cssPrefix + \"-row \" + this.cssPrefix + \"-row-group \" + this.cssPrefix + \"-row-group-root\";\r\n        }\r\n        else {\r\n            result = this.cssPrefix + \"-row \" + this.cssPrefix + \"-row-group\";\r\n            var level = this.condition.getLevel();\r\n            if (level > 0)\r\n                result += \" \" + this.cssPrefix + \"-level-\" + level;\r\n            result += this.condition.enabled ? '' : \" \" + this.cssPrefix + \"-disabled\";\r\n            if (this.condition.enabled) {\r\n                result += this.condition.isReadOnly() ? \" \" + this.cssPrefix + \"-readonly\" : '';\r\n            }\r\n        }\r\n        return result;\r\n    };\r\n    ConditionGroupRowRenderer.prototype.coreRender = function (autoAppear) {\r\n        var _this = this;\r\n        var builder = domel(this.element)\r\n            .addClass(this.getClassesToAdd())\r\n            .addClass(browserUtils.getMobileCssClass())\r\n            .data('group-row', '')\r\n            .addChildElement(this.renderCheckbox())\r\n            .addChildElement(this.renderConjunction());\r\n        var level = this.condition.getLevel();\r\n        if (level > 0)\r\n            builder.addClass(this.cssPrefix + \"-level-\" + level);\r\n        this.buildGroupElements(builder, this.getGroupTitle());\r\n        if (this.panel.options.accentActiveCondition) {\r\n            builder.on('click', function (ev) {\r\n                _this.panel.toggleConditionPicked(_this.condition);\r\n                _this.adjustButtonsVisibility();\r\n                if (!browserUtils.isMobileMode()) {\r\n                    builder.toDOM().dispatchEvent(createBrowserEvent(\"mouseenter\"));\r\n                }\r\n            });\r\n        }\r\n        builder\r\n            .addChildElement(this.renderButtonsBlock());\r\n        if (!browserUtils.isMobileMode()) {\r\n            builder\r\n                .on('mouseenter', function (event) {\r\n                _this.isMouseOverBlock = true;\r\n                _this.enterButtonBlock();\r\n                event.stopPropagation();\r\n                return false;\r\n            })\r\n                .on('mouseleave', function (event) {\r\n                _this.isMouseOverBlock = false;\r\n                if (!_this.keepShowingButtons && domel(_this.buttonsBlock).isVisible()) {\r\n                    _this.leaveButtonBlock();\r\n                }\r\n                event.stopPropagation();\r\n                return false;\r\n            });\r\n        }\r\n    };\r\n    ConditionGroupRowRenderer.prototype.getGroupTitle = function () {\r\n        var result;\r\n        if (this.isRoot && !browserUtils.isMobileMode()) {\r\n            result = i18n.getText('RootConditionGroupTitle');\r\n            if (!result) {\r\n                //to support old text key\r\n                result = i18n.getText('RootPredicteTitle');\r\n            }\r\n        }\r\n        else {\r\n            result = i18n.getText('ConditionGroupTitle');\r\n            if (!result) {\r\n                //to support old text key\r\n                result = i18n.getText('PredicateTitle');\r\n            }\r\n        }\r\n        return result;\r\n    };\r\n    ConditionGroupRowRenderer.prototype.buildGroupElements = function (builder, groupTitle) {\r\n        var _this = this;\r\n        var pos = groupTitle.indexOf('{lt}');\r\n        if (pos < 0) {\r\n            //invalid format\r\n            builder.addText(i18n.getText('ErrIncorrectGroupTitleFormat'));\r\n            builder.addClass(this.cssPrefix + \"-error\");\r\n        }\r\n        else {\r\n            if (pos > 0) {\r\n                builder.addChild('span', function (b) {\r\n                    b.addClass(_this.cssPrefix + \"-grelement\")\r\n                        .addText(groupTitle.substring(0, pos));\r\n                });\r\n            }\r\n            var linkTypeStr = equtils.linkTypeToStr(this.condition.linkType);\r\n            var curType_1 = dataUtils.findItemById(eqconsts.predicateLinkTypeList, linkTypeStr);\r\n            if (!curType_1) {\r\n                curType_1 = eqconsts.predicateLinkTypeList[0];\r\n            }\r\n            if (this.isEditable()) {\r\n                dropdown(builder.toDOM())\r\n                    .onGetMenu(function () { return _this.getLinkTypeMenu(); })\r\n                    .onItemSelected(function (id) {\r\n                    _this.condition.linkType = equtils.strToLinkType(id);\r\n                    _this.condition.fireChangedEvent();\r\n                })\r\n                    .addText(i18n.getText(curType_1.key))\r\n                    .title(i18n.getText(curType_1.key))\r\n                    .addClass(this.cssPrefix + \"-grelement\");\r\n            }\r\n            else {\r\n                builder.addChild('span', function (b) {\r\n                    b.text(i18n.getText(curType_1.key))\r\n                        .title(i18n.getText(curType_1.key))\r\n                        .addClass(_this.cssPrefix + \"-grelement\");\r\n                });\r\n            }\r\n            builder.addChild('span', function (b) {\r\n                b.addClass(_this.cssPrefix + \"-grelement\")\r\n                    .addText(groupTitle.substring(pos + 4));\r\n            });\r\n        }\r\n    };\r\n    ConditionGroupRowRenderer.prototype.getConditionMenu = function () {\r\n        return this.panel.getConditionGroupMenu(this.condition.getParent() == null);\r\n    };\r\n    ConditionGroupRowRenderer.prototype.getLinkTypeMenu = function () {\r\n        return this.panel.getLinkTypeMenu();\r\n    };\r\n    ConditionGroupRowRenderer.prototype.renderConjunction = function () {\r\n        return this.isRoot ? null : _super.prototype.renderConjunction.call(this);\r\n    };\r\n    ConditionGroupRowRenderer.prototype.renderCheckbox = function () {\r\n        return this.isRoot ? null : _super.prototype.renderCheckbox.call(this);\r\n    };\r\n    ConditionGroupRowRenderer.prototype.leaveButtonBlock = function () {\r\n        if (!this.panel.options.alwaysShowButtonsInGroups\r\n            && (!this.isConditionActive() || this.panel.options.accentActiveCondition)) {\r\n            this.hideButtons();\r\n        }\r\n    };\r\n    ConditionGroupRowRenderer.prototype.adjustButtonsVisibility = function () {\r\n        if (this.panel.options.alwaysShowButtonsInGroups\r\n            || (this.panel.options.accentActiveCondition && this.isConditionActive())) {\r\n            this.showButtons();\r\n        }\r\n    };\r\n    return ConditionGroupRowRenderer;\r\n}(SimpleConditionRenderer));\r\nexport { ConditionGroupRowRenderer };\r\n//# sourceMappingURL=condition_group_renderer.js.map","export var FacetType;\r\n(function (FacetType) {\r\n    FacetType[\"DataGrid\"] = \"DATA_GRID\";\r\n    FacetType[\"Chart\"] = \"CHART\";\r\n    FacetType[\"PivotTable\"] = \"PIVOT_TABLE\";\r\n})(FacetType || (FacetType = {}));\r\n//# sourceMappingURL=facet_type.js.map","import { domel } from '@easydata/ui';\r\nimport { browserUtils } from '../../utils/browser_utils';\r\nvar BaseElementRenderer = /** @class */ (function () {\r\n    function BaseElementRenderer(slot) {\r\n        this.element = slot || domel('div').toDOM();\r\n    }\r\n    BaseElementRenderer.prototype.refresh = function () {\r\n        this.render();\r\n    };\r\n    BaseElementRenderer.prototype.render = function (isEditMode) {\r\n        var _this = this;\r\n        if (isEditMode === void 0) { isEditMode = false; }\r\n        this.labelElement = this.renderLabelElement();\r\n        domel(this.element)\r\n            .html('')\r\n            .addClass(this.getClassesToAdd())\r\n            .addClass(browserUtils.getMobileCssClass())\r\n            .addChildElement(this.labelElement);\r\n        if (this.isEditable()) {\r\n            this.renderEditor();\r\n            if (isEditMode) {\r\n                setTimeout(function () { return _this.showEditor(); }, 50);\r\n            }\r\n        }\r\n        return this.element;\r\n    };\r\n    BaseElementRenderer.prototype.isEditable = function () {\r\n        return true;\r\n    };\r\n    BaseElementRenderer.prototype.renderLabelElement = function () {\r\n        var _this = this;\r\n        var displayedText = this.getLabelText();\r\n        if (this.isEditable()) {\r\n            return domel('a')\r\n                .attr('href', 'javascript:void(0)')\r\n                .title(displayedText)\r\n                .text(displayedText)\r\n                .on('click', function (ev) {\r\n                ev.preventDefault();\r\n                _this.showEditor();\r\n                return false;\r\n            })\r\n                .toDOM();\r\n        }\r\n        else {\r\n            return domel('span')\r\n                .title(displayedText)\r\n                .text(displayedText)\r\n                .toDOM();\r\n        }\r\n    };\r\n    BaseElementRenderer.prototype.getClassesToAdd = function () {\r\n        return '';\r\n    };\r\n    BaseElementRenderer.prototype.getLabelText = function () {\r\n        return this.getEmptyText();\r\n    };\r\n    BaseElementRenderer.prototype.getEmptyText = function () {\r\n        return '<empty>';\r\n    };\r\n    return BaseElementRenderer;\r\n}());\r\nexport { BaseElementRenderer };\r\n//# sourceMappingURL=base_element_renderer.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { i18n } from '@easydata/core';\r\nimport { ConditionPart } from '@easyquery/core';\r\nimport { BaseElementRenderer } from '../base_element_renderer';\r\nvar ExpressionRenderer = /** @class */ (function (_super) {\r\n    __extends(ExpressionRenderer, _super);\r\n    function ExpressionRenderer(panel, expression, valueEditor, slot) {\r\n        var _this = _super.call(this, slot) || this;\r\n        _this.panel = panel;\r\n        _this.expression = expression;\r\n        _this.valueEditor = valueEditor;\r\n        return _this;\r\n    }\r\n    Object.defineProperty(ExpressionRenderer.prototype, \"cssPrefix\", {\r\n        get: function () {\r\n            return 'eqjs-qp';\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    ExpressionRenderer.prototype.render = function (isEditMode) {\r\n        if (isEditMode === void 0) { isEditMode = false; }\r\n        _super.prototype.render.call(this, isEditMode);\r\n        if (this.panel.options.onExpressionRendered) {\r\n            this.panel.options.onExpressionRendered(this.expression, this.element);\r\n        }\r\n        return this.element;\r\n    };\r\n    ExpressionRenderer.prototype.getContext = function () {\r\n        return this.panel.getContext();\r\n    };\r\n    ExpressionRenderer.prototype.isReadOnly = function () {\r\n        var parent = this.expression.getParent();\r\n        return !parent.enabled || parent.isReadOnly();\r\n    };\r\n    ExpressionRenderer.prototype.isEditable = function () {\r\n        return !this.isReadOnly();\r\n    };\r\n    ExpressionRenderer.prototype.getClassesToAdd = function () {\r\n        return this.cssPrefix + \"-condelement \" + this.cssPrefix + \"-valueelement\";\r\n    };\r\n    ExpressionRenderer.prototype.getLabelText = function () {\r\n        var result = !this.expression.isEmpty()\r\n            ? this.expression.value\r\n            : this.getEmptyText();\r\n        return result;\r\n    };\r\n    ExpressionRenderer.prototype.getEmptyText = function () {\r\n        return this.panel.options.emptyTextValue || i18n.getText('MsgEmptyScalarValue'); //'[enter value]';\r\n    };\r\n    ExpressionRenderer.prototype.setValue = function (value, silent) {\r\n        this.expression.setValue(value);\r\n        if (!silent) {\r\n            this.expression.getParent().fireChangedEvent(ConditionPart.Value);\r\n        }\r\n    };\r\n    ExpressionRenderer.prototype.getValue = function () {\r\n        return this.expression.value;\r\n    };\r\n    ExpressionRenderer.prototype.validateInput = function (value) {\r\n        return { success: true, value: value };\r\n    };\r\n    ExpressionRenderer.prototype.showValidationError = function (message, target) {\r\n        this.getContext().throwError({\r\n            action: \"ui.validation\",\r\n            \"text\": message\r\n        });\r\n    };\r\n    ExpressionRenderer.prototype.isEmptyValue = function () {\r\n        var v = this.getValue();\r\n        return (typeof (v) === \"undefined\" || v === null || !v);\r\n    };\r\n    ExpressionRenderer.prototype.adjustWidth = function () {\r\n    };\r\n    return ExpressionRenderer;\r\n}(BaseElementRenderer));\r\nexport { ExpressionRenderer };\r\n//# sourceMappingURL=expression_renderer.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { i18n } from '@easydata/core';\r\nimport { utils as dataUtils } from '@easydata/core';\r\nimport { DataKind } from '@easyquery/core';\r\nimport { domel } from '@easydata/ui';\r\nimport { ExpressionRenderer } from './expression_renderer';\r\nimport { QPEditablePart } from '../../../types/qp_editable_part';\r\nimport { browserUtils } from '../../../utils/browser_utils';\r\nvar InputExpressionRenderer = /** @class */ (function (_super) {\r\n    __extends(InputExpressionRenderer, _super);\r\n    function InputExpressionRenderer() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    InputExpressionRenderer.prototype.renderEditor = function () {\r\n        var _this = this;\r\n        this.inputBuilder = domel(\"input\")\r\n            .hide()\r\n            .addClass(this.cssPrefix + \"-ve-editbox\")\r\n            .type('text')\r\n            .on('blur', function (ev) {\r\n            if (_this.inputBuilder.isVisible() && !_this.dontProcessBlur) {\r\n                var validationResult = _this.validateInput(_this.inputElement.value);\r\n                if (validationResult.success) {\r\n                    _this.setValue(_this.inputElement.value);\r\n                    _this.closeEditor();\r\n                }\r\n                else {\r\n                    _this.dontProcessBlur = true;\r\n                    _this.inputElement.focus();\r\n                    setTimeout(function () { _this.dontProcessBlur = false; }, 200);\r\n                    _this.showValidationError(validationResult.message, ev.target);\r\n                }\r\n                ev.stopPropagation();\r\n                return false;\r\n            }\r\n        })\r\n            .on('keydown', function (ev) {\r\n            if (ev.keyCode === 27) { // ESC is pressed\r\n                _this.closeEditor();\r\n                ev.stopPropagation();\r\n                return false;\r\n            }\r\n            else if (ev.keyCode === 13) { // Enter is pressed\r\n                if (_this.inputBuilder.isVisible()) {\r\n                    _this.dontProcessBlur = true;\r\n                    var validationResult = _this.validateInput(_this.inputElement.value);\r\n                    if (validationResult.success) {\r\n                        _this.setValue(_this.inputElement.value);\r\n                        _this.closeEditor();\r\n                        _this.dontProcessBlur = false;\r\n                    }\r\n                    else {\r\n                        _this.inputElement.focus();\r\n                        setTimeout(function () { _this.dontProcessBlur = false; }, 200);\r\n                    }\r\n                    ev.stopPropagation();\r\n                    return false;\r\n                }\r\n            }\r\n        });\r\n        this.inputElement = this.inputBuilder.toDOM();\r\n        domel(this.element)\r\n            .addChildElement(this.inputElement);\r\n    };\r\n    InputExpressionRenderer.prototype.showEditor = function () {\r\n        var MIN_WIDTH = 200;\r\n        if (!browserUtils.isMobileMode()) {\r\n            var left = this.element.offsetLeft;\r\n            var width = this.element.offsetWidth > MIN_WIDTH ? this.element.offsetWidth : MIN_WIDTH;\r\n            var maxWidth = this.element.parentElement.clientWidth - left - 55;\r\n            this.inputBuilder\r\n                .removeStyle('left')\r\n                .removeStyle('right');\r\n            if (maxWidth < MIN_WIDTH) {\r\n                this.inputBuilder\r\n                    .setStyle('right', '55px')\r\n                    .setStyle('width', MIN_WIDTH + \"px\");\r\n            }\r\n            else if (maxWidth < width) {\r\n                this.inputBuilder\r\n                    .setStyle('left', left + \"px\")\r\n                    .setStyle('width', maxWidth + \"px\");\r\n            }\r\n            else {\r\n                this.inputBuilder\r\n                    .setStyle('left', left + \"px\")\r\n                    .setStyle('width', width + \"px\");\r\n            }\r\n        }\r\n        domel(this.labelElement).hide();\r\n        this.inputBuilder\r\n            .value(this.getValue())\r\n            .show();\r\n        this.inputElement.focus();\r\n    };\r\n    InputExpressionRenderer.prototype.closeEditor = function () {\r\n        this.inputBuilder.hide();\r\n        domel(this.labelElement).show();\r\n        this.labelElement.focus();\r\n    };\r\n    InputExpressionRenderer.prototype.validateInput = function (inputValue) {\r\n        this.inputBuilder.removeClass(\"eqjs-invalid\");\r\n        var result = {\r\n            success: true,\r\n            value: inputValue\r\n        };\r\n        if (this.expression.kind == DataKind.List) {\r\n            this.validateListInput(inputValue, result);\r\n        }\r\n        else {\r\n            this.validateScalarInput(inputValue, result);\r\n        }\r\n        return result;\r\n    };\r\n    InputExpressionRenderer.prototype.validateListInput = function (inputValue, result) {\r\n        var inputValues = inputValue.split(/\\s*,\\s*/);\r\n        for (var _i = 0, inputValues_1 = inputValues; _i < inputValues_1.length; _i++) {\r\n            var val = inputValues_1[_i];\r\n            this.validateScalarInput(val, result);\r\n            if (!result.success) {\r\n                return;\r\n            }\r\n        }\r\n    };\r\n    InputExpressionRenderer.prototype.validateScalarInput = function (inputValue, result) {\r\n        if (dataUtils.isNumericType(this.expression.dataType)) {\r\n            var parsedVal = +inputValue;\r\n            if (isNaN(parsedVal)) {\r\n                result.success = false;\r\n                result.message = '\"' + inputValue + '\" ' + i18n.getText('ErrNotNumber');\r\n            }\r\n            if (dataUtils.isIntType(this.expression.dataType) && parsedVal != parseInt(inputValue, 10)) {\r\n                result.success = false;\r\n                result.message = '\"' + inputValue + '\" ' + i18n.getText('ErrIncorrectInteger');\r\n            }\r\n        }\r\n    };\r\n    InputExpressionRenderer.prototype.showValidationError = function (message, target) {\r\n        _super.prototype.showValidationError.call(this, message, target);\r\n        this.inputBuilder.addClass(\"eqjs-invalid\");\r\n    };\r\n    InputExpressionRenderer.prototype.isEditable = function () {\r\n        return _super.prototype.isEditable.call(this)\r\n            && ((this.panel.options.editableParts & QPEditablePart.Value) === QPEditablePart.Value);\r\n    };\r\n    return InputExpressionRenderer;\r\n}(ExpressionRenderer));\r\nexport { InputExpressionRenderer };\r\n//# sourceMappingURL=input_expression_renderer.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { i18n } from '@easydata/core';\r\nimport { utils as dataUtils } from '@easydata/core';\r\nimport { eqconsts, DataKind, ConditionPart, } from '@easyquery/core';\r\nimport { domel } from '@easydata/ui';\r\nimport { ExpressionRenderer } from './expression_renderer';\r\nimport { PopupMenu } from '../../../utils/popup_menu';\r\nimport { QPEditablePart } from '../../../types/qp_editable_part';\r\nvar ListExpressionRenderer = /** @class */ (function (_super) {\r\n    __extends(ListExpressionRenderer, _super);\r\n    function ListExpressionRenderer() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        _this.menuItemsList = [];\r\n        _this.showWhenReady = false;\r\n        return _this;\r\n    }\r\n    ListExpressionRenderer.prototype.isEditable = function () {\r\n        return !this.isReadOnly()\r\n            && ((this.panel.options.editableParts & QPEditablePart.Value) === QPEditablePart.Value);\r\n    };\r\n    ListExpressionRenderer.prototype.setValue = function (value, silent) {\r\n        if (silent === void 0) { silent = false; }\r\n        var newValue = this.adjustNewValue(value);\r\n        if (value !== this.expression.value) {\r\n            var text = this.getValueText(value);\r\n            this.expression.setContent(newValue, text);\r\n            if (!silent) {\r\n                this.expression.getParent().fireChangedEvent(ConditionPart.Value);\r\n            }\r\n        }\r\n        return true;\r\n    };\r\n    ListExpressionRenderer.prototype.getValueText = function (value) {\r\n        var result = \"\";\r\n        if (Array.isArray(value)) {\r\n            for (var _i = 0, _a = this.menuItemsList; _i < _a.length; _i++) {\r\n                var item = _a[_i];\r\n                if (value.indexOf(item.id) >= 0) {\r\n                    result += item.text + ',';\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            for (var _b = 0, _c = this.menuItemsList; _b < _c.length; _b++) {\r\n                var item = _c[_b];\r\n                if (item.id === value) {\r\n                    result += item.text + ',';\r\n                }\r\n            }\r\n        }\r\n        if (result) {\r\n            result = result.substring(0, result.length - 1);\r\n        }\r\n        return result;\r\n    };\r\n    ListExpressionRenderer.prototype.getEmptyText = function () {\r\n        return this.panel.options.emptyTextList || i18n.getText('MsgEmptyListValue');\r\n    };\r\n    ListExpressionRenderer.prototype.getListName = function () {\r\n        return this.valueEditor.name;\r\n    };\r\n    ListExpressionRenderer.prototype.renderEditor = function () {\r\n        var _this = this;\r\n        this.fillMenuItemsList(function () {\r\n            _this.renderMenuBlock();\r\n        });\r\n    };\r\n    ListExpressionRenderer.prototype.getLabelText = function () {\r\n        if (!this.expression.isEmpty()) {\r\n            return this.expression.getText();\r\n        }\r\n        else {\r\n            return this.getEmptyText();\r\n        }\r\n    };\r\n    ListExpressionRenderer.prototype.showLoader = function () {\r\n        //NOTHING TO DO\r\n    };\r\n    ListExpressionRenderer.prototype.hideLoader = function () {\r\n        //NOTHING TO DO\r\n    };\r\n    ListExpressionRenderer.prototype.showEditor = function () {\r\n        var _this = this;\r\n        if (this.menu) {\r\n            this.menu.showMenu({\r\n                anchor: this.labelElement,\r\n                selectedIds: this.getValuesAsArray(),\r\n                itemSelectedCallback: function (item, selectedItems) {\r\n                    if (!_this.menu.options.multiselect) {\r\n                        _this.setValue(item.id);\r\n                    }\r\n                    else if (selectedItems) {\r\n                        var selectedIds = [];\r\n                        var selLength = selectedItems.length;\r\n                        for (var i = 0; i < selLength; i++)\r\n                            selectedIds.push(selectedItems[i].id);\r\n                        _this.setValue(selectedIds);\r\n                    }\r\n                    return false;\r\n                }\r\n            });\r\n        }\r\n        else {\r\n            this.showWhenReady = true;\r\n            this.showLoader();\r\n        }\r\n    };\r\n    ListExpressionRenderer.prototype.closeEditor = function () {\r\n        this.menu.hideMenu();\r\n    };\r\n    ListExpressionRenderer.prototype.renderMenuBlock = function () {\r\n        var multiSelect = false;\r\n        if (this.expression) {\r\n            multiSelect = this.expression.kind === DataKind.List;\r\n        }\r\n        var queryPanel = this.panel;\r\n        var options = {\r\n            items: this.menuItemsList,\r\n            multiselect: multiSelect,\r\n            container: queryPanel ? queryPanel.options.menuContainer : null,\r\n            showSelected: true\r\n        };\r\n        if (queryPanel) {\r\n            dataUtils.assignDeep(options, queryPanel.options.menuOptions);\r\n        }\r\n        ;\r\n        if (queryPanel && queryPanel.options.isSubQuery) {\r\n            options.zIndex = queryPanel.options.dialogZIndex + 1000;\r\n        }\r\n        var menuId = this.element.id;\r\n        if (menuId) {\r\n            options.id = menuId + '-EditorMenu';\r\n        }\r\n        if (queryPanel) {\r\n            options.domWriteItemsId = queryPanel.options.domWriteItemsId;\r\n        }\r\n        ;\r\n        options.buttons = {\r\n            submit: i18n.getText('ButtonApply'),\r\n            cancel: i18n.getText('ButtonCancel')\r\n        };\r\n        this.menu = new PopupMenu(options);\r\n    };\r\n    ListExpressionRenderer.prototype.getValuesAsArray = function () {\r\n        if (this.expression.kind !== DataKind.List) {\r\n            return [this.expression.value];\r\n        }\r\n        else {\r\n            //splits value by ',' \r\n            var res = this.expression.value.match(/\"[^\"\\\\]*(?:\\\\.[^\"\\\\]*)*\"|[^,]+/g);\r\n            return res\r\n                ? res.map(function (a) {\r\n                    if (a.charAt(0) == '\"' && a.charAt(a.length - 1) == '\"') {\r\n                        a = a.substring(1, a.length - 1);\r\n                        return a.replace(/\\\"/g, '\"');\r\n                    }\r\n                    else {\r\n                        return a;\r\n                    }\r\n                })\r\n                : [];\r\n        }\r\n    };\r\n    ListExpressionRenderer.prototype.adjustNewValue = function (newValue) {\r\n        if (Array.isArray(newValue)) {\r\n            return newValue.map(function (a) {\r\n                if (a.indexOf(',') >= 0) {\r\n                    a = a.replace(/\"/g, '\\\"');\r\n                    return '\"' + a + '\"';\r\n                }\r\n                else {\r\n                    return a;\r\n                }\r\n            }).join(',');\r\n        }\r\n        else {\r\n            return newValue;\r\n        }\r\n    };\r\n    ListExpressionRenderer.prototype.fillMenuItemsList = function (onComplete) {\r\n        this.menuItemsList = this.valueEditor.values;\r\n        if (onComplete) {\r\n            onComplete();\r\n        }\r\n    };\r\n    ListExpressionRenderer.prototype.takeDefaultValue = function () {\r\n        if (!this.menuItemsList)\r\n            return;\r\n        var itemLen = this.menuItemsList.length;\r\n        for (var i = 0; i < itemLen; i++) {\r\n            var item = this.menuItemsList[i];\r\n            if (item.isDefault) {\r\n                this.setValue(item.id, true);\r\n                break;\r\n            }\r\n        }\r\n    };\r\n    return ListExpressionRenderer;\r\n}(ExpressionRenderer));\r\nexport { ListExpressionRenderer };\r\nvar CustomListExpressionRenderer = /** @class */ (function (_super) {\r\n    __extends(CustomListExpressionRenderer, _super);\r\n    function CustomListExpressionRenderer() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        _this.isLoading = false;\r\n        _this.onClickTemp = null;\r\n        return _this;\r\n    }\r\n    CustomListExpressionRenderer.prototype.renderEditor = function () {\r\n        var _this = this;\r\n        if (this.isLoading)\r\n            return;\r\n        this.isLoading = true;\r\n        this.fillMenuItemsList(function () {\r\n            _this.isLoading = false;\r\n            if (_this.isEmptyValue()) {\r\n                _this.takeDefaultValue();\r\n            }\r\n            if (!_this.expression.isEmpty() && _this.expression._isDefaultValue) {\r\n                var text = _this.getValueText(_this.expression.value);\r\n                _this.expression.setContent(_this.expression.value, text);\r\n                _this.expression.getParent().fireChangedEvent();\r\n            }\r\n            _this.renderMenuBlock();\r\n            if (_this.showWhenReady) {\r\n                _this.showWhenReady = false;\r\n                _this.hideLoader();\r\n                _this.showEditor();\r\n            }\r\n        });\r\n    };\r\n    CustomListExpressionRenderer.prototype.showLoader = function () {\r\n        this.labelElement.style.display = 'none';\r\n        if (!this.loaderElement) {\r\n            this.loaderElement = domel('div', this.element)\r\n                .addClass(this.cssPrefix + \"-ve-loader\")\r\n                .toDOM();\r\n        }\r\n        this.loaderElement.style.display = 'block';\r\n    };\r\n    CustomListExpressionRenderer.prototype.hideLoader = function () {\r\n        this.loaderElement.style.display = 'none';\r\n        this.labelElement.removeAttribute('style');\r\n    };\r\n    CustomListExpressionRenderer.prototype.fillMenuItemsList = function (onComplete) {\r\n        var _this = this;\r\n        var listName = this.getListName();\r\n        var listRequestHandler = this.panel.getContext().getListRequestHandler();\r\n        if (eqconsts.constLists[listName]) {\r\n            this.menuItemsList = eqconsts.constLists[listName];\r\n            if (onComplete) {\r\n                onComplete();\r\n            }\r\n        }\r\n        else if (listRequestHandler) {\r\n            listRequestHandler({\r\n                listName: listName,\r\n                editorId: this.valueEditor.id,\r\n                editorParams: this.valueEditor.extraParams,\r\n                value: this.getValue()\r\n            }, function (list) {\r\n                _this.menuItemsList = list;\r\n                if (onComplete) {\r\n                    onComplete();\r\n                }\r\n            });\r\n        }\r\n    };\r\n    return CustomListExpressionRenderer;\r\n}(ListExpressionRenderer));\r\nexport { CustomListExpressionRenderer };\r\nvar SqlListExpressionRenderer = /** @class */ (function (_super) {\r\n    __extends(SqlListExpressionRenderer, _super);\r\n    function SqlListExpressionRenderer() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    SqlListExpressionRenderer.prototype.fillMenuItemsList = function (onComplete) {\r\n        var _this = this;\r\n        var context = this.panel.getContext();\r\n        var editor = this.valueEditor;\r\n        var listRequestHandler = context.getListRequestHandler();\r\n        if (listRequestHandler) {\r\n            var requestData = {\r\n                listName: \"SQL\",\r\n                editorId: this.valueEditor.id,\r\n                editorParams: this.valueEditor.extraParams,\r\n                value: this.getValue()\r\n            };\r\n            //requestData.sql = editor.sql;\r\n            listRequestHandler(requestData, function (list) {\r\n                _this.menuItemsList = list;\r\n                if (onComplete) {\r\n                    onComplete();\r\n                }\r\n            });\r\n        }\r\n    };\r\n    return SqlListExpressionRenderer;\r\n}(CustomListExpressionRenderer));\r\nexport { SqlListExpressionRenderer };\r\n//# sourceMappingURL=list_expression_renderer.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { i18n } from '@easydata/core';\r\nimport { ConditionPart, } from '@easyquery/core';\r\nimport { domel } from '@easydata/ui';\r\nimport { ListExpressionRenderer } from './list_expression_renderer';\r\nimport { browserUtils } from '../../../utils/browser_utils';\r\nimport { QPEditablePart } from '../../../types/qp_editable_part';\r\nvar AttributeExpressionRenderer = /** @class */ (function (_super) {\r\n    __extends(AttributeExpressionRenderer, _super);\r\n    function AttributeExpressionRenderer(panel, expression, entitiesMenu, slot) {\r\n        var _this = _super.call(this, panel, expression, null, slot) || this;\r\n        _this.menu = entitiesMenu;\r\n        return _this;\r\n    }\r\n    AttributeExpressionRenderer.prototype.renderEditor = function () {\r\n        //create menu\r\n    };\r\n    AttributeExpressionRenderer.prototype.getLabelText = function () {\r\n        var model = this.panel.getContext().getModel();\r\n        var attrId = this.expression.value;\r\n        var attrObj = attrId ? model.getAttributeById(attrId) : null;\r\n        var attrFormat = this.panel.options.attrElementFormat;\r\n        return attrObj ? model.getAttributeText(attrObj, attrFormat) : this.getEmptyText();\r\n    };\r\n    AttributeExpressionRenderer.prototype.setValue = function (value, silent) {\r\n        if (silent === void 0) { silent = false; }\r\n        silent = silent && value !== this.expression.value;\r\n        var result = _super.prototype.setValue.call(this, value, true);\r\n        if (!silent) {\r\n            this.expression.getParent().fireChangedEvent(ConditionPart.EntityAttr | ConditionPart.Operator);\r\n        }\r\n        return result;\r\n    };\r\n    AttributeExpressionRenderer.prototype.isEditable = function () {\r\n        return !this.isReadOnly()\r\n            && ((this.panel.options.editableParts & QPEditablePart.Attribute) === QPEditablePart.Attribute);\r\n    };\r\n    AttributeExpressionRenderer.prototype.getEmptyText = function () {\r\n        return this.panel.options.emptyTextAttribute || i18n.getText('MsgEmptyAttrValue');\r\n    };\r\n    AttributeExpressionRenderer.prototype.getClassesToAdd = function () {\r\n        return this.cssPrefix + \"-condelement \" + this.cssPrefix + \"-attrelement\";\r\n    };\r\n    AttributeExpressionRenderer.prototype.adjustWidth = function () {\r\n        if (browserUtils.isMobileMode()) {\r\n            return;\r\n        }\r\n        var elWidth = this.element.clientWidth;\r\n        var parWidth = this.element.parentElement.clientWidth;\r\n        if (elWidth > parWidth / 2) {\r\n            domel(this.element)\r\n                .addClass(this.cssPrefix + \"-attrelement-wide\");\r\n        }\r\n    };\r\n    return AttributeExpressionRenderer;\r\n}(ListExpressionRenderer));\r\nexport { AttributeExpressionRenderer };\r\n//# sourceMappingURL=attribute_expression_renderer.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { BaseElementRenderer } from './base_element_renderer';\r\nvar DropDownRenderer = /** @class */ (function (_super) {\r\n    __extends(DropDownRenderer, _super);\r\n    function DropDownRenderer(slot) {\r\n        return _super.call(this, slot) || this;\r\n    }\r\n    DropDownRenderer.prototype.showEditor = function () {\r\n        var _this = this;\r\n        var menu = this.getMenu();\r\n        if (menu) {\r\n            menu.showMenu({\r\n                anchor: this.labelElement,\r\n                itemSelectedCallback: function (item) {\r\n                    _this.itemSelected(item.id);\r\n                    return false;\r\n                }\r\n            });\r\n        }\r\n    };\r\n    DropDownRenderer.prototype.closeEditor = function () {\r\n        var menu = this.getMenu();\r\n        if (menu)\r\n            menu.hideMenu();\r\n    };\r\n    return DropDownRenderer;\r\n}(BaseElementRenderer));\r\nexport { DropDownRenderer };\r\n//# sourceMappingURL=dropdown_renderer.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { i18n } from '@easydata/core';\r\nimport { QueryChangeAction } from '@easyquery/core';\r\nimport { domel } from '@easydata/ui';\r\nimport { DropDownRenderer } from '../dropdown_renderer';\r\nimport { eqCssPrefix } from '../../../utils/utils';\r\nimport { QPEditablePart } from '../../../types/qp_editable_part';\r\nvar AddRowRenderer = /** @class */ (function (_super) {\r\n    __extends(AddRowRenderer, _super);\r\n    function AddRowRenderer(panel, entitiesMenu, slot) {\r\n        var _this = _super.call(this, slot) || this;\r\n        _this.panel = panel;\r\n        _this.menu = entitiesMenu;\r\n        return _this;\r\n    }\r\n    Object.defineProperty(AddRowRenderer.prototype, \"cssPrefix\", {\r\n        get: function () {\r\n            return 'eqjs-qp';\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    AddRowRenderer.prototype.getLabelText = function () {\r\n        return i18n.getText('CmdClickToAddCondition');\r\n    };\r\n    AddRowRenderer.prototype.getClassesToAdd = function () {\r\n        return eqCssPrefix + \"-addrow \" + this.cssPrefix + \"-addrow\";\r\n    };\r\n    AddRowRenderer.prototype.isEditable = function () {\r\n        return _super.prototype.isEditable.call(this)\r\n            && ((this.panel.options.editableParts & QPEditablePart.Addition) === QPEditablePart.Addition);\r\n    };\r\n    AddRowRenderer.prototype.renderLabelElement = function () {\r\n        var _this = this;\r\n        var displayedText = this.getLabelText();\r\n        if (this.isEditable()) {\r\n            this.labelElement = domel('a')\r\n                .attr('href', 'javascript:void(0)')\r\n                .title(displayedText)\r\n                .text(displayedText)\r\n                .on('click', function (ev) {\r\n                ev.preventDefault();\r\n                _this.showEditor();\r\n                return false;\r\n            })\r\n                .toDOM();\r\n        }\r\n        else {\r\n            this.labelElement = domel('div')\r\n                .toDOM();\r\n        }\r\n        return this.labelElement;\r\n    };\r\n    AddRowRenderer.prototype.renderEditor = function () {\r\n        // do nothing - the menu is alredy created\r\n    };\r\n    AddRowRenderer.prototype.itemSelected = function (id) {\r\n        var query = this.panel.getQuery();\r\n        var descr = {\r\n            parent: query.getRootCondition(),\r\n            attributeId: id\r\n        };\r\n        var cond = query.addSimpleCondition(descr);\r\n        if (cond) {\r\n            query.fireConditionsChangedEvent(QueryChangeAction.Add, cond);\r\n        }\r\n    };\r\n    AddRowRenderer.prototype.getMenu = function () {\r\n        return this.menu;\r\n    };\r\n    return AddRowRenderer;\r\n}(DropDownRenderer));\r\nexport { AddRowRenderer };\r\n//# sourceMappingURL=addrow_renderer.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { i18n } from '@easydata/core';\r\nimport { utils as dataUtils } from '@easydata/core';\r\nimport { DataKind, ConditionPart } from '@easyquery/core';\r\nimport { DropDownRenderer } from '../dropdown_renderer';\r\nimport { PopupMenu } from '../../../utils/popup_menu';\r\nimport { QPEditablePart } from '../../../types/qp_editable_part';\r\nvar OperatorRenderer = /** @class */ (function (_super) {\r\n    __extends(OperatorRenderer, _super);\r\n    function OperatorRenderer(panel, condition, text, slot) {\r\n        var _this = _super.call(this, slot) || this;\r\n        _this.panel = panel;\r\n        _this.condition = condition;\r\n        _this.displayedText = text;\r\n        return _this;\r\n    }\r\n    Object.defineProperty(OperatorRenderer.prototype, \"cssPrefix\", {\r\n        get: function () {\r\n            return 'eqjs-qp';\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    OperatorRenderer.prototype.renderEditor = function () {\r\n        var _this = this;\r\n        //create menu\r\n        var model = this.panel.getContext().getModel();\r\n        var query = this.panel.getQuery();\r\n        var items = [];\r\n        var isRelatedToSubQuery = function (operator) {\r\n            return operator.defaultOperand.kind == DataKind.Query;\r\n        };\r\n        var attrId = (this.condition && this.condition.expressions && this.condition.expressions[0]) ? this.condition.expressions[0].value : null;\r\n        var attr = attrId ? model.getAttributeById(this.condition.expressions[0].value) : null;\r\n        if (attr && attr.operators) {\r\n            attr.operators.forEach(function (operId) {\r\n                var operator = model.getOperatorById(operId);\r\n                var related = isRelatedToSubQuery(operator);\r\n                if (!query.isEx() && related) {\r\n                    return;\r\n                }\r\n                if (operator && !(_this.panel.options.isSubQuery && related)) {\r\n                    items.push({\r\n                        id: operId,\r\n                        text: i18n.getText('Operators', operId, 'caption') || operator.caption\r\n                    });\r\n                }\r\n            });\r\n        }\r\n        var options = {\r\n            items: items,\r\n            adjustHeight: this.panel.options.adjustEntitiesMenuHeight,\r\n            id: dataUtils.generateId('opmn'),\r\n            domWriteItemsId: this.panel.options.domWriteItemsId\r\n        };\r\n        dataUtils.assign(options, this.panel.options.menuOptions);\r\n        this.menu = new PopupMenu(options);\r\n    };\r\n    OperatorRenderer.prototype.getLabelText = function () {\r\n        return this.displayedText;\r\n    };\r\n    OperatorRenderer.prototype.getEmptyText = function () {\r\n        return this.panel.options.emptyTextOperator || i18n.getText('MsgEmptyOperator');\r\n    };\r\n    OperatorRenderer.prototype.getClassesToAdd = function () {\r\n        return this.cssPrefix + \"-condelement \" + this.cssPrefix + \"-operelement\";\r\n    };\r\n    OperatorRenderer.prototype.isEditable = function () {\r\n        return this.condition.enabled && !this.condition.isReadOnly()\r\n            && ((this.panel.options.editableParts & QPEditablePart.Operator) === QPEditablePart.Operator);\r\n    };\r\n    OperatorRenderer.prototype.itemSelected = function (id) {\r\n        this.condition.setOperatorId(id);\r\n        this.condition.fireChangedEvent(ConditionPart.Operator);\r\n    };\r\n    OperatorRenderer.prototype.getMenu = function () {\r\n        return this.menu;\r\n    };\r\n    return OperatorRenderer;\r\n}(DropDownRenderer));\r\nexport { OperatorRenderer };\r\n//# sourceMappingURL=operator_renderer.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { i18n, DataType, utils as dataUtils } from '@easydata/core';\r\nimport { DefaultDateTimePicker } from '@easydata/ui';\r\nimport { ExpressionRenderer } from './expression_renderer';\r\nimport { QPEditablePart } from '../../../types/qp_editable_part';\r\nvar DateTimeExpressionRenderer = /** @class */ (function (_super) {\r\n    __extends(DateTimeExpressionRenderer, _super);\r\n    function DateTimeExpressionRenderer() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        _this.dtp = null;\r\n        _this.internalDateFormat = 'yyyy-MM-dd';\r\n        _this.internalTimeFormat = 'HH:mm';\r\n        return _this;\r\n    }\r\n    DateTimeExpressionRenderer.prototype.renderEditor = function () {\r\n    };\r\n    DateTimeExpressionRenderer.prototype.showEditor = function () {\r\n        var _this = this;\r\n        if (this.dtp)\r\n            return;\r\n        var pickerOptions = {\r\n            yearRange: this.panel.options.yearRange,\r\n            showCalendar: this.expression.dataType !== DataType.Time,\r\n            showTimePicker: this.expression.dataType !== DataType.Date,\r\n            oneClickDateSelection: this.panel.options.oneClickDateSelection,\r\n            showDateTimeInput: this.panel.options.showDateTimeInput,\r\n            onApply: function (dateTime) {\r\n                var value = _this.convertToInternalFormat(dateTime);\r\n                _this.setValue(value);\r\n                _this.dtp = null;\r\n                setTimeout(function () { return _this.labelElement.focus(); }, 100);\r\n            },\r\n            onCancel: function () {\r\n                _this.labelElement.innerText = _this.getLabelText();\r\n                _this.dtp = null;\r\n                setTimeout(function () { return _this.labelElement.focus(); }, 100);\r\n            },\r\n            onDateTimeChanged: function (dateTime) {\r\n                var value = i18n.dateTimeToStr(dateTime, _this.expression.dataType);\r\n                _this.labelElement.innerText = value;\r\n            }\r\n        };\r\n        this.dtp = this.panel.options.dateTimePickerResolver\r\n            ? this.panel.options.dateTimePickerResolver(pickerOptions)\r\n            : new DefaultDateTimePicker(pickerOptions);\r\n        var model = this.expression.getModel();\r\n        var value = this.expression.value;\r\n        var dateTime = new Date();\r\n        if (this.expression.dataType != DataType.Time && model.isDateMacro(value)) {\r\n            dateTime = model.getDateMacroValue(value);\r\n        }\r\n        else if (this.expression.dataType == DataType.Time && model.isTimeMacro(value)) {\r\n            dateTime = model.getTimeMacroValue(value);\r\n        }\r\n        else {\r\n            dateTime = this.convertFromInternalFormat(value);\r\n        }\r\n        this.dtp.setDateTime(dateTime);\r\n        this.dtp.show(this.element);\r\n    };\r\n    DateTimeExpressionRenderer.prototype.closeEditor = function () {\r\n        this.dtp.cancel();\r\n        this.dtp = null;\r\n    };\r\n    DateTimeExpressionRenderer.prototype.getLabelText = function () {\r\n        if (!this.expression.value)\r\n            return this.getEmptyText();\r\n        var defValue = '${{Today}}';\r\n        var value = this.expression.value;\r\n        var model = this.expression.getModel();\r\n        if (model) {\r\n            if (model.isDateMacro(value) || model.isTimeMacro(value)) {\r\n                var macroText = value.substring(3, value.length - 2);\r\n                var res = i18n.getText(macroText);\r\n                return res ? res : defValue;\r\n            }\r\n        }\r\n        var result = i18n.dateTimeToStr(this.convertFromInternalFormat(value), this.expression.dataType);\r\n        return result;\r\n    };\r\n    DateTimeExpressionRenderer.prototype.isEditable = function () {\r\n        return _super.prototype.isEditable.call(this)\r\n            && ((this.panel.options.editableParts & QPEditablePart.Value) === QPEditablePart.Value);\r\n    };\r\n    DateTimeExpressionRenderer.prototype.convertFromInternalFormat = function (dateTime) {\r\n        return dataUtils.strToDateTime(dateTime, this.internalDateFormat + ' ' + this.internalTimeFormat);\r\n    };\r\n    DateTimeExpressionRenderer.prototype.convertToInternalFormat = function (dateTime) {\r\n        return dataUtils.dateTimeToStr(dateTime, this.internalDateFormat + ' ' + this.internalTimeFormat);\r\n    };\r\n    return DateTimeExpressionRenderer;\r\n}(ExpressionRenderer));\r\nexport { DateTimeExpressionRenderer };\r\n//# sourceMappingURL=datetime_expression_render.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { i18n } from '@easydata/core';\r\nimport { utils as dataUtils } from '@easydata/core';\r\nimport { SortDirection, Expression, DataKind, ExprTag, Query, QueryChangeAction, ConditionPart } from '@easyquery/core';\r\nimport { domel } from '@easydata/ui';\r\nimport { ExpressionRenderer } from \"./expression_renderer\";\r\nimport { PopupMenu } from '../../../utils/popup_menu';\r\nimport { QueryPanel } from '../../query_panel';\r\nimport { QPEditablePart } from '../../../types/qp_editable_part';\r\nvar SubQueryExpressionRenderer = /** @class */ (function (_super) {\r\n    __extends(SubQueryExpressionRenderer, _super);\r\n    function SubQueryExpressionRenderer() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    SubQueryExpressionRenderer.prototype.renderEditor = function () {\r\n        this.dialogBlockBody = domel('div')\r\n            .addClass(\"kfrm-form\")\r\n            //.setStyle('height', '100%')\r\n            .toDOM();\r\n        this.createEntitiesMenu();\r\n        this.renderColumnBlock();\r\n        this.renderQueryPanelBlock();\r\n    };\r\n    SubQueryExpressionRenderer.prototype.isEditable = function () {\r\n        return _super.prototype.isEditable.call(this)\r\n            && ((this.panel.options.editableParts & QPEditablePart.Value) === QPEditablePart.Value);\r\n    };\r\n    SubQueryExpressionRenderer.prototype.setValue = function (value, silent) {\r\n        if (value instanceof Query) {\r\n            this.expression.subQuery = value;\r\n            if (!silent) {\r\n                this.expression.getParent().fireChangedEvent(ConditionPart.Value);\r\n            }\r\n        }\r\n    };\r\n    SubQueryExpressionRenderer.prototype.createEntitiesMenu = function () {\r\n        var model = this.getContext().getModel();\r\n        var exprType = this.expression.dataType;\r\n        this.colEntitiesList = model.getEntitiesTreeWithFilter(function (ent, attr) {\r\n            if (attr) {\r\n                return attr.useInConditions && attr.dataType === exprType;\r\n            }\r\n            else {\r\n                //if it's entity\r\n                return ent.attributes && ent.useInConditions;\r\n            }\r\n        });\r\n        if (!model || model.isEmpty())\r\n            return null;\r\n        var menuId = this.element.getAttribute('data-id');\r\n        if (menuId) {\r\n            menuId += '-SubColumnMenu';\r\n        }\r\n        var options = {\r\n            items: this.colEntitiesList,\r\n            adjustHeight: this.panel.options.adjustEntitiesMenuHeight,\r\n            id: menuId,\r\n            zIndex: this.panel.options.dialogZIndex + 1000,\r\n            isSubQuery: true,\r\n            domWriteItemsId: this.panel.options.domWriteItemsId\r\n        };\r\n        dataUtils.assign(options, this.panel.options.menuOptions);\r\n        this.colEntitiesMenu = new PopupMenu(options);\r\n    };\r\n    SubQueryExpressionRenderer.prototype.renderColumnBlock = function () {\r\n        var _this = this;\r\n        this.columnBlock = domel('div', this.dialogBlockBody)\r\n            .addClass(\"kfrm-field\")\r\n            .addChild('label', function (b) { return b\r\n            .addText(i18n.getText('SubQueryColumnTitle')); })\r\n            .addChild('a', function (b) { return _this.columnElement = b\r\n            .attr('href', 'javascript:void(0)')\r\n            .on('click', function (e) {\r\n            _this.colEntitiesMenu.showMenu({\r\n                anchor: _this.columnElement,\r\n                selectedIds: null,\r\n                itemSelectedCallback: function (data, items) {\r\n                    var attrId = data.id;\r\n                    _this.setResultAttributeId(attrId);\r\n                    return false;\r\n                }\r\n            });\r\n        })\r\n            .toDOM(); })\r\n            .toDOM();\r\n    };\r\n    SubQueryExpressionRenderer.prototype.getEmptyText = function () {\r\n        return this.panel.options.emptyTextValue || i18n.getText('MsgSubQueryValue');\r\n    };\r\n    SubQueryExpressionRenderer.prototype.renderQueryPanelBlock = function () {\r\n        var parentEl = domel('div', this.dialogBlockBody)\r\n            .addClass(\"kfrm-field\")\r\n            .addChild('label', function (b) { return b\r\n            .addText(i18n.getText('SubQueryQueryPanelCaption')); })\r\n            .toDOM();\r\n        this.queryPanelBlock =\r\n            domel('div', parentEl)\r\n                .toDOM();\r\n        var qpId = this.element.getAttribute('data-id');\r\n        if (qpId) {\r\n            this.queryPanelBlock.id = qpId + '-SubQueryPanel';\r\n        }\r\n    };\r\n    SubQueryExpressionRenderer.prototype.setResultAttributeId = function (attrId) {\r\n        var attrObj = this.getContext().getModel().getAttributeById(attrId);\r\n        if (attrObj) {\r\n            var subQuery = this.getSubQuery();\r\n            var cols = subQuery.getColumns();\r\n            var column = void 0;\r\n            if (cols.length > 0) {\r\n                column = cols[0];\r\n                column.expr.setValue(attrId);\r\n                column.expr.dataType = attrObj.dataType;\r\n                column.fireChangedEvent();\r\n            }\r\n            else {\r\n                column = subQuery.createColumn();\r\n                column.sorting = SortDirection.None;\r\n                column.sortIndex = -1;\r\n                var expr = new Expression(column);\r\n                expr.setValue(attrId);\r\n                expr.tag = ExprTag.EntityAttribute;\r\n                expr.kind = DataKind.Attribute;\r\n                expr.dataType = attrObj.dataType;\r\n                column.expr = expr;\r\n                cols.push(column);\r\n                subQuery.fireColumnsChangedEvent(QueryChangeAction.Add, column);\r\n            }\r\n            this.columnElement.innerText = this.getAttributeText(attrObj);\r\n        }\r\n    };\r\n    SubQueryExpressionRenderer.prototype.getSubQuery = function () {\r\n        return this.queryPanel.getQuery();\r\n    };\r\n    SubQueryExpressionRenderer.prototype.getAttributeText = function (attribute) {\r\n        if (!attribute)\r\n            return i18n.getText('SubQueryEmptyColumn');\r\n        var attrText = i18n.getText('Attributes', attribute.id);\r\n        if (!attrText)\r\n            attrText = attribute.caption;\r\n        var format = this.panel.options.attrElementFormat;\r\n        if (!format)\r\n            return attrText;\r\n        var result = format.replace(new RegExp(\"{attr}\", 'g'), attrText);\r\n        var entityPath = this.getContext()\r\n            .getModel()\r\n            .getFullEntityPathByAttr(attribute.id, '.');\r\n        return result.replace(new RegExp(\"{entity}\", 'g'), entityPath);\r\n    };\r\n    SubQueryExpressionRenderer.prototype.showEditor = function () {\r\n        var _this = this;\r\n        var parentQuery = this.panel.getQuery();\r\n        var parentPanel = this.panel;\r\n        var context = this.getContext();\r\n        this.queryPanelBlock.innerHTML = \"\";\r\n        var subQuery = context.createQuery();\r\n        if (this.expression.subQuery) {\r\n            subQuery.loadFromData(this.expression.subQuery.toJSONData());\r\n        }\r\n        var subOptions = dataUtils.assign({}, parentPanel.options);\r\n        subOptions.isSubQuery = true;\r\n        subOptions.showAddRow = true;\r\n        subOptions.menuContainer = document.body;\r\n        subOptions.menuOptions.isSubQuery = true;\r\n        subOptions.entitiesListFilter = function (listItems, listOptions) {\r\n            if (parentPanel.options.entitiesListFilter) {\r\n                var subQueryPanelListOptions = listOptions || {};\r\n                subQueryPanelListOptions.isSubQuery = true;\r\n                parentPanel.options.entitiesListFilter(listItems, subQueryPanelListOptions);\r\n            }\r\n        };\r\n        this.queryPanel = new QueryPanel(this.queryPanelBlock, subQuery);\r\n        this.queryPanel.init(this.panel.getContext(), subOptions);\r\n        var attrId = null;\r\n        var cols = subQuery.getColumns();\r\n        ;\r\n        if (cols.length == 0) {\r\n            var condition = this.expression.getParent();\r\n            if (condition.expressions.length > 0) {\r\n                var attrExpr = condition.expressions[0];\r\n                attrId = (attrExpr.tag == ExprTag.EntityAttribute\r\n                    || attrExpr.kind == DataKind.Attribute) ? attrExpr.value : null;\r\n            }\r\n        }\r\n        else {\r\n            attrId = cols[0].expr.value;\r\n        }\r\n        if (attrId) {\r\n            this.setResultAttributeId(attrId);\r\n        }\r\n        else {\r\n            this.columnElement.innerText = i18n.getText(\"SubQueryEmptyColumn\");\r\n        }\r\n        this.queryPanel.refresh();\r\n        var rootCondEl = this.queryPanelBlock.querySelector('.eqjs-qp-conditions-root');\r\n        if (rootCondEl) {\r\n            rootCondEl.style.minHeight = '100px';\r\n        }\r\n        var dialogService = this.panel\r\n            .getContext()\r\n            .getServices()\r\n            .getDialogService();\r\n        dialogService.open({\r\n            title: i18n.getText('SubQueryDialogTitle'),\r\n            body: this.dialogBlockBody,\r\n            width: this.panel.options.subQueryDialogWidth,\r\n            //height: this.panel.options.subQueryDialogHeight,\r\n            closable: true,\r\n            cancelable: true,\r\n            onSubmit: function () {\r\n                var value = _this.queryPanel.getQuery();\r\n                // validate subquery\r\n                if (value.tryValidate({ checkExpressions: true })) {\r\n                    _this.setValue(value);\r\n                    return true;\r\n                }\r\n                return false;\r\n            }\r\n        });\r\n    };\r\n    SubQueryExpressionRenderer.prototype.closeEditor = function () {\r\n    };\r\n    return SubQueryExpressionRenderer;\r\n}(ExpressionRenderer));\r\nexport { SubQueryExpressionRenderer };\r\n//# sourceMappingURL=subquery_expression_renderer.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { ExprTag } from \"@easyquery/core\";\r\nimport { CustomListExpressionRenderer } from \"./list_expression_renderer\";\r\nvar BindToParentColumnExpressionRenderer = /** @class */ (function (_super) {\r\n    __extends(BindToParentColumnExpressionRenderer, _super);\r\n    function BindToParentColumnExpressionRenderer(panel, expression, editor, slot) {\r\n        var _this = _super.call(this, panel, expression, editor, slot) || this;\r\n        _this.expression.tag = ExprTag.ParentColumn;\r\n        return _this;\r\n    }\r\n    BindToParentColumnExpressionRenderer.prototype.fillMenuItemsList = function (onComplete) {\r\n        var query = this.panel.getQuery().getParentQuery();\r\n        var parent = this.expression.getParent();\r\n        var attrDataType = parent.expressions[0].dataType;\r\n        this.menuItemsList = query\r\n            .getColumns()\r\n            .filter(function (col) { return col.expr.dataType == attrDataType; })\r\n            .map(function (col) {\r\n            return { id: col.id, text: col.caption };\r\n        });\r\n        if (onComplete) {\r\n            onComplete();\r\n        }\r\n    };\r\n    return BindToParentColumnExpressionRenderer;\r\n}(CustomListExpressionRenderer));\r\nexport { BindToParentColumnExpressionRenderer };\r\n//# sourceMappingURL=bind_to_parent_column_expression_renderer.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { i18n } from '@easydata/core';\r\nimport { DataType, utils as dataUtils } from '@easydata/core';\r\nimport { Widget, WidgetGroup, eqconsts, CondTag, EqValueEditor, EqEditorTag, DataKind, QueryChangePart, QueryChangeAction, ConditionPart } from '@easyquery/core';\r\nimport { domel } from '@easydata/ui';\r\nimport { eqDragManager, DropEffect } from '@easydata/ui';\r\nimport { QPEditablePart } from '../types/qp_editable_part';\r\nimport { PopupMenu } from '../utils/popup_menu';\r\nimport { SimpleConditionRenderer } from './renderers/querypanel/condition_renderer';\r\nimport { ConditionGroupRenderer } from './renderers/querypanel/condition_group_renderer';\r\nimport { InputExpressionRenderer } from './renderers/querypanel/input_expression_renderer';\r\nimport { AttributeExpressionRenderer } from './renderers/querypanel/attribute_expression_renderer';\r\nimport { AddRowRenderer } from './renderers/querypanel/addrow_renderer';\r\nimport { ListExpressionRenderer, SqlListExpressionRenderer, CustomListExpressionRenderer } from './renderers/querypanel/list_expression_renderer';\r\nimport { OperatorRenderer } from './renderers/querypanel/operator_renderer';\r\nimport { DateTimeExpressionRenderer } from './renderers/querypanel/datetime_expression_render';\r\nimport { SubQueryExpressionRenderer } from './renderers/querypanel/subquery_expression_renderer';\r\nimport { eqCssPrefix, eqCssMobile, safeFocus } from '../utils/utils';\r\nimport { browserUtils } from '../utils/browser_utils';\r\nimport { BindToParentColumnExpressionRenderer } from './renderers/querypanel/bind_to_parent_column_expression_renderer';\r\n/**\r\n * The query panel wiget, implemented without JQuery.\r\n */\r\nvar QueryPanel = /** @class */ (function (_super) {\r\n    __extends(QueryPanel, _super);\r\n    /**\r\n     * The default constructor.\r\n     * @param slot The html element.\r\n     */\r\n    function QueryPanel(slot, customQuery) {\r\n        var _this = _super.call(this, slot) || this;\r\n        _this.options = {\r\n            editableParts: QPEditablePart.All,\r\n            isSubQuery: false,\r\n            activeCondition: null,\r\n            entitiesPopupHandler: null,\r\n            entitiesListFilter: null,\r\n            menuContainer: document.body,\r\n            showRootRow: true,\r\n            showAddRow: true,\r\n            showCheckboxes: false,\r\n            allowParameterization: false,\r\n            allowInJoinConditions: false,\r\n            showPoweredBy: false,\r\n            buttons: {\r\n                condition: null,\r\n                group: null\r\n            },\r\n            alwaysShowButtonsInGroups: false,\r\n            alwaysShowButtonsInConditions: false,\r\n            showConjunctions: true,\r\n            accentActiveCondition: true,\r\n            activateRootOnStart: true,\r\n            yearRange: 'c-10:c+10',\r\n            oneClickDateSelection: true,\r\n            showDateTimeInput: false,\r\n            attrElementFormat: '{entity} {attr}',\r\n            menuOptions: {\r\n                showSearchBoxAfter: 30,\r\n                searchBoxAutoFocus: true,\r\n                activateOnMouseOver: true,\r\n                itemRenderedCallback: null\r\n            },\r\n            allowDragDrop: true,\r\n            attrPlacement: 0,\r\n            sortEntities: false,\r\n            subQueryDialogWidth: 600,\r\n            subQueryDialogHeight: 300,\r\n            dialogZIndex: 100000,\r\n            numberListSeparators: [',', ';'],\r\n            autoEditNewCondition: false,\r\n            onConditionRendered: null,\r\n            onGetConditionRenderer: null,\r\n            onGetExpressionRenderer: null,\r\n            onGetOperatorRenderer: null,\r\n            onOperatorRendered: null,\r\n            onGetAddRowRenderer: null,\r\n            defaultQuery: null\r\n        };\r\n        _this.customQuery = null;\r\n        _this.landingSlot = domel('div')\r\n            .addClass(_this.cssPrefix + \"-cond-landing-slot\")\r\n            .addChildElement(domel('div')\r\n            .toDOM())\r\n            .toDOM();\r\n        if (!_this.slot.classList.contains(_this.cssPrefix + \"-panel\")) {\r\n            _this.slot.classList.add(_this.cssPrefix + \"-panel\");\r\n        }\r\n        _this.group = WidgetGroup.Query;\r\n        if (customQuery) {\r\n            _this.customQuery = customQuery;\r\n        }\r\n        return _this;\r\n    }\r\n    Object.defineProperty(QueryPanel.prototype, \"cssPrefix\", {\r\n        get: function () {\r\n            return 'eqjs-qp';\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    QueryPanel.prototype.getWidgetType = function () {\r\n        return 'queryPanel';\r\n    };\r\n    /**\r\n     * Initialize widget.\r\n     * @param context The context.\r\n     * @param options The options.\r\n     */\r\n    QueryPanel.prototype.init = function (context, options) {\r\n        var _this = this;\r\n        _super.prototype.init.call(this, context, options);\r\n        this.setOptions(options);\r\n        //detach previously defined query observer (if any)\r\n        this.detachQueryObserver();\r\n        this.attachQueryObserver();\r\n        eqDragManager.removeDropContainer(this.slot);\r\n        if (this.options.allowDragDrop) {\r\n            var model_1 = this.getContext().getModel();\r\n            eqDragManager.registerDropContainer({\r\n                element: this.slot,\r\n                scopes: [\"entityAttr\"],\r\n                onDragEnter: function (container, ev) {\r\n                    _this.slot.classList.add(eqCssPrefix + \"-drophover\");\r\n                    ev.dragImage.classList.add('ui-sortable-helper');\r\n                    _this.showLandingSlot();\r\n                    var attrId = ev.data.attrId;\r\n                    if (!model_1.checkAttrProperty(attrId, \"useInConditions\")) {\r\n                        ev.dropEffect = DropEffect.Forbid;\r\n                    }\r\n                },\r\n                onDragOver: function (container, ev) {\r\n                },\r\n                onDragLeave: function (container, ev) {\r\n                    ev.dragImage.classList.remove('ui-sortable-helper');\r\n                    ev.dragImage.style.removeProperty('width');\r\n                    _this.slot.classList.remove(eqCssPrefix + \"-drophover\");\r\n                    _this.hideLangindSlot();\r\n                },\r\n                onDrop: function (container, ev) {\r\n                    var query = _this.getQuery();\r\n                    var descr = {\r\n                        parent: query.getRootCondition(),\r\n                        attributeId: ev.data.attrId\r\n                    };\r\n                    var cond = query.addSimpleCondition(descr);\r\n                    if (cond) {\r\n                        query.fireConditionsChangedEvent(QueryChangeAction.Add, cond);\r\n                    }\r\n                }\r\n            });\r\n        }\r\n    };\r\n    QueryPanel.prototype.destroyCore = function () {\r\n        eqDragManager.removeDropContainer(this.slot);\r\n        this.detachQueryObserver();\r\n        this.slot.innerHTML = '';\r\n    };\r\n    QueryPanel.prototype.getEntitiesMenu = function () {\r\n        return this.entitiesMenu;\r\n    };\r\n    QueryPanel.prototype.getConditionMenu = function () {\r\n        return this.conditionMenu;\r\n    };\r\n    QueryPanel.prototype.getLinkTypeMenu = function () {\r\n        return this.linkTypeMenu;\r\n    };\r\n    QueryPanel.prototype.getConditionGroupMenu = function (isRoot) {\r\n        if (isRoot === void 0) { isRoot = false; }\r\n        return isRoot ? this.rootGroupMenu : this.groupMenu;\r\n    };\r\n    QueryPanel.prototype.attachQueryObserver = function () {\r\n        var _this = this;\r\n        var query = this.getQuery();\r\n        this.queryEventCallbackId = query.addChangedCallback(function (event) {\r\n            //if something has changed, and that change is related to conditions\r\n            var edata = event.data;\r\n            if (!edata || (edata.part != QueryChangePart.Conditions && edata.part != QueryChangePart.All)) {\r\n                return;\r\n            }\r\n            var focusedBefore = document.activeElement;\r\n            var isFocusInside = _this.slot.contains(focusedBefore) || focusedBefore == document.body;\r\n            switch (edata.action) {\r\n                case QueryChangeAction.Modify: {\r\n                    var conds = edata.changee;\r\n                    var modifyCondition_1 = function (cond, autoEdit) {\r\n                        var el = _this.slot.querySelector(\"div[data-id=\" + cond.id + \"]\");\r\n                        if (el) {\r\n                            autoEdit = autoEdit\r\n                                && ((edata.condPart & ConditionPart.Operator) === ConditionPart.Operator)\r\n                                && cond.expressions.length > 1\r\n                                && (cond.expressions[1]._isDefaultValue || cond.expressions[1].value == '' ||\r\n                                    cond.expressions[1].value == null);\r\n                            var isActive = el.classList.contains('active');\r\n                            var renderer = _this.getConditionRenderer(cond, el);\r\n                            if (renderer) {\r\n                                var newEl = renderer.render(autoEdit);\r\n                                if (isActive) {\r\n                                    _this.toggleConditionPicked(cond);\r\n                                }\r\n                                if (isFocusInside && !autoEdit) {\r\n                                    var focusElem = newEl.querySelector('a') || newEl.querySelector('.eqjs-qp-condition-button');\r\n                                    if (focusElem) {\r\n                                        safeFocus(focusElem);\r\n                                    }\r\n                                }\r\n                            }\r\n                        }\r\n                    };\r\n                    var autoEdit_1 = _this.options.autoEditNewCondition;\r\n                    if (Array.isArray(conds)) {\r\n                        conds.forEach(function (cond) { return modifyCondition_1(cond, autoEdit_1); });\r\n                        autoEdit_1 = false;\r\n                    }\r\n                    else {\r\n                        modifyCondition_1(conds, autoEdit_1);\r\n                    }\r\n                    break;\r\n                }\r\n                case QueryChangeAction.Add: {\r\n                    var conds = edata.changee;\r\n                    var addCondition_1 = function (cond) {\r\n                        var renderer = _this.getConditionRenderer(cond);\r\n                        if (renderer) {\r\n                            var parent_1 = cond.getParent();\r\n                            var parentEl = _this.slot.querySelector(\"div[data-id=\" + parent_1.id + \"]\");\r\n                            if (parentEl) {\r\n                                var newCondContainer = parentEl.lastChild;\r\n                                if (newCondContainer) {\r\n                                    var el = renderer.render(_this.options.autoEditNewCondition);\r\n                                    newCondContainer.appendChild(el);\r\n                                    el.scrollIntoView(false);\r\n                                    if (isFocusInside && !_this.options.autoEditNewCondition) {\r\n                                        el.querySelector(\"a\").focus();\r\n                                    }\r\n                                }\r\n                            }\r\n                        }\r\n                    };\r\n                    if (Array.isArray(conds)) {\r\n                        conds.forEach(function (cond) { return addCondition_1(cond); });\r\n                    }\r\n                    else {\r\n                        addCondition_1(conds);\r\n                    }\r\n                    break;\r\n                }\r\n                case QueryChangeAction.Delete: {\r\n                    var conds = edata.changee;\r\n                    var deleteCondition_1 = function (cond) {\r\n                        var el = _this.slot.querySelector(\"div[data-id=\" + cond.id + \"]\");\r\n                        if (el) {\r\n                            var parent_2 = _this.slot.querySelector(\"div[data-id=\" + cond.getParent().id + \"] > .eqjs-qp-row-group\");\r\n                            ;\r\n                            var next = el.nextSibling;\r\n                            var prev = el.previousSibling;\r\n                            el.parentElement.removeChild(el);\r\n                            if (isFocusInside) {\r\n                                var focusCond = next || prev || parent_2;\r\n                                var focusElem = focusCond.querySelector('a') || focusCond.querySelector('.eqjs-qp-condition-button');\r\n                                if (focusElem) {\r\n                                    focusElem.focus();\r\n                                }\r\n                            }\r\n                        }\r\n                    };\r\n                    if (Array.isArray(conds)) {\r\n                        conds.forEach(function (cond) { return deleteCondition_1(cond); });\r\n                    }\r\n                    else {\r\n                        deleteCondition_1(conds);\r\n                    }\r\n                    break;\r\n                }\r\n                default:\r\n                    _this.refresh();\r\n                    break;\r\n            }\r\n        });\r\n    };\r\n    QueryPanel.prototype.detachQueryObserver = function () {\r\n        if (this.queryEventCallbackId) {\r\n            var query = this.getQuery();\r\n            query.removeChangedCallback(this.queryEventCallbackId);\r\n        }\r\n    };\r\n    QueryPanel.prototype.getQuery = function () {\r\n        if (this.customQuery) {\r\n            return this.customQuery;\r\n        }\r\n        return this.context.getQuery();\r\n    };\r\n    QueryPanel.prototype.refreshCore = function () {\r\n        this.clear();\r\n        this.render();\r\n    };\r\n    QueryPanel.prototype.setOptions = function (options) {\r\n        dataUtils.assignDeep(this.options, options);\r\n        // dateFormatValue & dateFormatDisplay back compatibility\r\n        if (this.options.dateFormatValue) {\r\n            i18n.updateLocaleSettings({\r\n                editDateFormat: this.options.dateFormatValue\r\n            });\r\n        }\r\n        if (this.options.dateFormatDisplay) {\r\n            // TO DO: process option\r\n        }\r\n        if (typeof this.options.editableParts === \"undefined\") {\r\n            this.options.editableParts = QPEditablePart.All;\r\n        }\r\n        if (browserUtils.isMobileMode()) {\r\n            this.options.buttons = this.options.buttons || {};\r\n            this.options.buttons.condition = [\"menu\"];\r\n            this.options.buttons.group = [\"menu\"];\r\n        }\r\n    };\r\n    QueryPanel.prototype.clear = function () {\r\n        this.slot.innerHTML = \"\";\r\n    };\r\n    QueryPanel.prototype.render = function () {\r\n        try {\r\n            this.entitiesMenu = this.createEntitiesMenu();\r\n            this.createConditionMenus();\r\n            this.createLinkTypeMenu();\r\n            this.rootContainer = domel('div', this.slot)\r\n                .toDOM();\r\n            domel(this.slot)\r\n                .removeClass(eqCssMobile)\r\n                .addClass(browserUtils.getMobileCssClass());\r\n            var query = this.getQuery();\r\n            var root = query.getRootCondition();\r\n            var renderer = this.getConditionRenderer(root, this.rootContainer);\r\n            if (renderer) {\r\n                renderer.render();\r\n            }\r\n            if (this.options.showAddRow) {\r\n                this.addRowElement = domel('div', this.slot)\r\n                    .toDOM();\r\n                var addrowRenderer = this.getAddRowRenderer(this.addRowElement);\r\n                if (addrowRenderer)\r\n                    addrowRenderer.render();\r\n            }\r\n        }\r\n        catch (e) {\r\n            this.context.throwError({\r\n                action: \"QueryPanel rendering\",\r\n                text: e.message,\r\n                sourceError: e\r\n            });\r\n        }\r\n    };\r\n    QueryPanel.prototype.getConditionRenderer = function (condition, slot) {\r\n        var renderer;\r\n        if (this.options.onGetConditionRenderer) {\r\n            renderer = this.options.onGetConditionRenderer(condition, slot);\r\n            if (renderer) {\r\n                return renderer;\r\n            }\r\n        }\r\n        switch (condition.tag) {\r\n            case CondTag.Simple:\r\n                return new SimpleConditionRenderer(this, condition, slot);\r\n            case CondTag.Group:\r\n                return new ConditionGroupRenderer(this, condition, slot);\r\n        }\r\n        return null;\r\n    };\r\n    QueryPanel.prototype.getExpressionRenderer = function (expression, slot) {\r\n        if (!expression) {\r\n            throw 'Expression is not defined in the condition';\r\n        }\r\n        var model = this.getContext().getModel();\r\n        var condition = expression.getParent();\r\n        var operator = model.getOperatorById(condition.getOperatorId());\r\n        var attribute = model.getAttributeById(condition.expressions[0].value);\r\n        var operand = model.getOperand(attribute, operator, expression.getIndex());\r\n        var editor;\r\n        var tag;\r\n        if (operand && operand.editor && operand.editor.tag !== EqEditorTag.Unknown) {\r\n            editor = operand.editor;\r\n        }\r\n        else if (attribute && attribute.defaultEditor) {\r\n            editor = attribute.defaultEditor;\r\n        }\r\n        else {\r\n            editor = new EqValueEditor();\r\n        }\r\n        tag = editor.tag;\r\n        var exprType = expression.dataType;\r\n        if (exprType == DataType.Unknown) {\r\n            exprType = attribute.dataType;\r\n        }\r\n        if (expression.kind === DataKind.Attribute) {\r\n            if (expression.getIndex() === 0) { // Base attribute expression\r\n                return new AttributeExpressionRenderer(this, expression, this.entitiesMenu, slot);\r\n            }\r\n            else {\r\n                var attributeMenu = this.createEntitiesMenu(function (ent, attr) {\r\n                    if (attr) {\r\n                        return attr.useInConditions && attr.dataType === exprType;\r\n                    }\r\n                    return true;\r\n                });\r\n                return new AttributeExpressionRenderer(this, expression, attributeMenu, slot);\r\n            }\r\n        }\r\n        else if (expression.kind === DataKind.Query) {\r\n            tag = EqEditorTag.SubQuery;\r\n        }\r\n        else if (expression.kind === DataKind.Scalar) {\r\n            if (tag == EqEditorTag.Unknown && (expression.dataType === DataType.Date\r\n                || expression.dataType === DataType.DateTime || expression.dataType === DataType.Time)) {\r\n                tag = EqEditorTag.DateTime;\r\n            }\r\n        }\r\n        else if (expression.kind == DataKind.ParentColumn) {\r\n            tag = EqEditorTag.BindToParentColumn;\r\n        }\r\n        if (this.options.onGetExpressionRenderer) {\r\n            var renderer = this.options.onGetExpressionRenderer(this, expression, editor, slot);\r\n            if (renderer) {\r\n                return renderer;\r\n            }\r\n        }\r\n        switch (tag) {\r\n            case EqEditorTag.List:\r\n                return new ListExpressionRenderer(this, expression, editor, slot);\r\n            case EqEditorTag.SqlList:\r\n                return new SqlListExpressionRenderer(this, expression, editor, slot);\r\n            case EqEditorTag.CustomList:\r\n                return new CustomListExpressionRenderer(this, expression, editor, slot);\r\n            case EqEditorTag.DateTime:\r\n                return new DateTimeExpressionRenderer(this, expression, editor, slot);\r\n            case EqEditorTag.SubQuery:\r\n                return new SubQueryExpressionRenderer(this, expression, editor, slot);\r\n            //move to ERS later\r\n            case EqEditorTag.BindToParentColumn:\r\n                return new BindToParentColumnExpressionRenderer(this, expression, editor, slot);\r\n            default:\r\n                return new InputExpressionRenderer(this, expression, editor, slot);\r\n        }\r\n    };\r\n    QueryPanel.prototype.getOperatorRenderer = function (condition, text, slot) {\r\n        var renderer;\r\n        if (this.options.onGetOperatorRenderer)\r\n            renderer = this.options.onGetOperatorRenderer(condition, text, slot);\r\n        if (renderer)\r\n            return renderer;\r\n        return new OperatorRenderer(this, condition, text, slot);\r\n    };\r\n    QueryPanel.prototype.getAddRowRenderer = function (slot) {\r\n        var renderer;\r\n        if (this.options.onGetAddRowRenderer)\r\n            renderer = this.options.onGetAddRowRenderer(slot);\r\n        if (renderer)\r\n            return renderer;\r\n        return new AddRowRenderer(this, this.entitiesMenu, slot);\r\n    };\r\n    QueryPanel.prototype.createEntitiesMenu = function (filterFunc) {\r\n        var model = this.getContext().getModel();\r\n        if (!model || model.isEmpty())\r\n            return null;\r\n        var menuId = this.slot.id || \"eq-querypanel\";\r\n        menuId += '-EntitiesMenu';\r\n        var entitiesList = model.getEntitiesTree({\r\n            addUIC: true,\r\n            addUIR: false,\r\n            addUIS: false,\r\n            attrPlacement: this.options.attrPlacement,\r\n            sortEntities: this.options.sortEntities\r\n        }, filterFunc);\r\n        var options = {\r\n            items: entitiesList,\r\n            adjustHeight: this.options.adjustEntitiesMenuHeight,\r\n            id: menuId,\r\n            domWriteItemsId: this.options.domWriteItemsId\r\n        };\r\n        dataUtils.assign(options, this.options.menuOptions);\r\n        return new PopupMenu(options);\r\n    };\r\n    QueryPanel.prototype.showEntitiesMenu = function (options) {\r\n        this.entitiesMenu.showMenu(options);\r\n    };\r\n    QueryPanel.prototype.createConditionMenus = function () {\r\n        //ConditionMenu\r\n        {\r\n            var query = this.getQuery();\r\n            var menuId = this.slot.id || \"eq-querypanel\";\r\n            menuId += '-ConditionMenu';\r\n            var items = [\r\n                {\r\n                    id: \"enable\",\r\n                    text: i18n.getText('MenuEnable')\r\n                },\r\n                {\r\n                    id: \"delete\",\r\n                    text: i18n.getText('CmdDelete')\r\n                }\r\n            ];\r\n            if (query.isEx()) {\r\n                if (this.options.allowParameterization || this.options.allowInJoinConditions) {\r\n                    items.push({ id: \"delimiter\", text: \"---\" });\r\n                }\r\n                ;\r\n                if (this.options.allowParameterization) {\r\n                    items.push({\r\n                        id: \"param\",\r\n                        text: i18n.getText('MenuParameterization')\r\n                    });\r\n                }\r\n                ;\r\n                if (this.options.allowInJoinConditions) {\r\n                    items.push({\r\n                        id: \"inJoin\",\r\n                        text: i18n.getText('MenuJoinCond')\r\n                    });\r\n                }\r\n                ;\r\n            }\r\n            var options = { items: items, adjustHeight: this.options.adjustEntitiesMenuHeight, id: menuId, domWriteItemsId: this.options.domWriteItemsId, showSearchBoxAfter: 100, showSelected: true };\r\n            dataUtils.assign(options, this.options.menuOptions);\r\n            this.conditionMenu = new PopupMenu(options);\r\n        }\r\n        //groupMenu\r\n        {\r\n            var menuId = this.slot.id || \"eq-querypanel\";\r\n            menuId += '-GroupMenu';\r\n            var items = [\r\n                {\r\n                    id: \"enable\",\r\n                    text: i18n.getText('MenuEnable')\r\n                },\r\n                {\r\n                    id: \"delete\",\r\n                    text: i18n.getText('CmdDelete')\r\n                },\r\n                {\r\n                    id: \"delimiter\",\r\n                    text: \"---\"\r\n                },\r\n                {\r\n                    id: \"addCondition\",\r\n                    text: i18n.getText('CmdAddCondition')\r\n                },\r\n                {\r\n                    id: \"addGroup\",\r\n                    text: i18n.getText('CmdAddCondGroup')\r\n                }\r\n            ];\r\n            var options = { items: items, adjustHeight: this.options.adjustEntitiesMenuHeight, id: menuId, domWriteItemsId: this.options.domWriteItemsId, showSearchBoxAfter: 100, showSelected: true };\r\n            dataUtils.assign(options, this.options.menuOptions);\r\n            this.groupMenu = new PopupMenu(options);\r\n        }\r\n        //rootGroupMenu\r\n        {\r\n            var menuId = this.slot.id || \"eq-querypanel\";\r\n            menuId += '-RootGroupMenu';\r\n            var items = [\r\n                {\r\n                    id: \"addCondition\",\r\n                    text: i18n.getText('CmdAddCondition')\r\n                },\r\n                {\r\n                    id: \"addGroup\",\r\n                    text: i18n.getText('CmdAddCondGroup')\r\n                }\r\n            ];\r\n            var options = { items: items, adjustHeight: this.options.adjustEntitiesMenuHeight, id: menuId, domWriteItemsId: this.options.domWriteItemsId, showSearchBoxAfter: 100, showSelected: true };\r\n            dataUtils.assign(options, this.options.menuOptions);\r\n            this.rootGroupMenu = new PopupMenu(options);\r\n        }\r\n    };\r\n    QueryPanel.prototype.createLinkTypeMenu = function () {\r\n        var menuId = this.slot.id;\r\n        if (menuId) {\r\n            menuId += '-LinkTypeMenu';\r\n        }\r\n        var typeList = eqconsts.predicateLinkTypeList;\r\n        var itemList = typeList.map(function (item) {\r\n            return {\r\n                id: item.id,\r\n                text: i18n.getText(item.key)\r\n            };\r\n        });\r\n        var options = { items: itemList, adjustHeight: this.options.adjustEntitiesMenuHeight, id: menuId, domWriteItemsId: this.options.domWriteItemsId };\r\n        dataUtils.assign(options, this.options.menuOptions);\r\n        this.linkTypeMenu = new PopupMenu(options);\r\n    };\r\n    QueryPanel.prototype.toggleConditionPicked = function (condition, force) {\r\n        if (force === void 0) { force = undefined; }\r\n        var el;\r\n        var isActive;\r\n        if (condition) {\r\n            el = this.slot.querySelector(\"div[data-id=\" + condition.id + \"][data-condrow], div[data-id=\" + condition.id + \"] > div[data-grouprow]\");\r\n            if (el) {\r\n                isActive = el.classList.contains('active');\r\n            }\r\n        }\r\n        //clear 'active' in all rows\r\n        var rows = this.slot.querySelectorAll(\".\" + this.cssPrefix + \"-row\");\r\n        for (var i = 0; i < rows.length; i++) {\r\n            var row = rows[i];\r\n            if (row.hasAttribute('data-group-row')) {\r\n                if (!this.options.alwaysShowButtonsInGroups) {\r\n                    domel(row)\r\n                        .data(\"show-buttons\", null);\r\n                }\r\n            }\r\n            else {\r\n                if (!this.options.alwaysShowButtonsInConditions) {\r\n                    domel(row)\r\n                        .data(\"show-buttons\", null);\r\n                }\r\n            }\r\n            domel(row)\r\n                .removeClass('active');\r\n        }\r\n        if (el && !isActive) {\r\n            domel(el)\r\n                .addClass('active')\r\n                .data(\"show-buttons\", \"\");\r\n        }\r\n    };\r\n    QueryPanel.prototype.showLandingSlot = function () {\r\n        var container = this.slot.querySelector('.eqjs-qp-conditions-root');\r\n        if (container) {\r\n            container.appendChild(this.landingSlot);\r\n            this.landingSlot.scrollIntoView({ block: \"center\", behavior: \"smooth\" });\r\n        }\r\n    };\r\n    QueryPanel.prototype.hideLangindSlot = function () {\r\n        if (this.landingSlot.parentElement) {\r\n            this.landingSlot.parentElement.removeChild(this.landingSlot);\r\n        }\r\n    };\r\n    return QueryPanel;\r\n}(Widget));\r\nexport { QueryPanel };\r\n//# sourceMappingURL=query_panel.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { i18n } from '@easydata/core';\r\nimport { utils as dataUtils } from '@easydata/core';\r\nimport { Widget, WidgetGroup, QueryChangeAction } from '@easyquery/core';\r\nimport { slideUp, slideDown, domel } from '@easydata/ui';\r\nimport { QueryPanel } from './query_panel';\r\nimport { browserUtils } from '../utils/browser_utils';\r\nvar FilterBar = /** @class */ (function (_super) {\r\n    __extends(FilterBar, _super);\r\n    function FilterBar(slot) {\r\n        var _this = _super.call(this, slot) || this;\r\n        _this.options = {\r\n            applyOnClose: true,\r\n            showApplyButton: true,\r\n            showClearButton: true,\r\n            queryPanel: {\r\n                showAddRow: true,\r\n                showCheckboxes: true,\r\n                alwaysShowButtonsInGroups: true\r\n            }\r\n        };\r\n        _this.headerClickListener = _this.headerClickHandler.bind(_this);\r\n        _this.group = WidgetGroup.Query;\r\n        return _this;\r\n    }\r\n    FilterBar.prototype.getWidgetType = function () {\r\n        return 'filterBar';\r\n    };\r\n    Object.defineProperty(FilterBar.prototype, \"cssPrefix\", {\r\n        get: function () {\r\n            return 'eqjs-fb';\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    FilterBar.prototype.init = function (context, options) {\r\n        _super.prototype.init.call(this, context, options);\r\n        this.setOptions(options);\r\n        this.destroyCore();\r\n        this.qpElement = domel('div')\r\n            .addClass(this.cssPrefix + \"-querypanel\")\r\n            .toDOM();\r\n        this.queryPanel = new QueryPanel(this.qpElement);\r\n        this.queryPanel.init(context, options.queryPanel || {});\r\n        this.attachQueryObserver();\r\n    };\r\n    FilterBar.prototype.setOptions = function (options) {\r\n        dataUtils.assignDeep(this.options, options);\r\n    };\r\n    FilterBar.prototype.applyBtnClick = function (ev) {\r\n        this.applyFilter();\r\n    };\r\n    FilterBar.prototype.clearBtnClick = function (ev) {\r\n        this.clearFilter();\r\n    };\r\n    FilterBar.prototype.showQueryPanel = function (callback) {\r\n        var _this = this;\r\n        slideDown(this.qpBlock, 200, function () {\r\n            _this.updateHeader();\r\n            if (callback)\r\n                callback();\r\n        });\r\n    };\r\n    FilterBar.prototype.hideQueryPanel = function () {\r\n        var _this = this;\r\n        slideUp(this.qpBlock, 200, function () {\r\n            _this.updateHeader();\r\n            if (_this.options.applyOnClose) {\r\n                _this.applyFilter();\r\n            }\r\n        });\r\n    };\r\n    FilterBar.prototype.headerClickHandler = function (ev) {\r\n        ev.preventDefault();\r\n        if (domel(this.qpBlock).isVisible()) { // close query panel\r\n            this.hideQueryPanel();\r\n        }\r\n        else { //open query panel\r\n            this.showQueryPanel();\r\n        }\r\n    };\r\n    FilterBar.prototype.updateHeader = function () {\r\n        if (!this.headerTextElement)\r\n            return;\r\n        var text = '';\r\n        var query = this.getContext().getQuery();\r\n        if (query) {\r\n            text = query.getConditionsText();\r\n        }\r\n        if (text == '') {\r\n            text = i18n.getText('StrNoFilterDefined');\r\n        }\r\n        domel(this.headerTextElement)\r\n            .text(text)\r\n            .attr('title', text);\r\n        if (!query || query.isEmptyConditions()) { //empty query, don't show query panel and arrow, show link in header\r\n            domel(this.headerTextElement).hide();\r\n            domel(this.headerLinkElement).show();\r\n            if (!domel(this.qpBlock).isVisible()) {\r\n                domel(this.headerArrowBlock).hide();\r\n                this.headerElement.style.cursor = '';\r\n                this.headerElement.removeEventListener('click', this.headerClickListener);\r\n            }\r\n        }\r\n        else {\r\n            this.headerElement.style.cursor = 'pointer';\r\n            this.headerElement.removeEventListener('click', this.headerClickListener);\r\n            this.headerElement.addEventListener('click', this.headerClickListener);\r\n            domel(this.headerTextElement).show();\r\n            domel(this.headerLinkElement).hide();\r\n            domel(this.headerArrowBlock).show();\r\n        }\r\n        if (domel(this.qpBlock).isVisible()) { // close query panel\r\n            this.headerArrowElement.classList.add(this.cssPrefix + \"-header-arrowUp\");\r\n        }\r\n        else {\r\n            this.headerArrowElement.classList.remove(this.cssPrefix + \"-header-arrowUp\");\r\n        }\r\n        this.textResize();\r\n    };\r\n    FilterBar.prototype.render = function () {\r\n        var _this = this;\r\n        domel(this.slot)\r\n            .addClass(this.cssPrefix + \"-container\")\r\n            .addClass(browserUtils.getMobileCssClass())\r\n            .addChild('div', function (builder) { return _this.headerElement = builder\r\n            .addClass(_this.cssPrefix + \"-header\")\r\n            .addChild('div', function (builder) { return _this.headerIconElement = builder\r\n            .addClass(_this.cssPrefix + \"-header-icon\")\r\n            .toDOM(); })\r\n            .addChild('div', function (builder) { return _this.headerTextBlock = builder\r\n            .addClass(_this.cssPrefix + \"-header-textblock\")\r\n            .addChild('div', function (builder) { return _this.headerTextElement = builder\r\n            .addClass(_this.cssPrefix + \"-header-text\")\r\n            .toDOM(); })\r\n            .addChild('div', function (builder) { return _this.headerLinkElement = builder\r\n            .addClass(_this.cssPrefix + \"-header-text \" + _this.cssPrefix + \"-header-link\")\r\n            .text(i18n.getText('StrNoFilterClickToAdd'))\r\n            .hide()\r\n            .on('click', function () {\r\n            _this.queryPanel.showEntitiesMenu({\r\n                anchor: _this.headerLinkElement,\r\n                selectedIds: null,\r\n                itemSelectedCallback: function (item, items) {\r\n                    var attrid = item.id;\r\n                    _this.showQueryPanel(function () {\r\n                        var query = _this.getContext().getQuery();\r\n                        var descr = {\r\n                            parent: query.getRootCondition(),\r\n                            attributeId: attrid\r\n                        };\r\n                        var cond = query.addSimpleCondition(descr);\r\n                        if (cond) {\r\n                            query.fireConditionsChangedEvent(QueryChangeAction.Add, cond);\r\n                        }\r\n                    });\r\n                }\r\n            });\r\n        })\r\n            .toDOM(); })\r\n            .toDOM(); })\r\n            .addChild('div', function (builder) { return _this.headerArrowBlock = builder\r\n            .addClass(_this.cssPrefix + \"-header-arrowblock\")\r\n            .addChild('div', function (builder) { return _this.headerArrowElement = builder\r\n            .addClass(_this.cssPrefix + \"-header-arrow\")\r\n            .toDOM(); })\r\n            .toDOM(); })\r\n            .toDOM(); })\r\n            .addChild('div', function (builder) { return _this.qpBlock = builder\r\n            .addClass(_this.cssPrefix + \"-querypanelblock\")\r\n            .addClass(browserUtils.getMobileCssClass())\r\n            .hide()\r\n            .addChildElement(_this.qpElement)\r\n            .toDOM(); });\r\n        if (this.options.showApplyButton || this.options.showClearButton) {\r\n            this.buttonsBlock = domel('div', this.qpBlock)\r\n                .addClass(this.cssPrefix + \"-buttonsblock\")\r\n                .addClass(browserUtils.getMobileCssClass())\r\n                .toDOM();\r\n        }\r\n        if (this.options.showApplyButton) {\r\n            domel('a', this.buttonsBlock)\r\n                .attr('href', 'javascript:void(0)')\r\n                .addClass(this.cssPrefix + \"-button \" + this.cssPrefix + \"-button-apply\")\r\n                .text(i18n.getText('ButtonApply'))\r\n                .on('click', this.applyBtnClick.bind(this));\r\n        }\r\n        if (this.options.showClearButton) {\r\n            domel('a', this.buttonsBlock)\r\n                .attr('href', 'javascript:void(0)')\r\n                .addClass(this.cssPrefix + \"-button \" + this.cssPrefix + \"-button-clear\")\r\n                .text(i18n.getText('CmdClear'))\r\n                .on('click', this.clearBtnClick.bind(this));\r\n        }\r\n        window.addEventListener('resize', function () {\r\n            _this.textResize();\r\n        });\r\n        this.updateHeader();\r\n        this.queryPanel.refresh();\r\n        setTimeout(function () { return _this.textResize(); }, 500);\r\n    };\r\n    FilterBar.prototype.refreshCore = function () {\r\n        this.clear();\r\n        this.render();\r\n    };\r\n    FilterBar.prototype.clear = function () {\r\n        this.slot.innerHTML = \"\";\r\n    };\r\n    FilterBar.prototype.applyFilter = function () {\r\n        if (this.options.applyFilterCallback) {\r\n            this.options.applyFilterCallback();\r\n        }\r\n    };\r\n    FilterBar.prototype.clearFilter = function () {\r\n        var query = this.getContext().getQuery();\r\n        if (query) {\r\n            query.clearConditions();\r\n            query.fireConditionsChangedEvent(QueryChangeAction.All);\r\n        }\r\n    };\r\n    FilterBar.prototype.textResize = function () {\r\n        this.headerTextBlock.style.width = (this.slot.clientWidth - this.headerIconElement.offsetWidth\r\n            - (domel(this.headerArrowBlock).isVisible() ? this.headerArrowBlock.offsetWidth : 0)) + \"px\";\r\n    };\r\n    FilterBar.prototype.destroyCore = function () {\r\n        if (this.queryPanel)\r\n            this.queryPanel.destroy();\r\n        this.detachQueryObserver();\r\n        this.slot.innerHTML = '';\r\n    };\r\n    FilterBar.prototype.attachQueryObserver = function () {\r\n        var _this = this;\r\n        var query = this.getContext().getQuery();\r\n        this.queryEventCallbackId = query.addChangedCallback(function (event) {\r\n            _this.updateHeader();\r\n        });\r\n    };\r\n    FilterBar.prototype.detachQueryObserver = function () {\r\n        var query = this.getContext().getQuery();\r\n        if (query)\r\n            query.removeChangedCallback(this.queryEventCallbackId);\r\n    };\r\n    return FilterBar;\r\n}(Widget));\r\nexport { FilterBar };\r\n//# sourceMappingURL=filter_bar.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { Widget, WidgetGroup } from \"@easyquery/core\";\r\n/**\r\n * The widget responsed for rendering html content\r\n */\r\nvar HtmlContentWidget = /** @class */ (function (_super) {\r\n    __extends(HtmlContentWidget, _super);\r\n    /**\r\n     * The default constructor.\r\n     * @param slot The html element.\r\n     */\r\n    function HtmlContentWidget(slot) {\r\n        var _this = _super.call(this, slot) || this;\r\n        _this.contentElement = slot;\r\n        _this.group = WidgetGroup.Result;\r\n        return _this;\r\n    }\r\n    HtmlContentWidget.prototype.getWidgetType = function () {\r\n        return 'htmlContent';\r\n    };\r\n    /**\r\n     * Initialize widget.\r\n     * @param context The context.\r\n     * @param options The options.\r\n     */\r\n    HtmlContentWidget.prototype.init = function (context, options) {\r\n        _super.prototype.init.call(this, context, options);\r\n    };\r\n    /**\r\n     * Refresh widget implementation\r\n     */\r\n    HtmlContentWidget.prototype.refreshCore = function () {\r\n        this.clear();\r\n        if (!this.context.resultContent)\r\n            return;\r\n        this.render();\r\n    };\r\n    /**\r\n     * Renders widget\r\n     */\r\n    HtmlContentWidget.prototype.render = function () {\r\n        if (this.context.resultContent) {\r\n            this.contentElement.innerHTML += this.context.resultContent;\r\n        }\r\n    };\r\n    /**\r\n     * Clears content.\r\n     */\r\n    HtmlContentWidget.prototype.clear = function () {\r\n        this.contentElement.innerHTML = \"\";\r\n    };\r\n    HtmlContentWidget.prototype.destroyCore = function () {\r\n        this.clear();\r\n    };\r\n    return HtmlContentWidget;\r\n}(Widget));\r\nexport { HtmlContentWidget };\r\n//# sourceMappingURL=html_content_widget.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { utils as dataUtils } from '@easydata/core';\r\nimport { WidgetGroup } from '@easyquery/core';\r\nimport { HtmlContentWidget } from './html_content_widget';\r\n/**\r\n * The widget responsed for rendering html grid.\r\n */\r\nvar EqHtmlGrid = /** @class */ (function (_super) {\r\n    __extends(EqHtmlGrid, _super);\r\n    /**\r\n    * The default constructor.\r\n    * @param slot The html element.\r\n    */\r\n    function EqHtmlGrid(slot) {\r\n        var _this = _super.call(this, slot) || this;\r\n        _this.options = {\r\n            maxButtonCount: 10,\r\n            useBootstrap: false\r\n        };\r\n        return _this;\r\n    }\r\n    EqHtmlGrid.prototype.getWidgetType = function () {\r\n        return 'eqHtmlGrid';\r\n    };\r\n    /**\r\n     * Initialize widget.\r\n     * @param context The context.\r\n     * @param options The options.\r\n     */\r\n    EqHtmlGrid.prototype.init = function (context, options) {\r\n        _super.prototype.init.call(this, context, options);\r\n        this.setOptions(options);\r\n    };\r\n    EqHtmlGrid.prototype.setOptions = function (options) {\r\n        dataUtils.assignDeep(this.options, options);\r\n    };\r\n    /**\r\n     * Refresh widget implementation\r\n     */\r\n    EqHtmlGrid.prototype.refreshCore = function () {\r\n        _super.prototype.refreshCore.call(this);\r\n        this.renderPageNavigator();\r\n    };\r\n    EqHtmlGrid.prototype.destroyCore = function () {\r\n        this.slot.innerHTML = '';\r\n    };\r\n    /**\r\n     * Renders page navigator.\r\n     */\r\n    EqHtmlGrid.prototype.renderPageNavigator = function () {\r\n        var _this = this;\r\n        var pageNavigatorPlaceholder = document.getElementById(\"PageNavigator\");\r\n        if (!pageNavigatorPlaceholder) {\r\n            return;\r\n        }\r\n        var pageCount = parseInt(pageNavigatorPlaceholder.getAttribute('data-pagecount'));\r\n        var pageIndex = parseInt(pageNavigatorPlaceholder.getAttribute('data-pageindex'));\r\n        if (pageCount > 1) {\r\n            var buttonClick = function (ev) {\r\n                var element = ev.target;\r\n                if (element.hasAttribute('data-page')) {\r\n                    var pageNum = parseInt(element.getAttribute('data-page'));\r\n                    _this.context.fetchDataChunk({\r\n                        chunk: {\r\n                            page: pageNum\r\n                        },\r\n                        success: function () {\r\n                            _this.context.refreshWidgets(WidgetGroup.Result);\r\n                        }\r\n                    });\r\n                }\r\n            };\r\n            var maxButtonCount = this.options.maxButtonCount || 10;\r\n            var zeroBasedIndex = pageIndex - 1;\r\n            var firstPageIndex = zeroBasedIndex - (zeroBasedIndex % maxButtonCount) + 1;\r\n            var lastPageIndex = firstPageIndex + maxButtonCount - 1;\r\n            if (lastPageIndex > pageCount) {\r\n                lastPageIndex = pageCount;\r\n            }\r\n            var ul = document.createElement('ul');\r\n            if (this.options.useBootstrap) {\r\n                ul.className = \"pagination\";\r\n            }\r\n            else {\r\n                ul.className = \"eqv-pagination\";\r\n            }\r\n            if (this.options.pageItemCssClass) {\r\n                ul.className += \" \" + (this.options.pageItemCssClass);\r\n            }\r\n            var li = document.createElement('li');\r\n            if (this.options.useBootstrap) {\r\n                li.className = \"page-item\";\r\n            }\r\n            var a = document.createElement('span');\r\n            a.setAttribute(\"aria-hidden\", 'true');\r\n            if (this.options.useBootstrap) {\r\n                a.className = \"page-link\";\r\n            }\r\n            if (firstPageIndex == 1) {\r\n                li.className += \" disabled\";\r\n            }\r\n            else {\r\n                if (this.options.useBootstrap) {\r\n                    a = document.createElement('a');\r\n                    a.setAttribute('href', 'javascript:void(0)');\r\n                    a.setAttribute(\"data-page\", \"\" + (firstPageIndex - 1));\r\n                    a.className = \"page-link\";\r\n                }\r\n                else {\r\n                    var newA = document.createElement('a');\r\n                    newA.setAttribute('href', 'javascript:void(0)');\r\n                    newA.setAttribute(\"data-page\", \"\" + (firstPageIndex - 1));\r\n                    a = newA;\r\n                }\r\n                a.addEventListener(\"click\", buttonClick);\r\n            }\r\n            a.innerHTML = \"&laquo;\";\r\n            li.appendChild(a);\r\n            ul.appendChild(li);\r\n            for (var i = firstPageIndex; i <= lastPageIndex; i++) {\r\n                li = document.createElement('li');\r\n                if (this.options.useBootstrap) {\r\n                    li.className = \"page-item\";\r\n                }\r\n                if (i == pageIndex)\r\n                    li.className += \" active\";\r\n                a = document.createElement('a');\r\n                a.setAttribute('href', 'javascript:void(0)');\r\n                a.innerHTML = i.toString();\r\n                a.setAttribute('data-page', i.toString());\r\n                a.className = \"page-link\";\r\n                a.addEventListener(\"click\", buttonClick);\r\n                li.appendChild(a);\r\n                ul.appendChild(li);\r\n            }\r\n            li = document.createElement('li');\r\n            if (this.options.useBootstrap) {\r\n                li.className = \"page-item\";\r\n            }\r\n            a = document.createElement(\"span\");\r\n            a.setAttribute('aria-hidden', 'true');\r\n            if (this.options.useBootstrap) {\r\n                a.className = \"page-link\";\r\n            }\r\n            if (lastPageIndex == pageCount) {\r\n                li.className += \"disabled\";\r\n            }\r\n            else {\r\n                if (this.options.useBootstrap) {\r\n                    a = document.createElement('a');\r\n                    a.setAttribute('href', 'javascript:void(0)');\r\n                    a.setAttribute(\"data-page\", \"\" + (lastPageIndex + 1));\r\n                    a.className += \" page-link\";\r\n                }\r\n                else {\r\n                    var newA = document.createElement('a');\r\n                    newA.setAttribute('href', 'javascript:void(0)');\r\n                    newA.setAttribute(\"data-page\", \"\" + (lastPageIndex + 1));\r\n                    a = newA;\r\n                }\r\n                a.addEventListener(\"click\", buttonClick);\r\n            }\r\n            a.innerHTML = \"&raquo;\";\r\n            li.appendChild(a);\r\n            ul.appendChild(li);\r\n            pageNavigatorPlaceholder.appendChild(ul);\r\n        }\r\n    };\r\n    return EqHtmlGrid;\r\n}(HtmlContentWidget));\r\nexport { EqHtmlGrid };\r\n//# sourceMappingURL=eq_result_html_grid.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { utils as dataUtils } from '@easydata/core';\r\nimport { Widget, WidgetGroup } from '@easyquery/core';\r\n/**\r\n * Base class for GRID.\r\n */\r\nvar Grid = /** @class */ (function (_super) {\r\n    __extends(Grid, _super);\r\n    /**\r\n     * The default constructor.\r\n     * @param slot The html element.\r\n     */\r\n    function Grid(slot) {\r\n        var _this = _super.call(this, slot) || this;\r\n        _this.options = {\r\n            useCustomLocaleSettings: false\r\n        };\r\n        _this.slot = slot;\r\n        _this.group = WidgetGroup.Result;\r\n        return _this;\r\n    }\r\n    Grid.prototype.getWidgetType = function () {\r\n        return 'grid';\r\n    };\r\n    /**\r\n     * Initialize widget.\r\n     * @param context The context.\r\n     * @param options The options.\r\n     */\r\n    Grid.prototype.init = function (context, options) {\r\n        _super.prototype.init.call(this, context, options);\r\n        if (options) {\r\n            dataUtils.assignDeep(this.options, options);\r\n        }\r\n    };\r\n    /**\r\n     * Refresh widget implementation\r\n     */\r\n    Grid.prototype.refreshCore = function () {\r\n        this.clear();\r\n        if (!this.context.resultTable) {\r\n            return;\r\n        }\r\n        this.render();\r\n    };\r\n    /**\r\n     * Renders widget\r\n     */\r\n    Grid.prototype.render = function () {\r\n        if (this.options.beforeTableRendering) {\r\n            this.options.beforeTableRendering(this.context.resultTable);\r\n        }\r\n        this.applyDisplayFormats();\r\n    };\r\n    Grid.prototype.applyDisplayFormats = function () {\r\n    };\r\n    /**\r\n     * Clears GRID.\r\n     */\r\n    Grid.prototype.clear = function () {\r\n        this.slot.innerHTML = \"\";\r\n    };\r\n    return Grid;\r\n}(Widget));\r\nexport { Grid };\r\n//# sourceMappingURL=grid.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __assign = (this && this.__assign) || function () {\r\n    __assign = Object.assign || function(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n                t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\nimport { WidgetGroup, QueryChangeAction, ExprTag, QueryChangePart, SortDirection } from \"@easyquery/core\";\r\nimport { utils as dataUtils } from '@easydata/core';\r\nimport { EasyGrid } from \"@easydata/ui\";\r\nimport { Grid } from \"./grid\";\r\nimport { PopupMenu } from \"../utils/popup_menu\";\r\nvar EasyGridWidget = /** @class */ (function (_super) {\r\n    __extends(EasyGridWidget, _super);\r\n    /**\r\n     * The default constructor.\r\n     * @param slot The html element.\r\n     */\r\n    function EasyGridWidget(slot) {\r\n        var _this = _super.call(this, slot) || this;\r\n        //!!!! DO NOT forget to add types for options\r\n        _this.options = { autoRefresh: true };\r\n        _this.group = WidgetGroup.Result;\r\n        return _this;\r\n    }\r\n    EasyGridWidget.prototype.getWidgetType = function () {\r\n        return 'easyGrid';\r\n    };\r\n    /**\r\n     * Initialize widget.\r\n     * @param context The context.\r\n     * @param options The options.\r\n     */\r\n    EasyGridWidget.prototype.init = function (context, options) {\r\n        var _this = this;\r\n        _super.prototype.init.call(this, context, options);\r\n        var gridOptions = __assign({}, options, { slot: this.slot, dataTable: context.resultTable });\r\n        this.options = dataUtils.assign(this.options, options);\r\n        gridOptions.onAddColumnClick = function (ev) { return _this.addColumnClickHandler(ev); };\r\n        gridOptions.onColumnMoved = function (ev) { return _this.columnMovedHandler(ev); };\r\n        if (this.context.calcTotals) {\r\n            gridOptions.totals = gridOptions.totals || {\r\n                calcGrandTotals: false,\r\n                calculator: null\r\n            };\r\n            gridOptions.totals.calculator = this.context.getServices()\r\n                .getTotalCalculator(this.context);\r\n        }\r\n        this.destroy();\r\n        this.grid = new EasyGrid(gridOptions);\r\n        if (this.options.autoRefresh) {\r\n            this.attachQueryObserver();\r\n        }\r\n    };\r\n    EasyGridWidget.prototype.refreshCore = function () {\r\n        this.clear();\r\n        this.render();\r\n    };\r\n    EasyGridWidget.prototype.render = function () {\r\n        this.createEntitiesMenu();\r\n        this.grid.refresh();\r\n    };\r\n    EasyGridWidget.prototype.attachQueryObserver = function () {\r\n        var _this = this;\r\n        var query = this.getQuery();\r\n        this.queryEventCallbackId = query.addChangedCallback(function (event) {\r\n            //if something has changed, and that change is related to columns\r\n            var edata = event.data;\r\n            if (!edata || (edata.part != QueryChangePart.Columns && edata.part != QueryChangePart.All)) {\r\n                return;\r\n            }\r\n            if (event.data.source == _this) {\r\n                _this.grid.refresh();\r\n            }\r\n            else {\r\n                _this.refresh();\r\n            }\r\n        });\r\n    };\r\n    EasyGridWidget.prototype.destroyCore = function () {\r\n        this.detachQueryObserver();\r\n        if (this.grid)\r\n            this.grid.destroy();\r\n        this.slot.innerHTML = '';\r\n    };\r\n    EasyGridWidget.prototype.detachQueryObserver = function () {\r\n        if (this.queryEventCallbackId) {\r\n            var query = this.getContext().getQuery();\r\n            query.removeChangedCallback(this.queryEventCallbackId);\r\n        }\r\n    };\r\n    EasyGridWidget.prototype.createEntitiesMenu = function () {\r\n        var model = this.getContext().getModel();\r\n        if (!model || model.isEmpty())\r\n            return;\r\n        var menuId = this.slot.id;\r\n        if (menuId) {\r\n            menuId += '-EntitiesMenu';\r\n        }\r\n        var entitiesList = model.getEntitiesTree({ addUIC: false, addUIR: true, addUIS: false });\r\n        var options = { items: entitiesList, id: menuId };\r\n        dataUtils.assign(options, this.options.menuOptions);\r\n        this.entitiesMenu = new PopupMenu(options);\r\n    };\r\n    EasyGridWidget.prototype.getModel = function () {\r\n        return this.context.getModel();\r\n    };\r\n    EasyGridWidget.prototype.getQuery = function () {\r\n        return this.context.getQuery();\r\n    };\r\n    EasyGridWidget.prototype.clear = function () {\r\n        if (this.grid)\r\n            this.grid.clear();\r\n    };\r\n    EasyGridWidget.prototype.addColumnClickHandler = function (ev) {\r\n        var _this = this;\r\n        this.entitiesMenu.showMenu({\r\n            anchor: ev.sourceEvent.target,\r\n            selectedIds: null,\r\n            itemSelectedCallback: function (data, items) {\r\n                var attrid = data.id;\r\n                _this.addNewColumn(attrid);\r\n                return false;\r\n            }\r\n        });\r\n    };\r\n    EasyGridWidget.prototype.columnMovedHandler = function (ev) {\r\n        var query = this.getQuery();\r\n        var oldIndex = dataUtils.findItemIndexById(query.getColumns(), ev.columnId);\r\n        if (oldIndex >= 0) {\r\n            query.moveColumn(oldIndex, ev.newIndex);\r\n            query.fireChangedEvent({\r\n                part: QueryChangePart.Columns,\r\n                action: QueryChangeAction.All,\r\n                source: this\r\n            });\r\n        }\r\n    };\r\n    EasyGridWidget.prototype.addNewColumn = function (attrId) {\r\n        var _this = this;\r\n        var model = this.getContext().getModel();\r\n        var query = this.getContext().getQuery();\r\n        var getColumnByAttrId = function (attrid) {\r\n            var attribute = model.getAttributeById(attrid);\r\n            if (!attribute) {\r\n                return null;\r\n            }\r\n            if (!attribute.useInSorting) {\r\n                if (attribute.lookupAttr) {\r\n                    attrid = attribute.lookupAttr;\r\n                    attribute = model.getAttributeById(attrid);\r\n                    if (!attribute || !attribute.useInSorting) {\r\n                        return null;\r\n                    }\r\n                }\r\n                else\r\n                    return null;\r\n            }\r\n            var column = query.createColumn();\r\n            column.caption = _this.getDefaultColumnCaption(attribute);\r\n            column.sorting = SortDirection.None;\r\n            column.sortIndex = -1;\r\n            column.expr.tag = ExprTag.EntityAttribute;\r\n            //column.expr.id = attrid;\r\n            column.expr.setValue(attrid, true);\r\n            column.params.concat(attribute.params);\r\n            return column;\r\n        };\r\n        if (!this.getContext().getQuery()) {\r\n            return;\r\n        }\r\n        return this.addColumn(getColumnByAttrId(attrId));\r\n    };\r\n    EasyGridWidget.prototype.getDefaultColumnCaption = function (attr) {\r\n        var format = this.options.titleElementFormat || this.options.attrElementFormat;\r\n        var model = this.getContext().getModel();\r\n        return model.getAttributeText(attr, format);\r\n    };\r\n    EasyGridWidget.prototype.addColumn = function (column) {\r\n        var query = this.getContext().getQuery();\r\n        if (!query) {\r\n            return;\r\n        }\r\n        column = this.checkColumn(column);\r\n        if (!column) {\r\n            return;\r\n        }\r\n        column = query.addColumn({\r\n            caption: column.caption,\r\n            attributeId: column.expr.value,\r\n            sorting: column.sorting,\r\n            sortIndex: column.sortIndex\r\n        });\r\n        query.fireChangedEvent({\r\n            part: QueryChangePart.Columns,\r\n            action: QueryChangeAction.Add,\r\n            changee: column,\r\n            source: this\r\n        });\r\n        return column;\r\n    };\r\n    EasyGridWidget.prototype.checkColumn = function (col) {\r\n        var query = this.getContext().getQuery();\r\n        var columns = query.getColumns();\r\n        var colJson = JSON.stringify(col.expr.saveToData());\r\n        for (var i = 0; i < columns.length; i++) {\r\n            var qcolJson = JSON.stringify(columns[i].expr.saveToData());\r\n            if (qcolJson === colJson) {\r\n                return null;\r\n            }\r\n        }\r\n        return col;\r\n    };\r\n    return EasyGridWidget;\r\n}(Grid));\r\nexport { EasyGridWidget };\r\n//# sourceMappingURL=easy_grid_widget.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { Widget, WidgetGroup } from '@easyquery/core';\r\n/**\r\n * The widget responsed for rendering statement.\r\n * It's usually added for demonstration purposes only.\r\n */\r\nvar StatementPanel = /** @class */ (function (_super) {\r\n    __extends(StatementPanel, _super);\r\n    /**\r\n     * The  default constructor.\r\n     * @param slot The html element.\r\n     */\r\n    function StatementPanel(slot) {\r\n        var _this = _super.call(this, slot) || this;\r\n        _this.panel = slot;\r\n        _this.group = WidgetGroup.Statement;\r\n        if (_this.panel.tagName !== \"TEXTAREA\") {\r\n            _this.panel.innerHTML = '<div class=\"eqv-sql-panel-result\"></div>';\r\n            _this.panel = _this.panel.querySelector('div');\r\n        }\r\n        return _this;\r\n    }\r\n    StatementPanel.prototype.getWidgetType = function () {\r\n        return 'statementPanel';\r\n    };\r\n    /**\r\n     * Refresh widget implementation\r\n     */\r\n    StatementPanel.prototype.refreshCore = function () {\r\n        this.clear();\r\n        this.render();\r\n    };\r\n    StatementPanel.prototype.render = function () {\r\n        this.panel.textContent = this.context.resultStatement ? this.context.resultStatement : \"\";\r\n        var statementText = this.panel.innerHTML.replace(/\\r\\n/g, \"<br />\").replace(/  /g, \"&nbsp;&nbsp;\");\r\n        this.panel.innerHTML = statementText;\r\n    };\r\n    StatementPanel.prototype.destroyCore = function () {\r\n        this.clear();\r\n    };\r\n    StatementPanel.prototype.clear = function () {\r\n        this.panel.innerHTML = \"\";\r\n    };\r\n    return StatementPanel;\r\n}(Widget));\r\nexport { StatementPanel };\r\n//# sourceMappingURL=statement_panel.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { Widget, WidgetGroup } from '@easyquery/core';\r\n/**\r\n * The widget responsed for rendering process bar.\r\n */\r\nvar ProcessWidget = /** @class */ (function (_super) {\r\n    __extends(ProcessWidget, _super);\r\n    /**\r\n     * The default constructor.\r\n     * @param slot The html element.\r\n     */\r\n    function ProcessWidget(slot) {\r\n        var _this = _super.call(this, slot) || this;\r\n        _this.element = slot;\r\n        _this.element.style.display = 'none';\r\n        _this.group = WidgetGroup.All;\r\n        return _this;\r\n    }\r\n    ProcessWidget.prototype.getWidgetType = function () {\r\n        return 'processIndicator';\r\n    };\r\n    /**\r\n     * On process start implementation\r\n     */\r\n    ProcessWidget.prototype.onProcessStartCore = function () {\r\n        this.element.style.display = '';\r\n    };\r\n    /**\r\n    * On process end implementation\r\n    */\r\n    ProcessWidget.prototype.onProcessEndCore = function () {\r\n        this.element.style.display = 'none';\r\n    };\r\n    return ProcessWidget;\r\n}(Widget));\r\nexport { ProcessWidget };\r\n//# sourceMappingURL=process_widget.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { Widget, WidgetGroup, Query, DataKind } from \"@easyquery/core\";\r\nimport { DataType, utils as dataUtils } from '@easydata/core';\r\nimport { domel } from '@easydata/ui';\r\nimport { ColumnsBar } from './columns_bar';\r\nimport { QueryPanel } from './query_panel';\r\nimport { eqCssPrefix } from '../utils/utils';\r\nvar ManageDrillDownWidget = /** @class */ (function (_super) {\r\n    __extends(ManageDrillDownWidget, _super);\r\n    function ManageDrillDownWidget(slot) {\r\n        var _this = _super.call(this, slot) || this;\r\n        _this.clickHandler = function () { return _this.openDialog(); };\r\n        _this.columnsBar = null;\r\n        _this.queryPanel = null;\r\n        _this.ddQuery = null;\r\n        _this.cssPrefix = eqCssPrefix;\r\n        _this.group = WidgetGroup.None;\r\n        return _this;\r\n    }\r\n    ManageDrillDownWidget.prototype.getWidgetType = function () {\r\n        return 'manageDrillDown';\r\n    };\r\n    ManageDrillDownWidget.prototype.init = function (context, options) {\r\n        _super.prototype.init.call(this, context, options);\r\n        this.options = options;\r\n        this.refresh();\r\n        this.slot.addEventListener('click', this.clickHandler);\r\n    };\r\n    ManageDrillDownWidget.prototype.destroyCore = function () {\r\n        this.slot.removeEventListener('click', this.clickHandler);\r\n    };\r\n    ManageDrillDownWidget.prototype.openDialog = function () {\r\n        var _this = this;\r\n        var dialogService = this.context.getServices().getDialogService();\r\n        var query = this.context.getQuery();\r\n        var model = this.context.getModel();\r\n        var dialogBody = domel('div')\r\n            .addClass(this.cssPrefix + \"-manage-drilldown\")\r\n            .addChildElement(this.renderColumnsBarBlock())\r\n            .addChildElement(this.renderQueryPanelBlock())\r\n            .toDOM();\r\n        var op = model.addOrUpdateOperator({\r\n            id: 'BindToParentColumn',\r\n            caption: 'is bound to',\r\n            format: '{expr1} [[is bound to]] {expr2}',\r\n            paramCount: 2,\r\n            kind: DataKind.ParentColumn,\r\n            appliedTypes: [DataType.String, DataType.Bool, DataType.Float, DataType.Int32, DataType.Int64, DataType.Word]\r\n        });\r\n        op.defaultOperand.dataType = DataType.String;\r\n        op.defaultOperand.kind = DataKind.ParentColumn;\r\n        model.runThroughEntities(function (attr) {\r\n            var opIdx = attr.operators.indexOf(op.id);\r\n            if (opIdx > 0) {\r\n                dataUtils.moveArrayItem(attr.operators, opIdx, 0);\r\n            }\r\n        }, null);\r\n        this.ddQuery = new Query(model, null, {\r\n            parent: query\r\n        });\r\n        var dds = this.context.getQuery().getDrillDowns();\r\n        if (dds.length) {\r\n            var dd = dds[0];\r\n            this.ddQuery.loadFromData(dd.toJSONData());\r\n        }\r\n        dialogService.open({\r\n            title: 'Manage Drill Down',\r\n            body: dialogBody,\r\n            cancelable: true,\r\n            closable: false,\r\n            beforeOpen: function () {\r\n                var columnsBarSlot = dialogBody.getElementsByClassName(_this.cssPrefix + \"-columnsbar-slot\")[0];\r\n                _this.columnsBar = new ColumnsBar(columnsBarSlot, _this.ddQuery);\r\n                _this.columnsBar.init(_this.context, _this.options.columnsBar);\r\n                var queryPanelSlot = dialogBody.getElementsByClassName(_this.cssPrefix + \"-querypanel-slot\")[0];\r\n                _this.queryPanel = new QueryPanel(queryPanelSlot, _this.ddQuery);\r\n                _this.queryPanel.init(_this.context, _this.options.queryPanel);\r\n                _this.columnsBar.refresh();\r\n                _this.queryPanel.refresh();\r\n            },\r\n            onSubmit: function () {\r\n                return _this.submitDialog();\r\n            },\r\n            onDestroy: function () {\r\n                _this.destroyDialog();\r\n            }\r\n        });\r\n    };\r\n    ManageDrillDownWidget.prototype.renderQueryPanelBlock = function () {\r\n        var _this = this;\r\n        return domel('div')\r\n            .addClass(this.cssPrefix + \"-querypanel-block\")\r\n            .addChild('div', function (b) { return b\r\n            .addClass(_this.cssPrefix + \"-querypanel-caption\"); })\r\n            .addChild('div', function (b) { return b\r\n            .addClass(_this.cssPrefix + \"-querypanel-slot\"); })\r\n            .toDOM();\r\n    };\r\n    ManageDrillDownWidget.prototype.renderColumnsBarBlock = function () {\r\n        var _this = this;\r\n        return domel('div')\r\n            .addClass(this.cssPrefix + \"-columnsbar-block\")\r\n            .addChild('div', function (b) { return b\r\n            .addClass(_this.cssPrefix + \"-columnsbar-caption\"); })\r\n            .addChild('div', function (b) { return b\r\n            .addClass(_this.cssPrefix + \"-columnsbar-slot\"); })\r\n            .toDOM();\r\n    };\r\n    ManageDrillDownWidget.prototype.submitDialog = function () {\r\n        if (this.ddQuery.tryValidate({\r\n            checkExpressions: true\r\n        })) {\r\n            var dds = this.context.getQuery().getDrillDowns();\r\n            if (dds.length) {\r\n                dds[0].loadFromData(this.ddQuery.toJSONData());\r\n                this.context.getQuery().fireChangedEvent();\r\n            }\r\n            else {\r\n                if (!this.ddQuery.isEmpty()) {\r\n                    var dd = this.context.getQuery().addDrillDown();\r\n                    dd.loadFromData(this.ddQuery.toJSONData());\r\n                    this.context.getQuery().fireChangedEvent();\r\n                }\r\n            }\r\n            return true;\r\n        }\r\n        return false;\r\n    };\r\n    ManageDrillDownWidget.prototype.destroyDialog = function () {\r\n        var model = this.context.getModel();\r\n        model.removeOperator('BindToParentColumn', true);\r\n        this.ddQuery = null;\r\n        this.columnsBar && this.columnsBar.destroy();\r\n        this.columnsBar = null;\r\n        this.queryPanel && this.queryPanel.destroy();\r\n        this.queryPanel = null;\r\n    };\r\n    return ManageDrillDownWidget;\r\n}(Widget));\r\nexport { ManageDrillDownWidget };\r\n//# sourceMappingURL=manage_drilldown_widget.js.map","import { i18n, utils as dataUtils } from '@easydata/core';\r\nimport { domel } from '@easydata/ui';\r\nimport { browserUtils } from '../utils/browser_utils';\r\nimport { eqCssPrefix } from '../utils/utils';\r\nvar ResultFacetTab = /** @class */ (function () {\r\n    function ResultFacetTab(panel, options) {\r\n        var _this = this;\r\n        this.panel = panel;\r\n        this.title = i18n.getText('Facets', 'DefaultFacetTitle');\r\n        this.cssPrefix = 'eqjs-facet';\r\n        this.dialogTitle = i18n.getText('Facets', 'DefaultDlgTitle');\r\n        this.options = {};\r\n        this.canDisplayFlag = true;\r\n        this.downloadAllClickHandler = function () {\r\n            var chunksToLoad = _this.getChunksForLoading();\r\n            var resultTable = _this.getContext().resultTable;\r\n            var recordsToLoad = resultTable.getTotal() - resultTable.getCachedCount();\r\n            var ds = _this.getDialogService();\r\n            var textDiv;\r\n            var progressDiv;\r\n            var body = domel('div')\r\n                .addChild('div', function (b) { return textDiv = b\r\n                .text(i18n.getText('Facets', 'LoadDataDlgContent')\r\n                .replace('{loadedRecs}', '0')\r\n                .replace('{totalRecs}', \"\" + recordsToLoad))\r\n                .toDOM(); })\r\n                .addChild('div', function (b) { return b\r\n                .addClass(eqCssPrefix + \"-progress-line\")\r\n                .addChild('div', function (b) { return progressDiv = b\r\n                .addClass('fill')\r\n                .setStyle('width', '0%')\r\n                .toDOM(); }); })\r\n                .toDOM();\r\n            var dlg = ds.open({\r\n                title: i18n.getText('Facets', 'LoadDataDlgTitle'),\r\n                body: body,\r\n                submitable: false,\r\n                cancelable: false,\r\n                closable: false\r\n            });\r\n            var loadedRecords = 0;\r\n            var _loop_1 = function (chunk) {\r\n                setTimeout(function () {\r\n                    resultTable.getRows({ offset: chunk.offset, limit: resultTable.chunkSize })\r\n                        .then(function (_) {\r\n                        loadedRecords += _.length;\r\n                        var progress = loadedRecords / recordsToLoad * 100;\r\n                        progressDiv.style.width = progress + \"%\";\r\n                        textDiv.innerText = i18n.getText('Facets', 'LoadDataDlgContent')\r\n                            .replace('{loadedRecs}', \"\" + loadedRecords)\r\n                            .replace('{totalRecs}', \"\" + recordsToLoad);\r\n                        if (progress === 100) {\r\n                            // postpone for 0.5s for smooth closing\r\n                            setTimeout(function () {\r\n                                dlg.submit();\r\n                                _this.refresh();\r\n                            }, 500);\r\n                        }\r\n                    })\r\n                        .catch(function (error) {\r\n                        dlg.submit();\r\n                        _this.refresh();\r\n                        _this.getContext().throwError(error);\r\n                    });\r\n                }, 10);\r\n            };\r\n            for (var _i = 0, chunksToLoad_1 = chunksToLoad; _i < chunksToLoad_1.length; _i++) {\r\n                var chunk = chunksToLoad_1[_i];\r\n                _loop_1(chunk);\r\n            }\r\n        };\r\n        dataUtils.assignDeep(this.options, options);\r\n    }\r\n    ResultFacetTab.prototype.init = function (slot) {\r\n        this.slot = slot;\r\n        this.contentDiv = domel('div', this.slot).toDOM();\r\n        this.displayMessageDiv = domel('div', this.slot).hide().toDOM();\r\n    };\r\n    ResultFacetTab.prototype.showSettingsDialog = function () {\r\n        var _this = this;\r\n        return new Promise(function (resolve) {\r\n            var ds = _this.getDialogService();\r\n            var content = _this.renderDialogContent();\r\n            ds.open({\r\n                title: _this.dialogTitle,\r\n                body: content,\r\n                cancelable: true,\r\n                closable: false,\r\n                onSubmit: function () {\r\n                    var submited = _this.submitSettingsDialog();\r\n                    if (submited) {\r\n                        resolve(true);\r\n                    }\r\n                    return submited;\r\n                },\r\n                onCancel: function () {\r\n                    resolve(false);\r\n                }\r\n            });\r\n        });\r\n    };\r\n    ResultFacetTab.prototype.renderDialogContent = function () {\r\n        var _this = this;\r\n        return domel('div')\r\n            .addClass('kfrm-form')\r\n            .addChild('div', function (b) {\r\n            b.addClass(\"\" + (browserUtils.IsIE()\r\n                ? 'kfrm-fields-ie col-ie-1-4 label-align-right'\r\n                : 'kfrm-fields col-a-1 label-align-right'));\r\n            _this.renderFormFields(b.toDOM());\r\n        })\r\n            .toDOM();\r\n    };\r\n    ResultFacetTab.prototype.renderFormFields = function (parent) {\r\n        var _this = this;\r\n        var cont = parent;\r\n        if (browserUtils.IsIE()) {\r\n            cont = domel('div', parent)\r\n                .addClass('kfrm-field-ie')\r\n                .toDOM();\r\n        }\r\n        domel(cont)\r\n            .addChild('label', function (b) { return b\r\n            .attr('for', 'tab_name')\r\n            .addText(i18n.getText('Facets', 'TabNameLabel')); })\r\n            .addChild('input', function (b) { return b\r\n            .id('facetTabName')\r\n            .name('tab_name')\r\n            .type('text')\r\n            .attr('value', _this.title); });\r\n    };\r\n    ResultFacetTab.prototype.submitSettingsDialog = function () {\r\n        var tabNameInput = document.querySelector('#facetTabName');\r\n        if (tabNameInput.value.length == 0)\r\n            return false;\r\n        this.title = tabNameInput.value;\r\n        return true;\r\n    };\r\n    ResultFacetTab.prototype.getDialogService = function () {\r\n        return this.getContext()\r\n            .getServices()\r\n            .getDialogService();\r\n    };\r\n    ResultFacetTab.prototype.canDisplay = function () {\r\n        var context = this.getContext();\r\n        var resultTable = context.resultTable;\r\n        return (resultTable.getCachedCount() == resultTable.getTotal());\r\n    };\r\n    ResultFacetTab.prototype.showUnableDisplayMessage = function (message) {\r\n        var context = this.getContext();\r\n        var resultTable = context.resultTable;\r\n        this.displayMessageDiv.innerHTML = message || i18n.getText('Facets', 'ErrNotEnoughData')\r\n            .replace('{totalRecs}', \"\" + resultTable.getTotal())\r\n            .replace('{cachedRecs}', \"\" + resultTable.getCachedCount())\r\n            .replace(/\\[(.*)\\]/g, \"<a href='javascript:void(0)' class=\\\"\" + this.cssPrefix + \"-download-all-link\\\">$1</a>\");\r\n        var link = this.displayMessageDiv.querySelector(\"a.\" + this.cssPrefix + \"-download-all-link\");\r\n        if (link) {\r\n            link.addEventListener('click', this.downloadAllClickHandler);\r\n        }\r\n        domel(this.contentDiv).hide();\r\n        domel(this.displayMessageDiv).show();\r\n    };\r\n    ResultFacetTab.prototype.hideUnableDisplayMessage = function () {\r\n        domel(this.displayMessageDiv).hide();\r\n        domel(this.contentDiv).show();\r\n    };\r\n    ResultFacetTab.prototype.getContext = function () {\r\n        return this.panel.getContext();\r\n    };\r\n    ResultFacetTab.prototype.saveToData = function () {\r\n        return { title: this.title, type: this.getType() };\r\n    };\r\n    ResultFacetTab.prototype.loadFromData = function (data) {\r\n        if (data) {\r\n            this.title = data.title;\r\n        }\r\n    };\r\n    ResultFacetTab.prototype.refresh = function () {\r\n        this.hideUnableDisplayMessage();\r\n        if (this.canDisplay()) {\r\n            this.refreshCore();\r\n        }\r\n        else {\r\n            this.showUnableDisplayMessage();\r\n        }\r\n    };\r\n    ResultFacetTab.prototype.getChunksForLoading = function () {\r\n        var resultTable = this.getContext().resultTable;\r\n        var chunkSize = resultTable.chunkSize;\r\n        var cachedChunks = resultTable.getCachedChunks();\r\n        var chunksToLoad = [];\r\n        if (cachedChunks[0].offset != 0) {\r\n            chunksToLoad.push({ offset: 0 });\r\n        }\r\n        for (var i = 1; i < cachedChunks.length; i++) {\r\n            var diffOffset = cachedChunks[i].offset - cachedChunks[i - 1].offset - chunkSize;\r\n            if (diffOffset >= chunkSize) {\r\n                var numbOfChunks = diffOffset / chunkSize;\r\n                for (var j = 1; j <= numbOfChunks; j++) {\r\n                    chunksToLoad.push({ offset: cachedChunks[i - 1].offset + j * chunkSize });\r\n                }\r\n            }\r\n        }\r\n        var lastChunk = cachedChunks[cachedChunks.length - 1];\r\n        var diff = resultTable.getTotal() - lastChunk.offset;\r\n        if (diff >= chunkSize) {\r\n            var numbOfChunks = diff / chunkSize;\r\n            for (var j = 1; j <= numbOfChunks; j++) {\r\n                chunksToLoad.push({ offset: lastChunk.offset + j * chunkSize });\r\n            }\r\n        }\r\n        return chunksToLoad;\r\n    };\r\n    return ResultFacetTab;\r\n}());\r\nexport { ResultFacetTab };\r\n//# sourceMappingURL=result_facet_tab.js.map","/** Represents chart types. */\r\nexport var ChartType;\r\n(function (ChartType) {\r\n    ChartType[ChartType[\"Column\"] = 3] = \"Column\";\r\n    ChartType[ChartType[\"Histogram\"] = 4] = \"Histogram\";\r\n    ChartType[ChartType[\"Bar\"] = 5] = \"Bar\";\r\n    ChartType[ChartType[\"Combo\"] = 6] = \"Combo\";\r\n    ChartType[ChartType[\"Area\"] = 7] = \"Area\";\r\n    ChartType[ChartType[\"Line\"] = 9] = \"Line\";\r\n    ChartType[ChartType[\"Pie\"] = 10] = \"Pie\";\r\n    ChartType[ChartType[\"Donut\"] = 12] = \"Donut\";\r\n    ChartType[ChartType[\"Gauge\"] = 17] = \"Gauge\";\r\n    ChartType[ChartType[\"Candlestick\"] = 18] = \"Candlestick\";\r\n})(ChartType || (ChartType = {}));\r\n//# sourceMappingURL=chart_type.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { utils as dataUtils } from '@easydata/core';\r\nimport { domel } from '@easydata/ui';\r\nimport { ExprTag, i18n } from '@easyquery/core';\r\nimport { ResultFacetTab } from './result_facet_tab';\r\nimport { FacetType } from '../types/facet_type';\r\nimport { EasyGridWidget } from '../widgets/easy_grid_widget';\r\nimport { browserUtils } from '../utils/browser_utils';\r\nvar DataTableFacetTab = /** @class */ (function (_super) {\r\n    __extends(DataTableFacetTab, _super);\r\n    function DataTableFacetTab() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        _this.grid = null;\r\n        _this.title = i18n.getText('Facets', 'DataTable', 'FacetTitle');\r\n        _this.dialogTitle = i18n.getText('Facets', 'DataTable', 'DlgTitle');\r\n        return _this;\r\n    }\r\n    DataTableFacetTab.prototype.init = function (slot) {\r\n        _super.prototype.init.call(this, slot);\r\n        var context = this.getContext();\r\n        if (context.calcTotals) {\r\n            this.settings = dataUtils.assign(this.getDefaultSettings(), this.settings);\r\n        }\r\n        this.reinitGrid();\r\n    };\r\n    DataTableFacetTab.prototype.reinitGrid = function () {\r\n        if (this.grid)\r\n            this.grid.destroy();\r\n        var options = this.panel.options || {};\r\n        if (options.gridResolver) {\r\n            this.grid = options.gridResolver(this.contentDiv, this.getType());\r\n        }\r\n        if (this.grid == null) {\r\n            this.grid = new EasyGridWidget(this.contentDiv);\r\n        }\r\n        options.grid = options.grid || {};\r\n        options.grid.autoRefresh = false;\r\n        options.grid.addColumns = false;\r\n        var context = this.getContext();\r\n        if (context.calcTotals) {\r\n            options.grid.totals = this.settings;\r\n        }\r\n        this.grid.init(context, options.grid);\r\n    };\r\n    DataTableFacetTab.prototype.getType = function () {\r\n        return FacetType.DataGrid;\r\n    };\r\n    DataTableFacetTab.prototype.canDisplay = function () {\r\n        return true;\r\n    };\r\n    DataTableFacetTab.prototype.renderFormFields = function (parent) {\r\n        _super.prototype.renderFormFields.call(this, parent);\r\n        var isIE = browserUtils.IsIE();\r\n        var context = this.getContext();\r\n        var settings = this.settings || {};\r\n        if (context.calcTotals) {\r\n            var fieldsClass_1 = isIE ? 'kfrm-fields-ie' : 'kfrm-fields';\r\n            var getCurrent = function () {\r\n                if (isIE) {\r\n                    return domel('div', parent)\r\n                        .addClass('kfrm-field-ie')\r\n                        .toDOM();\r\n                }\r\n                else {\r\n                    return parent;\r\n                }\r\n            };\r\n            var current = getCurrent().parentElement;\r\n            var container_1;\r\n            domel(current)\r\n                .addChild('div', function (b) { return b\r\n                .addClass('kfrm-break-30'); });\r\n            var cols = this.getNonAggrCols();\r\n            domel(current)\r\n                .addChild('fieldset', function (b) { return b\r\n                .addChild('legend', function (b) { return b\r\n                .addText(i18n.getText('Facets', 'DataTable', 'TotalsLabel')); })\r\n                .addChild('div', function (b) { return container_1 = b\r\n                .addClass(fieldsClass_1)\r\n                .toDOM(); }); })\r\n                .toDOM();\r\n            domel(container_1)\r\n                .addChild('label', function (b) { return b\r\n                .addClass('checkbox')\r\n                .addChild('input', function (b) {\r\n                b\r\n                    .id('dataTableCalcGrandTotals')\r\n                    .type('checkbox');\r\n                if (settings.calcGrandTotals)\r\n                    b.attr('checked', '');\r\n            })\r\n                .addText(' ' + i18n.getText('Facets', 'DataTable', 'GrandTotalsLabel'))\r\n                .addChild('div', function (b) { return b\r\n                .addClass('kfrm-break-20'); }); });\r\n            var _loop_1 = function (col) {\r\n                var sCol = this_1.settings.cols[col.id];\r\n                domel(container_1)\r\n                    .addChild('label', function (b) { return b\r\n                    .addClass('checkbox')\r\n                    .addChild('input', function (b) {\r\n                    b\r\n                        .data('colId', col.id)\r\n                        .type('checkbox');\r\n                    if (sCol.calcSubTotals)\r\n                        b.attr('checked', '');\r\n                })\r\n                    .addText(' ' + col.caption); })\r\n                    .toDOM();\r\n            };\r\n            var this_1 = this;\r\n            for (var _i = 0, cols_1 = cols; _i < cols_1.length; _i++) {\r\n                var col = cols_1[_i];\r\n                _loop_1(col);\r\n            }\r\n        }\r\n    };\r\n    DataTableFacetTab.prototype.columnsChanged = function () {\r\n        var cols = this.getNonAggrCols();\r\n        var sCols = this.settings.cols || {};\r\n        if (cols.length != Object.keys(sCols).length)\r\n            return true;\r\n        for (var _i = 0, cols_2 = cols; _i < cols_2.length; _i++) {\r\n            var col = cols_2[_i];\r\n            if (typeof sCols[col.id] === 'undefined')\r\n                return true;\r\n        }\r\n        return false;\r\n    };\r\n    DataTableFacetTab.prototype.getDefaultSettings = function () {\r\n        var model = this.getContext().getModel();\r\n        var settings = {\r\n            calcGrandTotals: true,\r\n            cols: {}\r\n        };\r\n        var cols = this.getNonAggrCols();\r\n        var prevEntity;\r\n        cols.forEach(function (col, index) {\r\n            settings.cols[col.id] = {};\r\n            var attr = model.getAttributeById(col.expr.value);\r\n            var entity = attr.entity;\r\n            if (prevEntity === entity) {\r\n                settings.cols[cols[index - 1].id].calcSubTotals = false;\r\n            }\r\n            settings.cols[col.id].calcSubTotals = true;\r\n            prevEntity = entity;\r\n        });\r\n        return settings;\r\n    };\r\n    DataTableFacetTab.prototype.getNonAggrCols = function () {\r\n        var cols = this.getContext().getQuery().getColumns()\r\n            .filter(function (col) { return col.enabled && col.expr.tag === ExprTag.EntityAttribute; });\r\n        if (cols.length)\r\n            cols.pop();\r\n        return cols;\r\n    };\r\n    DataTableFacetTab.prototype.dropSettings = function () {\r\n        this.settings.cols = this.getDefaultSettings().cols;\r\n        this.reinitGrid();\r\n        this.saveToData();\r\n    };\r\n    DataTableFacetTab.prototype.submitSettingsDialog = function () {\r\n        var result = _super.prototype.submitSettingsDialog.call(this);\r\n        if (result) {\r\n            this.settings = {\r\n                calcGrandTotals: document.getElementById('dataTableCalcGrandTotals').checked,\r\n                cols: {}\r\n            };\r\n            var inputs = Array.from(document.querySelectorAll('[data-colId]'));\r\n            for (var _i = 0, inputs_1 = inputs; _i < inputs_1.length; _i++) {\r\n                var input = inputs_1[_i];\r\n                var colId = input.getAttribute('data-colId');\r\n                this.settings.cols[colId] = { calcSubTotals: input.checked };\r\n            }\r\n            this.reinitGrid();\r\n        }\r\n        return result;\r\n    };\r\n    DataTableFacetTab.prototype.refreshCore = function () {\r\n        var context = this.getContext();\r\n        if (context.calcTotals && this.columnsChanged()) {\r\n            this.dropSettings();\r\n            return;\r\n        }\r\n        if (!this.grid)\r\n            return;\r\n        this.grid.refresh();\r\n    };\r\n    DataTableFacetTab.prototype.destroy = function () {\r\n        if (this.grid) {\r\n            this.grid.destroy();\r\n        }\r\n    };\r\n    DataTableFacetTab.prototype.saveToData = function () {\r\n        var data = _super.prototype.saveToData.call(this);\r\n        if (this.settings) {\r\n            data.cols = this.settings.cols;\r\n            data.calcGrandTotals = this.settings.calcGrandTotals;\r\n        }\r\n        return data;\r\n    };\r\n    DataTableFacetTab.prototype.loadFromData = function (data) {\r\n        _super.prototype.loadFromData.call(this, data);\r\n        if (data) {\r\n            this.settings = {\r\n                cols: data.cols,\r\n                calcGrandTotals: data.calcGrandTotals\r\n            };\r\n        }\r\n    };\r\n    return DataTableFacetTab;\r\n}(ResultFacetTab));\r\nexport { DataTableFacetTab };\r\n//# sourceMappingURL=datatable_facet_tab.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { Widget, WidgetGroup, } from '@easyquery/core';\r\nimport { DataType, utils as dataUtils } from '@easydata/core';\r\nimport { addCssClass, showElement, hideElement, toggleVisibility, isVisible } from '@easydata/ui';\r\nimport { ChartType } from './chart_type';\r\nvar ChartWidget = /** @class */ (function (_super) {\r\n    __extends(ChartWidget, _super);\r\n    /**\r\n     * The default constructor.\r\n     * @param slot The html element.\r\n     * @param provider The provider.\r\n     */\r\n    function ChartWidget(slot) {\r\n        var _this = _super.call(this, slot) || this;\r\n        _this.chartType = ChartType.Pie;\r\n        _this.supportedChartTypes = [];\r\n        _this.dataTable = null;\r\n        _this.potentialLabelColumns = [];\r\n        _this.potentialDataColumns = [];\r\n        _this.labelColumn = -1;\r\n        _this.dataColumns = [];\r\n        _this.options = {\r\n            chartType: ChartType.Pie,\r\n            showOnPaging: false,\r\n            hideSettings: false\r\n        };\r\n        _this.element = slot;\r\n        _this.group = WidgetGroup.Result;\r\n        return _this;\r\n    }\r\n    Object.defineProperty(ChartWidget.prototype, \"cssPrefix\", {\r\n        get: function () {\r\n            return 'eqjs-chart';\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Initialize widget.\r\n     * @param context The context.\r\n     * @param options The options.\r\n     */\r\n    ChartWidget.prototype.init = function (context, options) {\r\n        _super.prototype.init.call(this, context, options);\r\n        this.dataTable = context.resultTable;\r\n        this.setOptions(options);\r\n    };\r\n    /**\r\n     * Checks, if widget has data.\r\n     * @returns `true` if has data, otherwise - `false`.\r\n     */\r\n    ChartWidget.prototype.hasData = function () {\r\n        var result = this.dataTable != null;\r\n        if (result) {\r\n            result = this.dataTable.getCachedCount() > 0;\r\n        }\r\n        return result;\r\n    };\r\n    /**\r\n     * Checks, if there ara colums for chart\r\n     * @returns `true` if there are columns, otherwise - `false`.\r\n     */\r\n    ChartWidget.prototype.hasColumnsForChart = function () {\r\n        return this.potentialLabelColumns.length > 0 && this.potentialDataColumns.length > 0;\r\n    };\r\n    /**\r\n     * Refresh widget implementation\r\n     */\r\n    ChartWidget.prototype.refreshCore = function () {\r\n        this.prepareChartData();\r\n        this.render();\r\n    };\r\n    ChartWidget.prototype.setOptions = function (options) {\r\n        dataUtils.assignDeep(this.options, options);\r\n        this.supportedChartTypes = this.getSupportedChartTypes();\r\n        if (this.supportedChartTypes.length == 0) {\r\n            throw Error(\"Chart widget should support at least one chart type\");\r\n        }\r\n        if (options.chartType && this.supportedChartTypes.indexOf(options.chartType) >= 0) {\r\n            this.chartType = options.chartType;\r\n        }\r\n        else {\r\n            this.chartType = this.supportedChartTypes[0];\r\n        }\r\n    };\r\n    ChartWidget.prototype.getChartTypeName = function (ct) {\r\n        switch (ct) {\r\n            case ChartType.Area:\r\n                return \"Area chart\";\r\n            case ChartType.Bar:\r\n                return \"Bar chart\";\r\n            case ChartType.Candlestick:\r\n                return \"Candlestick chart\";\r\n            case ChartType.Column:\r\n                return \"Column chart\";\r\n            case ChartType.Combo:\r\n                return \"Combo chart\";\r\n            case ChartType.Donut:\r\n                return \"Donut chart\";\r\n            case ChartType.Gauge:\r\n                return \"Gauge chart\";\r\n            case ChartType.Histogram:\r\n                return \"Histogram chart\";\r\n            case ChartType.Line:\r\n                return \"Line chart\";\r\n            default:\r\n                return \"Pie chart\";\r\n        }\r\n    };\r\n    ChartWidget.prototype.updateSettings = function (settings) {\r\n        this.chartType = settings.type;\r\n        this.labelColumn = settings.labelColumn;\r\n        this.updateChartColumns();\r\n        this.dataColumns[0] = settings.dataColumn;\r\n        this.updateChartColumns();\r\n    };\r\n    /**\r\n     * Prepares data for chart.\r\n     */\r\n    ChartWidget.prototype.prepareChartData = function () {\r\n        var _this = this;\r\n        if (this.dataTable) {\r\n            this.potentialLabelColumns = [];\r\n            this.potentialDataColumns = [];\r\n            var colNum = this.dataTable.columns.count;\r\n            for (var i = 0; i < colNum; i++) {\r\n                var column = this.dataTable.columns.get(i);\r\n                var colType = column.type;\r\n                var colLabel = column.label;\r\n                if (colType === DataType.String) {\r\n                    this.potentialLabelColumns.push({ idx: i, label: colLabel });\r\n                }\r\n                else if (dataUtils.isNumericType(colType)) {\r\n                    this.potentialDataColumns.push({ idx: i, label: colLabel });\r\n                }\r\n            }\r\n            ;\r\n            if (this.labelColumn != -1) {\r\n                if (!this.potentialLabelColumns\r\n                    .filter(function (c) { return c.idx == _this.labelColumn; })\r\n                    .length) {\r\n                    this.labelColumn = -1;\r\n                }\r\n            }\r\n            else {\r\n                this.labelColumn = (this.potentialLabelColumns.length > 0)\r\n                    ? this.potentialLabelColumns[0].idx : -1;\r\n            }\r\n            if (this.dataColumns.length) {\r\n                var ids_1 = this.potentialDataColumns.map(function (d) { return d.idx; });\r\n                this.dataColumns = this.dataColumns.filter(function (v) { return ids_1.indexOf(v) >= 0; });\r\n                if (!this.dataColumns.length) {\r\n                    this.dataColumns = (this.potentialDataColumns.length > 0)\r\n                        ? [].concat(this.potentialDataColumns[0].idx)\r\n                        : [];\r\n                }\r\n            }\r\n            else {\r\n                this.dataColumns = (this.potentialDataColumns.length > 0)\r\n                    ? [].concat(this.potentialDataColumns[0].idx)\r\n                    : [];\r\n            }\r\n            this.initChart();\r\n        }\r\n    };\r\n    ChartWidget.prototype.getSupportedChartTypes = function () {\r\n        var _this = this;\r\n        var chartTypes = this.options.supportedChartTypes\r\n            ? this.options.supportedChartTypes\r\n            : Object.keys(ChartType).map(function (key) { return ChartType[key]; });\r\n        return chartTypes.filter(function (type) { return _this.hasChartTypes.indexOf(type) >= 0; });\r\n    };\r\n    ChartWidget.prototype.getCurrentChartType = function () {\r\n        return this.chartType;\r\n    };\r\n    ChartWidget.prototype.render = function () {\r\n        var _this = this;\r\n        this.clear();\r\n        if (this.hasData() && this.hasColumnsForChart()\r\n            && (this.context.resultTable.getTotal()\r\n                == this.context.resultTable.getCachedCount())) {\r\n            var headerDiv = document.createElement('div');\r\n            addCssClass(headerDiv, this.cssPrefix + \"-header\");\r\n            var mainDiv = document.createElement('div');\r\n            addCssClass(mainDiv, this.cssPrefix + \"-main\");\r\n            if (this.canDraw()) {\r\n                var chartTypeSelector = document.createElement('select');\r\n                for (var _i = 0, _a = this.supportedChartTypes; _i < _a.length; _i++) {\r\n                    var ct = _a[_i];\r\n                    var sopt = document.createElement('option');\r\n                    sopt.value = ct.toString();\r\n                    sopt.text = this.getChartTypeName(ct);\r\n                    chartTypeSelector.appendChild(sopt);\r\n                }\r\n                chartTypeSelector.value = this.chartType.toString();\r\n                headerDiv.appendChild(chartTypeSelector);\r\n                chartTypeSelector.addEventListener('change', function (ev) {\r\n                    var ctkey = ev.target.value;\r\n                    _this.chartType = parseInt(ctkey);\r\n                    _this.refresh();\r\n                });\r\n                this.settingsDiv = document.createElement('div');\r\n                addCssClass(this.settingsDiv, this.cssPrefix + \"-settings\");\r\n                hideElement(this.settingsDiv);\r\n                mainDiv.appendChild(this.settingsDiv);\r\n                this.chartDiv = document.createElement('div');\r\n                addCssClass(this.chartDiv, this.cssPrefix + \"-content\");\r\n                hideElement(this.chartDiv);\r\n                mainDiv.appendChild(this.chartDiv);\r\n                this.initSettingsDiv();\r\n                var chartSettingsBtn = document.createElement('div');\r\n                addCssClass(chartSettingsBtn, this.cssPrefix + \"-settings-icon\");\r\n                chartSettingsBtn.title = \"Settings\";\r\n                headerDiv.appendChild(chartSettingsBtn);\r\n                chartSettingsBtn.addEventListener('click', function (ev) {\r\n                    _this.toggleSettings();\r\n                });\r\n                this.drawChart(100);\r\n            }\r\n            else {\r\n                this.addContentDiv(mainDiv, \"Chart Provider is not defined\");\r\n            }\r\n            if (!this.options.hideSettings) {\r\n                this.element.appendChild(headerDiv);\r\n            }\r\n            this.element.appendChild(mainDiv);\r\n            this.element.style.display = \"\";\r\n        }\r\n        else {\r\n            this.element.style.display = \"none\";\r\n        }\r\n    };\r\n    ChartWidget.prototype.addContentDiv = function (mainDiv, text) {\r\n        var contentDiv = document.createElement('div');\r\n        addCssClass(contentDiv, this.cssPrefix + \"-no-data\");\r\n        contentDiv.innerText = text;\r\n        mainDiv.appendChild(contentDiv);\r\n    };\r\n    /**\r\n     * Clears chart.\r\n     */\r\n    ChartWidget.prototype.clear = function () {\r\n        this.element.innerHTML = '';\r\n    };\r\n    /**\r\n     * Draws chart with delay.\r\n     * @param delay The delay.\r\n     */\r\n    ChartWidget.prototype.drawChart = function (delay) {\r\n        var _this = this;\r\n        showElement(this.chartDiv);\r\n        if (delay > 0) {\r\n            setTimeout(function () { return _this.drawCore(); }, delay);\r\n        }\r\n        else {\r\n            this.drawCore();\r\n        }\r\n    };\r\n    /**\r\n     * Inititialize settings div.\r\n     */\r\n    ChartWidget.prototype.initSettingsDiv = function () {\r\n        var _this = this;\r\n        var settingsHeader = document.createElement('div');\r\n        settingsHeader.textContent = 'SETTINGS';\r\n        addCssClass(settingsHeader, this.cssPrefix + \"-settings-header\");\r\n        this.settingsDiv.appendChild(settingsHeader);\r\n        // Label column\r\n        var labelDiv = document.createElement('div');\r\n        addCssClass(labelDiv, this.cssPrefix + \"-settings-single\");\r\n        this.settingsDiv.appendChild(labelDiv);\r\n        var labelColumnSelectorCaption = document.createElement('span');\r\n        showElement(labelColumnSelectorCaption);\r\n        labelColumnSelectorCaption.textContent = 'Label column';\r\n        labelDiv.appendChild(labelColumnSelectorCaption);\r\n        var labelColumnSelector = document.createElement('select');\r\n        showElement(labelColumnSelector);\r\n        labelDiv.appendChild(labelColumnSelector);\r\n        for (var _i = 0, _a = this.potentialLabelColumns; _i < _a.length; _i++) {\r\n            var col = _a[_i];\r\n            var sopt = document.createElement('option');\r\n            sopt.value = col.idx.toString();\r\n            sopt.text = col.label;\r\n            labelColumnSelector.appendChild(sopt);\r\n        }\r\n        if (this.labelColumn >= 0) {\r\n            labelColumnSelector.value = this.labelColumn.toString();\r\n        }\r\n        labelColumnSelector.addEventListener('change', function (ev) {\r\n            _this.labelColumn = parseInt(ev.target.value);\r\n            _this.updateChartColumns();\r\n            _this.toggleSettings(function () {\r\n                _this.drawChart(100);\r\n            });\r\n        });\r\n        // Data column\r\n        var dataDiv = document.createElement('div');\r\n        addCssClass(dataDiv, this.cssPrefix + \"-settings-single\");\r\n        this.settingsDiv.appendChild(dataDiv);\r\n        var dataColumnSelectorCaption = document.createElement('span');\r\n        showElement(dataColumnSelectorCaption);\r\n        dataColumnSelectorCaption.textContent = 'Data column';\r\n        dataDiv.appendChild(dataColumnSelectorCaption);\r\n        var dataColumnSelector = document.createElement('select');\r\n        showElement(dataColumnSelector);\r\n        dataDiv.appendChild(dataColumnSelector);\r\n        for (var _b = 0, _c = this.potentialDataColumns; _b < _c.length; _b++) {\r\n            var col = _c[_b];\r\n            var sopt = document.createElement('option');\r\n            sopt.value = col.idx.toString();\r\n            sopt.text = col.label;\r\n            dataColumnSelector.appendChild(sopt);\r\n        }\r\n        if (this.dataColumns.length > 0 && this.dataColumns[0] >= 0) {\r\n            dataColumnSelector.value = this.dataColumns[0].toString();\r\n        }\r\n        dataColumnSelector.addEventListener('change', function (ev) {\r\n            _this.dataColumns[0] = parseInt(ev.target.value);\r\n            _this.updateChartColumns();\r\n            _this.toggleSettings(function () {\r\n                _this.drawChart(100);\r\n            });\r\n        });\r\n    };\r\n    ChartWidget.prototype.getPotentialLabelColumns = function () {\r\n        return this.potentialLabelColumns;\r\n    };\r\n    ChartWidget.prototype.getPotentialDataColumns = function () {\r\n        return this.potentialDataColumns;\r\n    };\r\n    ChartWidget.prototype.getLabelColumnIndex = function () {\r\n        return this.labelColumn;\r\n    };\r\n    ChartWidget.prototype.getDataColumnIndex = function () {\r\n        return this.dataColumns[0];\r\n    };\r\n    /**\r\n     * Toggles settings.\r\n     * @param callback The callback.\r\n     */\r\n    ChartWidget.prototype.toggleSettings = function (callback) {\r\n        var first;\r\n        var second;\r\n        if (isVisible(this.chartDiv)) {\r\n            first = this.chartDiv;\r\n            second = this.settingsDiv;\r\n        }\r\n        else {\r\n            first = this.settingsDiv;\r\n            second = this.chartDiv;\r\n        }\r\n        toggleVisibility(first, second, {\r\n            complete: callback\r\n        });\r\n    };\r\n    return ChartWidget;\r\n}(Widget));\r\nexport { ChartWidget };\r\n//# sourceMappingURL=chart_widget.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { domel } from '@easydata/ui';\r\nimport { EasyDataTable, DataType, utils as dataUtils, i18n } from '@easydata/core';\r\nimport { EasyGrid } from '@easydata/ui';\r\nimport { FacetType } from '../types/facet_type';\r\nimport { ResultFacetTab } from './result_facet_tab';\r\nimport { browserUtils } from '../utils/browser_utils';\r\nvar AggrFunc;\r\n(function (AggrFunc) {\r\n    AggrFunc[\"Sum\"] = \"SUM\";\r\n    AggrFunc[\"Average\"] = \"AVG\";\r\n    AggrFunc[\"Min\"] = \"MIN\";\r\n    AggrFunc[\"Max\"] = \"MAX\";\r\n    AggrFunc[\"Count\"] = \"COUNT\";\r\n})(AggrFunc || (AggrFunc = {}));\r\nvar PivotTableFacetTab = /** @class */ (function (_super) {\r\n    __extends(PivotTableFacetTab, _super);\r\n    function PivotTableFacetTab() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        _this.cssPrefix = \"eqjs\";\r\n        _this.title = i18n.getText('Facets', 'Pivot', 'FacetTitle');\r\n        _this.dialogTitle = i18n.getText('Facets', 'Pivot', 'DlgTitle');\r\n        _this.pivotTable = new EasyDataTable();\r\n        return _this;\r\n    }\r\n    PivotTableFacetTab.prototype.init = function (slot) {\r\n        _super.prototype.init.call(this, slot);\r\n        this.grid = new EasyGrid({\r\n            slot: this.contentDiv,\r\n            dataTable: this.pivotTable,\r\n            paging: {\r\n                enabled: false\r\n            },\r\n            useRowNumeration: false,\r\n            addColumns: false,\r\n            allowDragDrop: false,\r\n            onGetCellRenderer: function (column, defaultRenderer) {\r\n                if (column.dataColumn && column.dataColumn.id == \"total\") {\r\n                    return function (value, column, cell, rowEl) {\r\n                        defaultRenderer(value, column, cell, rowEl);\r\n                        cell.style.fontWeight = '900';\r\n                    };\r\n                }\r\n            }\r\n        });\r\n    };\r\n    PivotTableFacetTab.prototype.getType = function () {\r\n        return FacetType.PivotTable;\r\n    };\r\n    PivotTableFacetTab.prototype.destroy = function () {\r\n        if (this.grid) {\r\n            this.grid.destroy();\r\n        }\r\n    };\r\n    PivotTableFacetTab.prototype.createAggrFuncSelectBuilder = function (aggrFunc) {\r\n        var model = this.getContext().getModel();\r\n        var csb = domel('select');\r\n        var aggrfuncs = Object.keys(AggrFunc).map(function (k) { return AggrFunc[k]; });\r\n        var _loop_1 = function (aggrfunc) {\r\n            csb.addChild('option', function (b) {\r\n                b\r\n                    .attr('value', aggrfunc)\r\n                    .text(model.getAggrFunctionCaption(aggrfunc));\r\n            });\r\n        };\r\n        for (var _i = 0, aggrfuncs_1 = aggrfuncs; _i < aggrfuncs_1.length; _i++) {\r\n            var aggrfunc = aggrfuncs_1[_i];\r\n            _loop_1(aggrfunc);\r\n        }\r\n        var options = csb.toDOM().querySelectorAll('option');\r\n        if (aggrFunc != undefined) {\r\n            options.forEach(function (option) {\r\n                if (option.value == aggrFunc) {\r\n                    option.selected = true;\r\n                }\r\n            });\r\n        }\r\n        else {\r\n            options[0].selected = true;\r\n        }\r\n        return csb;\r\n    };\r\n    PivotTableFacetTab.prototype.createColumnsSelectBuilder = function (allowedTypes, colName) {\r\n        var dataTable = this.getContextDataTable();\r\n        var csb = domel('select');\r\n        var _loop_2 = function (i) {\r\n            var column = dataTable.columns.get(i);\r\n            var colLabel = column.label;\r\n            var colType = column.type;\r\n            var colId = column.id;\r\n            if (allowedTypes && allowedTypes.indexOf(colType) < 0)\r\n                return \"continue\";\r\n            csb.addChild('option', function (b) {\r\n                b\r\n                    .attr('value', colId)\r\n                    .text(colLabel);\r\n            });\r\n        };\r\n        for (var i = 0; i < dataTable.columns.count; i++) {\r\n            _loop_2(i);\r\n        }\r\n        var options = csb.toDOM().querySelectorAll('option');\r\n        if (options.length > 0) {\r\n            if (colName != undefined) {\r\n                options.forEach(function (option) {\r\n                    if (option.value == colName) {\r\n                        option.selected = true;\r\n                    }\r\n                });\r\n            }\r\n            else {\r\n                options[0].selected = true;\r\n            }\r\n        }\r\n        return csb;\r\n    };\r\n    PivotTableFacetTab.prototype.renderFormFields = function (parent) {\r\n        var _this = this;\r\n        _super.prototype.renderFormFields.call(this, parent);\r\n        var settings = this.settings || {};\r\n        var colTypes = [DataType.String, DataType.Date, DataType.DateTime, DataType.Int32,\r\n            DataType.Int64, DataType.Word, DataType.Byte];\r\n        var fieldTypes = [DataType.Float, DataType.Int32,\r\n            DataType.Int64, DataType.Word, DataType.Byte, DataType.Currency];\r\n        var isIE = browserUtils.IsIE();\r\n        var current = parent;\r\n        var horizClass = isIE ? 'kfrm-fields-ie is-horizontal' : 'kfrm-fields is-horizontal';\r\n        var getCurrent = function () {\r\n            if (isIE) {\r\n                return domel('div', parent)\r\n                    .addClass('kfrm-field-ie')\r\n                    .toDOM();\r\n            }\r\n            else {\r\n                return parent;\r\n            }\r\n        };\r\n        if (isIE) {\r\n            domel(parent)\r\n                .addChildElement(getCurrent());\r\n        }\r\n        else {\r\n            domel(parent)\r\n                .addChild('div')\r\n                .addChild('div');\r\n        }\r\n        current = getCurrent();\r\n        domel(current)\r\n            .addChild('label', function (b) { return b\r\n            .attr('for', 'column_field')\r\n            .text(i18n.getText('Facets', 'Pivot', 'ColumnFieldSelectorLabel')); })\r\n            .addChild('div', function (b) { return b\r\n            .addClass('kfrm-select')\r\n            .attr('name', 'column_field')\r\n            .addChildElement(_this.createColumnsSelectBuilder(colTypes, settings.colName)\r\n            .id('pivotTableColFieldSelector')\r\n            .toDOM()); });\r\n        current = getCurrent();\r\n        domel(current)\r\n            .addChild('label', function (b) { return b\r\n            .attr('for', 'row_field')\r\n            .text(i18n.getText('Facets', 'Pivot', 'RowFieldSelectorLabel')); })\r\n            .addChild('div', function (b) { return b\r\n            .addClass('kfrm-select')\r\n            .attr('name', 'row_field')\r\n            .addChildElement(_this.createColumnsSelectBuilder(colTypes, settings.rowName)\r\n            .id('pivotTableRowFieldSelector')\r\n            .toDOM()); });\r\n        current = getCurrent();\r\n        domel(current)\r\n            .addChild('label', function (b) { return b\r\n            .attr('for', 'data_function')\r\n            .text(i18n.getText('Facets', 'Pivot', 'CellDataSelectorLabel')); })\r\n            .addChild('div', function (b) { return b\r\n            .addClass(horizClass)\r\n            .addChild('div', function (b) { return b\r\n            .addClass('kfrm-select')\r\n            .attr('name', 'data_function')\r\n            .addChildElement(_this.createAggrFuncSelectBuilder(settings.aggrFunc)\r\n            .id('pivotTableAggrFuncSelector')\r\n            .toDOM()); })\r\n            .addChild('label', function (b) { return b.addText('of  '); })\r\n            .addChild('div', function (b) { return b\r\n            .addClass('kfrm-select')\r\n            .attr('name', 'data_column')\r\n            .addChildElement(_this.createColumnsSelectBuilder(fieldTypes, settings.fieldName)\r\n            .id('pivotTableCellFieldSelector')\r\n            .toDOM()); }); });\r\n        current = getCurrent();\r\n        domel(current)\r\n            .addChild('div')\r\n            .addChild('div', function (b) { return b\r\n            .addClass(horizClass)\r\n            .addChild('label', function (b) { return b\r\n            .addClass('checkbox')\r\n            .addChild('input', function (b) {\r\n            b\r\n                .id('pivotTableHasTotalsRow')\r\n                .type('checkbox');\r\n            if (settings.totalsRow)\r\n                b.attr('checked', '');\r\n        })\r\n            .addText(' ' + i18n.getText('Facets', 'Pivot', 'TotalsRowLabel')); })\r\n            .addChild('label', function (b) { return b\r\n            .addClass('checkbox')\r\n            .addChild('input', function (b) {\r\n            b\r\n                .id('pivotTableHasTotalsCol')\r\n                .type('checkbox');\r\n            if (settings.totalsCol)\r\n                b.attr('checked', '');\r\n        })\r\n            .addText(' ' + i18n.getText('Facets', 'Pivot', 'TotalsColLabel')); }); });\r\n    };\r\n    PivotTableFacetTab.prototype.submitSettingsDialog = function () {\r\n        var result = _super.prototype.submitSettingsDialog.call(this);\r\n        if (result) {\r\n            this.settings = {\r\n                colName: document.getElementById('pivotTableColFieldSelector').value,\r\n                rowName: document.getElementById('pivotTableRowFieldSelector').value,\r\n                aggrFunc: document.getElementById('pivotTableAggrFuncSelector').value,\r\n                fieldName: document.getElementById('pivotTableCellFieldSelector').value,\r\n                totalsRow: document.getElementById('pivotTableHasTotalsRow').checked,\r\n                totalsCol: document.getElementById('pivotTableHasTotalsCol').checked\r\n            };\r\n            this.refresh();\r\n        }\r\n        return result;\r\n    };\r\n    PivotTableFacetTab.prototype.saveToData = function () {\r\n        var data = _super.prototype.saveToData.call(this);\r\n        if (this.settings) {\r\n            dataUtils.assignDeep(data, this.settings);\r\n        }\r\n        return data;\r\n    };\r\n    PivotTableFacetTab.prototype.loadFromData = function (data) {\r\n        _super.prototype.loadFromData.call(this, data);\r\n        if (data) {\r\n            this.settings = dataUtils.assignDeep(this.settings, data);\r\n            if (this.settings.aggrFunc == 'AVERAGE') {\r\n                this.settings.aggrFunc = AggrFunc.Average;\r\n            }\r\n        }\r\n    };\r\n    PivotTableFacetTab.prototype.refreshCore = function () {\r\n        this.updatePivotData();\r\n        if (this.grid) {\r\n            this.grid.refresh();\r\n        }\r\n    };\r\n    PivotTableFacetTab.prototype.getContextDataTable = function () {\r\n        var context = this.getContext();\r\n        return context.resultTable;\r\n    };\r\n    PivotTableFacetTab.prototype.updatePivotData = function () {\r\n        this.pivotTable.clear();\r\n        var dataTable = this.getContextDataTable();\r\n        if (!dataTable || dataTable.getTotal() == 0) {\r\n            return;\r\n        }\r\n        if (!this.settings) {\r\n            return;\r\n        }\r\n        var colName = this.settings.colName;\r\n        var rowName = this.settings.rowName;\r\n        var fieldName = this.settings.fieldName;\r\n        var colIdx = dataTable.columns.getIndex(colName);\r\n        var rowIdx = dataTable.columns.getIndex(rowName);\r\n        var fieldIdx = dataTable.columns.getIndex(fieldName);\r\n        if (colIdx == undefined || rowIdx == undefined || fieldIdx == undefined) {\r\n            this.showUnableDisplayMessage(i18n.getText('Facets', 'ErrQueryChanged'));\r\n            return;\r\n        }\r\n        var columnCol = dataTable.columns.get(colIdx);\r\n        var columnRow = dataTable.columns.get(rowIdx);\r\n        var rowLabel = columnRow.label;\r\n        var rowType = columnRow.type;\r\n        var colLabel = columnCol.label;\r\n        var colValues = [];\r\n        var rowValues = [];\r\n        var rows = dataTable.getCachedRows();\r\n        for (var i = 0; i < rows.length; i++) {\r\n            var colValue = rows[i].getValue(colIdx);\r\n            if (colValues.indexOf(colValue) < 0) {\r\n                colValues.push(colValue);\r\n            }\r\n            var rowValue = rows[i].getValue(rowIdx);\r\n            if (rowValues.indexOf(rowValue) < 0) {\r\n                rowValues.push(rowValue);\r\n            }\r\n        }\r\n        this.pivotTable.columns.add({\r\n            id: rowLabel + '\\\\' + colLabel,\r\n            label: rowLabel + '\\\\' + colLabel,\r\n            type: rowType\r\n        });\r\n        var null_columns = [];\r\n        for (var i = 0; i < colValues.length; i++) {\r\n            var colValue = colValues[i];\r\n            if (!colValue) {\r\n                null_columns.push(i);\r\n            }\r\n            else {\r\n                this.pivotTable.columns.add({\r\n                    type: DataType.Float,\r\n                    id: colValue,\r\n                    label: colValue\r\n                });\r\n            }\r\n        }\r\n        var new_rows = [];\r\n        for (var i = 0; i < rowValues.length; i++) {\r\n            new_rows.push([]);\r\n            new_rows[i].push(rowValues[i]);\r\n        }\r\n        for (var i = 0; i < rowValues.length; i++) {\r\n            for (var j = 0; j < colValues.length; j++) {\r\n                if (null_columns.indexOf(j) >= 0)\r\n                    continue;\r\n                new_rows[i].push(this.calcAggrFunc(this.settings.aggrFunc, {\r\n                    colName: this.settings.colName,\r\n                    rowName: this.settings.rowName,\r\n                    fieldName: this.settings.fieldName,\r\n                    rowValue: rowValues[i],\r\n                    colValue: colValues[j]\r\n                }));\r\n            }\r\n        }\r\n        if (this.settings.totalsCol) {\r\n            this.pivotTable.columns.add({\r\n                id: \"total\",\r\n                label: i18n.getText('Facets', 'Pivot', 'TotalGridLabel'),\r\n                type: DataType.Float\r\n            });\r\n            for (var i = 0; i < new_rows.length; i++) {\r\n                var totalByRow = 0;\r\n                var row = new_rows[i];\r\n                for (var j = 1; j < row.length; j++) {\r\n                    var value = row[j];\r\n                    if (value !== null)\r\n                        totalByRow += value;\r\n                }\r\n                row.push(totalByRow);\r\n            }\r\n        }\r\n        for (var _i = 0, new_rows_1 = new_rows; _i < new_rows_1.length; _i++) {\r\n            var row = new_rows_1[_i];\r\n            this.pivotTable.addRow(row);\r\n        }\r\n        if (this.settings.totalsRow) {\r\n            var total_row = [];\r\n            total_row.push(i18n.getText('Facets', 'Pivot', 'TotalGridLabel'));\r\n            for (var i = 1; i < this.pivotTable.columns.count; i++) {\r\n                var totalByCol = 0;\r\n                var rows_1 = this.pivotTable.getCachedRows();\r\n                for (var j = 0; j < rows_1.length - 1; j++) {\r\n                    totalByCol += rows_1[j].getValue(i);\r\n                }\r\n                total_row.push(totalByCol);\r\n            }\r\n            this.pivotTable.addRow(total_row);\r\n            this.contentDiv.classList.add('pivot-grid-totals-row');\r\n        }\r\n        else {\r\n            this.contentDiv.classList.remove('pivot-grid-totals-row');\r\n        }\r\n    };\r\n    PivotTableFacetTab.prototype.calcAggrFunc = function (func, options) {\r\n        switch (func) {\r\n            case AggrFunc.Sum:\r\n                return this.sum(options);\r\n            case AggrFunc.Average:\r\n                return this.average(options);\r\n            case AggrFunc.Min:\r\n                return this.min(options);\r\n            case AggrFunc.Max:\r\n                return this.max(options);\r\n            case AggrFunc.Count:\r\n                return this.count(options);\r\n            default:\r\n                return 0;\r\n        }\r\n    };\r\n    PivotTableFacetTab.prototype.sum = function (options) {\r\n        var result = 0;\r\n        var dataTable = this.getContextDataTable();\r\n        var rows = dataTable.getCachedRows();\r\n        for (var i = 0; i < rows.length; i++) {\r\n            var rowValue = rows[i].getValue(options.rowName);\r\n            var colValue = rows[i].getValue(options.colName);\r\n            if (rowValue !== options.rowValue\r\n                || colValue !== options.colValue) {\r\n                continue;\r\n            }\r\n            var fieldValue = rows[i].getValue(options.fieldName);\r\n            result += fieldValue;\r\n        }\r\n        return result;\r\n    };\r\n    PivotTableFacetTab.prototype.average = function (options) {\r\n        var result = 0;\r\n        var count = 0;\r\n        var dataTable = this.getContextDataTable();\r\n        var rows = dataTable.getCachedRows();\r\n        for (var i = 0; i < rows.length; i++) {\r\n            var rowValue = rows[i].getValue(options.rowName);\r\n            var colValue = rows[i].getValue(options.colName);\r\n            if (rowValue !== options.rowValue\r\n                || colValue !== options.colValue) {\r\n                continue;\r\n            }\r\n            var fieldValue = rows[i].getValue(options.fieldName);\r\n            result += fieldValue;\r\n            count++;\r\n        }\r\n        if (count != 0)\r\n            result = result / count;\r\n        return result;\r\n    };\r\n    PivotTableFacetTab.prototype.min = function (options) {\r\n        var min = Number.MAX_SAFE_INTEGER;\r\n        var dataTable = this.getContextDataTable();\r\n        var rows = dataTable.getCachedRows();\r\n        for (var i = 0; i < rows.length; i++) {\r\n            var rowValue = rows[i].getValue(options.rowName);\r\n            var colValue = rows[i].getValue(options.colName);\r\n            if (rowValue !== options.rowValue\r\n                || colValue !== options.colValue) {\r\n                continue;\r\n            }\r\n            var fieldValue = rows[i].getValue(options.fieldName);\r\n            if (fieldValue < min) {\r\n                min = fieldValue;\r\n            }\r\n        }\r\n        if (min == Number.MAX_SAFE_INTEGER)\r\n            return null;\r\n        return min;\r\n    };\r\n    PivotTableFacetTab.prototype.max = function (options) {\r\n        var max = Number.MIN_SAFE_INTEGER;\r\n        var dataTable = this.getContextDataTable();\r\n        var rows = dataTable.getCachedRows();\r\n        for (var i = 0; i < rows.length; i++) {\r\n            var rowValue = rows[i].getValue(options.rowName);\r\n            var colValue = rows[i].getValue(options.colName);\r\n            if (rowValue !== options.rowValue\r\n                || colValue !== options.colValue) {\r\n                continue;\r\n            }\r\n            var fieldValue = rows[i].getValue(options.fieldName);\r\n            if (fieldValue > max) {\r\n                max = fieldValue;\r\n            }\r\n        }\r\n        if (max == Number.MIN_SAFE_INTEGER)\r\n            return null;\r\n        return max;\r\n    };\r\n    PivotTableFacetTab.prototype.count = function (options) {\r\n        var dataTable = this.getContextDataTable();\r\n        var count = 0;\r\n        var rows = dataTable.getCachedRows();\r\n        for (var i = 0; i < rows.length; i++) {\r\n            var rowValue = rows[i].getValue(options.rowName);\r\n            var colValue = rows[i].getValue(options.colName);\r\n            if (rowValue !== options.rowValue\r\n                || colValue !== options.colValue) {\r\n                continue;\r\n            }\r\n            count++;\r\n        }\r\n        return count;\r\n    };\r\n    return PivotTableFacetTab;\r\n}(ResultFacetTab));\r\nexport { PivotTableFacetTab };\r\n//# sourceMappingURL=pivot_table_facet_tab.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { addElement } from '@easydata/ui';\r\nimport { ChartWidget } from './chart_widget';\r\nimport { ChartType } from './chart_type';\r\nvar ChartJsWidget = /** @class */ (function (_super) {\r\n    __extends(ChartJsWidget, _super);\r\n    function ChartJsWidget() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        _this.colors = [\r\n            '#4dc9f6',\r\n            '#f67019',\r\n            '#f53794',\r\n            '#537bc4',\r\n            '#acc236',\r\n            '#166a8f',\r\n            '#00a950',\r\n            '#58595b',\r\n            '#8549ba'\r\n        ];\r\n        _this.chartLabels = [];\r\n        _this.chartColumns = [];\r\n        _this.hasChartTypes = [\r\n            ChartType.Column,\r\n            ChartType.Bar,\r\n            ChartType.Line,\r\n            ChartType.Pie\r\n        ];\r\n        return _this;\r\n    }\r\n    ChartJsWidget.prototype.getWidgetType = function () {\r\n        return 'chartChartJs';\r\n    };\r\n    ChartJsWidget.hasChartJs = function () {\r\n        return typeof Chart !== 'undefined';\r\n    };\r\n    ChartJsWidget.prototype.canDraw = function () {\r\n        return ChartJsWidget.hasChartJs();\r\n    };\r\n    ChartJsWidget.prototype.initChart = function () {\r\n        if (ChartJsWidget.hasChartJs() && this.labelColumn >= 0\r\n            && this.dataColumns && this.dataColumns.length > 0) {\r\n            this.updateChartColumns();\r\n        }\r\n    };\r\n    ChartJsWidget.prototype.drawCore = function () {\r\n        if (ChartJsWidget.hasChartJs() && this.dataTable\r\n            && this.dataTable.getCachedCount() > 0) {\r\n            var config = this.generateConfig();\r\n            var chartCanvas = this.getChartCanvas(this.chartDiv);\r\n            var chartContext = chartCanvas.getContext('2d');\r\n            new Chart(chartContext, config);\r\n        }\r\n    };\r\n    ChartJsWidget.prototype.updateChartColumns = function () {\r\n        if (this.dataTable) {\r\n            this.chartLabels = [];\r\n            this.chartColumns = [];\r\n            var rows = this.dataTable.getCachedRows();\r\n            for (var i = 0; i < rows.length; i++) {\r\n                this.chartLabels.push(rows[i].getValue(this.labelColumn));\r\n                this.chartColumns.push(rows[i].getValue(this.dataColumns[0]));\r\n            }\r\n        }\r\n    };\r\n    ChartJsWidget.prototype.getChartCanvas = function (slot) {\r\n        var result;\r\n        //find canvas element\r\n        var canvases = slot.getElementsByTagName('canvas');\r\n        if (canvases && canvases.length > 0) {\r\n            result = canvases[0];\r\n        }\r\n        else {\r\n            result = addElement(slot, 'canvas');\r\n        }\r\n        return result;\r\n    };\r\n    ChartJsWidget.prototype.generateConfig = function () {\r\n        var dataColors = [];\r\n        var datasetName = this.dataTable.columns.get(this.dataColumns[0]).label;\r\n        var displayLegend = true;\r\n        var fillValue = true;\r\n        var borderColor;\r\n        if (this.chartType == ChartType.Pie || this.chartType == ChartType.Bar || this.chartType == ChartType.Column) {\r\n            displayLegend = false;\r\n            for (var i = 0; i < this.chartLabels.length; i++) {\r\n                dataColors.push(this.colors[i % this.colors.length]);\r\n            }\r\n        }\r\n        else {\r\n            dataColors = [this.colors[3]];\r\n        }\r\n        if (this.chartType == ChartType.Line) {\r\n            fillValue = false;\r\n            borderColor = this.colors[3];\r\n        }\r\n        return {\r\n            type: this.getChartType(),\r\n            data: {\r\n                datasets: [{\r\n                        data: this.chartColumns,\r\n                        backgroundColor: dataColors,\r\n                        borderColor: borderColor,\r\n                        label: datasetName,\r\n                        fill: fillValue\r\n                    }],\r\n                labels: this.chartLabels\r\n            },\r\n            options: {\r\n                legend: {\r\n                    display: displayLegend\r\n                },\r\n                title: {\r\n                    display: true,\r\n                    text: datasetName\r\n                }\r\n            }\r\n        };\r\n    };\r\n    ChartJsWidget.prototype.getChartType = function () {\r\n        switch (this.chartType) {\r\n            case ChartType.Column:\r\n                return \"bar\";\r\n            case ChartType.Bar:\r\n                return \"horizontalBar\";\r\n            case ChartType.Line:\r\n                return \"line\";\r\n            case ChartType.Pie:\r\n                return \"pie\";\r\n            default:\r\n                return \"pie\";\r\n        }\r\n    };\r\n    return ChartJsWidget;\r\n}(ChartWidget));\r\nexport { ChartJsWidget };\r\n//# sourceMappingURL=chart_widget_chartjs.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { DataType } from '@easydata/core';\r\nimport { ChartWidget } from './chart_widget';\r\nimport { ChartType } from './chart_type';\r\nvar GoogleChartWidget = /** @class */ (function (_super) {\r\n    __extends(GoogleChartWidget, _super);\r\n    function GoogleChartWidget() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        _this.hasChartTypes = [\r\n            ChartType.Column,\r\n            ChartType.Bar,\r\n            ChartType.Combo,\r\n            ChartType.Area,\r\n            ChartType.Line,\r\n            ChartType.Pie\r\n        ];\r\n        return _this;\r\n    }\r\n    GoogleChartWidget.prototype.getWidgetType = function () {\r\n        return 'chartGoogle';\r\n    };\r\n    GoogleChartWidget.prototype.canDraw = function () {\r\n        return GoogleChartWidget.hasGoogleCharts();\r\n    };\r\n    GoogleChartWidget.hasGoogleCharts = function () {\r\n        return typeof google !== 'undefined' && typeof google.charts !== 'undefined';\r\n    };\r\n    GoogleChartWidget.prototype.initChart = function () {\r\n        if (GoogleChartWidget.hasGoogleCharts() && this.labelColumn >= 0\r\n            && this.dataColumns && this.dataColumns.length > 0) {\r\n            this.googleDataView =\r\n                new google.visualization.DataView(this.convertToGoogleFormat());\r\n            this.updateChartColumns();\r\n        }\r\n    };\r\n    GoogleChartWidget.prototype.convertToGoogleType = function (type) {\r\n        switch (type) {\r\n            case DataType.Date:\r\n                return \"date\";\r\n            case DataType.DateTime:\r\n                return \"datetime\";\r\n            case DataType.Time:\r\n                return \"timeofday\";\r\n            case DataType.Byte:\r\n            case DataType.Word:\r\n            case DataType.Int32:\r\n            case DataType.Int64:\r\n            case DataType.Currency:\r\n            case DataType.Float:\r\n                return \"number\";\r\n            default:\r\n                return \"string\";\r\n        }\r\n    };\r\n    GoogleChartWidget.prototype.convertToGoogleValue = function (value, type) {\r\n        switch (type) {\r\n            case DataType.Bool:\r\n                return value.toString();\r\n            default:\r\n                return value;\r\n        }\r\n    };\r\n    GoogleChartWidget.prototype.convertToGoogleFormat = function () {\r\n        var googleTable = new google.visualization.DataTable();\r\n        var columns = this.dataTable.columns;\r\n        for (var i = 0; i < columns.count; i++) {\r\n            var column = columns.get(i);\r\n            googleTable.addColumn(this.convertToGoogleType(column.type), column.label, column.id);\r\n        }\r\n        var rows = this.dataTable.getCachedRows();\r\n        googleTable.addRows(rows.length);\r\n        for (var i = 0; i < rows.length; i++) {\r\n            var row = rows[i];\r\n            for (var j = 0; j < columns.count; j++) {\r\n                googleTable.setCell(i, j, this.convertToGoogleValue(row.getValue(j), columns.get(j).type));\r\n            }\r\n        }\r\n        return googleTable;\r\n    };\r\n    GoogleChartWidget.prototype.drawCore = function () {\r\n        if (this.googleDataView != null) {\r\n            var chartOptions = {\r\n                width: \"100%\",\r\n                height: \"100%\",\r\n                chartArea: { width: this.getChartAreaWidth }\r\n            };\r\n            var chart = this.createChart(this.chartDiv);\r\n            chart.draw(this.googleDataView, chartOptions);\r\n        }\r\n    };\r\n    GoogleChartWidget.prototype.getChartAreaWidth = function (chartType) {\r\n        if (chartType == ChartType.Pie) {\r\n            return \"100%\";\r\n        }\r\n        else {\r\n            return \"50%\";\r\n        }\r\n    };\r\n    GoogleChartWidget.prototype.updateChartColumns = function () {\r\n        if (this.googleDataView) {\r\n            this.googleDataView.setColumns([].concat(this.labelColumn).concat(this.dataColumns));\r\n        }\r\n    };\r\n    GoogleChartWidget.prototype.createChart = function (slot) {\r\n        switch (this.chartType) {\r\n            case 3:\r\n                return new google.visualization.ColumnChart(slot);\r\n            case 4:\r\n                return new google.visualization.Histogram(slot);\r\n            case 5:\r\n                return new google.visualization.BarChart(slot);\r\n            case 6:\r\n                return new google.visualization.ComboChart(slot);\r\n            case 7:\r\n                return new google.visualization.AreaChart(slot);\r\n            case 9:\r\n                return new google.visualization.LineChart(slot);\r\n            case 10:\r\n                return new google.visualization.PieChart(slot);\r\n            case 17:\r\n                return new google.visualization.Gauge(slot);\r\n            case 18:\r\n                return new google.visualization.CandlestickChart(slot);\r\n            default:\r\n                return new google.visualization.PieChart(slot);\r\n        }\r\n    };\r\n    return GoogleChartWidget;\r\n}(ChartWidget));\r\nexport { GoogleChartWidget };\r\n//# sourceMappingURL=chart_widget_google.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { i18n } from '@easydata/core';\r\nimport { domel } from '@easydata/ui';\r\nimport { FacetType } from '../types/facet_type';\r\nimport { ResultFacetTab } from './result_facet_tab';\r\nimport { ChartJsWidget } from '../widgets/charts/chart_widget_chartjs';\r\nimport { GoogleChartWidget } from '../widgets/charts/chart_widget_google';\r\nimport { browserUtils } from '../utils/browser_utils';\r\nvar ChartFacetTab = /** @class */ (function (_super) {\r\n    __extends(ChartFacetTab, _super);\r\n    function ChartFacetTab() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        _this.title = i18n.getText('Facets', 'Chart', 'FacetTitle');\r\n        _this.dialogTitle = i18n.getText('Facets', 'Chart', 'DlgTitle');\r\n        return _this;\r\n    }\r\n    ChartFacetTab.prototype.init = function (slot) {\r\n        _super.prototype.init.call(this, slot);\r\n        if (GoogleChartWidget.hasGoogleCharts()) {\r\n            this.chart = new GoogleChartWidget(this.contentDiv);\r\n        }\r\n        else {\r\n            this.chart = new ChartJsWidget(this.contentDiv);\r\n        }\r\n        var supportedChartTypes = this.panel.options\r\n            ? this.panel.options.supportedChartTypes\r\n            : null;\r\n        this.chart.init(this.getContext(), {\r\n            showOnPaging: true,\r\n            hideSettings: true,\r\n            supportedChartTypes: supportedChartTypes\r\n        });\r\n        if (this.settings) {\r\n            this.chart.updateSettings(this.settings);\r\n        }\r\n        this.chart.prepareChartData();\r\n        //prevent showing chart tab\r\n        domel(this.slot).hide();\r\n    };\r\n    ChartFacetTab.prototype.destroy = function () {\r\n        if (this.chart) {\r\n            this.chart.destroy();\r\n        }\r\n    };\r\n    ChartFacetTab.prototype.getType = function () {\r\n        return FacetType.Chart;\r\n    };\r\n    ChartFacetTab.prototype.renderFormFields = function (parent) {\r\n        _super.prototype.renderFormFields.call(this, parent);\r\n        // Chart type\r\n        var chartTypeSelector = document.createElement('select');\r\n        chartTypeSelector.id = 'chart_type_selector';\r\n        chartTypeSelector.name = 'chart_type_selector';\r\n        for (var _i = 0, _a = this.chart.getSupportedChartTypes(); _i < _a.length; _i++) {\r\n            var ct = _a[_i];\r\n            var sopt = document.createElement('option');\r\n            sopt.value = ct.toString();\r\n            sopt.text = this.chart.getChartTypeName(ct);\r\n            chartTypeSelector.appendChild(sopt);\r\n        }\r\n        chartTypeSelector.value = this.chart.getCurrentChartType().toString();\r\n        // Label column\r\n        var labelColumnSelector = document.createElement('select');\r\n        labelColumnSelector.name = 'label_column_selector';\r\n        labelColumnSelector.id = 'label_column_selector';\r\n        for (var _b = 0, _c = this.chart.getPotentialLabelColumns(); _b < _c.length; _b++) {\r\n            var col = _c[_b];\r\n            var sopt = document.createElement('option');\r\n            sopt.value = col.idx.toString();\r\n            sopt.text = col.label;\r\n            labelColumnSelector.appendChild(sopt);\r\n        }\r\n        var labelColumn = this.chart.getLabelColumnIndex();\r\n        if (labelColumn >= 0) {\r\n            labelColumnSelector.value = labelColumn.toString();\r\n        }\r\n        // Data column\r\n        var dataColumnSelector = document.createElement('select');\r\n        dataColumnSelector.id = 'data_column_selector';\r\n        dataColumnSelector.name = 'data_column_selector';\r\n        for (var _d = 0, _e = this.chart.getPotentialDataColumns(); _d < _e.length; _d++) {\r\n            var col = _e[_d];\r\n            var sopt = document.createElement('option');\r\n            sopt.value = col.idx.toString();\r\n            sopt.text = col.label;\r\n            dataColumnSelector.appendChild(sopt);\r\n        }\r\n        var dataColumn = this.chart.getDataColumnIndex();\r\n        if (dataColumn >= 0) {\r\n            dataColumnSelector.value = dataColumn.toString();\r\n        }\r\n        var isIE = browserUtils.IsIE();\r\n        var current = parent;\r\n        var getCurrent = function () {\r\n            if (isIE) {\r\n                return domel('div', parent)\r\n                    .addClass('kfrm-field-ie')\r\n                    .toDOM();\r\n            }\r\n            else {\r\n                return parent;\r\n            }\r\n        };\r\n        if (isIE) {\r\n            domel(parent)\r\n                .addChildElement(getCurrent());\r\n        }\r\n        else {\r\n            domel(parent)\r\n                .addChild('div')\r\n                .addChild('div');\r\n        }\r\n        current = getCurrent();\r\n        domel(current)\r\n            .addChild('label', function (b) { return b\r\n            .attr('for', 'chart_type_selector')\r\n            .text(i18n.getText('Facets', 'Chart', 'ChartTypeSelectorLabel')); })\r\n            .addChild('div', function (b) {\r\n            return b\r\n                .addClass('kfrm-select')\r\n                .addChildElement(chartTypeSelector);\r\n        });\r\n        current = getCurrent();\r\n        domel(current)\r\n            .addChild('label', function (b) { return b\r\n            .attr('for', 'label_column_selector')\r\n            .text(i18n.getText('Facets', 'Chart', 'LabelColumnSelectorLabel')); })\r\n            .addChild('div', function (b) { return b\r\n            .addClass('kfrm-select')\r\n            .addChildElement(labelColumnSelector); });\r\n        current = getCurrent();\r\n        domel(current)\r\n            .addChild('label', function (b) { return b\r\n            .attr('for', 'data_column_selector')\r\n            .text(i18n.getText('Facets', 'Chart', 'DataColumnSelectorLabel')); })\r\n            .addChild('div', function (b) { return b\r\n            .addClass('kfrm-select')\r\n            .addChildElement(dataColumnSelector); });\r\n    };\r\n    ChartFacetTab.prototype.submitSettingsDialog = function () {\r\n        var result = _super.prototype.submitSettingsDialog.call(this);\r\n        var chartTypeSelector = document.getElementById('chart_type_selector');\r\n        var ct = parseInt(chartTypeSelector.value);\r\n        var labelColumnSelector = document.getElementById('label_column_selector');\r\n        var labelColumn = parseInt(labelColumnSelector.value);\r\n        var dataColumnSelector = document.getElementById('data_column_selector');\r\n        var dataColumn = parseInt(dataColumnSelector.value);\r\n        if (result) {\r\n            this.settings = {\r\n                type: ct,\r\n                labelColumn: labelColumn,\r\n                dataColumn: dataColumn\r\n            };\r\n            this.chart.updateSettings(this.settings);\r\n            if (this.canDisplay()) {\r\n                this.refresh();\r\n            }\r\n        }\r\n        return result;\r\n    };\r\n    ChartFacetTab.prototype.saveToData = function () {\r\n        var data = _super.prototype.saveToData.call(this);\r\n        if (this.settings) {\r\n            data.chartType = this.settings.type;\r\n            data.labelCol = this.settings.labelColumn;\r\n            data.dataCol = this.settings.dataColumn;\r\n        }\r\n        return data;\r\n    };\r\n    ChartFacetTab.prototype.loadFromData = function (data) {\r\n        _super.prototype.loadFromData.call(this, data);\r\n        if (data) {\r\n            this.settings = {\r\n                type: data.chartType,\r\n                dataColumn: data.dataCol,\r\n                labelColumn: data.labelCol\r\n            };\r\n        }\r\n    };\r\n    ChartFacetTab.prototype.refreshCore = function () {\r\n        if (this.chart) {\r\n            this.chart.refresh();\r\n        }\r\n    };\r\n    return ChartFacetTab;\r\n}(ResultFacetTab));\r\nexport { ChartFacetTab };\r\n//# sourceMappingURL=chart_facet_tab.js.map","import { domel } from '@easydata/ui';\r\nimport { i18n } from '@easyquery/core';\r\nvar ExportDialog = /** @class */ (function () {\r\n    function ExportDialog(context) {\r\n        this.context = context;\r\n        this.promise = null;\r\n    }\r\n    ExportDialog.prototype.show = function (defFormat) {\r\n        var _this = this;\r\n        if (defFormat === void 0) { defFormat = null; }\r\n        if (!this.promise) {\r\n            var formats = this.context.getExportFormats();\r\n            if (formats.length == 0)\r\n                throw Error(\"No exporter has been registered.\");\r\n            defFormat = defFormat || formats[0];\r\n            this.promise = new Promise(function (resolve, reject) {\r\n                var ds = _this.context.getServices().getDialogService();\r\n                var body = domel('div')\r\n                    .addClass('kdlg-form-section')\r\n                    .addChild('div', function (b) { return b\r\n                    .addClass('kfrm-form')\r\n                    .addChild('div', function (b) { return b\r\n                    .addClass('kfrm-fields col-a-1 label-align-right')\r\n                    .addChild('label', function (b) { return b\r\n                    .addClass('kdlg-form-label', 'kflex-20')\r\n                    .attr('for', 'export_format')\r\n                    .addText(i18n.getText('ExportDlgTitle')); })\r\n                    .addChild('div', function (b) { return b\r\n                    .addClass('kfrm-select')\r\n                    .addChild('select', function (b) {\r\n                    b\r\n                        .attr('name', 'export_format')\r\n                        .id('exportFormat');\r\n                    for (var _i = 0, _a = _this.context.getExportFormats(); _i < _a.length; _i++) {\r\n                        var format = _a[_i];\r\n                        b.addOption({\r\n                            value: format,\r\n                            title: i18n.getText(format) || format,\r\n                            selected: defFormat == format\r\n                        });\r\n                    }\r\n                }); }); }); })\r\n                    .toDOM();\r\n                ds.open({\r\n                    title: i18n.getText('ExportDlgFmtLabel'),\r\n                    body: body,\r\n                    onSubmit: function () {\r\n                        var format = body.querySelector('#exportFormat').value;\r\n                        _this.context.exportResult({\r\n                            format: format,\r\n                            success: resolve,\r\n                            error: reject\r\n                        });\r\n                        return true;\r\n                    }\r\n                });\r\n            });\r\n        }\r\n        return this.promise.finally(function () { return _this.promise = null; });\r\n    };\r\n    return ExportDialog;\r\n}());\r\nexport { ExportDialog };\r\n//# sourceMappingURL=export_dialog.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { Widget, WidgetGroup, QueryChangePart, } from '@easyquery/core';\r\nimport { i18n, utils as dataUtils } from '@easydata/core';\r\nimport { domel } from '@easydata/ui';\r\nimport { FacetType } from '../types/facet_type';\r\nimport { DataTableFacetTab } from '../facets/datatable_facet_tab';\r\nimport { ChartFacetTab } from '../facets/chart_facet_tab';\r\nimport { PivotTableFacetTab } from '../facets/pivot_table_facet_tab';\r\nimport { browserUtils } from '../utils/browser_utils';\r\nimport { PopupMenu } from '../utils/popup_menu';\r\nimport { eqCssPrefix, makeElementMaximizable } from '../utils/utils';\r\nimport { ExportDialog } from '../dialog/export_dialog';\r\nvar ResultFacetsPanel = /** @class */ (function (_super) {\r\n    __extends(ResultFacetsPanel, _super);\r\n    function ResultFacetsPanel(slot) {\r\n        var _this = _super.call(this, slot) || this;\r\n        _this.facets = [];\r\n        _this.activeFacetIndex = -1;\r\n        _this.firstRender = true;\r\n        _this.options = {\r\n            showExportButton: true,\r\n            showRefreshButton: true,\r\n            showProcessIndicator: true\r\n        };\r\n        _this.menuItems = [\r\n            { id: FacetType.DataGrid, text: i18n.getText('Facets', 'AddMenuItems', 'DataTable') },\r\n            { id: FacetType.Chart, text: i18n.getText('Facets', 'AddMenuItems', 'Chart') },\r\n            { id: FacetType.PivotTable, text: i18n.getText('Facets', 'AddMenuItems', 'Pivot') }\r\n        ];\r\n        if (!_this.slot.classList.contains(_this.cssPrefix + \"-panel\")) {\r\n            _this.slot.classList.add(_this.cssPrefix + \"-panel\");\r\n        }\r\n        _this.group = WidgetGroup.Result;\r\n        _this.renderProcessBlock();\r\n        return _this;\r\n    }\r\n    Object.defineProperty(ResultFacetsPanel.prototype, \"cssPrefix\", {\r\n        get: function () {\r\n            return 'eqjs-facets';\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    ResultFacetsPanel.prototype.getWidgetType = function () {\r\n        return 'facetsPanel';\r\n    };\r\n    ResultFacetsPanel.prototype.destroyCore = function () {\r\n        for (var _i = 0, _a = this.facets; _i < _a.length; _i++) {\r\n            var facet = _a[_i];\r\n            facet.destroy();\r\n        }\r\n        this.clear();\r\n    };\r\n    /**\r\n     * Initialize widget.\r\n     * @param context The context.\r\n     * @param options The options.\r\n     */\r\n    ResultFacetsPanel.prototype.init = function (context, options) {\r\n        _super.prototype.init.call(this, context, options);\r\n        this.setOptions(options);\r\n        this.destroyCore();\r\n        this.attachQueryObserver();\r\n        this.loadFacets();\r\n    };\r\n    ResultFacetsPanel.prototype.getQuery = function () {\r\n        return this.getContext().getQuery();\r\n    };\r\n    ResultFacetsPanel.prototype.attachQueryObserver = function () {\r\n        var _this = this;\r\n        var query = this.getQuery();\r\n        this.queryEventCallbackId = query.addChangedCallback(function (event) {\r\n            //if something has changed, and that change is related to columns\r\n            var edata = event.data;\r\n            if (edata.part != QueryChangePart.All) {\r\n                return;\r\n            }\r\n            if (edata.source == _this) {\r\n                return;\r\n            }\r\n            _this.reloadFacets();\r\n            _this.refreshCore(true);\r\n        });\r\n    };\r\n    ResultFacetsPanel.prototype.refreshCore = function (force) {\r\n        if (force === void 0) { force = false; }\r\n        if (this.firstRender || force) {\r\n            this.clear();\r\n            this.createAddMenu();\r\n            this.render();\r\n        }\r\n        this.renderActiveFacet();\r\n        this.updateTotalRecords();\r\n    };\r\n    ResultFacetsPanel.prototype.createAddMenu = function () {\r\n        this.addMenu = new PopupMenu({\r\n            items: this.menuItems,\r\n            id: \"FacetType-List\"\r\n        });\r\n    };\r\n    ResultFacetsPanel.prototype.updateTotalRecords = function () {\r\n        var context = this.getContext();\r\n        var total = context.resultTable.getTotal();\r\n        this.recordsDiv.innerHTML = i18n.getText('Facets', 'TotalRecordsLabel') + ' ' + total;\r\n        if (total == 0) {\r\n            domel(this.exportDiv).hide();\r\n        }\r\n        else {\r\n            domel(this.exportDiv).show();\r\n        }\r\n    };\r\n    ResultFacetsPanel.prototype.renderProcessBlock = function () {\r\n        var html = '<div class=\"wBall\" id=\"wBall_1\"><div class=\"wInnerBall\"></div></div><div class=\"wBall\" id=\"wBall_2\"><div class=\"wInnerBall\"></div></div><div class=\"wBall\" id=\"wBall_3\"><div class=\"wInnerBall\"></div></div><div class=\"wBall\" id=\"wBall_4\"><div class=\"wInnerBall\"></div></div><div class=\"wBall\" id=\"wBall_5\"><div class=\"wInnerBall\"></div></div>';\r\n        ;\r\n        this._processBlock = domel('div')\r\n            .addClass(this.cssPrefix + \"-spinner\")\r\n            .addChild('div', function (b) { return b\r\n            .addClass(eqCssPrefix + \"-progress-win8\", browserUtils.getMobileCssClass())\r\n            .addHtml(html); })\r\n            .toDOM();\r\n    };\r\n    ResultFacetsPanel.prototype.onProcessStartCore = function () {\r\n        if (this.options.showProcessIndicator) {\r\n            // FacetsPanel might be not rendered yet, so \r\n            // it has no body\r\n            if (!this._processBlock.parentNode && this.bodyDiv) {\r\n                this.bodyDiv.childNodes.forEach(function (el) {\r\n                    domel(el).hide();\r\n                });\r\n                this.bodyDiv.appendChild(this._processBlock);\r\n            }\r\n        }\r\n    };\r\n    ResultFacetsPanel.prototype.onProcessEndCore = function () {\r\n        if (this.options.showProcessIndicator) {\r\n            if (this._processBlock.parentNode) {\r\n                try {\r\n                    this._processBlock.parentNode\r\n                        .removeChild(this._processBlock);\r\n                }\r\n                catch (e) {\r\n                }\r\n                finally {\r\n                    this.renderActiveFacet(false);\r\n                }\r\n            }\r\n        }\r\n    };\r\n    ResultFacetsPanel.prototype.render = function () {\r\n        var _this = this;\r\n        this.firstRender = false;\r\n        this.headerDiv = domel('div', this.slot)\r\n            .addClass(this.cssPrefix + \"-header\")\r\n            .toDOM();\r\n        this.tabsDiv =\r\n            domel('div', this.headerDiv)\r\n                .addClass(this.cssPrefix + \"-tabs\")\r\n                .toDOM();\r\n        this.tabsUl = domel('ul', this.tabsDiv)\r\n            .addClass(this.cssPrefix + \"-nav-tabs\")\r\n            .toDOM();\r\n        this.bodyDiv =\r\n            domel('div', this.slot)\r\n                .addClass(this.cssPrefix + \"-body\")\r\n                .toDOM();\r\n        for (var _i = 0, _a = this.facets; _i < _a.length; _i++) {\r\n            var facet = _a[_i];\r\n            this.renderFacet(facet);\r\n        }\r\n        domel(this.tabsDiv)\r\n            .addChild('div', function (b) { return b\r\n            .addClass(//`${this.cssPrefix}-header-item`, \r\n        _this.cssPrefix + \"-add-button\")\r\n            .addChild('a', function (b) { return b\r\n            .attr('href', 'javascript:void(0)'); })\r\n            .on('click', function (e) { return _this.addClickHandler(e); }); });\r\n        var manageDiv = domel('div', this.headerDiv)\r\n            .addClass(this.cssPrefix + \"-manage\")\r\n            .toDOM();\r\n        this.recordsDiv = domel('div', manageDiv)\r\n            .addClass(this.cssPrefix + \"-total-recs\")\r\n            .toDOM();\r\n        if (this.options.showRefreshButton || this.options.showExportButton) {\r\n            var bdb = domel('div', manageDiv)\r\n                .addClass(this.cssPrefix + \"-total-buttons\")\r\n                .toDOM();\r\n            if (this.options.showExportButton) {\r\n                this.exportDiv = domel('button', bdb)\r\n                    .on('click', function () { return _this.exportHandler(); })\r\n                    .addClass(this.cssPrefix + \"-button\")\r\n                    .addClass(this.cssPrefix + \"-button-export\")\r\n                    .title(i18n.getText('Facets', 'ExportBtnTitle'))\r\n                    .toDOM();\r\n            }\r\n            if (this.options.showRefreshButton) {\r\n                domel('button', bdb)\r\n                    .on('click', function () { return _this.refreshHandler(); })\r\n                    .addClass(this.cssPrefix + \"-button\")\r\n                    .addClass(this.cssPrefix + \"-button-refresh\")\r\n                    .title(i18n.getText('Facets', 'RefreshBtnTitle'));\r\n            }\r\n        }\r\n    };\r\n    ResultFacetsPanel.prototype.refreshHandler = function () {\r\n        var context = this.getContext();\r\n        context.executeQuery({\r\n            success: function () {\r\n                // possibly we should move this logic to context\r\n                context.refreshWidgets(WidgetGroup.Result);\r\n            }\r\n        });\r\n    };\r\n    ResultFacetsPanel.prototype.exportHandler = function () {\r\n        var context = this.getContext();\r\n        new ExportDialog(context).show();\r\n    };\r\n    ResultFacetsPanel.prototype.renderActiveFacet = function (refresh) {\r\n        var _this = this;\r\n        if (refresh === void 0) { refresh = true; }\r\n        this.tabsUl.querySelectorAll('li') //`.${this.cssPrefix}-header-item.${this.cssPrefix}-facet`)\r\n            .forEach(function (el, index) {\r\n            if (el.classList.contains('active')) {\r\n                el.classList.remove('active');\r\n            }\r\n            if (_this.activeFacetIndex === index) {\r\n                el.classList.add('active');\r\n            }\r\n        });\r\n        this.bodyDiv.querySelectorAll(\".\" + eqCssPrefix + \"-facet\")\r\n            .forEach(function (el, index) {\r\n            domel(el).hide();\r\n            if (_this.activeFacetIndex === index) {\r\n                domel(el).show();\r\n                if (refresh) {\r\n                    _this.facets[index].refresh();\r\n                }\r\n            }\r\n        });\r\n    };\r\n    ResultFacetsPanel.prototype.renderFacet = function (facet) {\r\n        this.renderFacetTab(facet);\r\n        var body = this.renderFacetBody(facet);\r\n        facet.init(body);\r\n    };\r\n    ResultFacetsPanel.prototype.renderFacetTab = function (facet) {\r\n        var _this = this;\r\n        return domel('li', this.tabsUl)\r\n            //.addClass(`${this.cssPrefix}-header-item`, `${this.cssPrefix}-facet`)\r\n            //facet settings button\r\n            .addChild('span', function (b) { return b\r\n            .addClass(eqCssPrefix + \"-facet-settings\")\r\n            .on('click', function (e) {\r\n            e.stopPropagation();\r\n            _this.settingsClickHandler(facet);\r\n        }); })\r\n            .addChild('a', function (b) { return b\r\n            .addText(facet.title)\r\n            .attr('href', 'javascript:void(0)'); })\r\n            //facet close button\r\n            .addChild('span', function (b) { return b\r\n            .addClass(eqCssPrefix + \"-facet-close\")\r\n            .on('click', function (e) {\r\n            e.stopPropagation();\r\n            _this.closeClickHandler(facet);\r\n        }); })\r\n            .on('click', function (e) { return _this.selectClickHandler(facet); })\r\n            .toDOM();\r\n    };\r\n    ResultFacetsPanel.prototype.renderFacetBody = function (facet) {\r\n        var element = domel('div', this.bodyDiv)\r\n            .addClass(eqCssPrefix + \"-facet\")\r\n            .hide()\r\n            .toDOM();\r\n        makeElementMaximizable(element);\r\n        return element;\r\n    };\r\n    ResultFacetsPanel.prototype.refreshFacetTabs = function () {\r\n        var _this = this;\r\n        this.tabsUl.querySelectorAll('li') //`.${this.cssPrefix}-header-item.${this.cssPrefix}-facet`)\r\n            .forEach(function (item) {\r\n            _this.tabsUl.removeChild(item);\r\n        });\r\n        for (var _i = 0, _a = this.facets; _i < _a.length; _i++) {\r\n            var facet = _a[_i];\r\n            this.renderFacetTab(facet);\r\n        }\r\n    };\r\n    ResultFacetsPanel.prototype.removeFacet = function (facet) {\r\n        var index = this.facets.indexOf(facet);\r\n        if (index >= 0) {\r\n            this.facets.splice(index, 1);\r\n            var header = this.tabsUl.childNodes[index];\r\n            this.tabsUl.removeChild(header);\r\n            var body = this.bodyDiv.childNodes[index];\r\n            this.bodyDiv.removeChild(body);\r\n            if (this.facets.length > 0) {\r\n                this.activeFacetIndex =\r\n                    index < this.facets.length\r\n                        ? index\r\n                        : this.facets.length - 1;\r\n            }\r\n            else {\r\n                this.activeFacetIndex = -1;\r\n            }\r\n            this.renderActiveFacet();\r\n        }\r\n    };\r\n    ResultFacetsPanel.prototype.addClickHandler = function (ev) {\r\n        var _this = this;\r\n        var table = this.getContext().resultTable;\r\n        this.addMenu.showMenu({\r\n            anchor: ev.target,\r\n            itemSelectedCallback: function (data) {\r\n                var facet = _this.createFacetTab(data.id);\r\n                var facetSlot = _this.renderFacetBody(facet);\r\n                facet.init(facetSlot);\r\n                facet.showSettingsDialog()\r\n                    .then(function (submited) {\r\n                    if (submited) {\r\n                        _this.facets.push(facet);\r\n                        _this.activeFacetIndex = _this.facets.length - 1;\r\n                        _this.renderFacetTab(facet);\r\n                        _this.renderActiveFacet();\r\n                        _this.saveFacets();\r\n                    }\r\n                    else {\r\n                        _this.bodyDiv.removeChild(facetSlot);\r\n                    }\r\n                })\r\n                    .catch(function (error) { return console.error(error); });\r\n            }\r\n        });\r\n    };\r\n    ResultFacetsPanel.prototype.selectClickHandler = function (facet) {\r\n        var index = this.facets.indexOf(facet);\r\n        this.setActiveFacet(index);\r\n    };\r\n    ResultFacetsPanel.prototype.settingsClickHandler = function (facet) {\r\n        var _this = this;\r\n        facet.showSettingsDialog()\r\n            .then(function (submited) {\r\n            if (submited) {\r\n                _this.refreshFacetTabs();\r\n                _this.renderActiveFacet();\r\n                _this.saveFacets();\r\n            }\r\n        })\r\n            .catch(function (error) { return console.error(error); });\r\n    };\r\n    ResultFacetsPanel.prototype.closeClickHandler = function (facet) {\r\n        var _this = this;\r\n        var ds = this.getDialogService();\r\n        ds.openConfirm(i18n.getText('Facets', 'RemoveFacetDlgTitle'), i18n.getText('Facets', 'RemoveFacetDlgContent')\r\n            .replace('{facetTitle}', facet.title))\r\n            .then(function (confirmed) {\r\n            if (confirmed) {\r\n                _this.removeFacet(facet);\r\n                _this.saveFacets();\r\n            }\r\n        })\r\n            .catch(function (error) { return console.error(error); });\r\n    };\r\n    ResultFacetsPanel.prototype.clear = function () {\r\n        this.firstRender = true;\r\n        this.slot.innerHTML = \"\";\r\n    };\r\n    ResultFacetsPanel.prototype.createDefaultFacetIfNotExist = function () {\r\n        if (this.facets.length === 0) {\r\n            var facet = this.createFacetTab(FacetType.DataGrid);\r\n            this.facets.push(facet);\r\n            this.activeFacetIndex = 0;\r\n        }\r\n    };\r\n    ResultFacetsPanel.prototype.setActiveFacet = function (index) {\r\n        if (this.activeFacetIndex != index) {\r\n            this.activeFacetIndex = index;\r\n            this.renderActiveFacet();\r\n            this.saveFacets();\r\n        }\r\n    };\r\n    ResultFacetsPanel.prototype.setOptions = function (options) {\r\n        dataUtils.assignDeep(this.options, options);\r\n    };\r\n    ResultFacetsPanel.prototype.getDialogService = function () {\r\n        return this.getContext()\r\n            .getServices()\r\n            .getDialogService();\r\n    };\r\n    ResultFacetsPanel.prototype.createFacetTab = function (type) {\r\n        var options = this.options[type];\r\n        switch (type) {\r\n            case FacetType.Chart:\r\n                return new ChartFacetTab(this, options);\r\n            case FacetType.PivotTable:\r\n                return new PivotTableFacetTab(this, options);\r\n            default:\r\n                return new DataTableFacetTab(this, options);\r\n        }\r\n    };\r\n    ResultFacetsPanel.prototype.saveFacets = function () {\r\n        var query = this.getQuery();\r\n        query.innerData = query.innerData || {};\r\n        query.innerData.facets = {\r\n            active: this.activeFacetIndex,\r\n            items: this.facets.map(function (f) { return f.saveToData(); })\r\n        };\r\n        query.fireChangedEvent({\r\n            part: QueryChangePart.ExtraData,\r\n            source: this\r\n        });\r\n    };\r\n    ResultFacetsPanel.prototype.reloadFacets = function () {\r\n        for (var _i = 0, _a = this.facets; _i < _a.length; _i++) {\r\n            var facet = _a[_i];\r\n            facet.destroy();\r\n        }\r\n        this.loadFacets();\r\n    };\r\n    ResultFacetsPanel.prototype.loadFacets = function () {\r\n        var query = this.getQuery();\r\n        this.facets = [];\r\n        if (query.innerData && query.innerData.facets) {\r\n            var items = query.innerData.facets.items;\r\n            for (var _i = 0, items_1 = items; _i < items_1.length; _i++) {\r\n                var fd = items_1[_i];\r\n                var facet = this.createFacetTab(fd.type);\r\n                facet.loadFromData(fd);\r\n                this.facets.push(facet);\r\n            }\r\n            var active = query.innerData.facets.active;\r\n            this.activeFacetIndex = (active >= 0)\r\n                ? active\r\n                : this.facets.length - 1;\r\n        }\r\n        else {\r\n            this.createDefaultFacetIfNotExist();\r\n        }\r\n    };\r\n    return ResultFacetsPanel;\r\n}(Widget));\r\nexport { ResultFacetsPanel };\r\n//# sourceMappingURL=result_facets_panel.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { utils as dataUtils } from '@easydata/core';\r\nimport { Widget, WidgetGroup } from '@easyquery/core';\r\nimport { ExportDialog } from '../dialog/export_dialog';\r\nvar ExportWidget = /** @class */ (function (_super) {\r\n    __extends(ExportWidget, _super);\r\n    function ExportWidget(slot) {\r\n        var _this = _super.call(this, slot) || this;\r\n        _this.options = {\r\n            defFormat: 'csv',\r\n            enableExport: true\r\n        };\r\n        _this.clickHandler = function (ev) {\r\n            if (!_this.slot.hasAttribute('disabled'))\r\n                new ExportDialog(_this.context).show(_this.options.defFormat);\r\n        };\r\n        _this.group = WidgetGroup.All;\r\n        return _this;\r\n    }\r\n    ExportWidget.prototype.getWidgetType = function () {\r\n        return 'exportWidget';\r\n    };\r\n    ExportWidget.prototype.init = function (context, options) {\r\n        _super.prototype.init.call(this, context, options);\r\n        this.options = dataUtils.assignDeep(this.options, options);\r\n        this.slot.addEventListener('click', this.clickHandler);\r\n    };\r\n    ExportWidget.prototype.refreshCore = function () {\r\n        if (this.options.enableExport && this.context.resultTable\r\n            && this.context.resultTable.getCachedCount() > 0) {\r\n            this.slot.removeAttribute('disabled');\r\n        }\r\n        else {\r\n            this.slot.setAttribute('disabled', '');\r\n        }\r\n    };\r\n    ExportWidget.prototype.destroyCore = function () {\r\n        this.slot.removeAttribute('disabled');\r\n        this.slot.removeEventListener('click', this.clickHandler);\r\n    };\r\n    return ExportWidget;\r\n}(Widget));\r\nexport { ExportWidget };\r\n//# sourceMappingURL=export_widget.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { i18n } from '@easydata/core';\r\nimport { Widget, WidgetGroup } from '@easyquery/core';\r\nvar LocaleWidget = /** @class */ (function (_super) {\r\n    __extends(LocaleWidget, _super);\r\n    /**\r\n    * The default constructor.\r\n    * @param slot The html element.\r\n    */\r\n    function LocaleWidget(slot) {\r\n        var _this = _super.call(this, slot) || this;\r\n        _this.changeLocale = function () {\r\n            var newLocale = _this.selectEl.value;\r\n            i18n.setCurrentLocale(newLocale);\r\n            _this.context.refreshWidgets(WidgetGroup.All);\r\n        };\r\n        _this.group = WidgetGroup.None;\r\n        return _this;\r\n    }\r\n    LocaleWidget.prototype.init = function (context, options) {\r\n        _super.prototype.init.call(this, context, options);\r\n        this.clear();\r\n        this.render();\r\n    };\r\n    LocaleWidget.prototype.getWidgetType = function () {\r\n        return 'changeLocale';\r\n    };\r\n    LocaleWidget.prototype.render = function () {\r\n        var locales = i18n.getLocales();\r\n        if (locales.length > 1) {\r\n            this.selectEl = document.createElement('select');\r\n            for (var _i = 0, locales_1 = locales; _i < locales_1.length; _i++) {\r\n                var locale = locales_1[_i];\r\n                var optionEl = document.createElement('option');\r\n                optionEl.value = locale.locale;\r\n                optionEl.innerHTML = this.displayLocaleName(locale);\r\n                this.selectEl.appendChild(optionEl);\r\n            }\r\n            this.selectEl.value = i18n.getCurrentLocale();\r\n            this.selectEl.classList.add('eqv-select');\r\n            this.selectEl.addEventListener('change', this.changeLocale);\r\n            this.slot.appendChild(this.selectEl);\r\n        }\r\n    };\r\n    LocaleWidget.prototype.displayLocaleName = function (locale) {\r\n        if (locale.englishName && locale.displayName) {\r\n            return locale.englishName + \" - \" + locale.displayName;\r\n        }\r\n        else if (locale.englishName) {\r\n            return locale.englishName;\r\n        }\r\n        else if (locale.displayName) {\r\n            return locale.displayName;\r\n        }\r\n        return locale.locale;\r\n    };\r\n    LocaleWidget.prototype.clear = function () {\r\n        this.slot.innerHTML = \"\";\r\n    };\r\n    LocaleWidget.prototype.destroyCore = function () {\r\n        this.clear();\r\n    };\r\n    return LocaleWidget;\r\n}(Widget));\r\nexport { LocaleWidget };\r\n//# sourceMappingURL=locale_widget.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { Widget, WidgetGroup } from '@easyquery/core';\r\nimport { browserUtils } from '../utils/browser_utils';\r\n/**\r\n * The widget responsed for rendering the name of the current query.\r\n */\r\nvar QueryNameWidget = /** @class */ (function (_super) {\r\n    __extends(QueryNameWidget, _super);\r\n    /**\r\n     * The default constructor.\r\n     * @param slot The HTML element where our widget should be placed.\r\n     */\r\n    function QueryNameWidget(slot) {\r\n        var _this = _super.call(this, slot) || this;\r\n        _this.queryEventCallbackId = null;\r\n        _this.group = WidgetGroup.Query | WidgetGroup.QueryStatus;\r\n        return _this;\r\n    }\r\n    QueryNameWidget.prototype.init = function (context, options) {\r\n        _super.prototype.init.call(this, context, options);\r\n        this.destroyCore();\r\n        this.attachQueryObserver();\r\n    };\r\n    Object.defineProperty(QueryNameWidget.prototype, \"cssPrefix\", {\r\n        get: function () {\r\n            return 'eqjs-query-name';\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    QueryNameWidget.prototype.getWidgetType = function () {\r\n        return 'queryName';\r\n    };\r\n    /**\r\n     * Refresh widget implementation\r\n     */\r\n    QueryNameWidget.prototype.refreshCore = function () {\r\n        this.render();\r\n    };\r\n    QueryNameWidget.prototype.render = function () {\r\n        this.slot.classList.add(\"\" + this.cssPrefix);\r\n        var mobClass = browserUtils.getMobileCssClass();\r\n        if (mobClass) {\r\n            this.slot.classList.add(mobClass);\r\n        }\r\n        if (!this.nameSlot) {\r\n            this.nameSlot = document.createElement('div');\r\n            this.nameSlot.classList.add(this.cssPrefix + \"-text\");\r\n            this.nameSlot.classList.add(this.cssPrefix + \"-theme\");\r\n            this.slot.appendChild(this.nameSlot);\r\n        }\r\n        if (!this.asteriskSlot) {\r\n            this.asteriskSlot = document.createElement('span');\r\n            this.asteriskSlot.innerHTML = \"*\";\r\n            this.asteriskSlot.classList.add(this.cssPrefix + \"-asterisk\");\r\n            this.slot.appendChild(this.asteriskSlot);\r\n        }\r\n        if (!this.tooltipSlot) {\r\n            this.tooltipSlot = document.createElement('span');\r\n            this.tooltipSlot.classList.add(this.cssPrefix + \"-tooltip\");\r\n            this.tooltipSlot.classList.add(this.cssPrefix + \"-theme\");\r\n            this.slot.appendChild(this.tooltipSlot);\r\n        }\r\n        // Update\r\n        var queryName = this.context.getQuery().getName();\r\n        this.nameSlot.textContent = queryName;\r\n        this.tooltipSlot.textContent = queryName;\r\n        this.asteriskSlot.style.visibility = this.context.getQuery().isModified() ? \"visible\" : \"hidden\";\r\n    };\r\n    QueryNameWidget.prototype.clear = function () {\r\n        this.slot.innerHTML = \"\";\r\n        this.nameSlot = null;\r\n        this.tooltipSlot = null;\r\n        this.asteriskSlot = null;\r\n    };\r\n    QueryNameWidget.prototype.attachQueryObserver = function () {\r\n        var _this = this;\r\n        var query = this.context.getQuery();\r\n        this.queryEventCallbackId = query.addChangedCallback(function (event) {\r\n            _this.refreshCore();\r\n        });\r\n    };\r\n    QueryNameWidget.prototype.detachQueryObserver = function () {\r\n        if (this.queryEventCallbackId) {\r\n            var query = this.context.getQuery();\r\n            query.removeChangedCallback(this.queryEventCallbackId);\r\n        }\r\n    };\r\n    QueryNameWidget.prototype.destroyCore = function () {\r\n        this.clear();\r\n        this.detachQueryObserver();\r\n    };\r\n    return QueryNameWidget;\r\n}(Widget));\r\nexport { QueryNameWidget };\r\n//# sourceMappingURL=queryname_widget.js.map","import { i18n } from '@easydata/core';\r\nimport { utils as dataUtils } from '@easydata/core';\r\nimport { EqContext, WidgetGroup } from '@easyquery/core';\r\nimport { DefaultDialogService, addElement, domel } from '@easydata/ui';\r\nimport { EasyGridWidget } from '../widgets/easy_grid_widget';\r\nimport { ChartJsWidget } from '../widgets/charts/chart_widget_chartjs';\r\nimport { EntitiesPanel } from '../widgets/entities_panel';\r\nimport { ColumnsPanel } from '../widgets/columns_panel';\r\nimport { ColumnsBar } from '../widgets/columns_bar';\r\nimport { LocaleWidget } from '../widgets/locale_widget';\r\nimport { QueryPanel } from '../widgets/query_panel';\r\nimport { ProcessWidget } from '../widgets/process_widget';\r\nimport { FilterBar } from '../widgets/filter_bar';\r\nimport { SortingBar } from '../widgets/sorting_bar';\r\nimport { QueryNameWidget } from '../widgets/queryname_widget';\r\nimport { StatementPanel } from '../widgets/statement_panel';\r\nimport { ResultFacetsPanel } from '../widgets/result_facets_panel';\r\nimport { convertOldOptions } from '../utils/options_converter';\r\nimport { eqCssPrefix } from '../utils/utils';\r\nimport { browserUtils } from '../utils/browser_utils';\r\nimport { ExportWidget } from '../widgets/export_widget';\r\nvar View = /** @class */ (function () {\r\n    function View() {\r\n        this.domRoots = [document];\r\n        this.defaultViewOptions = {\r\n            enableExport: true,\r\n            disableConfirmationOnQueryChange: false,\r\n            queryFileExtensions: 'text/xml,application/json',\r\n            result: {\r\n                clearResultOnQueryChange: true,\r\n                showChart: true,\r\n                showProcessIndicator: true\r\n            },\r\n            widgets: {\r\n                resultGrid: {\r\n                    addColumns: false\r\n                }\r\n            }\r\n        };\r\n        this.resultOptions = {};\r\n        this.enableExport = false;\r\n        this.resetContext();\r\n        this.renderSpinner();\r\n        this.defaultErrorHandler = function (error) {\r\n            console.error(error.action + \": \" + error.text);\r\n            if (error.sourceError) {\r\n                console.error(error.sourceError);\r\n            }\r\n        };\r\n    }\r\n    View.prototype.resetContext = function () {\r\n        this.context = new EqContext();\r\n        this.context\r\n            .getServices()\r\n            .registerDialogServiceResolver(function () { return new DefaultDialogService(); });\r\n    };\r\n    View.prototype.init = function (options) {\r\n        // to support shadow DOM rendering\r\n        if (options && options.shadowRoots)\r\n            this.domRoots = this.domRoots.concat(options.shadowRoots);\r\n        options = this.initOptions(options);\r\n        this.initWidgets(options);\r\n        this.context.init(options);\r\n        this.initDone();\r\n    };\r\n    View.prototype.initDone = function () { };\r\n    View.prototype.initWidgets = function (options) {\r\n        var queryPanel = \"QueryPanel\";\r\n        var columnsPanel = \"ColumnsPanel\";\r\n        var entitiesPanel = \"EntitiesPanel\";\r\n        var resultPanel = \"ResultPanel\";\r\n        var columnsBar = \"ColumnsBar\";\r\n        var sortingBar = \"SortingBar\";\r\n        var filterBar = \"FilterBar\";\r\n        var processBar = \"ProcessBar\";\r\n        var statementPanel = \"StatementPanel\";\r\n        var changeLocale = \"ChangeLocale\";\r\n        var queryNameLabel = \"QueryNameLabel\";\r\n        var facetsPanel = \"ResultFacetsPanel\";\r\n        var resultCount = \"ResultCount\";\r\n        var exportButton = \"ExportButton\";\r\n        if (options.slots) {\r\n            queryNameLabel = options.slots.queryNameLabel || queryNameLabel;\r\n            queryPanel = options.slots.queryPanel || queryPanel;\r\n            columnsPanel = options.slots.columnsPanel || columnsPanel;\r\n            columnsBar = options.slots.columnsBar || columnsBar;\r\n            entitiesPanel = options.slots.entitiesPanel || entitiesPanel;\r\n            resultPanel = options.slots.resultPanel || resultPanel;\r\n            statementPanel = options.slots.statementPanel || statementPanel;\r\n            processBar = options.slots.processBar || processBar;\r\n            changeLocale = options.slots.changeLocale || changeLocale;\r\n            facetsPanel = options.slots.facetsPanel || facetsPanel;\r\n            resultCount = options.slots.resultCountSpan || resultCount;\r\n            filterBar = options.slots.filterBar || filterBar;\r\n            exportButton = options.slots.exportButtons || exportButton;\r\n        }\r\n        var epElement = this.resolveElement(entitiesPanel);\r\n        if (epElement && !this.entitiesPanelWidget) {\r\n            this.entitiesPanelWidget = this.createEntitiesPanelWidget(epElement);\r\n            this.context.addWidget(this.entitiesPanelWidget);\r\n        }\r\n        var cpElement = this.resolveElement(columnsPanel);\r\n        if (cpElement && !this.columnsPanelWidget) {\r\n            this.columnsPanelWidget = this.createColumnsPanelWidget(cpElement);\r\n            this.context.addWidget(this.columnsPanelWidget);\r\n        }\r\n        var cbElement = this.resolveElement(columnsBar);\r\n        if (cbElement && !this.columnsBarWidget) {\r\n            this.columnsBarWidget = this.createColumnsBarWidget(cbElement);\r\n            this.context.addWidget(this.columnsBarWidget);\r\n        }\r\n        var qpElement = this.resolveElement(queryPanel);\r\n        if (qpElement && !this.queryPanelWidget) {\r\n            this.queryPanelWidget = this.createQueryPanelWidget(qpElement);\r\n            this.context.addWidget(this.queryPanelWidget);\r\n        }\r\n        this.resultPanelSlot = this.resolveElement(resultPanel);\r\n        if (this.resultPanelSlot) {\r\n            if (!this.resultGridWidget) {\r\n                var gridPanel = addElement(this.resultPanelSlot, 'div', { cssClass: 'eqv-result-grid' });\r\n                this.resultGridWidget = this.createResultGridWidget(gridPanel);\r\n                this.context.addWidget(this.resultGridWidget);\r\n            }\r\n            if (this.resultOptions.showChart && !this.chartWidget) {\r\n                var chartPanel = addElement(this.resultPanelSlot, 'div', { cssClass: 'eqv-chart-panel' });\r\n                chartPanel.style.display = 'none';\r\n                this.chartWidget = this.createChartWidget(chartPanel);\r\n                this.context.addWidget(this.chartWidget);\r\n            }\r\n        }\r\n        var qnElement = this.resolveElement(queryNameLabel);\r\n        if (qnElement && !this.queryNameWidget) {\r\n            this.queryNameWidget = this.createQueryNameWidget(qnElement);\r\n            this.context.addWidget(this.queryNameWidget);\r\n        }\r\n        var fbElement = this.resolveElement(filterBar);\r\n        if (fbElement && !this.filterBarWidget) {\r\n            this.filterBarWidget = this.createFilterBarWidget(fbElement);\r\n            this.context.addWidget(this.filterBarWidget);\r\n        }\r\n        var sbElement = this.resolveElement(sortingBar);\r\n        if (sbElement && !this.sortingBarWidget) {\r\n            this.sortingBarWidget = this.createSortingBarWidget(sbElement);\r\n            this.context.addWidget(this.sortingBarWidget);\r\n        }\r\n        var pbElement = this.resolveElement(processBar);\r\n        if (pbElement && !this.processWidget) {\r\n            this.processWidget = this.createProcessWidget(pbElement);\r\n            this.context.addWidget(this.processWidget);\r\n        }\r\n        var stElement = this.resolveElement(statementPanel);\r\n        if (stElement && !this.statementPanelWidget) {\r\n            this.statementPanelWidget = this.createStatementPanelWidget(stElement);\r\n            this.context.addWidget(this.statementPanelWidget);\r\n        }\r\n        var clElement = this.resolveElement(changeLocale);\r\n        if (clElement) {\r\n            var widget = this.createLocaleWidget(clElement);\r\n            this.context.addWidget(widget);\r\n        }\r\n        var fpElement = this.resolveElement(facetsPanel);\r\n        if (fpElement && !this.resultFacetPanelWidget) {\r\n            this.resultFacetPanelWidget = this.createResultFacetsPanel(fpElement);\r\n            this.context.addWidget(this.resultFacetPanelWidget);\r\n        }\r\n        var ewElement = this.resolveElement(exportButton);\r\n        if (ewElement && !this.exportWidget) {\r\n            this.exportWidget = this.createExportWidget(ewElement);\r\n            this.context.addWidget(this.exportWidget);\r\n        }\r\n        this.resultCountSlot = this.resolveElement(resultCount);\r\n    };\r\n    View.prototype.resolveElement = function (elementOrId) {\r\n        if (typeof elementOrId === 'string') {\r\n            for (var _i = 0, _a = this.domRoots; _i < _a.length; _i++) {\r\n                var domRoot = _a[_i];\r\n                var el = domRoot.getElementById(elementOrId);\r\n                if (el)\r\n                    return el;\r\n            }\r\n            return null;\r\n        }\r\n        return elementOrId;\r\n    };\r\n    View.prototype.resolveElementsByClassName = function (className) {\r\n        var result = [];\r\n        for (var _i = 0, _a = this.domRoots; _i < _a.length; _i++) {\r\n            var domRoot = _a[_i];\r\n            var elemList = domRoot.querySelectorAll('.' + className);\r\n            for (var i = 0; i < elemList.length; i++) {\r\n                result.push(elemList[i]);\r\n            }\r\n        }\r\n        return result;\r\n    };\r\n    /**\r\n    * Shows records count.\r\n    * @param count The value to show.\r\n    */\r\n    View.prototype.displayRecordsCount = function (count) {\r\n        if (this.resultCountSlot && (typeof count !== 'undefined')) {\r\n            this.resultCountSlot.style.display = \"inline\";\r\n            this.resultCountSlot.innerHTML = i18n.getText(\"MsgResultCount\").replace(\"{0}\", count.toString());\r\n        }\r\n    };\r\n    View.prototype.initOptions = function (options) {\r\n        if (options) {\r\n            options = dataUtils.assignDeep({}, this.defaultViewOptions, options);\r\n        }\r\n        else {\r\n            options = convertOldOptions(this.defaultViewOptions);\r\n        }\r\n        // for backward compability with options from version 5.x of EQ.JS\r\n        if (!options.broker) {\r\n            options.broker = {};\r\n        }\r\n        if (!options.handlers) {\r\n            options.handlers = {};\r\n        }\r\n        if (!options.handlers.onError) {\r\n            options.handlers.onError = this.defaultErrorHandler;\r\n        }\r\n        if (!options.widgets) {\r\n            options.widgets = {};\r\n        }\r\n        this.resultOptions = dataUtils.assignDeep(this.resultOptions, options.result);\r\n        if (typeof this.resultOptions.showProcessIndicator == 'undefined') {\r\n            this.resultOptions.showProcessIndicator = true;\r\n        }\r\n        else if (options.widgets.facetsPanel) {\r\n            options.widgets.facetsPanel.showProcessIndicator\r\n                = this.resultOptions.showProcessIndicator;\r\n        }\r\n        // support old format \r\n        if (!options.widgets.easyGrid) {\r\n            options.widgets.easyGrid = options.widgets.resultGrid || {};\r\n        }\r\n        options.widgets.easyGrid.paging =\r\n            dataUtils.assignDeep(this.resultOptions.paging, options.widgets.easyGrid.paging);\r\n        this.enableExport = options.enableExport || false;\r\n        if (!options.widgets.exportWidget) {\r\n            options.widgets.exportWidget = {};\r\n        }\r\n        options.widgets.exportWidget.enableExport = this.enableExport;\r\n        return options;\r\n    };\r\n    View.prototype.getContext = function () {\r\n        return this.context;\r\n    };\r\n    /**\r\n     * Sets dialog service for the view\r\n     * @param dialogService The dialog service.\r\n     */\r\n    View.prototype.setDialogService = function (dialogService) {\r\n        this.context.getServices()\r\n            .registerDialogServiceResolver(function () { return dialogService; });\r\n    };\r\n    /**\r\n    * Builds and executes current report's query.\r\n    * @param options The options. In particular, `options.page` defines what page of data to query.\r\n    */\r\n    View.prototype.executeQuery = function (options) {\r\n        var _this = this;\r\n        options = options || { refresh: true };\r\n        this.showResultSpinner();\r\n        this.context.executeQuery({\r\n            options: {\r\n                page: options.page,\r\n                pageSize: options.pageSize\r\n            },\r\n            success: function (result) {\r\n                _this.hideResultSpinner();\r\n                _this.toggleExportButtons();\r\n                _this.displayRecordsCount(_this.context.resultTable.getTotal());\r\n                if (options.refresh === true) {\r\n                    _this.context.refreshWidgets(WidgetGroup.Result);\r\n                }\r\n                if (options.callback) {\r\n                    options.callback();\r\n                }\r\n                if (options.success) {\r\n                    options.success();\r\n                }\r\n            },\r\n            error: function () {\r\n                _this.hideResultSpinner();\r\n            }\r\n        });\r\n    };\r\n    View.prototype.toggleExportButtons = function () {\r\n        if (this.enableExport && this.context.resultTable\r\n            && this.context.resultTable.getCachedCount() > 0) {\r\n            this.enableExportButtons();\r\n        }\r\n        else {\r\n            this.disableExportButtons();\r\n        }\r\n    };\r\n    View.prototype.enableExportButtons = function () {\r\n        // Nothing to do\r\n    };\r\n    View.prototype.disableExportButtons = function () {\r\n        // Nothing to do\r\n    };\r\n    View.prototype.renderSpinner = function () {\r\n        var html = '<div class=\"wBall\" id=\"wBall_1\"><div class=\"wInnerBall\"></div></div><div class=\"wBall\" id=\"wBall_2\"><div class=\"wInnerBall\"></div></div><div class=\"wBall\" id=\"wBall_3\"><div class=\"wInnerBall\"></div></div><div class=\"wBall\" id=\"wBall_4\"><div class=\"wInnerBall\"></div></div><div class=\"wBall\" id=\"wBall_5\"><div class=\"wInnerBall\"></div></div>';\r\n        ;\r\n        this._spinnerDiv = domel('div')\r\n            .addClass(\"eqjs-result-spinner\")\r\n            .addChild('div', function (b) { return b\r\n            .addClass(eqCssPrefix + \"-progress-win8\", browserUtils.getMobileCssClass())\r\n            .addHtml(html); })\r\n            .toDOM();\r\n    };\r\n    View.prototype.showResultSpinner = function () {\r\n        if (this.resultOptions.showProcessIndicator && this.resultPanelSlot) {\r\n            if (!this._spinnerDiv.parentNode) {\r\n                for (var i = 0; i < this.resultPanelSlot.children.length; i++) {\r\n                    var el = this.resultPanelSlot.children[i];\r\n                    domel(el).hide();\r\n                }\r\n                this.resultPanelSlot.appendChild(this._spinnerDiv);\r\n            }\r\n        }\r\n    };\r\n    View.prototype.hideResultSpinner = function () {\r\n        if (this.resultOptions.showProcessIndicator && this.resultPanelSlot) {\r\n            if (this._spinnerDiv.parentNode) {\r\n                this._spinnerDiv.parentNode.removeChild(this._spinnerDiv);\r\n                for (var i = 0; i < this.resultPanelSlot.children.length; i++) {\r\n                    var el = this.resultPanelSlot.children[i];\r\n                    domel(el).show();\r\n                }\r\n            }\r\n        }\r\n    };\r\n    /**\r\n    * Creates the widget that represents Chart Widget.\r\n    * @param slot The HTMLElement to place the created widget in.\r\n    * @returns the created Widget object.\r\n    */\r\n    View.prototype.createChartWidget = function (slotElement) {\r\n        if (this.resultOptions.chartWidgetResolver) {\r\n            return this.resultOptions.chartWidgetResolver(slotElement);\r\n        }\r\n        else {\r\n            return new ChartJsWidget(slotElement);\r\n        }\r\n    };\r\n    /**\r\n    * Creates the widget that represents Grid Widget.\r\n    * @param slot The HTMLElement to place the created widget in.\r\n    * @returns the created Widget object.\r\n    */\r\n    View.prototype.createResultGridWidget = function (slotElement) {\r\n        if (this.resultOptions.resultGridResolver) {\r\n            return this.resultOptions.resultGridResolver(slotElement);\r\n        }\r\n        else {\r\n            return new EasyGridWidget(slotElement);\r\n        }\r\n    };\r\n    /**\r\n    * Creates the widget that represents Entity Panel.\r\n    * @param slot The HTMLElement to place the created widget in.\r\n    * @returns the created Widget object.\r\n    */\r\n    View.prototype.createEntitiesPanelWidget = function (slot) {\r\n        return new EntitiesPanel(slot);\r\n    };\r\n    /**\r\n    * Creates the widget that represents Columns Panel.\r\n    * @param slot The HTMLElement to place the created widget in.\r\n    * @returns the created Widget object.\r\n    */\r\n    View.prototype.createColumnsPanelWidget = function (slot) {\r\n        return new ColumnsPanel(slot);\r\n    };\r\n    /**\r\n    * Creates the widget that represents Query Panel.\r\n    * @param slot The HTMLElement to place the created widget in.\r\n    * @returns the created Widget object.\r\n    */\r\n    View.prototype.createQueryPanelWidget = function (slot) {\r\n        return new QueryPanel(slot);\r\n    };\r\n    /**\r\n    * Creates the widget that represents Locale Widget.\r\n    * @param slot The HTMLElement to place the created widget in.\r\n    * @returns the created Widget object.\r\n    */\r\n    View.prototype.createLocaleWidget = function (slot) {\r\n        return new LocaleWidget(slot);\r\n    };\r\n    /**\r\n    * Creates the widget that represents Process Widget.\r\n    * @param slot The HTMLElement to place the created widget in.\r\n    * @returns the created Widget object.\r\n    */\r\n    View.prototype.createProcessWidget = function (slot) {\r\n        return new ProcessWidget(slot);\r\n    };\r\n    /**\r\n    * Creates the widget that represents Columns Bar.\r\n    * @param slot The HTMLElement to place the created widget in.\r\n    * @returns the created Widget object.\r\n    */\r\n    View.prototype.createColumnsBarWidget = function (slot) {\r\n        return new ColumnsBar(slot);\r\n    };\r\n    /**\r\n    * Creates the widget that represents Filter Bar.\r\n    * @param slot The HTMLElement to place the created widget in.\r\n    * @returns the created Widget object.\r\n    */\r\n    View.prototype.createFilterBarWidget = function (slot) {\r\n        return new FilterBar(slot);\r\n    };\r\n    /**\r\n    * Creates the widget that represents Sorting Bar.\r\n    * @param slot The HTMLElement to place the created widget in.\r\n    * @returns the created Widget object.\r\n    */\r\n    View.prototype.createSortingBarWidget = function (slot) {\r\n        return new SortingBar(slot);\r\n    };\r\n    /**\r\n    * Creates the widget that represents Query Name Widget.\r\n    * @param slot The HTMLElement to place the created widget in.\r\n    * @returns the created Widget object.\r\n    */\r\n    View.prototype.createQueryNameWidget = function (slot) {\r\n        return new QueryNameWidget(slot);\r\n    };\r\n    /**\r\n     * Creates the widget that represents Statement Panel Widget.\r\n     * @param slot\r\n     */\r\n    View.prototype.createStatementPanelWidget = function (slot) {\r\n        return new StatementPanel(slot);\r\n    };\r\n    /**\r\n    * Creates the widget that represents Result Facets Panel Widget.\r\n    * @param slot\r\n    */\r\n    View.prototype.createResultFacetsPanel = function (slot) {\r\n        return new ResultFacetsPanel(slot);\r\n    };\r\n    /**\r\n     * Creates the widget that represents Export funcionality.\r\n     * @param slot\r\n     */\r\n    View.prototype.createExportWidget = function (slot) {\r\n        return new ExportWidget(slot);\r\n    };\r\n    View.prototype.detach = function () {\r\n        if (this.entitiesPanelWidget) {\r\n            this.entitiesPanelWidget.destroy();\r\n            this.entitiesPanelWidget = null;\r\n        }\r\n        if (this.columnsPanelWidget) {\r\n            this.columnsPanelWidget.destroy();\r\n            this.columnsPanelWidget = null;\r\n        }\r\n        if (this.queryPanelWidget) {\r\n            this.queryPanelWidget.destroy();\r\n            this.queryPanelWidget = null;\r\n        }\r\n        if (this.columnsBarWidget) {\r\n            this.columnsBarWidget.destroy();\r\n            this.columnsBarWidget = null;\r\n        }\r\n        if (this.resultGridWidget) {\r\n            this.resultGridWidget.destroy();\r\n            this.resultGridWidget = null;\r\n        }\r\n        if (this.chartWidget) {\r\n            this.chartWidget.destroy();\r\n            this.chartWidget = null;\r\n        }\r\n        if (this.queryNameWidget) {\r\n            this.queryNameWidget.destroy();\r\n            this.queryNameWidget = null;\r\n        }\r\n        if (this.processWidget) {\r\n            this.processWidget.destroy();\r\n            this.processWidget = null;\r\n        }\r\n        if (this.localeWidget) {\r\n            this.localeWidget.destroy();\r\n            this.localeWidget = null;\r\n        }\r\n        if (this.statementPanelWidget) {\r\n            this.statementPanelWidget.destroy();\r\n            this.statementPanelWidget = null;\r\n        }\r\n        if (this.filterBarWidget) {\r\n            this.filterBarWidget.destroy();\r\n            this.filterBarWidget = null;\r\n        }\r\n        if (this.sortingBarWidget) {\r\n            this.sortingBarWidget.destroy();\r\n            this.sortingBarWidget = null;\r\n        }\r\n        if (this.statementWidget) {\r\n            this.statementWidget.destroy();\r\n            this.statementWidget = null;\r\n        }\r\n        if (this.exportWidget) {\r\n            this.exportWidget.destroy();\r\n            this.exportWidget = null;\r\n        }\r\n        if (this.resultFacetPanelWidget) {\r\n            this.resultFacetPanelWidget.destroy();\r\n            this.resultFacetPanelWidget = null;\r\n        }\r\n        if (this.resultCountSlot) {\r\n            this.resultCountSlot.innerHTML = '';\r\n            this.resultCountSlot = null;\r\n        }\r\n        if (this.resultPanelSlot) {\r\n            this.resultPanelSlot.innerHTML = '';\r\n            this.resultPanelSlot = null;\r\n        }\r\n        this.domRoots = [document];\r\n        this.resetContext();\r\n    };\r\n    return View;\r\n}());\r\nexport { View };\r\n//# sourceMappingURL=view.js.map","/**\r\n * Converts options from old 4.x format to [[EqViewOptions]]\r\n * @param defaultOptions The default [[EqViewOptions]] object to be extended by old options.\r\n * @returns Converted [[EqViewOptions]] object.\r\n */\r\nexport function convertOldOptions(defaultOptions) {\r\n    var oldOptions = window['easyQuerySettings'];\r\n    var oldViewOptions = window['easyQueryViewSettings'];\r\n    var newOptions = defaultOptions;\r\n    if (oldOptions) {\r\n        newOptions = { broker: {} };\r\n        //url options starts\r\n        newOptions.broker['serviceUrl'] = oldOptions.serviceUrl;\r\n        newOptions.broker['newQueryUrl'] = oldOptions.newQueryUrl;\r\n        newOptions.broker['saveQueryUrl'] = oldOptions.saveQueryUrl;\r\n        newOptions.broker['executeQueryUrl'] = oldOptions.executeQueryUrl;\r\n        newOptions.broker['removeQueryUrl'] = oldOptions.removeQueryUrl;\r\n        newOptions.broker['loadModelUrl'] = oldOptions.loadModelUrl;\r\n        newOptions.broker['loadQueryUrl'] = oldOptions.loadQueryUrl;\r\n        newOptions.broker['loadQueryListUrl'] = oldOptions.loadQueryListUrl;\r\n        newOptions.broker['syncQueryUrl'] = oldOptions.syncQueryUrl;\r\n        newOptions.broker['executeSqlUrl'] = oldOptions.executeQueryUrl;\r\n        newOptions.broker['listRequestUrl'] = oldOptions.listRequestUrl;\r\n        //url options ends\r\n        newOptions.broker['syncQueryOptions'] = oldOptions.syncQueryOptions;\r\n        newOptions.loadModelOnStart = oldOptions.loadModelOnStart;\r\n        newOptions.loadQueryOnStart = oldOptions.loadQueryOnStart;\r\n        newOptions.defaultModelId = oldOptions.defaultModelId;\r\n        newOptions.defaultQueryId = oldOptions.defaultQueryId;\r\n        newOptions.locale = oldOptions.locale;\r\n        newOptions.initialQuery = oldOptions.initialQuery;\r\n        newOptions.handlers = {};\r\n        newOptions.handlers.onInit = oldOptions.onInit;\r\n        newOptions.handlers.onInitialModelLoad = oldOptions.onInitialModelLoad;\r\n        newOptions.handlers.onLoadModel = oldOptions.onLoadModel;\r\n        newOptions.handlers.onLoadQuery = oldOptions.onLoadQuery;\r\n        newOptions.handlers.onProcessEnd = oldOptions.onProcessEnd;\r\n        newOptions.handlers.onProcessStart = oldOptions.onProcessStart;\r\n        newOptions.handlers.listRequestHandler = oldOptions.listRequestHandler;\r\n        newOptions.widgets = {};\r\n        newOptions.widgets.columnsPanel = oldOptions.columnsPanel;\r\n        newOptions.widgets.entitiesPanel = oldOptions.entitiesPanel;\r\n        newOptions.widgets.queryPanel = oldOptions.queryPanel;\r\n        newOptions.widgets.columnsBar = oldOptions.columnsBar;\r\n        newOptions.result = { paging: {}, showChart: false };\r\n    }\r\n    if (oldViewOptions) {\r\n        if (typeof oldViewOptions.showChart === 'undefined') {\r\n            newOptions.result.showChart = oldViewOptions.showChart;\r\n        }\r\n        newOptions.result.paging = oldViewOptions.paging;\r\n        if (newOptions.result.paging) {\r\n            newOptions.result.grid.useBootstrap = oldOptions.useBootstrap;\r\n        }\r\n    }\r\n    return newOptions;\r\n}\r\n//# sourceMappingURL=options_converter.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { i18n } from '@easydata/core';\r\nimport { QueryChangePart, WidgetGroup } from '@easyquery/core';\r\nimport { domel } from '@easydata/ui';\r\nimport { PopupMenu } from '../utils/popup_menu';\r\nimport { browserUtils } from '../utils/browser_utils';\r\nimport { View } from '../views/view';\r\n/**\r\n * The EasyQuery client-side view that represents the UI for advanced search page\r\n */\r\nvar AdvancedSearchView = /** @class */ (function (_super) {\r\n    __extends(AdvancedSearchView, _super);\r\n    function AdvancedSearchView() {\r\n        var _this = _super.call(this) || this;\r\n        _this.exportButtons = [];\r\n        // Name of the class to add to disabled elements.\r\n        _this.disabledClass = \"eqjs-disabled\";\r\n        _this.dropdownContainerClass = \"eqv-dropdown-container\";\r\n        _this.dropdownButtonClass = \"eqv-drop-button\";\r\n        _this.dropdownContentClass = \"eqv-dropdown-content\";\r\n        _this.dropdownShowClass = \"eqv-dropdown-show\";\r\n        _this.queryListMenu = null;\r\n        _this.executeQueryButtonClickHandler = _this.executeQueryButtonClick.bind(_this);\r\n        _this.clearQueryButtonClickHandler = _this.clearQueryButtonClick.bind(_this);\r\n        _this.newQueryButtonClickHandler = _this.newQueryButtonClick.bind(_this);\r\n        _this.loadQueryButtonClickHandler = _this.loadQueryButtonClick.bind(_this);\r\n        _this.saveQueryButtonClickHandler = _this.saveQueryButtonClick.bind(_this);\r\n        _this.copyQueryButtonClickHandler = _this.copyQueryButtonClick.bind(_this);\r\n        _this.removeQueryButtonClickHandler = _this.removeQueryButtonClick.bind(_this);\r\n        _this.storageButtonClickHandler = _this.storageDropButtonClick.bind(_this);\r\n        _this.saveQueryToFileButtonClickHandler = _this.saveQueryToFileButtonClick.bind(_this);\r\n        _this.loadQueryFromFileButtonClickHandler = _this.loadQueryFromFileButtonClick.bind(_this);\r\n        var self = _this;\r\n        _this.exportButtonClickHandler = function (e) {\r\n            if (!this.classList.contains(self.disabledClass)) {\r\n                var format = this.getAttribute(\"data-format\");\r\n                self.getContext().exportResult({ format: format });\r\n            }\r\n        };\r\n        _this.queryChangedHandler = function (ev) {\r\n            var eventData = ev.data;\r\n            if (_this.resultOptions.clearResultOnQueryChange) {\r\n                _this.context.clearResult();\r\n                _this.context.refreshWidgets(WidgetGroup.Result);\r\n            }\r\n            _this.disableExportButtons();\r\n            if (_this.resultCountSlot) {\r\n                _this.resultCountSlot.style.display = \"none\";\r\n            }\r\n            if (_this.options.syncQueryOnChange) {\r\n                _this.syncQuery();\r\n            }\r\n            if (_this.options.executeQueryOnChange) {\r\n                if (!eventData || eventData.part != QueryChangePart.ExtraData) {\r\n                    _this.executeQuery();\r\n                }\r\n            }\r\n        };\r\n        _this.outsideClickHandler = function (event) {\r\n            var currentContent = null;\r\n            if (event.target.matches(\".\" + _this.dropdownButtonClass)) {\r\n                currentContent = event.target.parentElement.querySelector(\".\" + _this.dropdownContentClass);\r\n            }\r\n            else if (event.target.matches(\".\" + _this.dropdownButtonClass + \" > span\")) {\r\n                currentContent = event.target.parentElement.parentElement.querySelector(\".\" + _this.dropdownContentClass);\r\n            }\r\n            var dropdowns = _this.resolveElementsByClassName(_this.dropdownContentClass);\r\n            for (var i = 0; i < dropdowns.length; i++) {\r\n                var openDropdown = dropdowns[i];\r\n                if (currentContent != openDropdown) {\r\n                    if (openDropdown.classList.contains(_this.dropdownShowClass)) {\r\n                        openDropdown.classList.remove(_this.dropdownShowClass);\r\n                    }\r\n                }\r\n            }\r\n        };\r\n        return _this;\r\n    }\r\n    AdvancedSearchView.prototype.refreshQueryList = function () {\r\n        var _this = this;\r\n        if (this.queryListPanel) {\r\n            this.queryListPanel.innerHTML = '';\r\n            this.context.loadQueryList({\r\n                success: function (data) {\r\n                    var b = domel('ul', _this.queryListPanel)\r\n                        .addClass('list-group list-group-flush');\r\n                    data.map(function (item) {\r\n                        b.addChild('li', function (b) {\r\n                            b.addClass('list-group-item')\r\n                                .setStyle('cursor', 'pointer')\r\n                                .data('id', item.id)\r\n                                .text(item.name)\r\n                                .on('click', function () {\r\n                                _this.checkIfQueryModified(function () { return _this.loadQuery(item.id); });\r\n                            });\r\n                        });\r\n                    });\r\n                }\r\n            });\r\n        }\r\n    };\r\n    AdvancedSearchView.prototype.initOptions = function (options) {\r\n        this.options = _super.prototype.initOptions.call(this, options);\r\n        if (typeof (this.options.syncQueryOnChange) == 'undefined') {\r\n            this.options.syncQueryOnChange = true;\r\n        }\r\n        var query = this.context.getQuery();\r\n        query.addChangedCallback(this.queryChangedHandler);\r\n        // hide any dropdown menu when user clicks somewhere\r\n        window.addEventListener('click', this.outsideClickHandler);\r\n        return this.options;\r\n    };\r\n    AdvancedSearchView.prototype.initWidgets = function (options) {\r\n        var _this = this;\r\n        _super.prototype.initWidgets.call(this, options);\r\n        var exportClass = \"eqjs-export\";\r\n        var queryContentInputId = \"QueryContentJson\";\r\n        var clearQueryButtonId = \"ClearQueryButton\";\r\n        var newQueryButtonId = \"NewQueryButton\";\r\n        var loadQueryButtonId = \"LoadQueryButton\";\r\n        var saveQueryButtonId = \"SaveQueryButton\";\r\n        var copyQueryButtonId = \"CopyQueryButton\";\r\n        var removeQueryButtonId = \"RemoveQueryButton\";\r\n        var storageButtonId = \"StorageDropButton\";\r\n        var executeQueryButtonId = \"ExecuteQueryButton\";\r\n        var loadQueryFromFileButtonId = \"LoadQueryFromFileButton\";\r\n        var saveQueryToFileButtonId = \"SaveQueryToFileButton\";\r\n        var queryListPanelId = \"QueryListPanel\";\r\n        if (options.slots) {\r\n            queryContentInputId = options.slots.queryContentInput || queryContentInputId;\r\n            executeQueryButtonId = options.slots.executeQueryButton || executeQueryButtonId;\r\n            clearQueryButtonId = options.slots.clearQueryButton || clearQueryButtonId;\r\n            newQueryButtonId = options.slots.newQueryButton || newQueryButtonId;\r\n            loadQueryButtonId = options.slots.loadQueryButton || loadQueryButtonId;\r\n            saveQueryButtonId = options.slots.saveQueryButton || saveQueryButtonId;\r\n            copyQueryButtonId = options.slots.copyQueryButton || copyQueryButtonId;\r\n            removeQueryButtonId = options.slots.removeQueryButton || removeQueryButtonId;\r\n            storageButtonId = options.slots.storageButton || storageButtonId;\r\n            exportClass = options.slots.exportClass || exportClass;\r\n            loadQueryFromFileButtonId = options.slots.loadQueryFromFileButton || loadQueryFromFileButtonId;\r\n            saveQueryToFileButtonId = options.slots.saveQueryToFileButton || saveQueryToFileButtonId;\r\n            queryListPanelId = options.slots.queryListPanel || queryListPanelId;\r\n        }\r\n        this.exportButtons = this.domRoots.reduce(function (elems, root) {\r\n            return elems.concat(Array.from(root.querySelectorAll(\".\" + exportClass)));\r\n        }, []);\r\n        if (!options.enableExport) {\r\n            this.hideExportButtons();\r\n        }\r\n        this.disableExportButtons();\r\n        //Add event listener for export buttons\r\n        var self = this;\r\n        this.exportButtons.forEach(function (button) {\r\n            button.addEventListener('click', _this.exportButtonClickHandler);\r\n        });\r\n        if (!this.executeQueryButton) {\r\n            this.executeQueryButton = this.resolveElement(executeQueryButtonId);\r\n            if (this.executeQueryButton) {\r\n                this.executeQueryButton.addEventListener('click', this.executeQueryButtonClickHandler);\r\n            }\r\n        }\r\n        if (!this.clearQueryButton) {\r\n            this.clearQueryButton = this.resolveElement(clearQueryButtonId);\r\n            if (this.clearQueryButton) {\r\n                this.clearQueryButton.addEventListener('click', this.clearQueryButtonClickHandler);\r\n            }\r\n        }\r\n        if (!this.newQueryButton) {\r\n            this.newQueryButton = this.resolveElement(newQueryButtonId);\r\n            if (this.newQueryButton) {\r\n                this.newQueryButton.addEventListener('click', this.newQueryButtonClickHandler);\r\n            }\r\n        }\r\n        if (!this.loadQueryButton) {\r\n            this.loadQueryButton = this.resolveElement(loadQueryButtonId);\r\n            if (this.loadQueryButton) {\r\n                this.loadQueryButton.addEventListener('click', this.loadQueryButtonClickHandler);\r\n            }\r\n        }\r\n        if (!this.saveQueryButton) {\r\n            this.saveQueryButton = this.resolveElement(saveQueryButtonId);\r\n            if (this.saveQueryButton) {\r\n                this.saveQueryButton.addEventListener('click', this.saveQueryButtonClickHandler);\r\n            }\r\n        }\r\n        if (!this.copyQueryButton) {\r\n            this.copyQueryButton = this.resolveElement(copyQueryButtonId);\r\n            if (this.copyQueryButton) {\r\n                this.copyQueryButton.addEventListener('click', this.copyQueryButtonClickHandler);\r\n            }\r\n        }\r\n        if (!this.removeQueryButton) {\r\n            this.removeQueryButton = this.resolveElement(removeQueryButtonId);\r\n            if (this.removeQueryButton) {\r\n                this.removeQueryButton.addEventListener('click', this.removeQueryButtonClickHandler);\r\n            }\r\n        }\r\n        if (!this.storageDropButton) {\r\n            this.storageDropButton = this.resolveElement(storageButtonId);\r\n            if (this.storageDropButton) {\r\n                this.storageDropButton.addEventListener('click', this.storageButtonClickHandler);\r\n            }\r\n        }\r\n        if (!this.saveQueryToFileButton) {\r\n            this.saveQueryToFileButton = this.resolveElement(saveQueryToFileButtonId);\r\n            if (this.saveQueryToFileButton) {\r\n                this.saveQueryToFileButton.addEventListener('click', this.saveQueryToFileButtonClickHandler);\r\n            }\r\n        }\r\n        if (!this.queryListPanel) {\r\n            this.queryListPanel = this.resolveElement(queryListPanelId);\r\n            //For backward compatibility. Remove on the next update\r\n            if (!this.queryListPanel) {\r\n                this.queryListPanel = this.resolveElement('QueryListSlot');\r\n            }\r\n            if (this.queryListPanel) {\r\n                this.context.addEventListener('ready', function () {\r\n                    _this.refreshQueryList();\r\n                });\r\n            }\r\n        }\r\n        if (!this.loadQueryFromFileButton) {\r\n            this.loadQueryFromFileButton = this.resolveElement(loadQueryFromFileButtonId);\r\n            if (this.loadQueryFromFileButton) {\r\n                this.loadQueryFromFileInput = document.createElement('input');\r\n                this.loadQueryFromFileInput.type = 'file';\r\n                this.loadQueryFromFileInput.accept = options.queryFileExtensions;\r\n                this.loadQueryFromFileInput.style.display = 'none';\r\n                document.body.appendChild(this.loadQueryFromFileInput);\r\n                this.loadQueryFromFileInput.addEventListener('change', this.loadQueryFromFileInputSelect.bind(this));\r\n                this.loadQueryFromFileButton.addEventListener('click', this.loadQueryFromFileButtonClickHandler);\r\n            }\r\n        }\r\n    };\r\n    /**\r\n    * Sends current query to the backend.\r\n    */\r\n    AdvancedSearchView.prototype.syncQuery = function () {\r\n        var _this = this;\r\n        this.context.syncQuery({\r\n            success: function (responseData) {\r\n                if (responseData.statement) {\r\n                    _this.context.refreshWidgets(WidgetGroup.Statement);\r\n                }\r\n            }\r\n        });\r\n    };\r\n    /**\r\n    * Disables export buttons.\r\n    */\r\n    AdvancedSearchView.prototype.disableExportButtons = function () {\r\n        var _this = this;\r\n        this.exportButtons.forEach(function (button) {\r\n            button.disabled = true;\r\n            if (!button.classList.contains(_this.disabledClass)) {\r\n                button.classList.add(_this.disabledClass);\r\n            }\r\n        });\r\n    };\r\n    /**\r\n    * Enables export buttons.\r\n    */\r\n    AdvancedSearchView.prototype.enableExportButtons = function () {\r\n        var _this = this;\r\n        this.exportButtons.forEach(function (button) {\r\n            button.disabled = false;\r\n            if (button.classList.contains(_this.disabledClass)) {\r\n                button.classList.remove(_this.disabledClass);\r\n            }\r\n        });\r\n    };\r\n    /**\r\n    * Hides export buttons.\r\n    */\r\n    AdvancedSearchView.prototype.hideExportButtons = function () {\r\n        this.exportButtons.forEach(function (button) {\r\n            button.style.display = \"none\";\r\n        });\r\n    };\r\n    AdvancedSearchView.prototype.clearQueryButtonClick = function () {\r\n        this.context.clearQuery();\r\n        this.context.refreshWidgets(WidgetGroup.Statement);\r\n    };\r\n    AdvancedSearchView.prototype.createNewQuery = function (options) {\r\n        return this.context.newQuery(options);\r\n    };\r\n    AdvancedSearchView.prototype.loadQuery = function (queryId) {\r\n        if (!queryId)\r\n            return;\r\n        this.context.loadQuery({\r\n            queryId: queryId,\r\n            silent: false\r\n        });\r\n    };\r\n    AdvancedSearchView.prototype.saveQuery = function (callback) {\r\n        var _this = this;\r\n        this.context.saveQuery({\r\n            success: function () {\r\n                if (callback)\r\n                    callback();\r\n                _this.context.getQuery().fireChangedEvent({\r\n                    part: QueryChangePart.Properties,\r\n                    wasModified: false\r\n                });\r\n                _this.refreshQueryList();\r\n            },\r\n            error: function () {\r\n                alert('Error on query saving!');\r\n            }\r\n        });\r\n    };\r\n    AdvancedSearchView.prototype.saveCurrentQuery = function (copyQuery, callback) {\r\n        var _this = this;\r\n        if (copyQuery === void 0) { copyQuery = false; }\r\n        var query = this.context.getQuery();\r\n        if (query.isNewbie || copyQuery) {\r\n            this.showSaveQueryDialog(function (result) {\r\n                if (!result)\r\n                    return;\r\n                query.regenerateId();\r\n                query.setName(result);\r\n                query.fireChangedEvent({\r\n                    part: QueryChangePart.Properties,\r\n                    wasModified: true\r\n                });\r\n                _this.saveQuery(callback);\r\n            });\r\n        }\r\n        else {\r\n            this.saveQuery(callback);\r\n        }\r\n    };\r\n    AdvancedSearchView.prototype.checkIfQueryModified = function (callback) {\r\n        var _this = this;\r\n        if (this.context.getQuery().isModified()\r\n            && !this.options.disableConfirmationOnQueryChange) {\r\n            this.showQueryChangedDialog(function (result) {\r\n                if (result) {\r\n                    _this.saveCurrentQuery(false, callback);\r\n                }\r\n                else {\r\n                    callback();\r\n                }\r\n            });\r\n        }\r\n        else {\r\n            callback();\r\n        }\r\n    };\r\n    AdvancedSearchView.prototype.removeCurrentQuery = function () {\r\n        var _this = this;\r\n        this.context.removeQuery({\r\n            success: function () {\r\n                _this.createNewQuery({\r\n                    useStorage: false\r\n                });\r\n                if (_this.resultCountSlot) {\r\n                    _this.resultCountSlot.style.display = \"none\";\r\n                }\r\n                _this.context.clearResult();\r\n                _this.refreshQueryList();\r\n            }\r\n        });\r\n    };\r\n    // ------------------ Dialog wrappers ---------------------\r\n    AdvancedSearchView.prototype.showNewQueryDialog = function (callback) {\r\n        var dialogService = this.context.getServices().getDialogService();\r\n        dialogService.openPrompt(i18n.getText('NewQueryTitle'), i18n.getText('NewQueryContent'), i18n.getText('NewQueryDefName'), callback);\r\n    };\r\n    AdvancedSearchView.prototype.showQueryChangedDialog = function (callback) {\r\n        var dialogService = this.context.getServices().getDialogService();\r\n        dialogService.openConfirm(i18n.getText('QueryChangedTitle'), i18n.getText('QueryChangedContent'), callback);\r\n    };\r\n    AdvancedSearchView.prototype.showSaveQueryDialog = function (callback) {\r\n        var dialogService = this.context.getServices().getDialogService();\r\n        var query = this.context.getQuery();\r\n        var newQueryName = query.isNewbie\r\n            ? query.getName()\r\n            : i18n.getText('SaveQueryDefName').replace('{queryName}', query.getName());\r\n        dialogService.openPrompt(i18n.getText('SaveQueryTitle'), i18n.getText(\"SaveQueryContent\"), newQueryName, callback);\r\n    };\r\n    AdvancedSearchView.prototype.showRemoveQueryDialog = function (callback) {\r\n        var dialogService = this.context.getServices().getDialogService();\r\n        var query = this.context.getQuery();\r\n        dialogService.openConfirm(i18n.getText('RemoveQueryTitle'), i18n.getText('RemoveQueryContent').replace('{queryName}', query.getName()), callback);\r\n    };\r\n    AdvancedSearchView.prototype.showSaveQueryToFileDialog = function (callback) {\r\n        var ds = this.getContext().getServices().getDialogService();\r\n        var query = this.context.getQuery();\r\n        var body = this.renderSaveToFileDialogBody(query.getName());\r\n        ds.open({\r\n            title: i18n.getText('SaveQueryToFileDlgTitle'),\r\n            body: body,\r\n            onSubmit: function () {\r\n                var fileNameInput = body.querySelector('#kdlgFileNameInput');\r\n                var fileName = fileNameInput ? fileNameInput.value : \"Query\";\r\n                var formatSelector = body.querySelector('#kdlgFileFormatSelector');\r\n                var format = formatSelector ? formatSelector.value : 'json';\r\n                if (callback) {\r\n                    callback(fileName, format);\r\n                }\r\n                return true;\r\n            }\r\n        });\r\n    };\r\n    AdvancedSearchView.prototype.renderSaveToFileDialogBody = function (name, format) {\r\n        if (format === void 0) { format = \"json\"; }\r\n        var isIE = browserUtils.IsIE();\r\n        var fieldsClass = isIE\r\n            ? 'kfrm-fields-ie col-ie-1-4 label-align-right'\r\n            : 'kfrm-fields col-a-1 label-align-right';\r\n        var horizClass = isIE\r\n            ? 'kfrm-fields-ie is-horizontal'\r\n            : 'kfrm-fields is-horizontal';\r\n        return domel('div')\r\n            .addClass('kfrm-form')\r\n            .addChild('div', function (b) {\r\n            b.addClass(fieldsClass)\r\n                .addChild('label', function (b) { return b\r\n                .attr('for', 'file_name')\r\n                .addText(i18n.getText('FileNameLabel')); })\r\n                .addChild('div', function (b) { return b\r\n                .addClass(horizClass)\r\n                .addChild('input', function (b) { return b\r\n                .id('kdlgFileNameInput')\r\n                .name('file_name')\r\n                .type('text')\r\n                .attr('value', name); })\r\n                .addChild('label', function (b) { return b\r\n                .addText('.'); })\r\n                .addChild('div', function (b) { return b\r\n                .addClass('kfrm-select')\r\n                .addChild('select', function (b) { return b\r\n                .id('kdlgFileFormatSelector')\r\n                .addClass('kdlg-form-control')\r\n                .addOption({\r\n                value: 'xml',\r\n                selected: 'xml' === format\r\n            })\r\n                .addOption({\r\n                value: 'json',\r\n                selected: 'json' === format\r\n            }); }); }); });\r\n        })\r\n            .toDOM();\r\n    };\r\n    // ------------------ Query management buttons handler ---------------------\r\n    AdvancedSearchView.prototype.newQueryButtonClick = function () {\r\n        var _this = this;\r\n        this.checkIfQueryModified(function () {\r\n            _this.createNewQuery();\r\n        });\r\n    };\r\n    AdvancedSearchView.prototype.saveQueryToFileButtonClick = function () {\r\n        var _this = this;\r\n        this.showSaveQueryToFileDialog(function (fileName, format) {\r\n            _this.context.getQueryFile({\r\n                fileName: fileName,\r\n                format: format\r\n            });\r\n        });\r\n    };\r\n    AdvancedSearchView.prototype.loadQueryFromFileButtonClick = function () {\r\n        var _this = this;\r\n        this.checkIfQueryModified(function () {\r\n            _this.showLoadQueryFromFileDialog();\r\n        });\r\n    };\r\n    AdvancedSearchView.prototype.showLoadQueryFromFileDialog = function () {\r\n        this.loadQueryFromFileInput.click();\r\n    };\r\n    AdvancedSearchView.prototype.loadQueryFromFileInputSelect = function () {\r\n        var _this = this;\r\n        var files = this.loadQueryFromFileInput.files;\r\n        var file = files.item(0);\r\n        var data = new FormData();\r\n        data.append(file.name, file);\r\n        this.loadQueryFromFileInput.value = \"\";\r\n        this.context.uploadQueryFile({\r\n            data: data,\r\n            success: function () {\r\n                _this.syncQuery();\r\n                _this.refreshQueryList();\r\n            }\r\n        });\r\n    };\r\n    AdvancedSearchView.prototype.loadQueryButtonClick = function () {\r\n        var _this = this;\r\n        this.context.loadQueryList({\r\n            success: function (data) {\r\n                _this.fillLoadQueryButtonMenu(data);\r\n                _this.queryListMenu.showMenu({\r\n                    anchor: _this.loadQueryButton,\r\n                    adjustHeight: false,\r\n                    itemSelectedCallback: function (data) {\r\n                        _this.checkIfQueryModified(function () { return _this.loadQuery(data.id); });\r\n                    }\r\n                });\r\n            }\r\n        });\r\n    };\r\n    AdvancedSearchView.prototype.fillLoadQueryButtonMenu = function (queryList) {\r\n        var query = this.getContext().getQuery();\r\n        this.queryListMenu = new PopupMenu({\r\n            items: queryList.map(function (item) { return ({ id: item.id, text: item.name }); }),\r\n            selectedIds: query.getId()\r\n        });\r\n    };\r\n    AdvancedSearchView.prototype.saveQueryButtonClick = function () {\r\n        this.saveCurrentQuery();\r\n    };\r\n    AdvancedSearchView.prototype.copyQueryButtonClick = function () {\r\n        this.saveCurrentQuery(true);\r\n    };\r\n    AdvancedSearchView.prototype.removeQueryButtonClick = function () {\r\n        var _this = this;\r\n        this.showRemoveQueryDialog(function (result) {\r\n            if (result) {\r\n                _this.removeCurrentQuery();\r\n            }\r\n        });\r\n    };\r\n    AdvancedSearchView.prototype.storageDropButtonClick = function () {\r\n        var _this = this;\r\n        var container = this.storageDropButton.parentElement;\r\n        var content = container.querySelector(\".\" + this.dropdownContentClass);\r\n        if (content) {\r\n            window.setTimeout(function () { return content.classList.toggle(_this.dropdownShowClass); }, 100);\r\n        }\r\n    };\r\n    AdvancedSearchView.prototype.executeQueryButtonClick = function () {\r\n        this.executeQuery();\r\n    };\r\n    AdvancedSearchView.prototype.detach = function () {\r\n        var _this = this;\r\n        this.enableExportButtons();\r\n        this.exportButtons.forEach(function (button) {\r\n            button.removeEventListener('click', _this.exportButtonClickHandler);\r\n        });\r\n        this.exportButtons = [];\r\n        if (this.executeQueryButton) {\r\n            this.executeQueryButton.removeEventListener('click', this.executeQueryButtonClickHandler);\r\n            this.executeQueryButton = null;\r\n        }\r\n        if (this.clearQueryButton) {\r\n            this.clearQueryButton.removeEventListener('click', this.clearQueryButtonClickHandler);\r\n            this.clearQueryButton = null;\r\n        }\r\n        if (this.newQueryButton) {\r\n            this.newQueryButton.removeEventListener('click', this.newQueryButtonClickHandler);\r\n            this.newQueryButton = null;\r\n        }\r\n        if (this.loadQueryButton) {\r\n            this.loadQueryButton.removeEventListener('click', this.loadQueryButtonClickHandler);\r\n            this.loadQueryButton = null;\r\n        }\r\n        if (this.saveQueryButton) {\r\n            this.saveQueryButton.removeEventListener('click', this.saveQueryButtonClickHandler);\r\n            this.saveQueryButton = null;\r\n        }\r\n        if (this.copyQueryButton) {\r\n            this.copyQueryButton.removeEventListener('click', this.copyQueryButtonClickHandler);\r\n            this.copyQueryButton = null;\r\n        }\r\n        if (this.removeQueryButton) {\r\n            this.removeQueryButton.removeEventListener('click', this.removeQueryButtonClickHandler);\r\n            this.removeQueryButton = null;\r\n        }\r\n        if (this.storageDropButton) {\r\n            this.storageDropButton.removeEventListener('click', this.storageButtonClickHandler);\r\n            this.storageDropButton = null;\r\n        }\r\n        if (this.saveQueryToFileButton) {\r\n            this.saveQueryToFileButton.removeEventListener('click', this.saveQueryToFileButtonClickHandler);\r\n            this.saveQueryToFileButton = null;\r\n        }\r\n        if (this.queryListPanel) {\r\n            this.queryListPanel = null;\r\n        }\r\n        if (this.loadQueryFromFileButton) {\r\n            if (this.loadQueryFromFileInput) {\r\n                document.body.removeChild(this.loadQueryFromFileInput);\r\n            }\r\n            this.loadQueryFromFileButton.removeEventListener('click', this.loadQueryFromFileButtonClickHandler);\r\n            this.loadQueryFromFileButton = null;\r\n        }\r\n        _super.prototype.detach.call(this);\r\n    };\r\n    return AdvancedSearchView;\r\n}(View));\r\nexport { AdvancedSearchView };\r\n//left for backward compatibility\r\nvar AdvancedSearchViewJQuery = /** @class */ (function (_super) {\r\n    __extends(AdvancedSearchViewJQuery, _super);\r\n    function AdvancedSearchViewJQuery() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    return AdvancedSearchViewJQuery;\r\n}(AdvancedSearchView));\r\nexport { AdvancedSearchViewJQuery };\r\n//# sourceMappingURL=adv_search_view.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { QueryChangePart } from '@easyquery/core';\r\nimport { View } from './view';\r\n/**\r\n * The view that represents a data-filtering scenario (a text search for one entity/table)\r\n */\r\nvar DataFilterView = /** @class */ (function (_super) {\r\n    __extends(DataFilterView, _super);\r\n    function DataFilterView() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    DataFilterView.prototype.initOptions = function (options) {\r\n        var _this = this;\r\n        options = _super.prototype.initOptions.call(this, options);\r\n        var query = this.context.getQuery();\r\n        query.addChangedCallback(function () {\r\n            if (_this.resultOptions.clearResultOnQueryChange) {\r\n                _this.context.clearResult();\r\n            }\r\n            if (options.syncQueryOnChange) {\r\n                _this.context.syncQuery();\r\n            }\r\n        });\r\n        this.context.addEventListener('ready', this.executeQuery.bind(this));\r\n        return options;\r\n    };\r\n    DataFilterView.prototype.initWidgets = function (options) {\r\n        var _this = this;\r\n        _super.prototype.initWidgets.call(this, options);\r\n        if (this.sortingBarWidget) {\r\n            this.context.getQuery().addChangedCallback(function (ev) {\r\n                var edata = ev.data;\r\n                if (!edata || (edata.part != QueryChangePart.SortingColumns\r\n                    && edata.part != QueryChangePart.Columns && edata.part != QueryChangePart.All)) {\r\n                    return;\r\n                }\r\n                _this.executeQuery();\r\n            });\r\n        }\r\n        if (this.filterBarWidget) {\r\n            var widgetType = this.filterBarWidget.getWidgetType();\r\n            options.widgets[widgetType] = options.widgets[widgetType] = {};\r\n            if (!options.widgets[widgetType].applyFilterCallback) {\r\n                options.widgets[widgetType].applyFilterCallback = function () {\r\n                    _this.executeQuery();\r\n                };\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * Obsolete. Left for backward compatibility.\r\n     * Use executeQuery() instead\r\n     * @deprecated Use `executeQuery()`\r\n     */\r\n    DataFilterView.prototype.applyQueryFilter = function () {\r\n        console.warn('applyQueryFilter is obsolete. Use executeQuery instead');\r\n        this.executeQuery();\r\n    };\r\n    return DataFilterView;\r\n}(View));\r\nexport { DataFilterView };\r\n//left for backward compatibility\r\nvar DataFilterViewJQuery = /** @class */ (function (_super) {\r\n    __extends(DataFilterViewJQuery, _super);\r\n    function DataFilterViewJQuery() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    return DataFilterViewJQuery;\r\n}(DataFilterView));\r\nexport { DataFilterViewJQuery };\r\n//# sourceMappingURL=data_filter_view.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { EqHtmlGrid } from \"../widgets/eq_result_html_grid\";\r\nimport { DataFilterView } from \"./data_filter_view\";\r\n/**\r\n * The EasyQuery client-side view that represents the UI for data filtering page\r\n */\r\nvar HtmlDataFilterView = /** @class */ (function (_super) {\r\n    __extends(HtmlDataFilterView, _super);\r\n    function HtmlDataFilterView() {\r\n        return _super.call(this) || this;\r\n    }\r\n    /**\r\n    * Creates the widget that represents Grid Widget.\r\n    * @param slot The HTMLElement to place the created widget in.\r\n    * @returns the created Widget object.\r\n    */\r\n    HtmlDataFilterView.prototype.createResultGridWidget = function (element) {\r\n        return new EqHtmlGrid(element);\r\n    };\r\n    /**\r\n     * Obsolete. Left for backward compatibility.\r\n     * Use executeQuery() instead\r\n     */\r\n    HtmlDataFilterView.prototype.applyQueryFilter = function () {\r\n        console.warn('applyQueryFilter is obsolete. Use executeQuery instead');\r\n        this.executeQuery();\r\n    };\r\n    return HtmlDataFilterView;\r\n}(DataFilterView));\r\nexport { HtmlDataFilterView };\r\n//# sourceMappingURL=html_data_filter_view.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { WidgetGroup, QueryChangePart } from '@easyquery/core';\r\nimport { i18n, utils as dataUtils } from '@easydata/core';\r\nimport { browserUtils } from '../utils/browser_utils';\r\nimport { View } from './view';\r\n/**\r\n * The view that represents the \"ad-hoc reporting\" scenario\r\n */\r\nvar ReportView = /** @class */ (function (_super) {\r\n    __extends(ReportView, _super);\r\n    function ReportView() {\r\n        var _this = _super.call(this) || this;\r\n        _this.reports = [];\r\n        _this.reportCache = [];\r\n        _this.exportButtons = [];\r\n        _this.exportClass = \"eqjs-export\";\r\n        _this.disabledClass = \"eqjs-disabled\";\r\n        _this.enableExport = false;\r\n        _this.useReportCache = true;\r\n        var self = _this;\r\n        _this.exportButtonClickHandler = function (e) {\r\n            if (!this.classList.contains(self.disabledClass)) {\r\n                var format = this.getAttribute(\"data-format\");\r\n                self.getContext().exportResult({ format: format });\r\n            }\r\n        };\r\n        _this.clearReportButtonClickHandler = _this.clearReportButtonClick.bind(_this);\r\n        _this.newReportButtonClickHandler = _this.newReportButtonClick.bind(_this);\r\n        _this.loadReportButtonClickHandler = _this.loadReportButtonClick.bind(_this);\r\n        _this.saveReportButtonClickHandler = _this.saveReportButtonClick.bind(_this);\r\n        _this.removeReportButtonClickHandler = _this.removeReportButtonClick.bind(_this);\r\n        _this.updateReportButtonClickHandler = _this.updateReportButtonClick.bind(_this);\r\n        browserUtils.onMobileModeChanged(function (_) {\r\n            document.location.reload();\r\n        });\r\n        return _this;\r\n    }\r\n    ReportView.prototype.initOptions = function (options) {\r\n        var _this = this;\r\n        options = _super.prototype.initOptions.call(this, options);\r\n        if (typeof (options.syncReportOnChange) === \"undefined\") {\r\n            options.syncReportOnChange = true;\r\n        }\r\n        if (typeof (options.syncQueryOnChange) == \"undefined\") {\r\n            options.syncQueryOnChange = options.syncReportOnChange;\r\n        }\r\n        if (typeof (options.useReportCache) !== \"undefined\") {\r\n            this.useReportCache = options.useReportCache;\r\n        }\r\n        this.defaultReportId = options.defaultReportId;\r\n        var query = this.context.getQuery();\r\n        query.addChangedCallback(function (event) {\r\n            var eventData = event.data;\r\n            if (eventData) {\r\n                if (eventData.changeType == \"query.switched\") {\r\n                    _this.context.refreshWidgets(WidgetGroup.Query);\r\n                }\r\n                else {\r\n                    _this.disableExportButtons();\r\n                    if (_this.resultCountSlot) {\r\n                        _this.resultCountSlot.style.display = \"none\";\r\n                    }\r\n                }\r\n            }\r\n            if (options.syncQueryOnChange) {\r\n                var needSync = eventData && eventData.changeType != \"query.switched\" && !eventData.noSync;\r\n                if (needSync) {\r\n                    _this.syncReport();\r\n                }\r\n            }\r\n            //clear dataset result on query change\r\n            if (_this.resultOptions.clearResultOnQueryChange) {\r\n                if (!eventData\r\n                    || eventData.changeType == \"query.switched\"\r\n                    || eventData.part == QueryChangePart.ExtraData) {\r\n                    return;\r\n                }\r\n                _this.context.clearResult();\r\n                _this.context.refreshWidgets(WidgetGroup.Result);\r\n            }\r\n        });\r\n        return options;\r\n    };\r\n    ReportView.prototype.initDone = function () {\r\n        var _this = this;\r\n        _super.prototype.initDone.call(this);\r\n        window.setTimeout(function () {\r\n            _this.context.loadQueryList({\r\n                success: function (data) {\r\n                    if (Array.isArray(data)) {\r\n                        _this.reports = data;\r\n                        var exists = _this.reports.filter(function (r) { return r.id == _this.defaultReportId; }).length > 0;\r\n                        if (exists) {\r\n                            _this.renderReportList({ reportId: _this.defaultReportId });\r\n                        }\r\n                        else {\r\n                            _this.renderReportList();\r\n                        }\r\n                    }\r\n                }\r\n            });\r\n        }, 100);\r\n    };\r\n    ReportView.prototype.initWidgets = function (options) {\r\n        var _this = this;\r\n        _super.prototype.initWidgets.call(this, options);\r\n        var clearReportButton = \"ClearReportButton\";\r\n        var newReportButton = \"NewReportButton\";\r\n        var loadReportButton = \"LoadReportButton\";\r\n        var saveReportButton = \"SaveReportButton\";\r\n        var removeReportButton = \"RemoveReportButton\";\r\n        var updateReportButton = \"UpdateReportButton\";\r\n        var resultCountSpan = \"ResultCount\";\r\n        var exportButtons = \"ResultExportButtons\";\r\n        var exportClass = this.exportClass;\r\n        if (options.slots) {\r\n            resultCountSpan = options.slots.resultCountSpan || resultCountSpan;\r\n            exportButtons = options.slots.exportButtons || exportButtons;\r\n            clearReportButton = options.slots.clearReportButton || clearReportButton;\r\n            newReportButton = options.slots.newReportButton || newReportButton;\r\n            loadReportButton = options.slots.loadReportButton || loadReportButton;\r\n            saveReportButton = options.slots.saveReportButton || saveReportButton;\r\n            removeReportButton = options.slots.removeReportButton || removeReportButton;\r\n            updateReportButton = options.slots.updateReportButton || updateReportButton;\r\n            exportClass = options.slots.exportClass || exportClass;\r\n        }\r\n        this.exportButtons = this.domRoots.reduce(function (elems, root) {\r\n            return elems.concat(Array.from(root.querySelectorAll(\".\" + exportClass)));\r\n        }, []);\r\n        this.enableExport = options.enableExport;\r\n        if (this.enableExport) {\r\n            //Add event listener for export buttons\r\n            this.exportButtons.forEach(function (button) {\r\n                button.addEventListener('click', _this.exportButtonClickHandler);\r\n            });\r\n        }\r\n        else {\r\n            this.hideExportButtons();\r\n        }\r\n        this.exportButtonsContainer = this.resolveElement(exportButtons);\r\n        if (!this.clearReportButton) {\r\n            this.clearReportButton = this.resolveElement(clearReportButton);\r\n            if (this.clearReportButton) {\r\n                this.clearReportButton.addEventListener('click', this.clearReportButtonClickHandler);\r\n            }\r\n        }\r\n        if (!this.newReportButton) {\r\n            this.newReportButton = this.resolveElement(newReportButton);\r\n            if (this.newReportButton) {\r\n                this.newReportButton.addEventListener('click', this.newReportButtonClickHandler);\r\n            }\r\n        }\r\n        if (!this.loadReportButton) {\r\n            this.loadReportButton = this.resolveElement(loadReportButton);\r\n            if (this.loadReportButton) {\r\n                this.loadReportButton.addEventListener('click', this.loadReportButtonClickHandler);\r\n            }\r\n        }\r\n        if (!saveReportButton) {\r\n            this.saveReportButton = this.resolveElement(saveReportButton);\r\n            if (this.saveReportButton) {\r\n                this.saveReportButton.addEventListener('click', this.saveReportButtonClickHandler);\r\n            }\r\n        }\r\n        if (!this.removeReportButton) {\r\n            this.removeReportButton = this.resolveElement(removeReportButton);\r\n            if (this.removeReportButton) {\r\n                this.removeReportButton.addEventListener('click', this.removeReportButtonClickHandler);\r\n            }\r\n        }\r\n        if (!this.updateReportButton) {\r\n            this.updateReportButton = this.resolveElement(updateReportButton);\r\n            if (this.updateReportButton) {\r\n                this.updateReportButton.addEventListener('click', this.updateReportButtonClickHandler);\r\n            }\r\n        }\r\n        this.reportListSlot = document.getElementById('ReportList');\r\n        this.resultCountSlot = this.resolveElement(resultCountSpan);\r\n    };\r\n    /**\r\n    * Creates a new report.\r\n    */\r\n    ReportView.prototype.newReport = function () {\r\n        var _this = this;\r\n        var ds = this.context.getServices().getDialogService();\r\n        ds.openPrompt(i18n.getText('NewReportDlgTitle'), i18n.getText('SaveReportDlgLabel'), i18n.getText('NewReportDefName'))\r\n            .then(function (reportName) {\r\n            if (reportName) {\r\n                var query = _this.context.getQuery();\r\n                query.reset();\r\n                _this.context.newQuery({\r\n                    name: reportName,\r\n                    success: function () {\r\n                        var query = _this.context.getQuery();\r\n                        var reportId = query.getId();\r\n                        _this.insertIntoReportList({ id: reportId, name: query.getName() });\r\n                        _this.renderReportList({ reportId: reportId });\r\n                    }\r\n                });\r\n            }\r\n        });\r\n    };\r\n    /**\r\n    * Loads report by ID.\r\n    * @param reportId The ID of the report to load.\r\n    */\r\n    ReportView.prototype.loadReport = function (reportId) {\r\n        var _this = this;\r\n        if (!reportId) {\r\n            throw 'Empty report ID!';\r\n        }\r\n        var reportToLoad = this.findReportById(reportId);\r\n        if (!reportToLoad)\r\n            return;\r\n        var self = this;\r\n        var query = self.context.getQuery();\r\n        var reportLoaded = function () {\r\n            _this.renderReportProps();\r\n            query.fireChangedEvent({\r\n                part: QueryChangePart.All,\r\n                noSync: true,\r\n                changeType: 'query.switched'\r\n            });\r\n            _this.executeQuery();\r\n        };\r\n        var reportContent = this.useReportCache ? this.getReportContentFromCache(reportToLoad) : null;\r\n        if (reportContent) {\r\n            query.clear();\r\n            query.loadFromJson(reportContent);\r\n            reportLoaded();\r\n        }\r\n        else {\r\n            this.context.loadQuery({\r\n                queryId: reportId,\r\n                silent: true,\r\n                success: function () {\r\n                    _this.saveReportContentInCache(reportToLoad, query.toJSON());\r\n                    reportLoaded();\r\n                }\r\n            });\r\n        }\r\n        this.setActiveReport(reportId);\r\n    };\r\n    /**\r\n    * Shows the dialog to save the report with new name.\r\n    */\r\n    ReportView.prototype.saveCurrentReportAs = function () {\r\n        var _this = this;\r\n        var query = this.context.getQuery();\r\n        var ds = this.context.getServices().getDialogService();\r\n        ds.openPrompt(i18n.getText('SaveReportDlgTitle'), i18n.getText('SaveReportDlgLabel'), query.getName())\r\n            .then(function (newReportName) {\r\n            if (newReportName) {\r\n                //set new ID\r\n                query.setId(dataUtils.generateId(newReportName.replace(/\\s/g, '')));\r\n                _this.context.newQuery({\r\n                    clearQuery: false,\r\n                    name: newReportName,\r\n                    success: function () {\r\n                        _this.context.refreshWidgets(WidgetGroup.Query);\r\n                        var savedQuery = _this.context.getQuery();\r\n                        var reportId = savedQuery.getId();\r\n                        _this.executeQuery();\r\n                        _this.insertIntoReportList({ id: reportId, name: query.getName() });\r\n                        _this.renderReportList({ reportId: reportId });\r\n                        _this.setActiveReport(reportId);\r\n                        _this.renderReportProps();\r\n                    },\r\n                    error: _this.errorHandler.bind(_this)\r\n                });\r\n            }\r\n        });\r\n    };\r\n    /**\r\n    * Removes current report.\r\n    */\r\n    ReportView.prototype.removeCurrentReport = function () {\r\n        var _this = this;\r\n        var report = this.context.getQuery();\r\n        if (confirm(i18n.getText('RemoveReportContent').replace('{reportName}', report.getName()))) {\r\n            var reportId_1 = report.getId();\r\n            this.context.removeQuery({\r\n                queryId: reportId_1,\r\n                success: function () {\r\n                    var index = _this.removeFromReportList(reportId_1);\r\n                    _this.renderReportList({ reportIndex: index });\r\n                }\r\n            });\r\n        }\r\n    };\r\n    /**\r\n    * Sends current report's query to back-end.\r\n    */\r\n    ReportView.prototype.syncReport = function () {\r\n        var _this = this;\r\n        if (this.useReportCache) {\r\n            var query = this.context.getQuery();\r\n            var currentReport = this.findReportById(query.getId());\r\n            if (currentReport) {\r\n                currentReport.lastUpdated = Date.now();\r\n                this.saveReportContentInCache(currentReport, query.toJSON());\r\n            }\r\n        }\r\n        this.context.syncQuery({\r\n            success: function (responseData) {\r\n                if (responseData.query)\r\n                    _this.context.refreshWidgets(WidgetGroup.Query);\r\n                if (responseData.statement)\r\n                    _this.context.refreshWidgets(WidgetGroup.Statement);\r\n            }\r\n        });\r\n    };\r\n    /**\r\n    * Sets active report.\r\n    * @param reportId The ID of the report to make active.\r\n    */\r\n    ReportView.prototype.setActiveReport = function (reportId) {\r\n        var rlItems = this.reportListSlot.querySelectorAll('li');\r\n        for (var i = 0; i < rlItems.length; i++) {\r\n            var item = rlItems[i];\r\n            item.classList.remove('active');\r\n            var rid = item.getAttribute('data-rid');\r\n            if (rid === reportId) {\r\n                item.classList.add('active');\r\n            }\r\n        }\r\n        ;\r\n    };\r\n    /**\r\n    * Renders current report.\r\n    */\r\n    ReportView.prototype.renderReportProps = function () {\r\n        var query = this.context.getQuery();\r\n        var titleElem = document.getElementById('ReportTitle');\r\n        titleElem.innerHTML = query.getName();\r\n        var columnsPanel = document.querySelector('.columns-bar');\r\n        if (columnsPanel) {\r\n            columnsPanel.innerHTML = '<strong>Columns:</strong>';\r\n            var columns = query.getColumns();\r\n            for (var _i = 0, columns_1 = columns; _i < columns_1.length; _i++) {\r\n                var column = columns_1[_i];\r\n                columnsPanel.innerHTML += '<span class=\"label label-default\">' + column.caption + '</span> ';\r\n            }\r\n        }\r\n    };\r\n    /**\r\n    * Renders the list of reports.\r\n    * @param options The options. In particular, `options.reportIndex` defines which report should be active.\r\n    */\r\n    ReportView.prototype.renderReportList = function (options) {\r\n        this.renderReportPanels();\r\n        if (!this.reportListSlot.matches('li')) {\r\n            this.reportListSlot.innerHTML = \"\";\r\n            options = options || { reportId: (this.reports.length > 0 ? this.reports[0].id : null) };\r\n            var ul = document.createElement('ul');\r\n            ul.className = 'list-group list-group-flush';\r\n            this.reportListSlot.appendChild(ul);\r\n            for (var _i = 0, _a = this.reports; _i < _a.length; _i++) {\r\n                var report = _a[_i];\r\n                this.renderReportItemInList(report, ul);\r\n            }\r\n            if (options.reportId) {\r\n                this.loadReport(options.reportId);\r\n            }\r\n            if (typeof (options.reportIndex) !== \"undefined\") {\r\n                var idx = options.reportIndex;\r\n                if (idx >= this.reports.length)\r\n                    idx = this.reports.length - 1;\r\n                if (idx < 0 && this.reports.length > 0)\r\n                    idx = 0;\r\n                if (idx >= 0)\r\n                    this.loadReport(this.reports[idx].id);\r\n            }\r\n        }\r\n    };\r\n    ReportView.prototype.detach = function () {\r\n        var _this = this;\r\n        if (this.exportButtonsContainer) {\r\n            this.showExportButtons();\r\n            this.exportButtons.forEach(function (button) {\r\n                button.removeEventListener('click', _this.exportButtonClickHandler);\r\n            });\r\n            this.exportButtons = [];\r\n            this.exportButtonsContainer = null;\r\n        }\r\n        if (this.clearReportButton) {\r\n            this.clearReportButton.removeEventListener('click', this.clearReportButtonClickHandler);\r\n            this.clearReportButton = null;\r\n        }\r\n        if (this.newReportButton) {\r\n            this.newReportButton.removeEventListener('click', this.newReportButtonClickHandler);\r\n            this.newReportButton = null;\r\n        }\r\n        if (!this.loadReportButton) {\r\n            this.loadReportButton.removeEventListener('click', this.loadReportButtonClickHandler);\r\n            this.loadReportButton = null;\r\n        }\r\n        if (this.saveReportButton) {\r\n            this.saveReportButton.addEventListener('click', this.saveReportButtonClickHandler);\r\n            this.saveReportButton = null;\r\n        }\r\n        if (!this.removeReportButton) {\r\n            this.removeReportButton.removeEventListener('click', this.removeReportButtonClickHandler);\r\n            this.removeReportButton = null;\r\n        }\r\n        if (this.updateReportButton) {\r\n            this.updateReportButton.removeEventListener('click', this.updateReportButtonClickHandler);\r\n            this.removeReportButton = null;\r\n        }\r\n        if (this.reportListSlot) {\r\n            this.reportListSlot.innerHTML = '';\r\n            this.reportListSlot = null;\r\n        }\r\n        if (this.resultCountSlot) {\r\n            this.resultCountSlot.innerHTML = '';\r\n            this.resultCountSlot = null;\r\n        }\r\n        _super.prototype.detach.call(this);\r\n    };\r\n    /**\r\n    * Renders a single item in the list of reports.\r\n    * @param report The [[Report]] object to render.\r\n    * @param ul The [[HTMLUListElement]] to add the item to.\r\n    */\r\n    ReportView.prototype.renderReportItemInList = function (report, ul) {\r\n        if (!ul) {\r\n            ul = this.reportListSlot.querySelector(\"ul\");\r\n        }\r\n        var reportName = report.name || report.description || \"\";\r\n        var li = document.createElement('li');\r\n        li.className = \"list-group-item\";\r\n        li.style.cursor = 'pointer';\r\n        li.setAttribute('data-rid', report.id);\r\n        li.innerText = reportName;\r\n        var self = this;\r\n        li.addEventListener('click', function (e) {\r\n            var target = e.target;\r\n            var rid = target.getAttribute('data-rid');\r\n            self.loadReport(rid);\r\n            self.setActiveReport(rid);\r\n        });\r\n        ul.appendChild(li);\r\n    };\r\n    /**\r\n    * Renders report panels.\r\n    */\r\n    ReportView.prototype.renderReportPanels = function () {\r\n        var reportsContainer = document.getElementById(\"ReportsContainer\");\r\n        var noReportPanel = document.getElementById(\"NoReportPanel\");\r\n        if (this.reports.length > 0) {\r\n            this.hideElement(noReportPanel);\r\n            this.showElement(reportsContainer);\r\n        }\r\n        else {\r\n            this.hideElement(reportsContainer);\r\n            this.showElement(noReportPanel);\r\n        }\r\n    };\r\n    //TODO: Move these two functions to @easydata/ui\r\n    ReportView.prototype.hideElement = function (element) {\r\n        if (element) {\r\n            element.style.visibility = 'hidden';\r\n        }\r\n    };\r\n    ReportView.prototype.showElement = function (element) {\r\n        if (element) {\r\n            element.style.removeProperty('visibility');\r\n        }\r\n    };\r\n    /**\r\n    * Inserts the report to the list of reports.\r\n    * @param report The [[Report]] object to be inserted.\r\n    */\r\n    ReportView.prototype.insertIntoReportList = function (report) {\r\n        this.reports.push(report);\r\n    };\r\n    /**\r\n    * Removes the report from the list of reports.\r\n    * @param reportId The ID of the report to be removed.\r\n    * @returns the index of removed report.\r\n    */\r\n    ReportView.prototype.removeFromReportList = function (reportId) {\r\n        var index = this.indexOfReportById(reportId);\r\n        if (index >= 0)\r\n            this.reports.splice(index, 1);\r\n        return index;\r\n    };\r\n    ReportView.prototype.indexOfReportById = function (reportId) {\r\n        for (var i = 0; i < this.reports.length; i++) {\r\n            if (this.reports[i].id === reportId)\r\n                return i;\r\n        }\r\n        return -1;\r\n    };\r\n    /**\r\n    * The handler of the \"Clear\" button click.\r\n    */\r\n    ReportView.prototype.clearReportButtonClick = function () {\r\n        this.clearErrors();\r\n        this.context.clearQuery();\r\n    };\r\n    /**\r\n    * The handler of the \"Update\" button click.\r\n    */\r\n    ReportView.prototype.updateReportButtonClick = function () {\r\n        this.executeQuery();\r\n    };\r\n    /**\r\n    * The handler of the \"Save\" button click.\r\n    */\r\n    ReportView.prototype.saveReportButtonClick = function () {\r\n        this.saveCurrentReportAs();\r\n    };\r\n    /**\r\n    * The handler of the \"Load\" button click.\r\n    */\r\n    ReportView.prototype.loadReportButtonClick = function () {\r\n        this.loadReport(\"LastQuery\");\r\n    };\r\n    /**\r\n    * The handler of the \"Remove\" button click.\r\n    */\r\n    ReportView.prototype.removeReportButtonClick = function () {\r\n        this.removeCurrentReport();\r\n    };\r\n    /**\r\n    * The handler of the \"New\" button click.\r\n    */\r\n    ReportView.prototype.newReportButtonClick = function () {\r\n        this.newReport();\r\n    };\r\n    /**\r\n    * The handler of errors.\r\n    * @param error The error object.\r\n    */\r\n    ReportView.prototype.errorHandler = function (error) {\r\n    };\r\n    /**\r\n    * Clears the errors.\r\n    */\r\n    ReportView.prototype.clearErrors = function () {\r\n    };\r\n    /**\r\n    * Disables export buttons.\r\n    */\r\n    ReportView.prototype.disableExportButtons = function () {\r\n        this.hideExportButtons();\r\n    };\r\n    /**\r\n    * Enables export buttons.\r\n    */\r\n    ReportView.prototype.enableExportButtons = function () {\r\n        this.showExportButtons();\r\n    };\r\n    /**\r\n    * Hides export buttons.\r\n    */\r\n    ReportView.prototype.hideExportButtons = function () {\r\n        if (this.exportButtonsContainer) {\r\n            this.exportButtonsContainer.style.display = \"none\";\r\n        }\r\n    };\r\n    /**\r\n    * Shows export buttons.\r\n    */\r\n    ReportView.prototype.showExportButtons = function () {\r\n        if (this.exportButtonsContainer) {\r\n            this.exportButtonsContainer.style.display = \"initial\";\r\n        }\r\n    };\r\n    /**\r\n     * Saves reports content to the cache.\r\n     * @param report  The report.\r\n     * @param content The content (Query serialized into JSON).\r\n     */\r\n    ReportView.prototype.saveReportContentInCache = function (report, content) {\r\n        var item = this.findReportCacheItem(report.id);\r\n        if (!item) {\r\n            item = { id: report.id };\r\n            this.reportCache.push(item);\r\n        }\r\n        item.lastUpdated = report.lastUpdated;\r\n        item.content = content;\r\n    };\r\n    /**\r\n     * Gets the report content from cache.\r\n     * @param report The report.\r\n     * @returns Content of the report (Query in JSOn string)\r\n     */\r\n    ReportView.prototype.getReportContentFromCache = function (report) {\r\n        var item = this.findReportCacheItem(report.id);\r\n        if (item && item.lastUpdated === report.lastUpdated) {\r\n            return item.content;\r\n        }\r\n        return null;\r\n    };\r\n    ReportView.prototype.findReportById = function (id) {\r\n        for (var _i = 0, _a = this.reports; _i < _a.length; _i++) {\r\n            var item = _a[_i];\r\n            if (item.id === id) {\r\n                return item;\r\n            }\r\n        }\r\n        return null;\r\n    };\r\n    ReportView.prototype.findReportCacheItem = function (id) {\r\n        for (var _i = 0, _a = this.reportCache; _i < _a.length; _i++) {\r\n            var item = _a[_i];\r\n            if (item.id === id) {\r\n                return item;\r\n            }\r\n        }\r\n        return null;\r\n    };\r\n    return ReportView;\r\n}(View));\r\nexport { ReportView };\r\n//left for backward compatibility\r\nvar ReportViewJQuery = /** @class */ (function (_super) {\r\n    __extends(ReportViewJQuery, _super);\r\n    function ReportViewJQuery() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    return ReportViewJQuery;\r\n}(ReportView));\r\nexport { ReportViewJQuery };\r\n//# sourceMappingURL=report_view.js.map","import { i18n } from '@easydata/core';\r\nfunction addOldEasyQueryUIMapper() {\r\n    i18n.addMapper(function (info) {\r\n        if (!info && !info.texts)\r\n            return;\r\n        for (var prop in info.texts) {\r\n            switch (prop) {\r\n                case 'PredicateTitle':\r\n                    info.texts['ConditionGroupTitle'] = info.texts[prop];\r\n                    break;\r\n                case 'RootPredicateTitle':\r\n                    info.texts['RootConditionGroupTitle'] = info.texts[prop];\r\n                    break;\r\n                case 'ErrIncorrectPredicateTitleFormat':\r\n                    info.texts['ErrIncorrectGroupTitleFormat'] = info.texts[prop];\r\n                    break;\r\n                case 'ButtonAddPredicate':\r\n                    info.texts['ButtonAddGroup'] = info.texts[prop];\r\n                    break;\r\n                case 'ButtonDelete':\r\n                    info.texts['CmdDelete'] = info.texts[prop];\r\n                    break;\r\n                case 'ButtonClear':\r\n                    info.texts['CmdClear'] = info.texts[prop];\r\n                    break;\r\n                case 'ButtonEnable':\r\n                    info.texts['CmdToggleEnable'] = info.texts[prop];\r\n                    break;\r\n                case 'ButtonAddCondition':\r\n                    info.texts['CmdAddCondition'] = info.texts[prop];\r\n                    break;\r\n                case 'ButtonAddGroup':\r\n                    info.texts['CmdAddCondGroup'] = info.texts[prop];\r\n                    break;\r\n                default:\r\n                    //do nothing\r\n                    break;\r\n            }\r\n        }\r\n    });\r\n}\r\nfunction addEasyQueryUITexts() {\r\n    i18n.updateDefaultTexts({\r\n        AltMenuAttribute: 'Attribute',\r\n        AltMenuConstantExpression: 'Constant expression',\r\n        ButtonApply: 'Apply',\r\n        ButtonCancel: 'Cancel',\r\n        ButtonClose: 'Close',\r\n        ButtonNext: 'Next',\r\n        ButtonPrev: 'Prev',\r\n        ButtonNow: 'Now',\r\n        ButtonOK: 'OK',\r\n        MenuEnable: 'Enabled',\r\n        MenuParameterization: 'Parameterized',\r\n        MenuJoinCond: 'Use in JOIN',\r\n        CmdClear: 'Clear',\r\n        CmdDelete: 'Delete',\r\n        CmdToggleEnable: 'Toggle enable',\r\n        CmdAddCondition: 'Add condition',\r\n        CmdAddCondGroup: 'Add group of conditions',\r\n        ButtonSelectAll: 'Select all',\r\n        ButtonDeselectAll: 'Clear selection',\r\n        ButtonAddColumns: 'Add column(s)',\r\n        ButtonAddConditions: 'Add condition(s)',\r\n        CmdClickToAddCondition: '[Add new condition]',\r\n        CmdDeleteRow: 'Delete this row',\r\n        ErrIncorrectGroupTitleFormat: 'Incorrect condition group title format',\r\n        ErrNotNumber: ' is not a number',\r\n        ErrIncorrectInteger: 'Incorrect integer value',\r\n        ErrIncorrectNumberList: 'Incorrect list format',\r\n        False: 'False',\r\n        LinkTypeAll: 'all',\r\n        LinkTypeAny: 'any',\r\n        LinkTypeNone: 'none',\r\n        LinkTypeNotAll: 'not all',\r\n        ConjAll: 'and',\r\n        ConjAny: 'or',\r\n        ConjNotAll: 'and',\r\n        ConjNone: 'or',\r\n        MsgApplySelection: '[Apply selection]',\r\n        MsgAs: 'as',\r\n        MsgEmptyList: '(empty list)',\r\n        MsgEmptyListValue: '[select value]',\r\n        MsgEmptyScalarValue: '[enter value]',\r\n        MsgSubQueryValue: '[edit sub-query]',\r\n        MsgEmptyAttrValue: '[select attribute]',\r\n        MsgEmptyOperator: '[Unrecognized operator]',\r\n        MsgEmptyCustomSql: '[enter SQL expression]',\r\n        MsgCustomSql: '[Custom SQL]',\r\n        MsgNoResult: 'No result',\r\n        MsgResultCount: '{0} records found',\r\n        MsgOf: 'of',\r\n        ConditionGroupTitle: '{lt} of the following apply',\r\n        RootConditionGroupTitle: 'Select records where {lt} of the following apply',\r\n        StrAddConditions: 'Add conditions',\r\n        SubQueryDialogTitle: 'Edit sub-query',\r\n        SubQueryColumnTitle: 'Column:',\r\n        SubQueryEmptyColumn: '[select column]',\r\n        SubQueryQueryPanelCaption: 'Conditions',\r\n        True: 'True',\r\n        ButtonSorting: 'Sorting',\r\n        ButtonToAggr: 'Change to aggregate column',\r\n        ButtonToSimple: 'Change to simple column',\r\n        CmdAscending: 'Ascending',\r\n        CmdClickToAddColumn: '[Add new column]',\r\n        CmdDeleteColumn: 'Delete column',\r\n        CmdDeleteSorting: 'Delete sorting',\r\n        CmdDescending: 'Descending',\r\n        CmdGroupSort: 'Sorting',\r\n        CmdNotSorted: 'Not sorted',\r\n        ColTypeAggrFunc: 'Aggregate function',\r\n        ColTypeCompound: 'Calculated',\r\n        ColTypeGroup: 'Column type',\r\n        ColTypeSimple: 'Simple column',\r\n        HeaderExpression: 'Expression',\r\n        HeaderSorting: 'Sorting',\r\n        HeaderTitle: 'Title',\r\n        SortHeaderColumn: 'Column',\r\n        SortHeaderSorting: 'Sorting',\r\n        StrAddColumns: 'Add columns',\r\n        CustomExpression: 'Custom Expression',\r\n        CmdMoveToStart: 'Move to start',\r\n        CmdMoveRight: 'Move right',\r\n        CmdMoveLeft: 'Move left',\r\n        CmdMoveToEnd: 'Move to the end',\r\n        CmdMoveUp: 'Move up',\r\n        CmdMoveDown: 'Move down',\r\n        ButtonMenu: 'Show menu',\r\n        CmdToSimple: 'Not aggregated',\r\n        CmdMoveToFirst: 'Move to the first',\r\n        CmdMoveToPrev: 'Move to the previous',\r\n        CmdMoveToNext: 'Move to the next',\r\n        CmdMoveToLast: 'Move to the last',\r\n        CmdHiddenColumn: 'Hidden',\r\n        RowButtonTitle: 'Click to see the available options',\r\n        //FilterBar\r\n        StrNoFilterDefined: 'No filter defined',\r\n        StrNoFilterClickToAdd: 'No filter defined. Click to add a new condition',\r\n        //Time picker\r\n        HintHours: 'Hours',\r\n        HintMinutes: 'Minutes',\r\n        //advanced search view texts\r\n        RemoveQueryTitle: 'Confirmation',\r\n        RemoveQueryContent: 'Remove query [{queryName}]?',\r\n        NewQueryTitle: 'New query',\r\n        NewQueryContent: 'Enter new query name',\r\n        NewQueryDefName: 'New query',\r\n        SaveQueryTitle: 'Save query',\r\n        SaveQueryContent: 'Please, enter query name: ',\r\n        SaveQueryDefName: '{queryName} copy',\r\n        QueryChangedTitle: 'Confirmation',\r\n        QueryChangedContent: 'Query was changed. Do you want to save it first?',\r\n        UpdateQuerySelector: '[click here to load query]',\r\n        FileNameLabel: 'File name: ',\r\n        SaveQueryToFileDlgTitle: 'Save query to file',\r\n        //report view texts\r\n        NewReportDefName: 'New report',\r\n        NewReportDlgTitle: 'New report',\r\n        SaveReportDlgTitle: 'Save report',\r\n        SaveReportDlgLabel: 'Report name:',\r\n        RemoveReportContent: 'Remove report \\'{reportName}\\'?',\r\n        //facets\r\n        Facets: {\r\n            TotalRecordsLabel: 'Total records:',\r\n            AddMenuItems: {\r\n                Chart: 'Chart',\r\n                Pivot: 'Pivot table',\r\n                DataTable: 'Data table'\r\n            },\r\n            LoadDataDlgTitle: 'Downloading data',\r\n            LoadDataDlgContent: 'Records loaded: {loadedRecs}/{totalRecs}',\r\n            RefreshBtnTitle: 'Refresh',\r\n            ExportBtnTitle: 'Export',\r\n            RemoveFacetDlgTitle: 'Remove facet',\r\n            RemoveFacetDlgContent: \"Are you sure, that you want to delete {facetTitle} tab?\",\r\n            DefaultDlgTitle: 'Setup facet',\r\n            DefaultFacetTitle: '',\r\n            TabNameLabel: 'Tab name',\r\n            ErrQueryChanged: 'FAILED TO DISPLAY. QUERY WAS CHANGED',\r\n            ErrNotEnoughData: \"We can't display the graph because not all data for this query is loaded. \\n        The total number of records: {totalRecs}, currently loaded: {cachedRecs}. \\n        You can [download the result]. Please note: this may take some time and consume a lot of memory.\",\r\n            Chart: {\r\n                FacetTitle: 'Chart',\r\n                DlgTitle: 'Chart settings',\r\n                DataColumnSelectorLabel: 'Data column',\r\n                LabelColumnSelectorLabel: 'Label column',\r\n                ChartTypeSelectorLabel: 'Chart type'\r\n            },\r\n            Pivot: {\r\n                FacetTitle: 'Pivot table',\r\n                DlgTitle: 'Pivot settings',\r\n                ColumnFieldSelectorLabel: 'Column field',\r\n                RowFieldSelectorLabel: 'Row field',\r\n                CellDataSelectorLabel: 'Cell data',\r\n                TotalsRowLabel: 'Totals row',\r\n                TotalsColLabel: 'Totals col',\r\n                TotalGridLabel: 'Total'\r\n            },\r\n            DataTable: {\r\n                FacetTitle: 'Result table',\r\n                DlgTitle: 'Table facet settings',\r\n                TotalsLabel: 'Totals',\r\n                SubTotalsLabel: 'Sub totals',\r\n                GrandTotalsLabel: 'Grand totals'\r\n            }\r\n        },\r\n        //formats\r\n        ExportDlgTitle: 'Export result',\r\n        ExportDlgFmtLabel: 'Format',\r\n        'csv': 'CSV',\r\n        'excel-html': 'Excel'\r\n    });\r\n}\r\naddOldEasyQueryUIMapper();\r\naddEasyQueryUITexts();\r\n//# sourceMappingURL=text_resources.js.map","import { EqServiceProvider } from \"@easyquery/core\";\r\nEqServiceProvider.prototype.registerDialogServiceResolver = function (resolver) {\r\n    this['dialogServiceResolver'] = resolver;\r\n};\r\nEqServiceProvider.prototype.getDialogService = function () {\r\n    if (!this['dialogService']) {\r\n        if (!this['dialogServiceResolver']) {\r\n            throw 'DialogServiceResolver is not defined';\r\n        }\r\n        this['dialogService'] = this['dialogServiceResolver']();\r\n    }\r\n    return this['dialogService'];\r\n};\r\n//# sourceMappingURL=extensions.js.map","export * from './widgets/entities_panel';\r\nexport * from './widgets/columns_panel';\r\nexport * from './widgets/columns_bar';\r\nexport * from './widgets/sorting_bar';\r\nexport * from './widgets/query_panel';\r\nexport * from './widgets/filter_bar';\r\nexport * from './widgets/html_content_widget';\r\nexport * from './widgets/eq_result_html_grid';\r\nexport * from './widgets/grid';\r\nexport * from './widgets/easy_grid_widget';\r\nexport * from './widgets/statement_panel';\r\nexport * from './widgets/process_widget';\r\nexport * from './widgets/manage_drilldown_widget';\r\nexport * from './widgets/result_facets_panel';\r\nexport * from './widgets/export_widget';\r\nexport * from './widgets/charts/chart_type';\r\nexport * from './widgets/charts/chart_widget';\r\nexport * from './widgets/charts/chart_widget_google';\r\nexport * from './widgets/charts/chart_widget_chartjs';\r\nexport * from './widgets/renderers/base_element_renderer';\r\nexport * from './widgets/renderers/dropdown_renderer';\r\nexport * from './widgets/renderers/columnsbar/aggrfunc_column_renderer';\r\nexport * from './widgets/renderers/columnsbar/simple_column_renderer';\r\nexport * from './widgets/renderers/columnsbar/column_renderer';\r\nexport * from './widgets/renderers/columnspanel/aggrfunc_column_renderer';\r\nexport * from './widgets/renderers/columnspanel/simple_column_renderer';\r\nexport * from './widgets/renderers/columnspanel/column_renderer';\r\nexport * from './widgets/renderers/columnspanel/customsql_column_renderer';\r\nexport * from './widgets/renderers/querypanel/input_expression_renderer';\r\nexport * from './widgets/renderers/querypanel/datetime_expression_render';\r\nexport * from './widgets/renderers/querypanel/condition_renderer';\r\nexport * from './widgets/renderers/querypanel/condition_group_renderer';\r\nexport * from './widgets/renderers/querypanel/attribute_expression_renderer';\r\nexport * from './widgets/renderers/querypanel/expression_renderer';\r\nexport * from './widgets/renderers/querypanel/operator_renderer';\r\nexport * from './widgets/renderers/querypanel/subquery_expression_renderer';\r\nexport * from './widgets/renderers/querypanel/list_expression_renderer';\r\nexport * from './widgets/renderers/querypanel/text_renderer';\r\nexport * from './widgets/renderers/querypanel/addrow_renderer';\r\nexport * from './facets/result_facet_tab';\r\nexport * from './facets/datatable_facet_tab';\r\nexport * from './facets/chart_facet_tab';\r\nexport * from './facets/pivot_table_facet_tab';\r\nexport * from './views/view';\r\nexport * from './views/adv_search_view';\r\nexport * from './views/data_filter_view';\r\nexport * from './views/html_data_filter_view';\r\nexport * from './views/report_view';\r\nexport * from './utils/dropdown';\r\nexport * from './utils/popup_menu';\r\nexport * from './types/qp_editable_part';\r\nexport * from './types/facet_type';\r\nimport './i18n/text_resources';\r\nimport './extensions';\r\nif (!Element.prototype.matches) {\r\n    Element.prototype.matches =\r\n        Element.prototype.msMatchesSelector\r\n            || Element.prototype.webkitMatchesSelector;\r\n}\r\n// support NodeList forEach in IE11\r\nif (window['NodeList'] && !window['NodeList'].prototype.forEach) {\r\n    window['NodeList'].prototype.forEach = Array.prototype.forEach;\r\n}\r\n//# sourceMappingURL=public_api.js.map","var majVer = 7;\r\nvar minVer = 0;\r\nvar magic = 45;\r\nMath.trunc = Math.trunc || function (x) {\r\n    if (isNaN(x)) {\r\n        return NaN;\r\n    }\r\n    if (x > 0) {\r\n        return Math.floor(x);\r\n    }\r\n    return Math.ceil(x);\r\n};\r\nexport var lcv = {\r\n    __kt: 0,\r\n    ck: function (key) {\r\n        if (!key)\r\n            return;\r\n        try {\r\n            var part1 = key.slice(0, key.length - 8);\r\n            var infoBytes = _bs(part1);\r\n            var part2 = key.slice(key.length - 8);\r\n            var ed = f36(magic);\r\n            if (part2[0] !== ed[0] || part2[2] !== ed[1])\r\n                return;\r\n            var idx = minVer % 4;\r\n            var shift = majVer + minVer;\r\n            if (part2[4 + idx] != encChar(shift, 19)) {\r\n                return;\r\n            }\r\n            if (part2[1] != encChar(infoBytes[3])) {\r\n                return;\r\n            }\r\n            lcv.__kt = part2[3] != encChar(infoBytes[5]) ? 1 : 2;\r\n        }\r\n        catch (error) {\r\n        }\r\n    }\r\n};\r\nfunction encChar(x, b) {\r\n    if (b === void 0) { b = 20; }\r\n    return String.fromCharCode(65 + x % b);\r\n}\r\nfunction _bs(str) {\r\n    var binary_string = urlatob(str);\r\n    var len = binary_string.length;\r\n    var bytes = new Uint8Array(len);\r\n    for (var i = 0; i < len; i++) {\r\n        bytes[i] = binary_string.charCodeAt(i);\r\n    }\r\n    return bytes;\r\n}\r\nfunction urlatob(str) {\r\n    var s = str;\r\n    s = s.replace(/-/g, '+');\r\n    s = s.replace(/_/g, '/');\r\n    switch (s.length % 4) {\r\n        case 0:\r\n            break;\r\n        case 2:\r\n            s += \"==\";\r\n            break;\r\n        case 3:\r\n            s += \"=\";\r\n            break;\r\n    }\r\n    return window.atob(s);\r\n}\r\nfunction f36(val) {\r\n    var str = \"ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789\";\r\n    var tb = 36;\r\n    var i = 1;\r\n    var result = \"AA\";\r\n    var rest = val;\r\n    do {\r\n        result = setCharAt(result, i--, str[rest % tb]);\r\n        rest = Math.trunc(rest / tb);\r\n    } while (rest > 0);\r\n    return result;\r\n}\r\nfunction setCharAt(str, index, chr) {\r\n    if (index > str.length - 1)\r\n        return str;\r\n    return str.substr(0, index) + chr + str.substr(index + 1);\r\n}\r\n//# sourceMappingURL=lcv.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { Condition, CondTag } from \"@easyquery/core\";\r\nimport { lcv } from '../utils/lcv';\r\nvar ConditionEx = /** @class */ (function (_super) {\r\n    __extends(ConditionEx, _super);\r\n    function ConditionEx() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        _this.readOnly = false;\r\n        _this.parameterized = false;\r\n        _this.inJoin = false;\r\n        return _this;\r\n    }\r\n    ConditionEx.prototype.isReadOnly = function () {\r\n        return this.readOnly || (this.getParent() && this.getParent().isReadOnly());\r\n    };\r\n    ConditionEx.prototype.setReadOnly = function (value) {\r\n        this.readOnly = value || (this.getParent() && this.getParent().isReadOnly());\r\n        this.conditions && this.conditions.forEach(function (cond) {\r\n            cond.setReadOnly(value);\r\n        });\r\n    };\r\n    ConditionEx.prototype.isParameterized = function () {\r\n        return this.parameterized;\r\n    };\r\n    ConditionEx.prototype.setParameterized = function (value) {\r\n        this.parameterized = value;\r\n    };\r\n    ConditionEx.prototype.isInJoin = function () {\r\n        return this.inJoin;\r\n    };\r\n    ConditionEx.prototype.setInJoin = function (value) {\r\n        this.inJoin = value;\r\n    };\r\n    ConditionEx.prototype.loadFromData = function (model, data) {\r\n        _super.prototype.loadFromData.call(this, model, data);\r\n        if (!lcv.__kt)\r\n            return;\r\n        if (typeof data.readOnly !== 'undefined') {\r\n            this.setReadOnly(data.readOnly);\r\n        }\r\n        if (typeof data.inJoin !== 'undefined') {\r\n            this.setInJoin(data.inJoin);\r\n        }\r\n        if (typeof data.parameterized !== 'undefined') {\r\n            this.setParameterized(data.parameterized);\r\n        }\r\n        //if condition group\r\n        //this.linkType = data.linking;\r\n        if (data.conds) {\r\n            for (var i = 0; i < data.conds.length; i++) {\r\n                var newCond = this.query.createCondition();\r\n                newCond.loadFromData(model, data.conds[i]);\r\n                this.conditions.push(newCond);\r\n                newCond.setParent(this);\r\n            }\r\n        }\r\n    };\r\n    ConditionEx.prototype.saveToData = function () {\r\n        var obj = _super.prototype.saveToData.call(this);\r\n        if (!lcv.__kt)\r\n            return obj;\r\n        if (lcv.__kt !== 0)\r\n            if (this.isReadOnly()) {\r\n                obj.readOnly = this.isReadOnly();\r\n            }\r\n        if (this.isParameterized()) {\r\n            obj.parameterized = this.isParameterized();\r\n        }\r\n        if (this.isInJoin()) {\r\n            obj.inJoin = this.isInJoin();\r\n        }\r\n        if (this.tag == CondTag.Group) {\r\n            //if condition group\r\n            //obj.linking = this.linkType;\r\n            obj.conds = [];\r\n            for (var i = 0; i < this.conditions.length; i++) {\r\n                obj.conds.push(this.conditions[i].saveToData());\r\n            }\r\n        }\r\n        return obj;\r\n    };\r\n    return ConditionEx;\r\n}(Condition));\r\nexport { ConditionEx };\r\n//# sourceMappingURL=condition_ex.js.map","import { EqContext } from '@easyquery/core';\r\nimport { QueryEx } from './query/query_ex';\r\nimport { EqServerQueryStorage } from './main/eqs_query_storage';\r\nimport { DataModelEx } from './dm/model_ex';\r\nimport { lcv } from './utils/lcv';\r\nimport { EqTotalsCalculator } from './data/eqs_totals_calculator';\r\nvar licenseKeyEndpoint = '/.easyquery/lck';\r\nEqContext.prototype.setLicenseKeyEndpoint = function (endpoint) {\r\n    licenseKeyEndpoint = endpoint;\r\n};\r\nEqContext.prototype.useEnterprise = function (keyOrInitCallback) {\r\n    var _this = this;\r\n    var func = function (key) {\r\n        lcv.ck(key);\r\n        if (lcv.__kt) {\r\n            var services = _this.getServices();\r\n            services.registerDataModelResolver(function (context) { return new DataModelEx(); });\r\n            services.registerQueryResolver(function (context) { return new QueryEx(context.getModel()); });\r\n            services.registerQueryStorageResolver(function (context) { return new EqServerQueryStorage(context); });\r\n            services.registerTotalCalculator(function (context) { return new EqTotalsCalculator(context); });\r\n            if (lcv.__kt === 1) {\r\n                console.warn('EasyQuery.JS is working in TRIAL MODE! Please order a license to get a proper product key (https://korzh.com/eq).');\r\n                createTrialWM();\r\n                setTimeout(function () {\r\n                    showTrialWM();\r\n                    setTimeout(hideTrialWM, 6000);\r\n                }, 3000);\r\n            }\r\n        }\r\n        else {\r\n            console.error(\"INVALID KEY! EasyQuery.JS is working in Community edition mode! Please contact the vendor (https://korzh.com/support) to resolve this issue\");\r\n        }\r\n    };\r\n    if (typeof (keyOrInitCallback) === \"string\") {\r\n        func(keyOrInitCallback);\r\n    }\r\n    else if (typeof (keyOrInitCallback) === \"function\") {\r\n        var http = this.getServices().getHttpClient();\r\n        var url = licenseKeyEndpoint;\r\n        http.get(url)\r\n            .then(function (result) { func(result.split(\"\").reverse().join(\"\")); keyOrInitCallback(); })\r\n            .catch(function (error) { return console.error(error); });\r\n    }\r\n    else {\r\n        throw new Error(\"Wrong type of 'keyOrInitCallback' parameter. It must be a string with a license key or a callback function.\");\r\n    }\r\n};\r\nvar trialDiv;\r\nfunction createTrialWM() {\r\n    trialDiv = document.createElement(\"div\");\r\n    trialDiv.style.position = \"fixed\";\r\n    trialDiv.style.bottom = \"0\";\r\n    trialDiv.style.right = \"-400px\";\r\n    trialDiv.style.width = \"400px\";\r\n    trialDiv.style.height = \"100px\";\r\n    trialDiv.style.color = \"grey\";\r\n    trialDiv.style.textAlign = \"center\";\r\n    trialDiv.style.opacity = \"0.7\";\r\n    trialDiv.style.font = \"bold 1em Trebuchet MS, Tahoma, Verdana, Geneva, Arial, Helvetica, sans-serif\";\r\n    trialDiv.style.transition = \"right 3s ease-out\";\r\n    var header = document.createElement(\"div\");\r\n    var eq = document.createElement(\"span\");\r\n    eq.innerText = \"EasyQuery\";\r\n    eq.style.color = \"#3A94D4\";\r\n    eq.style.lineHeight = \"50px\";\r\n    header.appendChild(eq);\r\n    var korzh = document.createElement(\"span\");\r\n    korzh.innerText = \"by Korzh.com\";\r\n    korzh.style.marginLeft = \"10px\";\r\n    header.appendChild(korzh);\r\n    trialDiv.appendChild(header);\r\n    var trialOnly = document.createElement(\"div\");\r\n    trialOnly.innerText = \"FOR TRIAL USE ONLY\";\r\n    trialOnly.style.fontSize = \"1.2em\";\r\n    trialOnly.style.fontWeight = \"1000\";\r\n    trialDiv.appendChild(trialOnly);\r\n    document.body.appendChild(trialDiv);\r\n}\r\nfunction showTrialWM() {\r\n    if (trialDiv) {\r\n        trialDiv.style.right = \"0\";\r\n    }\r\n}\r\nfunction hideTrialWM() {\r\n    if (trialDiv) {\r\n        trialDiv.style.right = \"-400px\";\r\n        setTimeout(function () {\r\n            trialDiv.parentNode.removeChild(trialDiv);\r\n        }, 5000);\r\n    }\r\n}\r\n//# sourceMappingURL=extensions.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { Column } from \"@easyquery/core\";\r\nimport { lcv } from '../utils/lcv';\r\nvar ColumnEx = /** @class */ (function (_super) {\r\n    __extends(ColumnEx, _super);\r\n    function ColumnEx() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        _this.readOnly = false;\r\n        return _this;\r\n    }\r\n    ColumnEx.prototype.isReadOnly = function () {\r\n        return this.readOnly;\r\n    };\r\n    ColumnEx.prototype.setReadOnly = function (value) {\r\n        this.readOnly = value;\r\n    };\r\n    /**\r\n     * Loads column from its JSON representation object.\r\n     * @param model The Data Model.\r\n     * @param colData The JSON representation object.\r\n     */\r\n    ColumnEx.prototype.loadFromData = function (model, colData) {\r\n        _super.prototype.loadFromData.call(this, model, colData);\r\n        if (!lcv.__kt)\r\n            return;\r\n        if (colData) {\r\n            if (typeof colData.readOnly != 'undefined') {\r\n                this.readOnly = colData.readOnly;\r\n            }\r\n        }\r\n    };\r\n    ColumnEx.prototype.saveToData = function () {\r\n        var colData = _super.prototype.saveToData.call(this);\r\n        if (!lcv.__kt)\r\n            return colData;\r\n        if (this.isReadOnly()) {\r\n            colData.readOnly = this.isReadOnly();\r\n        }\r\n        return colData;\r\n    };\r\n    return ColumnEx;\r\n}(Column));\r\nexport { ColumnEx };\r\n//# sourceMappingURL=column_ex.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { Query, CondTag, LinkType } from '@easyquery/core';\r\nimport { ConditionEx } from './condition_ex';\r\nimport { ColumnEx } from './column_ex';\r\nimport { lcv } from '../utils/lcv';\r\nvar QueryEx = /** @class */ (function (_super) {\r\n    __extends(QueryEx, _super);\r\n    function QueryEx(model) {\r\n        return _super.call(this, model) || this;\r\n    }\r\n    QueryEx.prototype.isEx = function () {\r\n        return lcv.__kt !== 0;\r\n    };\r\n    QueryEx.prototype.createCondition = function (tag) {\r\n        if (tag === void 0) { tag = CondTag.Simple; }\r\n        if (!lcv.__kt)\r\n            return _super.prototype.createCondition.call(this, tag);\r\n        return new ConditionEx(this, tag);\r\n    };\r\n    QueryEx.prototype.createColumn = function (justsorted) {\r\n        if (justsorted === void 0) { justsorted = false; }\r\n        if (!lcv.__kt)\r\n            return _super.prototype.createColumn.call(this, justsorted);\r\n        return new ColumnEx(this, justsorted);\r\n    };\r\n    /**\r\n     * Adds a condition group - a group of simple conditions (predicates) linked by AND or OR\r\n     * @param descriptor The descriptor of the new condition group.\r\n     * @returns The new search condition.\r\n     */\r\n    QueryEx.prototype.addConditionGroup = function (descriptor, addChildCondition) {\r\n        if (addChildCondition === void 0) { addChildCondition = true; }\r\n        if (!lcv.__kt)\r\n            return _super.prototype.addConditionGroup.call(this, descriptor, addChildCondition);\r\n        var parent = descriptor.parent || this.getRootCondition();\r\n        var lType = descriptor.linking || (parent.linkType === LinkType.All ? LinkType.Any : LinkType.All);\r\n        var group = this.createCondition(CondTag.Group);\r\n        group.linkType = lType;\r\n        if (addChildCondition) {\r\n            var model = this.getModel();\r\n            var attr = model.getFirstUICAttr();\r\n            var op = model.getDefaultOperatorForAttr(attr);\r\n            var cond = this.createSimpleConditionObject(attr, op, \"\");\r\n            group.addCondition(cond);\r\n        }\r\n        parent.addCondition(group);\r\n        return group;\r\n    };\r\n    QueryEx.prototype.addExtraConditionGroup = function (descriptor, addChildCondition) {\r\n        if (addChildCondition === void 0) { addChildCondition = true; }\r\n        descriptor.parent = descriptor.parent || this.extraConditions;\r\n        if (!lcv.__kt)\r\n            return _super.prototype.addExtraConditionGroup.call(this, descriptor, addChildCondition);\r\n        return this.addConditionGroup(descriptor);\r\n    };\r\n    return QueryEx;\r\n}(Query));\r\nexport { QueryEx };\r\n//# sourceMappingURL=query_ex.js.map","var EqServerQueryStorage = /** @class */ (function () {\r\n    function EqServerQueryStorage(context) {\r\n        this.context = context;\r\n    }\r\n    EqServerQueryStorage.prototype.init = function () {\r\n    };\r\n    EqServerQueryStorage.prototype.newQuery = function (options) {\r\n        options = options || {};\r\n        var query = options.query || this.context.getQuery();\r\n        var model = this.context.getModel();\r\n        var modelId = options.modelId || (model ? model.getId() : \"\");\r\n        var requestData = {\r\n            'query': query.toJSONData()\r\n        };\r\n        if (options.data) {\r\n            requestData['data'] = options.data;\r\n        }\r\n        var url = this.context.resolveEndpoint('NewQuery', { modelId: modelId });\r\n        var http = this.context.getServices().getHttpClient();\r\n        return http.post(url, requestData)\r\n            .then(function (responseData) {\r\n            return responseData.query;\r\n        });\r\n    };\r\n    EqServerQueryStorage.prototype.getQueryList = function (options) {\r\n        options = options || {};\r\n        var modelId = options.modelId || this.context.getModel().getId();\r\n        var url = this.context.resolveEndpoint('GetQueryList', { modelId: modelId });\r\n        var http = this.context.getServices().getHttpClient();\r\n        return http.get(url)\r\n            .then(function (responseData) {\r\n            if (!responseData.queries) {\r\n                return Promise.reject({\r\n                    message: 'Wrong response format'\r\n                });\r\n            }\r\n            return responseData.queries;\r\n        });\r\n    };\r\n    EqServerQueryStorage.prototype.loadQuery = function (options) {\r\n        options = options || {};\r\n        var model = this.context.getModel();\r\n        var query = this.context.getQuery();\r\n        var modelId = options.modelId || model.getId();\r\n        var queryId = options.queryId || query.getId();\r\n        var url = this.context.resolveEndpoint('GetQuery', { modelId: modelId, queryId: queryId });\r\n        var http = this.context.getServices().getHttpClient();\r\n        return http.get(url)\r\n            .then(function (responseData) {\r\n            return responseData.query;\r\n        });\r\n    };\r\n    EqServerQueryStorage.prototype.saveQuery = function (options) {\r\n        options = options || {};\r\n        var query = options.query || this.context.getQuery();\r\n        var queryId = options.queryId || query.getId();\r\n        if (options.queryId) {\r\n            query.setId(options.queryId);\r\n        }\r\n        var modelId = options.modelId || query.getModel().getId();\r\n        var queryName = options.name || query.getName();\r\n        if (options.queryId) {\r\n            query.setId(options.queryId);\r\n        }\r\n        var requestData = {\r\n            'query': query.toJSONData(),\r\n            'name': queryName\r\n        };\r\n        if (options.data) {\r\n            requestData['data'] = options.data;\r\n        }\r\n        var url = this.context.resolveEndpoint('SaveQuery', { modelId: modelId, queryId: queryId });\r\n        var http = this.context.getServices().getHttpClient();\r\n        return http.put(url, requestData)\r\n            .then(function (responseData) {\r\n            return responseData.query;\r\n        });\r\n    };\r\n    EqServerQueryStorage.prototype.removeQuery = function (options) {\r\n        options = options || {};\r\n        var context = this.context;\r\n        var query = context.getQuery();\r\n        var modelId = options.modelId || query.getModel().getId();\r\n        var queryId = options.queryId || query.getId();\r\n        var requestData = {\r\n            'modelId': modelId,\r\n            'queryId': queryId\r\n        };\r\n        if (options.data) {\r\n            requestData['data'] = options.data;\r\n        }\r\n        var url = this.context.resolveEndpoint('RemoveQuery', { modelId: modelId, queryId: queryId });\r\n        var http = this.context.getServices().getHttpClient();\r\n        return http.delete(url, requestData).getPromise();\r\n    };\r\n    return EqServerQueryStorage;\r\n}());\r\nexport { EqServerQueryStorage };\r\n//# sourceMappingURL=eqs_query_storage.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { DataModel, Tree } from \"@easyquery/core\";\r\nimport { QueryEx } from \"../query/query_ex\";\r\nimport { lcv } from \"../utils/lcv\";\r\nvar DataModelEx = /** @class */ (function (_super) {\r\n    __extends(DataModelEx, _super);\r\n    function DataModelEx() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    DataModelEx.prototype.buildQueryPath = function (query) {\r\n        if (!lcv.__kt)\r\n            return _super.prototype.buildQueryPath.call(this, query);\r\n        if (this.mainEntity)\r\n            return _super.prototype.buildQueryPath.call(this, query);\r\n        var entities = this.getEntitiesInQuery(query);\r\n        if (entities.length == 0) {\r\n            throw Error(\"Cannon build path. Path is empty\");\r\n        }\r\n        var tree = new Tree(entities[0]);\r\n        for (var i = 1; i < entities.length; i++) {\r\n            var entity = entities[i];\r\n            if (tree.contains(entity)) {\r\n                continue;\r\n            }\r\n            var path = this.findPath(tree.value, entity);\r\n            if (path != null) {\r\n                //Add path to tree\r\n                tree = this.addPathToTree(tree, (path[0] === tree.value) ? path.slice(1) : path);\r\n            }\r\n            else {\r\n                throw Error(\"Unable to build query. Cannot build path.\");\r\n            }\r\n        }\r\n        tree.setParents();\r\n        return tree;\r\n    };\r\n    DataModelEx.prototype.addPathToTree = function (tree, path) {\r\n        if (path.length == 0) {\r\n            return;\r\n        }\r\n        var pathAdded = false;\r\n        for (var _i = 0, _a = tree.childs; _i < _a.length; _i++) {\r\n            var child = _a[_i];\r\n            if (child.value === path[0]) {\r\n                pathAdded = true;\r\n                if (path.length > 1)\r\n                    child = this.addPathToTree(child, path.slice(1));\r\n                break;\r\n            }\r\n        }\r\n        if (!pathAdded) {\r\n            var link = this.findLink(tree.value, path[0]);\r\n            if (link) {\r\n                var newNode = new Tree(path[0]);\r\n                tree.addChild(newNode);\r\n                if (path.length > 1)\r\n                    newNode = this.addPathToTree(newNode, path.slice(1));\r\n            }\r\n            else if (!tree.parent) {\r\n                var node = new Tree(tree);\r\n                tree = new Tree(path[0]);\r\n                tree.addChild(node);\r\n                if (path.length > 1)\r\n                    tree = this.addPathToTree(tree, path.slice(1));\r\n            }\r\n            else {\r\n                throw Error(\"Unable to build query. Cannot build path.\");\r\n            }\r\n        }\r\n        return tree;\r\n    };\r\n    DataModelEx.prototype.findPath = function (entityFrom, entityTo) {\r\n        var curPath = [];\r\n        var curStep = [];\r\n        var nextStep = [];\r\n        var passedEntities = [];\r\n        var pathFound = false;\r\n        curPath.push(entityFrom);\r\n        curStep.push(curPath);\r\n        passedEntities.push(entityFrom);\r\n        while (!pathFound) {\r\n            nextStep = [];\r\n            for (var _i = 0, curStep_1 = curStep; _i < curStep_1.length; _i++) {\r\n                var path = curStep_1[_i];\r\n                pathFound = this.checkPath(path, entityTo, nextStep, passedEntities);\r\n                if (pathFound) {\r\n                    path.push(entityTo);\r\n                    curPath = path;\r\n                    break;\r\n                }\r\n            }\r\n            curStep = [];\r\n            if (!pathFound) {\r\n                if (nextStep.length == 0)\r\n                    return null;\r\n                //copy nextStep to curStep\r\n                for (var _a = 0, nextStep_1 = nextStep; _a < nextStep_1.length; _a++) {\r\n                    var path = nextStep_1[_a];\r\n                    curStep.push(path);\r\n                }\r\n            }\r\n        }\r\n        return curPath;\r\n    };\r\n    DataModelEx.prototype.checkPath = function (path, entityTo, nextStep, passedEntities) {\r\n        var endPoint = path[path.length - 1];\r\n        var entityLinks = this.getLinksByEntity(endPoint);\r\n        for (var _i = 0, entityLinks_1 = entityLinks; _i < entityLinks_1.length; _i++) {\r\n            var link = entityLinks_1[_i];\r\n            var entity2 = null;\r\n            if (link.entityFrom == endPoint) {\r\n                entity2 = link.entityTo;\r\n            }\r\n            else {\r\n                entity2 = link.entityFrom;\r\n            }\r\n            if (entity2 == entityTo) { //if reach the destination\r\n                nextStep = [];\r\n                return true;\r\n            }\r\n            //if destination is not reached yet we add current node (entity2) to the path and proceed\r\n            if (path.indexOf(entity2) < 0 && passedEntities.indexOf(entity2) < 0) { //to prevent cycling\r\n                passedEntities.push(entity2);\r\n                var newPath = new Array();\r\n                newPath = newPath.concat(path);\r\n                newPath.push(entity2);\r\n                nextStep.push(newPath);\r\n            }\r\n        }\r\n        return false;\r\n    };\r\n    DataModelEx.prototype.createQuery = function () {\r\n        return new QueryEx(this);\r\n    };\r\n    return DataModelEx;\r\n}(DataModel));\r\nexport { DataModelEx };\r\n//# sourceMappingURL=model_ex.js.map","import { EasyDataTable } from '@easydata/core';\r\nimport { ExprTag, Query, EqTotalsContainer } from '@easyquery/core';\r\nvar EqTotalsCalculator = /** @class */ (function () {\r\n    function EqTotalsCalculator(context) {\r\n        this.context = context;\r\n        this.totals = null;\r\n    }\r\n    EqTotalsCalculator.prototype.getTotals = function () {\r\n        return this.totals;\r\n    };\r\n    EqTotalsCalculator.prototype.calculate = function (options) {\r\n        options = options || {};\r\n        options.maxLevel = options.maxLevel >= 0\r\n            ? options.maxLevel : 0;\r\n        this.totals = new EqTotalsContainer(this.context);\r\n        var levelPromises = [];\r\n        var query = new Query(this.context.getModel());\r\n        query.loadFromData(this.context.getQuery().toJSONData());\r\n        var columns = query.getColumns().filter(function (col) { return col.enabled\r\n            && col.expr.tag == ExprTag.EntityAttribute; });\r\n        // remove last no-aggr column\r\n        var col = columns.pop();\r\n        query.removeColumn(col, null);\r\n        for (var i = 0; i < columns.length; i++) {\r\n            columns[i].enabled = false;\r\n        }\r\n        levelPromises.push(this.processLevel(0, query, options.resultsObtained));\r\n        //totals\r\n        var level = 1;\r\n        var colIdx = 0;\r\n        while (colIdx < columns.length && level <= options.maxLevel) {\r\n            columns[colIdx].enabled = true;\r\n            levelPromises.push(this.processLevel(level, query, options.resultsObtained));\r\n            colIdx++;\r\n            level++;\r\n        }\r\n        return Promise.all(levelPromises)\r\n            .then(function () { return; })\r\n            .catch(function (error) { console.error(error); });\r\n    };\r\n    EqTotalsCalculator.prototype.processLevel = function (level, query, resultsObtained) {\r\n        var _this = this;\r\n        var executor = this.context.getServices()\r\n            .getQueryExecutor(this.context);\r\n        return executor.executeQuery({\r\n            query: query\r\n        }).then(function (result) {\r\n            var dataTable = new EasyDataTable({\r\n                chunkSize: _this.context.resultTable.chunkSize\r\n            });\r\n            var resultSet = result.resultSet;\r\n            for (var _i = 0, _a = resultSet.cols; _i < _a.length; _i++) {\r\n                var col = _a[_i];\r\n                dataTable.columns.add(col);\r\n            }\r\n            dataTable.setTotal(result.meta.totalRecords);\r\n            for (var _b = 0, _c = resultSet.rows; _b < _c.length; _b++) {\r\n                var row = _c[_b];\r\n                dataTable.addRow(row);\r\n            }\r\n            var levelData = _this.buildLevelData(dataTable);\r\n            _this.totals.setTotals(level, levelData);\r\n            if (resultsObtained) {\r\n                resultsObtained(level);\r\n            }\r\n        })\r\n            .catch(function (error) { return console.error(error); });\r\n    };\r\n    EqTotalsCalculator.prototype.buildLevelData = function (dataTable) {\r\n        var data = new Map();\r\n        var curQuery = this.context.getQuery();\r\n        var keyColumns = curQuery.getColumns().filter(function (col) { return col.enabled\r\n            && col.expr.tag == ExprTag.EntityAttribute; });\r\n        keyColumns.pop();\r\n        var valueColumns = curQuery.getColumns().filter(function (col) { return col.enabled\r\n            && col.expr.tag == ExprTag.AggregateFunction; });\r\n        for (var _i = 0, _a = dataTable.getCachedRows(); _i < _a.length; _i++) {\r\n            var row = _a[_i];\r\n            var key = {};\r\n            var value = {};\r\n            for (var _b = 0, keyColumns_1 = keyColumns; _b < keyColumns_1.length; _b++) {\r\n                var keyCol = keyColumns_1[_b];\r\n                var colIdx = dataTable.columns.getIndex(keyCol.id);\r\n                if (colIdx >= 0)\r\n                    key[keyCol.id] = row.getValue(keyCol.id);\r\n            }\r\n            for (var _c = 0, valueColumns_1 = valueColumns; _c < valueColumns_1.length; _c++) {\r\n                var valueCol = valueColumns_1[_c];\r\n                value[valueCol.id] = row.getValue(valueCol.id);\r\n            }\r\n            data.set(JSON.stringify(key), value);\r\n        }\r\n        return data;\r\n    };\r\n    return EqTotalsCalculator;\r\n}());\r\nexport { EqTotalsCalculator };\r\n//# sourceMappingURL=eqs_totals_calculator.js.map","import './extensions';\r\nexport * from './data/eqs_totals_calculator';\r\nexport * from './query/query_ex';\r\nexport * from './query/column_ex';\r\nexport * from './query/condition_ex';\r\nexport * from './dm/model_ex';\r\nexport * from './main/eqs_query_storage';\r\n//# sourceMappingURL=public_api.js.map"],"sourceRoot":""}